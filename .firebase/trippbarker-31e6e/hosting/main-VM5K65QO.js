var OD=Object.defineProperty,kD=Object.defineProperties;var FD=Object.getOwnPropertyDescriptors;var Vy=Object.getOwnPropertySymbols;var LD=Object.prototype.hasOwnProperty,VD=Object.prototype.propertyIsEnumerable;var jy=(t,e,n)=>e in t?OD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})LD.call(e,n)&&jy(t,n,e[n]);if(Vy)for(var n of Vy(e))VD.call(e,n)&&jy(t,n,e[n]);return t},Ce=(t,e)=>kD(t,FD(e));var P=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});var By=null;var Kl=1,Uy=Symbol("SIGNAL");function me(t){let e=By;return By=t,e}var zy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function jD(t){if(!(Yl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Kl)){if(!t.producerMustRecompute(t)&&!Ql(t)){t.dirty=!1,t.lastCleanEpoch=Kl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Kl}}function $y(t){return t&&(t.nextProducerIndex=0),me(t)}function Hy(t,e){if(me(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Yl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Zl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ql(t){Ma(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(jD(n),r!==n.version))return!0}return!1}function qy(t){if(Ma(t),Yl(t))for(let e=0;e<t.producerNode.length;e++)Zl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Zl(t,e){if(BD(t),Ma(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Zl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ma(i),i.producerIndexOfThis[r]=e}}function Yl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ma(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function BD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function UD(){throw new Error}var zD=UD;function Gy(t){zD=t}function J(t){return typeof t=="function"}function Qr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Aa=Qr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ro(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var je=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){e=o instanceof Aa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Wy(o)}catch(s){e=e??[],s instanceof Aa?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Aa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Wy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ro(n,e)}remove(e){let{_finalizers:n}=this;n&&Ro(n,e),e instanceof t&&e._removeParent(this)}};je.EMPTY=(()=>{let t=new je;return t.closed=!0,t})();var Jl=je.EMPTY;function xa(t){return t instanceof je||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function Wy(t){J(t)?t():t.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zr={setTimeout(t,e,...n){let{delegate:r}=Zr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Zr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ra(t){Zr.setTimeout(()=>{let{onUnhandledError:e}=jt;if(e)e(t);else throw t})}function No(){}var Ky=Xl("C",void 0,void 0);function Qy(t){return Xl("E",void 0,t)}function Zy(t){return Xl("N",t,void 0)}function Xl(t,e,n){return{kind:t,value:e,error:n}}var gr=null;function Yr(t){if(jt.useDeprecatedSynchronousErrorHandling){let e=!gr;if(e&&(gr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=gr;if(gr=null,n)throw r}}else t()}function Yy(t){jt.useDeprecatedSynchronousErrorHandling&&gr&&(gr.errorThrown=!0,gr.error=t)}var mr=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xa(e)&&e.add(this)):this.destination=qD}static create(e,n,r){return new Jr(e,n,r)}next(e){this.isStopped?td(Zy(e),this):this._next(e)}error(e){this.isStopped?td(Qy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?td(Ky,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$D=Function.prototype.bind;function ed(t,e){return $D.call(t,e)}var nd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Na(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Na(r)}else Na(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Na(n)}}},Jr=class extends mr{constructor(e,n,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&jt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ed(e.next,o),error:e.error&&ed(e.error,o),complete:e.complete&&ed(e.complete,o)}):i=e}this.destination=new nd(i)}};function Na(t){jt.useDeprecatedSynchronousErrorHandling?Yy(t):Ra(t)}function HD(t){throw t}function td(t,e){let{onStoppedNotification:n}=jt;n&&Zr.setTimeout(()=>n(t,e))}var qD={closed:!0,next:No,error:HD,complete:No};var Xr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _t(t){return t}function rd(...t){return id(t)}function id(t){return t.length===0?_t:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var _e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=WD(n)?n:new Jr(n,r,i);return Yr(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Jy(r),new r((i,o)=>{let s=new Jr({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Xr](){return this}pipe(...n){return id(n)(this)}toPromise(n){return n=Jy(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Jy(t){var e;return(e=t??jt.Promise)!==null&&e!==void 0?e:Promise}function GD(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function WD(t){return t&&t instanceof mr||GD(t)&&xa(t)}function od(t){return J(t?.lift)}function oe(t){return e=>{if(od(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new sd(t,e,n,r,i)}var sd=class extends mr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ei(){return oe((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ti=class extends _e{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,od(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return ei()(this)}};var Xy=Qr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Pa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Xy}next(n){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Jl:(this.currentObservers=null,o.push(n),new je(()=>{this.currentObservers=null,Ro(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new _e;return n.source=this,n}}return t.create=(e,n)=>new Pa(e,n),t})(),Pa=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Jl}};var Ge=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wt=new _e(t=>t.complete());function ev(t){return t&&J(t.schedule)}function tv(t){return t[t.length-1]}function nv(t){return J(tv(t))?t.pop():void 0}function $n(t){return ev(tv(t))?t.pop():void 0}function iv(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(g){s(g)}}function u(h){try{l(r.throw(h))}catch(g){s(g)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function rv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yr(t){return this instanceof yr?(this.v=t,this):new yr(t)}function ov(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(y){r[y]&&(i[y]=function(D){return new Promise(function(x,k){o.push([y,D,x,k])>1||c(y,D)})})}function c(y,D){try{u(r[y](D))}catch(x){g(o[0][3],x)}}function u(y){y.value instanceof yr?Promise.resolve(y.value.v).then(l,h):g(o[0][2],y)}function l(y){c("next",y)}function h(y){c("throw",y)}function g(y,D){y(D),o.shift(),o.length&&c(o[0][0],o[0][1])}}function sv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof rv=="function"?rv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Oa=t=>t&&typeof t.length=="number"&&typeof t!="function";function ka(t){return J(t?.then)}function Fa(t){return J(t[Xr])}function La(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function Va(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function KD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ja=KD();function Ba(t){return J(t?.[ja])}function Ua(t){return ov(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield yr(n.read());if(i)return yield yr(void 0);yield yield yr(r)}}finally{n.releaseLock()}})}function za(t){return J(t?.getReader)}function Ue(t){if(t instanceof _e)return t;if(t!=null){if(Fa(t))return QD(t);if(Oa(t))return ZD(t);if(ka(t))return YD(t);if(La(t))return av(t);if(Ba(t))return JD(t);if(za(t))return XD(t)}throw Va(t)}function QD(t){return new _e(e=>{let n=t[Xr]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZD(t){return new _e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function YD(t){return new _e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ra)})}function JD(t){return new _e(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function av(t){return new _e(e=>{eC(t,e).catch(n=>e.error(n))})}function XD(t){return av(Ua(t))}function eC(t,e){var n,r,i,o;return iv(this,void 0,void 0,function*(){try{for(n=sv(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ft(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function $a(t,e=0){return oe((n,r)=>{n.subscribe(se(r,i=>ft(r,t,()=>r.next(i),e),()=>ft(r,t,()=>r.complete(),e),i=>ft(r,t,()=>r.error(i),e)))})}function Ha(t,e=0){return oe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function cv(t,e){return Ue(t).pipe(Ha(e),$a(e))}function uv(t,e){return Ue(t).pipe(Ha(e),$a(e))}function lv(t,e){return new _e(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function dv(t,e){return new _e(n=>{let r;return ft(n,e,()=>{r=t[ja](),ft(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function qa(t,e){if(!t)throw new Error("Iterable cannot be null");return new _e(n=>{ft(n,e,()=>{let r=t[Symbol.asyncIterator]();ft(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function hv(t,e){return qa(Ua(t),e)}function fv(t,e){if(t!=null){if(Fa(t))return cv(t,e);if(Oa(t))return lv(t,e);if(ka(t))return uv(t,e);if(La(t))return qa(t,e);if(Ba(t))return dv(t,e);if(za(t))return hv(t,e)}throw Va(t)}function Ne(t,e){return e?fv(t,e):Ue(t)}function K(...t){let e=$n(t);return Ne(t,e)}function ni(t,e){let n=J(t)?t:()=>t,r=i=>i.error(n());return new _e(e?i=>e.schedule(r,0,i):r)}function ad(t){return!!t&&(t instanceof _e||J(t.lift)&&J(t.subscribe))}var bn=Qr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ae(t,e){return oe((n,r)=>{let i=0;n.subscribe(se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:tC}=Array;function nC(t,e){return tC(e)?t(...e):t(e)}function pv(t){return ae(e=>nC(t,e))}var{isArray:rC}=Array,{getPrototypeOf:iC,prototype:oC,keys:sC}=Object;function gv(t){if(t.length===1){let e=t[0];if(rC(e))return{args:e,keys:null};if(aC(e)){let n=sC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function aC(t){return t&&typeof t=="object"&&iC(t)===oC}function mv(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Po(...t){let e=$n(t),n=nv(t),{args:r,keys:i}=gv(t);if(r.length===0)return Ne([],e);let o=new _e(cC(r,e,i?s=>mv(i,s):_t));return n?o.pipe(pv(n)):o}function cC(t,e,n=_t){return r=>{yv(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)yv(e,()=>{let l=Ne(t[u],e),h=!1;l.subscribe(se(r,g=>{o[u]=g,h||(h=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function yv(t,e,n){t?ft(n,t,e):e()}function vv(t,e,n,r,i,o,s,c){let u=[],l=0,h=0,g=!1,y=()=>{g&&!u.length&&!l&&e.complete()},D=k=>l<r?x(k):u.push(k),x=k=>{o&&e.next(k),l++;let R=!1;Ue(n(k,h++)).subscribe(se(e,$=>{i?.($),o?D($):e.next($)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let $=u.shift();s?ft(e,s,()=>x($)):x($)}y()}catch($){e.error($)}}))};return t.subscribe(se(e,D,()=>{g=!0,y()})),()=>{c?.()}}function Oe(t,e,n=1/0){return J(e)?Oe((r,i)=>ae((o,s)=>e(r,o,i,s))(Ue(t(r,i))),n):(typeof e=="number"&&(n=e),oe((r,i)=>vv(r,i,t,n)))}function ri(t=1/0){return Oe(_t,t)}function _v(){return ri(1)}function ii(...t){return _v()(Ne(t,$n(t)))}function Ga(t){return new _e(e=>{Ue(t()).subscribe(e)})}function Tt(t,e){return oe((n,r)=>{let i=0;n.subscribe(se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Hn(t){return oe((e,n)=>{let r=null,i=!1,o;r=e.subscribe(se(n,void 0,void 0,s=>{o=Ue(t(s,Hn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function wv(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(se(s,h=>{let g=l++;u=c?t(u,h,g):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function vr(t,e){return J(e)?Oe(t,e,1):Oe(t,1)}function qn(t){return oe((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Dn(t){return t<=0?()=>wt:oe((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function cd(t){return ae(()=>t)}function Wa(t=uC){return oe((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function uC(){return new bn}function Oo(t){return oe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Xt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,o)=>t(i,o,r)):_t,Dn(1),n?qn(e):Wa(()=>new bn))}function oi(t){return t<=0?()=>wt:oe((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ud(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Tt((i,o)=>t(i,o,r)):_t,oi(1),n?qn(e):Wa(()=>new bn))}function ld(t,e){return oe(wv(t,e,arguments.length>=2,!0))}function dd(...t){let e=$n(t);return oe((n,r)=>{(e?ii(t,n,e):ii(t,n)).subscribe(r)})}function St(t,e){return oe((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(se(r,u=>{i?.unsubscribe();let l=0,h=o++;Ue(t(u,h)).subscribe(i=se(r,g=>r.next(e?e(u,g,h,l++):g),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function hd(t){return oe((e,n)=>{Ue(t).subscribe(se(n,()=>n.complete(),No)),!n.closed&&e.subscribe(n)})}function We(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?oe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(se(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):_t}var i_="https://g.co/ng/security#xss",H=class extends Error{constructor(e,n){super(sh(e,n)),this.code=e}};function sh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Qo(t){return{toString:t}.toString()}var Ka="__parameters__";function lC(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function o_(t,e,n){return Qo(()=>{let r=lC(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let g=u.hasOwnProperty(Ka)?u[Ka]:Object.defineProperty(u,Ka,{value:[]})[Ka];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ke=globalThis;function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function pt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(pt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Iv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var dC=Ee({__forward_ref__:Ee});function ah(t){return t.__forward_ref__=ah,t.toString=function(){return pt(this())},t}function At(t){return s_(t)?t():t}function s_(t){return typeof t=="function"&&t.hasOwnProperty(dC)&&t.__forward_ref__===ah}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function st(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dc(t){return Ev(t,c_)||Ev(t,u_)}function a_(t){return Dc(t)!==null}function Ev(t,e){return t.hasOwnProperty(e)?t[e]:null}function hC(t){let e=t&&(t[c_]||t[u_]);return e||null}function bv(t){return t&&(t.hasOwnProperty(Dv)||t.hasOwnProperty(fC))?t[Dv]:null}var c_=Ee({\u0275prov:Ee}),Dv=Ee({\u0275inj:Ee}),u_=Ee({ngInjectableDef:Ee}),fC=Ee({ngInjectorDef:Ee}),Z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function l_(t){return t&&!!t.\u0275providers}var pC=Ee({\u0275cmp:Ee}),gC=Ee({\u0275dir:Ee}),mC=Ee({\u0275pipe:Ee}),yC=Ee({\u0275mod:Ee}),rc=Ee({\u0275fac:Ee}),ko=Ee({__NG_ELEMENT_ID__:Ee}),Cv=Ee({__NG_ENV_ID__:Ee});function en(t){return typeof t=="string"?t:t==null?"":String(t)}function vC(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():en(t)}function _C(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new H(-200,t)}function ch(t,e){throw new H(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),Ed;function d_(){return Ed}function Mt(t){let e=Ed;return Ed=t,e}function h_(t,e,n){let r=Dc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;ch(t,"Injector")}var wC={},Lo=wC,bd="__NG_DI_FLAG__",ic="ngTempTokenPath",IC="ngTokenPath",EC=/\n/gm,bC="\u0275",Tv="__source",li;function DC(){return li}function Gn(t){let e=li;return li=t,e}function CC(t,e=ie.Default){if(li===void 0)throw new H(-203,!1);return li===null?h_(t,void 0,e):li.get(t,e&ie.Optional?null:void 0,e)}function G(t,e=ie.Default){return(d_()||CC)(At(t),e)}function L(t,e=ie.Default){return G(t,Cc(e))}function Cc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Dd(t){let e=[];for(let n=0;n<t.length;n++){let r=At(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){let c=r[s],u=TC(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(G(i,o))}else e.push(G(r))}return e}function f_(t,e){return t[bd]=e,t.prototype[bd]=e,t}function TC(t){return t[bd]}function SC(t,e,n,r){let i=t[ic];throw e[Tv]&&i.unshift(e[Tv]),t.message=MC(`
`+t.message,i,n,r),t[IC]=i,t[ic]=null,t}function MC(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==bC?t.slice(2):t;let i=pt(e);if(Array.isArray(e))i=e.map(pt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):pt(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(EC,`
  `)}`}var Tc=f_(o_("Optional"),8);var uh=f_(o_("SkipSelf"),4);function hi(t,e){let n=t.hasOwnProperty(rc);return n?t[rc]:null}function lh(t,e){t.forEach(n=>Array.isArray(n)?lh(n,e):e(n))}function p_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function oc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Vo={},tn=[],fi=new Z(""),g_=new Z("",-1),m_=new Z(""),sc=class{get(e,n=Lo){if(n===Lo){let r=new Error(`NullInjectorError: No provider for ${pt(e)}!`);throw r.name="NullInjectorError",r}return n}},y_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(y_||{}),on=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(on||{}),Rt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Rt||{});function AC(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Cd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];xC(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function v_(t){return t===3||t===4||t===6}function xC(t){return t.charCodeAt(0)===64}function dh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Sv(t,n,i,null,e[++r]):Sv(t,n,i,null,null))}}return t}function Sv(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var __="ng-template";function RC(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&AC(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(hh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function hh(t){return t.type===4&&t.value!==__}function NC(t,e,n){let r=t.type===4&&!n?__:t.value;return e===r}function PC(t,e,n){let r=4,i=t.attrs,o=i!==null?FC(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Bt(r)&&!Bt(u))return!1;if(s&&Bt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!NC(t,u,n)||u===""&&e.length===1){if(Bt(r))return!1;s=!0}}else if(r&8){if(i===null||!RC(t,i,u,n)){if(Bt(r))return!1;s=!0}}else{let l=e[++c],h=OC(u,i,hh(t),n);if(h===-1){if(Bt(r))return!1;s=!0;continue}if(l!==""){let g;if(h>o?g="":g=i[h+1].toLowerCase(),r&2&&l!==g){if(Bt(r))return!1;s=!0}}}}return Bt(r)||s}function Bt(t){return(t&1)===0}function OC(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return LC(e,t)}function kC(t,e,n=!1){for(let r=0;r<e.length;r++)if(PC(t,e[r],n))return!0;return!1}function FC(t){for(let e=0;e<t.length;e++){let n=t[e];if(v_(n))return e}return t.length}function LC(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Mv(t,e){return t?":not("+e.trim()+")":e}function VC(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Bt(s)&&(e+=Mv(o,i),i=""),r=s,o=o||!Bt(r);n++}return i!==""&&(e+=Mv(o,i)),e}function jC(t){return t.map(VC).join(",")}function BC(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Bt(i))break;i=o}r++}return{attrs:e,classes:n}}function Be(t){return Qo(()=>{let e=D_(t),n=Ce(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===y_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||on.Emulated,styles:t.styles||tn,_:null,schemas:t.schemas||null,tView:null,id:""});C_(n);let r=t.dependencies;return n.directiveDefs=xv(r,!1),n.pipeDefs=xv(r,!0),n.id=$C(n),n})}function UC(t){return Kn(t)||w_(t)}function zC(t){return t!==null}function at(t){return Qo(()=>({type:t.type,bootstrap:t.bootstrap||tn,declarations:t.declarations||tn,imports:t.imports||tn,exports:t.exports||tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Av(t,e){if(t==null)return Vo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=Rt.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==Rt.None?[r,c]:r,e[o]=s):n[o]=r}return n}function Yn(t){return Qo(()=>{let e=D_(t);return C_(e),e})}function Kn(t){return t[pC]||null}function w_(t){return t[gC]||null}function I_(t){return t[mC]||null}function E_(t){let e=Kn(t)||w_(t)||I_(t);return e!==null?e.standalone:!1}function b_(t,e){let n=t[yC]||null;if(!n&&e===!0)throw new Error(`Type ${pt(t)} does not have '\u0275mod' property.`);return n}function D_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||tn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Av(t.inputs,e),outputs:Av(t.outputs),debugInfo:null}}function C_(t){t.features?.forEach(e=>e(t))}function xv(t,e){if(!t)return null;let n=e?I_:UC;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(zC)}function $C(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function HC(...t){return{\u0275providers:T_(!0,t),\u0275fromNgModule:!0}}function T_(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return lh(e,s=>{let c=s;Td(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&S_(i,o),n}function S_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];fh(i,o=>{e(o,r)})}}function Td(t,e,n,r){if(t=At(t),!t)return!1;let i=null,o=bv(t),s=!o&&Kn(t);if(!o&&!s){let u=t.ngModule;if(o=bv(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Td(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{lh(o.imports,h=>{Td(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&S_(l,e)}if(!c){let l=hi(i)||(()=>new i);e({provide:i,useFactory:l,deps:tn},i),e({provide:m_,useValue:i,multi:!0},i),e({provide:fi,useValue:()=>G(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;fh(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function fh(t,e){for(let n of t)l_(n)&&(n=n.\u0275providers),Array.isArray(n)?fh(n,e):e(n)}var qC=Ee({provide:String,useValue:Ee});function M_(t){return t!==null&&typeof t=="object"&&qC in t}function GC(t){return!!(t&&t.useExisting)}function WC(t){return!!(t&&t.useFactory)}function Sd(t){return typeof t=="function"}var Sc=new Z(""),Ja={},KC={},fd;function ph(){return fd===void 0&&(fd=new sc),fd}var It=class{},jo=class extends It{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ad(e,s=>this.processProvider(s)),this.records.set(g_,si(void 0,this)),i.has("environment")&&this.records.set(It,si(void 0,this));let o=this.records.get(Sc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(m_,tn,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Gn(this),r=Mt(void 0),i;try{return e()}finally{Gn(n),Mt(r)}}get(e,n=Lo,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Cv))return e[Cv](this);r=Cc(r);let i,o=Gn(this),s=Mt(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=eT(e)&&Dc(e);l&&this.injectableDefInScope(l)?u=si(Md(e),Ja):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ie.Self?ph():this.parent;return n=r&ie.Optional&&n===Lo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[ic]=c[ic]||[]).unshift(pt(e)),o)throw c;return SC(c,e,"R3InjectorError",this.source)}else throw c}finally{Mt(s),Gn(o)}}resolveInjectorInitializers(){let e=me(null),n=Gn(this),r=Mt(void 0),i;try{let o=this.get(fi,tn,ie.Self);for(let s of o)s()}finally{Gn(n),Mt(r),me(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(pt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=At(e);let n=Sd(e)?e:At(e&&e.provide),r=ZC(e);if(!Sd(e)&&e.multi===!0){let i=this.records.get(n);i||(i=si(void 0,Ja,!0),i.factory=()=>Dd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=me(null);try{return n.value===Ja&&(n.value=KC,n.value=n.factory()),typeof n.value=="object"&&n.value&&XC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=At(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Md(t){let e=Dc(t),n=e!==null?e.factory:hi(t);if(n!==null)return n;if(t instanceof Z)throw new H(204,!1);if(t instanceof Function)return QC(t);throw new H(204,!1)}function QC(t){if(t.length>0)throw new H(204,!1);let n=hC(t);return n!==null?()=>n.factory(t):()=>new t}function ZC(t){if(M_(t))return si(void 0,t.useValue);{let e=YC(t);return si(e,Ja)}}function YC(t,e,n){let r;if(Sd(t)){let i=At(t);return hi(i)||Md(i)}else if(M_(t))r=()=>At(t.useValue);else if(WC(t))r=()=>t.useFactory(...Dd(t.deps||[]));else if(GC(t))r=()=>G(At(t.useExisting));else{let i=At(t&&(t.useClass||t.provide));if(JC(t))r=()=>new i(...Dd(t.deps));else return hi(i)||Md(i)}return r}function si(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function JC(t){return!!t.deps}function XC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function eT(t){return typeof t=="function"||typeof t=="object"&&t instanceof Z}function Ad(t,e){for(let n of t)Array.isArray(n)?Ad(n,e):n&&l_(n)?Ad(n.\u0275providers,e):e(n)}function Cn(t,e){t instanceof jo&&t.assertNotDestroyed();let n,r=Gn(t),i=Mt(void 0);try{return e()}finally{Gn(r),Mt(i)}}function A_(){return d_()!==void 0||DC()!=null}function tT(t){if(!A_())throw new H(-203,!1)}function nT(t){let e=Ke.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function rT(t){return typeof t=="function"}var Tn=0,ce=1,Q=2,ot=3,Ut=4,$t=5,ac=6,Bo=7,sn=8,pi=9,zt=10,Qe=11,Uo=12,Rv=13,yi=14,an=15,Mc=16,ai=17,gi=18,Ac=19,x_=20,Wn=21,pd=22,Ir=23,Qn=25,R_=1;var Er=7,cc=8,uc=9,xt=10,gh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(gh||{});function _r(t){return Array.isArray(t)&&typeof t[R_]=="object"}function Sn(t){return Array.isArray(t)&&t[R_]===!0}function N_(t){return(t.flags&4)!==0}function xc(t){return t.componentOffset>-1}function mh(t){return(t.flags&1)===1}function Zo(t){return!!t.template}function iT(t){return(t[Q]&512)!==0}var xd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function P_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Tr(){return O_}function O_(t){return t.type.prototype.ngOnChanges&&(t.setInput=sT),oT}Tr.ngInherit=!0;function oT(){let t=F_(this),e=t?.current;if(e){let n=t.previous;if(n===Vo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sT(t,e,n,r,i){let o=this.declaredInputs[r],s=F_(t)||aT(t,{previous:Vo,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new xd(l&&l.currentValue,n,u===Vo),P_(t,e,i,n)}var k_="__ngSimpleChanges__";function F_(t){return t[k_]||null}function aT(t,e){return t[k_]=e}var Nv=null;var nn=function(t,e,n){Nv?.(t,e,n)},cT="svg",uT="math",lT=!1;function dT(){return lT}function cn(t){for(;Array.isArray(t);)t=t[Tn];return t}function hT(t,e){return cn(e[t])}function Nt(t,e){return cn(e[t.index])}function L_(t,e){return t.data[e]}function Jn(t,e){let n=e[t];return _r(n)?n:n[Tn]}function yh(t){return(t[Q]&128)===128}function fT(t){return Sn(t[ot])}function lc(t,e){return e==null?null:t[e]}function V_(t){t[ai]=0}function pT(t){t[Q]&1024||(t[Q]|=1024,yh(t)&&zo(t))}function gT(t,e){for(;t>0;)e=e[yi],t--;return e}function vh(t){return!!(t[Q]&9216||t[Ir]?.dirty)}function Rd(t){t[zt].changeDetectionScheduler?.notify(1),vh(t)?zo(t):t[Q]&64&&(dT()?(t[Q]|=1024,zo(t)):t[zt].changeDetectionScheduler?.notify())}function zo(t){t[zt].changeDetectionScheduler?.notify();let e=$o(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!yh(e)));)e=$o(e)}function j_(t,e){if((t[Q]&256)===256)throw new H(911,!1);t[Wn]===null&&(t[Wn]=[]),t[Wn].push(e)}function mT(t,e){if(t[Wn]===null)return;let n=t[Wn].indexOf(e);n!==-1&&t[Wn].splice(n,1)}function $o(t){let e=t[ot];return Sn(e)?e[ot]:e}var ue={lFrame:K_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yT(){return ue.lFrame.elementDepthCount}function vT(){ue.lFrame.elementDepthCount++}function _T(){ue.lFrame.elementDepthCount--}function B_(){return ue.bindingsEnabled}function wT(){return ue.skipHydrationRootTNode!==null}function IT(t){return ue.skipHydrationRootTNode===t}function ET(){ue.skipHydrationRootTNode=null}function Me(){return ue.lFrame.lView}function Mn(){return ue.lFrame.tView}function Pt(){let t=U_();for(;t!==null&&t.type===64;)t=t.parent;return t}function U_(){return ue.lFrame.currentTNode}function bT(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yo(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function z_(){return ue.lFrame.isParent}function DT(){ue.lFrame.isParent=!1}function $_(){return ue.lFrame.bindingIndex}function CT(t){return ue.lFrame.bindingIndex=t}function _h(){return ue.lFrame.bindingIndex++}function H_(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function TT(){return ue.lFrame.inI18n}function ST(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Nd(e)}function MT(){return ue.lFrame.currentDirectiveIndex}function Nd(t){ue.lFrame.currentDirectiveIndex=t}function q_(t){ue.lFrame.currentQueryIndex=t}function AT(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[$t]:null}function G_(t,e,n){if(n&ie.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=AT(o),i===null||(o=o[yi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ue.lFrame=W_();return r.currentTNode=e,r.lView=t,!0}function wh(t){let e=W_(),n=t[ce];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function W_(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?K_(t):e}function K_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Q_(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Z_=Q_;function Ih(){let t=Q_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xT(t){return(ue.lFrame.contextLView=gT(t,ue.lFrame.contextLView))[sn]}function Jo(){return ue.lFrame.selectedIndex}function br(t){ue.lFrame.selectedIndex=t}function Eh(){let t=ue.lFrame;return L_(t.tView,t.selectedIndex)}function RT(){return ue.lFrame.currentNamespace}var Y_=!0;function bh(){return Y_}function Dh(t){Y_=t}function NT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=O_(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Ch(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Xa(t,e,n){J_(t,e,3,n)}function ec(t,e,n,r){(t[Q]&3)===n&&J_(t,e,n,r)}function gd(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function J_(t,e,n,r){let i=r!==void 0?t[ai]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[ai]+=65536),(c<o||o==-1)&&(PT(t,n,e,u),t[ai]=(t[ai]&4294901760)+u+2),u++}function Pv(t,e){nn(4,t,e);let n=me(null);try{e.call(t)}finally{me(n),nn(5,t,e)}}function PT(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[Q]>>14<t[ai]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,Pv(c,o)):Pv(c,o)}var di=-1,Ho=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function OT(t){return t instanceof Ho}function kT(t){return(t.flags&8)!==0}function FT(t){return(t.flags&16)!==0}function X_(t){return t!==di}function dc(t){return t&32767}function LT(t){return t>>16}function hc(t,e){let n=LT(t),r=e;for(;n>0;)r=r[yi],n--;return r}var Pd=!0;function Ov(t){let e=Pd;return Pd=t,e}var VT=256,ew=VT-1,tw=5,jT=0,rn={};function BT(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ko)&&(r=n[ko]),r==null&&(r=n[ko]=jT++);let i=r&ew,o=1<<i;e.data[t+(i>>tw)]|=o}function nw(t,e){let n=rw(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,md(r.data,t),md(e,null),md(r.blueprint,null));let i=Th(t,e),o=t.injectorIndex;if(X_(i)){let s=dc(i),c=hc(i,e),u=c[ce].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function md(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Th(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=cw(i),r===null)return di;if(n++,i=i[yi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return di}function UT(t,e,n){BT(t,e,n)}function zT(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(v_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function iw(t,e,n){if(n&ie.Optional||t!==void 0)return t;ch(e,"NodeInjector")}function ow(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),!(n&(ie.Self|ie.Host))){let i=t[pi],o=Mt(void 0);try{return i?i.get(e,r,n&ie.Optional):h_(e,r,n&ie.Optional)}finally{Mt(o)}}return iw(r,e,n)}function sw(t,e,n,r=ie.Default,i){if(t!==null){if(e[Q]&2048&&!(r&ie.Self)){let s=WT(t,e,n,r,rn);if(s!==rn)return s}let o=aw(t,e,n,r,rn);if(o!==rn)return o}return ow(e,n,r,i)}function aw(t,e,n,r,i){let o=qT(n);if(typeof o=="function"){if(!G_(e,t,r))return r&ie.Host?iw(i,n,r):ow(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ie.Optional))ch(n);else return s}finally{Z_()}}else if(typeof o=="number"){let s=null,c=rw(t,e),u=di,l=r&ie.Host?e[an][$t]:null;for((c===-1||r&ie.SkipSelf)&&(u=c===-1?Th(t,e):e[c+8],u===di||!Fv(r,!1)?c=-1:(s=e[ce],c=dc(u),e=hc(u,e)));c!==-1;){let h=e[ce];if(kv(o,c,h.data)){let g=$T(c,e,n,s,r,l);if(g!==rn)return g}u=e[c+8],u!==di&&Fv(r,e[ce].data[c+8]===l)&&kv(o,c,e)?(s=h,c=dc(u),e=hc(u,e)):c=-1}}return i}function $T(t,e,n,r,i,o){let s=e[ce],c=s.data[t+8],u=r==null?xc(c)&&Pd:r!=s&&(c.type&3)!==0,l=i&ie.Host&&o===c,h=HT(c,s,n,u,l);return h!==null?qo(e,s,h,c):rn}function HT(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,g=r?c:c+h,y=i?c+h:l;for(let D=g;D<y;D++){let x=s[D];if(D<u&&n===x||D>=u&&x.type===n)return D}if(i){let D=s[u];if(D&&Zo(D)&&D.type===n)return u}return null}function qo(t,e,n,r){let i=t[n],o=e.data;if(OT(i)){let s=i;s.resolving&&_C(vC(o[n]));let c=Ov(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Mt(s.injectImpl):null,h=G_(t,r,ie.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&NT(n,o[n],e)}finally{l!==null&&Mt(l),Ov(c),s.resolving=!1,Z_()}}return i}function qT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ko)?t[ko]:void 0;return typeof e=="number"?e>=0?e&ew:GT:e}function kv(t,e,n){let r=1<<t;return!!(n[e+(t>>tw)]&r)}function Fv(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var wr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return sw(this._tNode,this._lView,e,Cc(r),n)}};function GT(){return new wr(Pt(),Me())}function Rc(t){return Qo(()=>{let e=t.prototype.constructor,n=e[rc]||Od(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[rc]||Od(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Od(t){return s_(t)?()=>{let e=Od(At(t));return e&&e()}:hi(t)}function WT(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let c=aw(o,s,n,r|ie.Self,rn);if(c!==rn)return c;let u=o.parent;if(!u){let l=s[x_];if(l){let h=l.get(n,rn,r);if(h!==rn)return h}u=cw(s),s=s[yi]}o=u}return i}function cw(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[$t]:null}function Sh(t){return zT(Pt(),t)}function Lv(t,e=null,n=null,r){let i=uw(t,e,n,r);return i.resolveInjectorInitializers(),i}function uw(t,e=null,n=null,r,i=new Set){let o=[n||tn,HC(t)];return r=r||(typeof t=="object"?void 0:pt(t)),new jo(o,e||ph(),r||null,i)}var Ht=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Lv({name:""},i,r,"");{let o=r.name??"";return Lv({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Lo,e.NULL=new sc,e.\u0275prov=z({token:e,providedIn:"any",factory:()=>G(g_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var KT="ngOriginalError";function yd(t){return t[KT]}var un=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&yd(e);for(;n&&yd(n);)n=yd(n);return n||null}},lw=new Z("",{providedIn:"root",factory:()=>L(un).handleError.bind(void 0)}),Mh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=QT,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),kd=class extends Mh{constructor(e){super(),this._lView=e}onDestroy(e){return j_(this._lView,e),()=>mT(this._lView,e)}};function QT(){return new kd(Me())}function ZT(){return Nc(Pt(),Me())}function Nc(t,e){return new Sr(Nt(t,e))}var Sr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=ZT;let t=e;return t})();var Fd=class extends rt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,A_()&&(this.destroyRef=L(Mh,{optional:!0})??void 0)}emit(e){let n=me(null);try{super.next(e)}finally{me(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=vd(o),i&&(i=vd(i)),s&&(s=vd(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(c),c}};function vd(t){return e=>{setTimeout(t,void 0,e)}}var it=Fd;function dw(t){return(t.flags&128)===128}var hw=new Map,YT=0;function JT(){return YT++}function XT(t){hw.set(t[Ac],t)}function eS(t){hw.delete(t[Ac])}var Vv="__ngContext__";function Dr(t,e){_r(e)?(t[Vv]=e[Ac],XT(e)):t[Vv]=e}function fw(t){return gw(t[Uo])}function pw(t){return gw(t[Ut])}function gw(t){for(;t!==null&&!Sn(t);)t=t[Ut];return t}var Ld;function mw(t){Ld=t}function tS(){if(Ld!==void 0)return Ld;if(typeof document<"u")return document;throw new H(210,!1)}var Pc=new Z("",{providedIn:"root",factory:()=>nS}),nS="ng",Ah=new Z(""),Xn=new Z("",{providedIn:"platform",factory:()=>"unknown"});var xh=new Z("",{providedIn:"root",factory:()=>tS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rS="h",iS="b";var oS=()=>null;function Rh(t,e,n=!1){return oS(t,e,n)}var yw=!1,sS=new Z("",{providedIn:"root",factory:()=>yw});var Qa;function aS(){if(Qa===void 0&&(Qa=null,Ke.trustedTypes))try{Qa=Ke.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qa}function cS(t){return aS()?.createScriptURL(t)||t}var Za;function uS(){if(Za===void 0&&(Za=null,Ke.trustedTypes))try{Za=Ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Za}function jv(t){return uS()?.createScriptURL(t)||t}var fc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${i_})`}};function Oc(t){return t instanceof fc?t.changingThisBreaksApplicationSecurity:t}function Nh(t,e){let n=lS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${i_})`)}return n===e}function lS(t){return t instanceof fc&&t.getTypeName()||null}var dS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vw(t){return t=String(t),t.match(dS)?t:"unsafe:"+t}var kc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(kc||{});function vi(t){let e=ww();return e?e.sanitize(kc.URL,t)||"":Nh(t,"URL")?Oc(t):vw(en(t))}function hS(t){let e=ww();if(e)return jv(e.sanitize(kc.RESOURCE_URL,t)||"");if(Nh(t,"ResourceURL"))return jv(Oc(t));throw new H(904,!1)}function Fc(t){return cS(t[0])}function fS(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?hS:vi}function _w(t,e,n){return fS(e,n)(t)}function ww(){let t=Me();return t&&t[zt].sanitizer}function Iw(t){return t instanceof Function?t():t}function pS(t){return(t??L(Ht)).get(Xn)==="browser"}var Mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mr||{}),gS;function Ph(t,e){return gS(t,e)}function ci(t,e,n,r,i){if(r!=null){let o,s=!1;Sn(r)?o=r:_r(r)&&(s=!0,r=r[Tn]);let c=cn(r);t===0&&n!==null?i==null?Tw(e,n,c):pc(e,n,c,i||null,!0):t===1&&n!==null?pc(e,n,c,i||null,!0):t===2?NS(e,c,s):t===3&&e.destroyNode(c),o!=null&&OS(e,t,o,n,i)}}function mS(t,e){return t.createText(e)}function yS(t,e,n){t.setValue(e,n)}function Ew(t,e,n){return t.createElement(e,n)}function vS(t,e){bw(t,e),e[Tn]=null,e[$t]=null}function _S(t,e,n,r,i,o){r[Tn]=i,r[$t]=e,Lc(t,r,n,1,i,o)}function bw(t,e){e[zt].changeDetectionScheduler?.notify(1),Lc(t,e,e[Qe],2,null,null)}function wS(t){let e=t[Uo];if(!e)return _d(t[ce],t);for(;e;){let n=null;if(_r(e))n=e[Uo];else{let r=e[xt];r&&(n=r)}if(!n){for(;e&&!e[Ut]&&e!==t;)_r(e)&&_d(e[ce],e),e=e[ot];e===null&&(e=t),_r(e)&&_d(e[ce],e),n=e&&e[Ut]}e=n}}function IS(t,e,n,r){let i=xt+r,o=n.length;r>0&&(n[i-1][Ut]=e),r<o-xt?(e[Ut]=n[i],p_(n,xt+r,e)):(n.push(e),e[Ut]=null),e[ot]=n;let s=e[Mc];s!==null&&n!==s&&ES(s,e);let c=e[gi];c!==null&&c.insertView(t),Rd(e),e[Q]|=128}function ES(t,e){let n=t[uc],i=e[ot][ot][an];e[an]!==i&&(t[Q]|=gh.HasTransplantedViews),n===null?t[uc]=[e]:n.push(e)}function Dw(t,e){let n=t[uc],r=n.indexOf(e);n.splice(r,1)}function Vd(t,e){if(t.length<=xt)return;let n=xt+e,r=t[n];if(r){let i=r[Mc];i!==null&&i!==t&&Dw(i,r),e>0&&(t[n-1][Ut]=r[Ut]);let o=oc(t,xt+e);vS(r[ce],r);let s=o[gi];s!==null&&s.detachView(o[ce]),r[ot]=null,r[Ut]=null,r[Q]&=-129}return r}function Cw(t,e){if(!(e[Q]&256)){let n=e[Qe];n.destroyNode&&Lc(t,e,n,3,null,null),wS(e)}}function _d(t,e){if(e[Q]&256)return;let n=me(null);try{e[Q]&=-129,e[Q]|=256,e[Ir]&&qy(e[Ir]),DS(t,e),bS(t,e),e[ce].type===1&&e[Qe].destroy();let r=e[Mc];if(r!==null&&Sn(e[ot])){r!==e[ot]&&Dw(r,e);let i=e[gi];i!==null&&i.detachView(t)}eS(e)}finally{me(n)}}function bS(t,e){let n=t.cleanup,r=e[Bo];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Bo]=null);let i=e[Wn];if(i!==null){e[Wn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function DS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ho)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];nn(4,c,u);try{u.call(c)}finally{nn(5,c,u)}}else{nn(4,i,o);try{o.call(i)}finally{nn(5,i,o)}}}}}function CS(t,e,n){return TS(t,e.parent,n)}function TS(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Tn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===on.None||o===on.Emulated)return null}return Nt(r,n)}}function pc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Tw(t,e,n){t.appendChild(e,n)}function Bv(t,e,n,r,i){r!==null?pc(t,e,n,r,i):Tw(t,e,n)}function SS(t,e,n,r){t.removeChild(e,n,r)}function Oh(t,e){return t.parentNode(e)}function MS(t,e){return t.nextSibling(e)}function AS(t,e,n){return RS(t,e,n)}function xS(t,e,n){return t.type&40?Nt(t,n):null}var RS=xS,Uv;function kh(t,e,n,r){let i=CS(t,r,e),o=e[Qe],s=r.parent||e[$t],c=AS(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Bv(o,i,n[u],c,!1);else Bv(o,i,n,c,!1);Uv!==void 0&&Uv(o,r,e,n,i)}function tc(t,e){if(e!==null){let n=e.type;if(n&3)return Nt(e,t);if(n&4)return jd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return tc(t,r);{let i=t[e.index];return Sn(i)?jd(-1,i):cn(i)}}else{if(n&32)return Ph(e,t)()||cn(t[e.index]);{let r=Sw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=$o(t[an]);return tc(i,r)}else return tc(t,e.next)}}}return null}function Sw(t,e){if(e!==null){let r=t[an][$t],i=e.projection;return r.projection[i]}return null}function jd(t,e){let n=xt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return tc(r,i)}return e[Er]}function NS(t,e,n){let r=Oh(t,e);r&&SS(t,r,e,n)}function Fh(t,e,n,r,i,o,s){for(;n!=null;){let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Dr(cn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Fh(t,e,n.child,r,i,o,!1),ci(e,t,i,c,o);else if(u&32){let l=Ph(n,r),h;for(;h=l();)ci(e,t,i,h,o);ci(e,t,i,c,o)}else u&16?PS(t,e,r,n,i,o):ci(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Lc(t,e,n,r,i,o){Fh(n,r,t.firstChild,e,i,o,!1)}function PS(t,e,n,r,i,o){let s=n[an],u=s[$t].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ci(e,t,i,h,o)}else{let l=u,h=s[ot];dw(r)&&(l.flags|=128),Fh(t,e,l,h,i,o,!0)}}function OS(t,e,n,r,i){let o=n[Er],s=cn(n);o!==s&&ci(e,t,r,o,i);for(let c=xt;c<n.length;c++){let u=n[c];Lc(u[ce],u,t,e,r,o)}}function kS(t,e,n){t.setAttribute(e,"style",n)}function Mw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Aw(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Cd(t,e,r),i!==null&&Mw(t,e,i),o!==null&&kS(t,e,o)}var An={};function he(t=1){xw(Mn(),Me(),Jo()+t,!1)}function xw(t,e,n,r){if(!r)if((e[Q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Xa(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ec(e,o,0,n)}br(n)}function be(t,e=ie.Default){let n=Me();if(n===null)return G(t,e);let r=Pt();return sw(r,n,At(t),e)}function Rw(){let t="invalid";throw new Error(t)}function Nw(t,e,n,r,i,o){let s=me(null);try{let c=null;i&Rt.SignalBased&&(c=e[r][Uy]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&Rt.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):P_(e,c,r,o)}finally{me(s)}}function FS(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)br(~i);else{let o=i,s=n[++r],c=n[++r];ST(s,o);let u=e[o];c(2,u)}}}finally{br(-1)}}function Vc(t,e,n,r,i,o,s,c,u,l,h){let g=e.blueprint.slice();return g[Tn]=i,g[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(g[Q]|=2048),V_(g),g[ot]=g[yi]=t,g[sn]=n,g[zt]=s||t&&t[zt],g[Qe]=c||t&&t[Qe],g[pi]=u||t&&t[pi]||null,g[$t]=o,g[Ac]=JT(),g[ac]=h,g[x_]=l,g[an]=e.type==2?t[an]:g,g}function jc(t,e,n,r,i){let o=t.data[e];if(o===null)o=LS(t,e,n,r,i),TT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=bT();o.injectorIndex=s===null?-1:s.injectorIndex}return Yo(o,!0),o}function LS(t,e,n,r,i){let o=U_(),s=z_(),c=s?o:o&&o.parent,u=t.data[e]=zS(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Pw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ow(t,e,n,r,i){let o=Jo(),s=r&2;try{br(-1),s&&e.length>Qn&&xw(t,e,Qn,!1),nn(s?2:0,i),n(r,i)}finally{br(o),nn(s?3:1,i)}}function kw(t,e,n){if(N_(e)){let r=me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{me(r)}}}function Fw(t,e,n){B_()&&(KS(t,e,n,Nt(n,e)),(n.flags&64)===64&&zw(t,e,n))}function Lw(t,e,n=Nt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function Vw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Lh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Lh(t,e,n,r,i,o,s,c,u,l,h){let g=Qn+r,y=g+i,D=VS(g,y),x=typeof l=="function"?l():l;return D[ce]={type:t,blueprint:D,template:n,queries:null,viewQuery:c,declTNode:e,data:D.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:x,incompleteFirstPass:!1,ssrId:h}}function VS(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:An);return n}function jS(t,e,n,r){let o=r.get(sS,yw)||n===on.ShadowDom,s=t.selectRootElement(e,o);return BS(s),s}function BS(t){US(t)}var US=()=>null;function zS(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return wT()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function zv(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=Rt.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?$v(r,n,l,c,u):$v(r,n,l,c)}return r}function $v(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function $S(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,l=null;for(let h=r;h<i;h++){let g=o[h],y=n?n.get(g):null,D=y?y.inputs:null,x=y?y.outputs:null;u=zv(0,g.inputs,h,u,D),l=zv(1,g.outputs,h,l,x);let k=u!==null&&s!==null&&!hh(e)?oM(u,h,s):null;c.push(k)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function HS(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function jw(t,e,n,r,i,o,s,c){let u=Nt(e,n),l=e.inputs,h;!c&&l!=null&&(h=l[r])?(Vh(t,n,h,r,i),xc(e)&&qS(n,e.index)):e.type&3?(r=HS(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function qS(t,e){let n=Jn(e,t);n[Q]&16||(n[Q]|=64)}function Bw(t,e,n,r){if(B_()){let i=r===null?null:{"":-1},o=ZS(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&Uw(t,e,n,s,i,c),i&&YS(n,r,i)}n.mergedAttrs=dh(n.mergedAttrs,n.attrs)}function Uw(t,e,n,r,i,o){for(let l=0;l<r.length;l++)UT(nw(n,e),t,r[l].type);XS(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,c=!1,u=Pw(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=dh(n.mergedAttrs,h.hostAttrs),eM(t,n,e,u,h),JS(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let g=h.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}$S(t,n,o)}function GS(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;WS(s)!=c&&s.push(c),s.push(n,r,o)}}function WS(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function KS(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;xc(n)&&tM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||nw(n,e),Dr(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],l=qo(e,t,c,n);if(Dr(l,e),s!==null&&iM(e,c-i,l,u,n,s),Zo(u)){let h=Jn(n.index,e);h[sn]=qo(e,t,c,n)}}}function zw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=MT();try{br(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Nd(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&QS(u,l)}}finally{br(-1),Nd(s)}}function QS(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ZS(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(kC(e,s.selectors,!1))if(r||(r=[]),Zo(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;Bd(t,e,u)}else r.unshift(s),Bd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Bd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function YS(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}}function JS(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Zo(e)&&(n[""]=t)}}function XS(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function eM(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=hi(i.type,!0)),s=new Ho(o,Zo(i),be);t.blueprint[r]=s,n[r]=s,GS(t,e,r,Pw(t,n,i.hostVars,An),i)}function tM(t,e,n){let r=Nt(e,t),i=Vw(n),o=t[zt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let c=Bc(t,Vc(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=c}function nM(t,e,n,r,i,o){let s=Nt(t,e);rM(e[Qe],s,o,t.value,n,r,i)}function rM(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?en(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function iM(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],h=s[c++],g=s[c++];Nw(r,n,u,l,h,g)}}function oM(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function $w(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Hw(t,e){let n=t.contentQueries;if(n!==null){let r=me(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];q_(o),c.contentQueries(2,e[s],s)}}}finally{me(r)}}}function Bc(t,e){return t[Uo]?t[Rv][Ut]=e:t[Uo]=e,t[Rv]=e,e}function Ud(t,e,n){q_(0);let r=me(null);try{e(t,n)}finally{me(r)}}function sM(t){return t[Bo]||(t[Bo]=[])}function aM(t){return t.cleanup||(t.cleanup=[])}function qw(t,e){let n=t[pi],r=n?n.get(un,null):null;r&&r.handleError(e)}function Vh(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],l=e[s],h=t.data[s];Nw(h,l,r,c,u,i)}}function jh(t,e,n){let r=hT(e,t);yS(t[Qe],r,n)}function cM(t,e){let n=Jn(e,t),r=n[ce];uM(r,n);let i=n[Tn];i!==null&&n[ac]===null&&(n[ac]=Rh(i,n[pi])),Bh(r,n,n[sn])}function uM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Bh(t,e,n){wh(e);try{let r=t.viewQuery;r!==null&&Ud(1,r,n);let i=t.template;i!==null&&Ow(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[gi]?.finishViewCreation(t),t.staticContentQueries&&Hw(t,e),t.staticViewQueries&&Ud(2,t.viewQuery,n);let o=t.components;o!==null&&lM(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Ih()}}function lM(t,e){for(let n=0;n<e.length;n++)cM(t,e[n])}function dM(t,e,n,r){let i=me(null);try{let o=e.tView,c=t[Q]&4096?4096:16,u=Vc(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Mc]=l;let h=t[gi];return h!==null&&(u[gi]=h.createEmbeddedView(o)),Bh(o,u,n),u}finally{me(i)}}function Hv(t,e){return!e||e.firstChild===null||dw(t)}function hM(t,e,n,r=!0){let i=e[ce];if(IS(i,e,t,n),r){let s=jd(n,t),c=e[Qe],u=Oh(c,t[Er]);u!==null&&_S(i,t[$t],c,e,u,s)}let o=e[ac];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gc(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(cn(o)),Sn(o)&&fM(o,r);let s=n.type;if(s&8)gc(t,e,n.child,r);else if(s&32){let c=Ph(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=Sw(e,n);if(Array.isArray(c))r.push(...c);else{let u=$o(e[an]);gc(u[ce],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function fM(t,e){for(let n=xt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&gc(r[ce],r,i,e)}t[Er]!==t[Tn]&&e.push(t[Er])}var Gw=[];function pM(t){return t[Ir]??gM(t)}function gM(t){let e=Gw.pop()??Object.create(yM);return e.lView=t,e}function mM(t){t.lView[Ir]!==t&&(t.lView=null,Gw.push(t))}var yM=Ce(j({},zy),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zo(t.lView)},consumerOnSignalRead(){this.lView[Ir]=this}}),Ww=100;function Kw(t,e=!0,n=0){let r=t[zt],i=r.rendererFactory,o=!1;o||i.begin?.();try{vM(t,n)}catch(s){throw e&&qw(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function vM(t,e){zd(t,e);let n=0;for(;vh(t);){if(n===Ww)throw new H(103,!1);n++,zd(t,1)}}function _M(t,e,n,r){let i=e[Q];if((i&256)===256)return;let o=!1;!o&&e[zt].inlineEffectRunner?.flush(),wh(e);let s=null,c=null;!o&&wM(t)&&(c=pM(e),s=$y(c));try{V_(e),CT(t.bindingStartIndex),n!==null&&Ow(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let g=t.preOrderCheckHooks;g!==null&&Xa(e,g,null)}else{let g=t.preOrderHooks;g!==null&&ec(e,g,0,null),gd(e,0)}if(IM(e),Qw(e,0),t.contentQueries!==null&&Hw(t,e),!o)if(u){let g=t.contentCheckHooks;g!==null&&Xa(e,g)}else{let g=t.contentHooks;g!==null&&ec(e,g,1),gd(e,1)}FS(t,e);let l=t.components;l!==null&&Yw(e,l,0);let h=t.viewQuery;if(h!==null&&Ud(2,h,r),!o)if(u){let g=t.viewCheckHooks;g!==null&&Xa(e,g)}else{let g=t.viewHooks;g!==null&&ec(e,g,2),gd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[pd]){for(let g of e[pd])g();e[pd]=null}o||(e[Q]&=-73)}catch(u){throw zo(e),u}finally{c!==null&&(Hy(c,s),mM(c)),Ih()}}function wM(t){return t.type!==2}function Qw(t,e){for(let n=fw(t);n!==null;n=pw(n))for(let r=xt;r<n.length;r++){let i=n[r];Zw(i,e)}}function IM(t){for(let e=fw(t);e!==null;e=pw(e)){if(!(e[Q]&gh.HasTransplantedViews))continue;let n=e[uc];for(let r=0;r<n.length;r++){let i=n[r],o=i[ot];pT(i)}}}function EM(t,e,n){let r=Jn(e,t);Zw(r,n)}function Zw(t,e){yh(t)&&zd(t,e)}function zd(t,e){let r=t[ce],i=t[Q],o=t[Ir],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ql(o)),o&&(o.dirty=!1),t[Q]&=-9217,s)_M(r,t,r.template,t[sn]);else if(i&8192){Qw(t,1);let c=r.components;c!==null&&Yw(t,c,1)}}function Yw(t,e,n){for(let r=0;r<e.length;r++)EM(t,e[r],n)}function Uh(t){for(t[zt].changeDetectionScheduler?.notify();t;){t[Q]|=64;let e=$o(t);if(iT(t)&&!e)return t;t=e}return null}var Cr=class{get rootNodes(){let e=this._lView,n=e[ce];return gc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(e){this._lView[sn]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ot];if(Sn(e)){let n=e[cc],r=n?n.indexOf(this):-1;r>-1&&(Vd(e,r),oc(n,r))}this._attachedToViewContainer=!1}Cw(this._lView[ce],this._lView)}onDestroy(e){j_(this._lView,e)}markForCheck(){Uh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){Rd(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,Kw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,bw(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e,Rd(this._lView)}},Uc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=CM;let t=e;return t})(),bM=Uc,DM=class extends bM{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=dM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Cr(i)}};function CM(){return TM(Pt(),Me())}function TM(t,e){return t.type&4?new DM(e,t,Nc(t,e)):null}var hB=new RegExp(`^(\\d+)*(${iS}|${rS})*(.*)`);var SM=()=>null;function qv(t,e){return SM(t,e)}var mc=class{},$d=class{},yc=class{};function MM(t){let e=Error(`No component factory found for ${pt(t)}.`);return e[AM]=t,e}var AM="ngComponent";var Hd=class{resolveComponentFactory(e){throw MM(e)}},zc=(()=>{let e=class e{};e.NULL=new Hd;let t=e;return t})(),Go=class{},Xo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>xM();let t=e;return t})();function xM(){let t=Me(),e=Pt(),n=Jn(e.index,t);return(_r(n)?n:t)[Qe]}var RM=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),wd={};var Gv=new Set;function zh(t){Gv.has(t)||(Gv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Wv(...t){}function NM(){let t=typeof Ke.requestAnimationFrame=="function",e=Ke[t?"requestAnimationFrame":"setTimeout"],n=Ke[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new it(!1),this.onMicrotaskEmpty=new it(!1),this.onStable=new it(!1),this.onError=new it(!1),typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=NM().nativeRequestAnimationFrame,kM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,PM,Wv,Wv);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},PM={};function $h(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function OM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qd(t),t.isCheckStableRunning=!0,$h(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qd(t))}function kM(t){let e=()=>{OM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,c)=>{if(FM(c))return n.invokeTask(i,o,s,c);try{return Kv(t),n.invokeTask(i,o,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Qv(t)}},onInvoke:(n,r,i,o,s,c,u)=>{try{return Kv(t),n.invoke(i,o,s,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Qv(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,qd(t),$h(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function qd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Kv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qv(t){t._nesting--,$h(t)}var Gd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new it,this.onMicrotaskEmpty=new it,this.onStable=new it,this.onError=new it}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function FM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function LM(t="zone.js",e){return t==="noop"?new Gd:t==="zone.js"?new Ie(e):t}var ui=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ui||{}),VM={destroy(){}};function Hh(t,e){!e&&tT(Hh);let n=e?.injector??L(Ht);if(!pS(n))return VM;zh("NgAfterNextRender");let r=n.get(qh),i=r.handler??=new Kd,o=e?.phase??ui.MixedReadWrite,s=()=>{i.unregister(u),c()},c=n.get(Mh).onDestroy(s),u=Cn(n,()=>new Wd(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var Wd=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=L(Ie),this.errorHandler=L(un,{optional:!0}),L(mc,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Kd=class{constructor(){this.executingCallbacks=!1,this.buckets={[ui.EarlyRead]:new Set,[ui.Write]:new Set,[ui.MixedReadWrite]:new Set,[ui.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},qh=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Qd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Iv(i,c);else if(o==2){let u=c,l=e[++s];r=Iv(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var vc=class extends zc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Kn(e);return new mi(n,this.ngModule)}};function Zv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function jM(t){let e=t.toLowerCase();return e==="svg"?cT:e==="math"?uT:null}var Zd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Cc(r);let i=this.injector.get(e,wd,r);return i!==wd||n===wd?i:this.parentInjector.get(e,n,r)}},mi=class extends yc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Zv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Zv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=jC(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=me(null);try{i=i||this.ngModule;let s=i instanceof It?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new Zd(e,s):e,u=c.get(Go,null);if(u===null)throw new H(407,!1);let l=c.get(RM,null),h=c.get(qh,null),g=c.get(mc,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:g},D=u.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",k=r?jS(D,r,this.componentDef.encapsulation,c):Ew(D,x,jM(x)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let $=null;k!==null&&($=Rh(k,c,!0));let re=Lh(0,null,null,1,0,null,null,null,null,null,null),W=Vc(null,re,null,R,null,null,y,D,c,null,$);wh(W);let Y,Te;try{let ee=this.componentDef,I,m=null;ee.findHostDirectiveDefs?(I=[],m=new Map,ee.findHostDirectiveDefs(ee,I,m),I.push(ee)):I=[ee];let _=BM(W,k),w=UM(_,k,ee,I,W,y,D);Te=L_(re,Qn),k&&HM(D,ee,k,r),n!==void 0&&qM(Te,this.ngContentSelectors,n),Y=$M(w,ee,I,m,W,[GM]),Bh(re,W,null)}finally{Ih()}return new Yd(this.componentType,Y,Nc(Te,W),W,Te)}finally{me(o)}}},Yd=class extends $d{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Cr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Vh(o[ce],o,i,e,n),this.previousInputValues.set(e,n);let s=Jn(this._tNode.index,o);Uh(s)}}get injector(){return new wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BM(t,e){let n=t[ce],r=Qn;return t[r]=e,jc(n,r,2,"#host",null)}function UM(t,e,n,r,i,o,s){let c=i[ce];zM(r,t,e,s);let u=null;e!==null&&(u=Rh(e,i[pi]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let g=Vc(i,Vw(n),null,h,i[t.index],t,o,l,null,null,u);return c.firstCreatePass&&Bd(c,t,r.length-1),Bc(i,g),i[t.index]=g}function zM(t,e,n,r){for(let i of t)e.mergedAttrs=dh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Qd(e,e.mergedAttrs,!0),n!==null&&Aw(r,n,e))}function $M(t,e,n,r,i,o){let s=Pt(),c=i[ce],u=Nt(s,i);Uw(c,i,s,n,null,r);for(let h=0;h<n.length;h++){let g=s.directiveStart+h,y=qo(i,c,g,s);Dr(y,i)}zw(c,i,s),u&&Dr(u,i);let l=qo(i,c,s.directiveStart+s.componentOffset,s);if(t[sn]=i[sn]=l,o!==null)for(let h of o)h(l,e);return kw(c,s,i),l}function HM(t,e,n,r){if(r)Cd(t,n,["ng-version","17.3.1"]);else{let{attrs:i,classes:o}=BC(e.selectors[0]);i&&Cd(t,n,i),o&&o.length>0&&Mw(t,n,o.join(" "))}}function qM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function GM(){let t=Pt();Ch(Me()[ce],t)}var _i=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=WM;let t=e;return t})();function WM(){let t=Pt();return QM(t,Me())}var KM=_i,Jw=class extends KM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Nc(this._hostTNode,this._hostLView)}get injector(){return new wr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Th(this._hostTNode,this._hostLView);if(X_(e)){let n=hc(e,this._hostLView),r=dc(e),i=n[ce].data[r+8];return new wr(i,n)}else return new wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Yv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-xt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=qv(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,Hv(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!rT(e),c;if(s)c=n;else{let x=n||{};c=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let u=s?e:new mi(Kn(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let k=(s?l:this.parentInjector).get(It,null);k&&(o=k)}let h=Kn(u.componentType??{}),g=qv(this._lContainer,h?.id??null),y=g?.firstChild??null,D=u.create(l,i,y,o);return this.insertImpl(D.hostView,c,Hv(this._hostTNode,g)),D}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(fT(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[ot],l=new Jw(u,u[$t],u[ot]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return hM(s,i,o,r),e.attachToViewContainerRef(),p_(Id(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Yv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Vd(this._lContainer,n);r&&(oc(Id(this._lContainer),n),Cw(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=Vd(this._lContainer,n);return r&&oc(Id(this._lContainer),n)!=null?new Cr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Yv(t){return t[cc]}function Id(t){return t[cc]||(t[cc]=[])}function QM(t,e){let n,r=e[t.index];return Sn(r)?n=r:(n=$w(r,e,null,t),e[t.index]=n,Bc(e,n)),YM(n,e,t,r),new Jw(n,t,e)}function ZM(t,e){let n=t[Qe],r=n.createComment(""),i=Nt(e,t),o=Oh(n,i);return pc(n,o,r,MS(n,i),!1),r}var YM=eA,JM=()=>!1;function XM(t,e,n){return JM(t,e,n)}function eA(t,e,n,r){if(t[Er])return;let i;n.type&8?i=cn(r):i=ZM(e,n),t[Er]=i}function tA(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(oA))}return o}return _c.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let c=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=c,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,h=i.styleUrls;i.styleUrls.forEach((g,y)=>{c.push(""),s.push(r(g).then(D=>{c[l+y]=D,h.splice(h.indexOf(g),1),h.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{c.push(l),i.styleUrl=void 0}));let u=Promise.all(s).then(()=>sA(o));e.push(u)}),rA(),Promise.all(e).then(()=>{})}var _c=new Map,nA=new Set;function rA(){let t=_c;return _c=new Map,t}function iA(){return _c.size===0}function oA(t){return typeof t=="string"?t:t.text()}function sA(t){nA.delete(t)}function Gh(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Zn=class{},Wo=class{};var wc=class extends Zn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vc(this);let i=b_(e);this._bootstrapComponents=Iw(i.bootstrap),this._r3Injector=uw(e,n,[{provide:Zn,useValue:this},{provide:zc,useValue:this.componentFactoryResolver},...r],pt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ic=class extends Wo{constructor(e){super(),this.moduleType=e}create(e){return new wc(this.moduleType,e,[])}};function aA(t,e,n){return new wc(t,e,n)}var Jd=class extends Zn{constructor(e){super(),this.componentFactoryResolver=new vc(this),this.instance=null;let n=new jo([...e.providers,{provide:Zn,useValue:this},{provide:zc,useValue:this.componentFactoryResolver}],e.parent||ph(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $c(t,e,n=null){return new Jd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Hc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ge(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xw(t){return uA(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function cA(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function uA(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ko(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Xd(t,e,n,r){let i=Ko(t,e,n);return Ko(t,e+1,r)||i}function lA(t,e,n,r,i,o){let s=Xd(t,e,n,r);return Xd(t,e+2,i,o)||s}function dA(t){return(t.flags&32)===32}function hA(t,e,n,r,i,o,s,c,u){let l=e.consts,h=jc(e,t,4,s||null,lc(l,c));Bw(e,n,h,lc(l,u)),Ch(e,h);let g=h.tView=Lh(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}function ln(t,e,n,r,i,o,s,c){let u=Me(),l=Mn(),h=t+Qn,g=l.firstCreatePass?hA(h,l,u,e,n,r,i,o,s):l.data[h];Yo(g,!1);let y=fA(l,u,g,t);bh()&&kh(l,u,y,g),Dr(y,u);let D=$w(y,u,y,g);return u[h]=D,Bc(u,D),XM(D,g,u),mh(g)&&Fw(l,u,g),s!=null&&Lw(u,g,c),ln}var fA=pA;function pA(t,e,n,r){return Dh(!0),e[Qe].createComment("")}function qc(t,e,n,r){let i=Me(),o=_h();if(Ko(i,o,e)){let s=Mn(),c=Eh();nM(c,i,t,e,n,r)}return qc}function eI(t,e,n,r){return Ko(t,_h(),n)?e+en(n)+r:An}function gA(t,e,n,r,i,o){let s=$_(),c=Xd(t,s,n,i);return H_(2),c?e+en(n)+r+en(i)+o:An}function mA(t,e,n,r,i,o,s,c,u,l){let h=$_(),g=lA(t,h,n,i,s,u);return H_(4),g?e+en(n)+r+en(i)+o+en(s)+c+en(u)+l:An}function Ot(t,e,n){let r=Me(),i=_h();if(Ko(r,i,e)){let o=Mn(),s=Eh();jw(o,s,r,t,e,r[Qe],n,!1)}return Ot}function Jv(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Vh(t,n,o[s],s,r)}function yA(t,e,n,r,i,o){let s=e.consts,c=lc(s,i),u=jc(e,t,2,r,c);return Bw(e,n,u,lc(s,o)),u.attrs!==null&&Qd(u,u.attrs,!1),u.mergedAttrs!==null&&Qd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function A(t,e,n,r){let i=Me(),o=Mn(),s=Qn+t,c=i[Qe],u=o.firstCreatePass?yA(s,o,i,e,n,r):o.data[s],l=vA(o,i,u,c,e,t);i[s]=l;let h=mh(u);return Yo(u,!0),Aw(c,l,u),!dA(u)&&bh()&&kh(o,i,l,u),yT()===0&&Dr(l,i),vT(),h&&(Fw(o,i,u),kw(o,u,i)),r!==null&&Lw(i,u),A}function S(){let t=Pt();z_()?DT():(t=t.parent,Yo(t,!1));let e=t;IT(e)&&ET(),_T();let n=Mn();return n.firstCreatePass&&(Ch(n,t),N_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&kT(e)&&Jv(n,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&FT(e)&&Jv(n,e,Me(),e.stylesWithoutHost,!1),S}function U(t,e,n,r){return A(t,e,n,r),S(),U}var vA=(t,e,n,r,i,o)=>(Dh(!0),Ew(r,i,RT()));var Ec="en-US";var _A=Ec;function wA(t){typeof t=="string"&&(_A=t.toLowerCase().replace(/_/g,"-"))}function Gc(t,e,n,r){let i=Me(),o=Mn(),s=Pt();return EA(o,i,i[Qe],s,t,e,r),Gc}function IA(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Bo],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function EA(t,e,n,r,i,o,s){let c=mh(r),l=t.firstCreatePass&&aM(t),h=e[sn],g=sM(e),y=!0;if(r.type&3||s){let k=Nt(r,e),R=s?s(k):k,$=g.length,re=s?Y=>s(cn(Y[r.index])):r.index,W=null;if(!s&&c&&(W=IA(t,e,i,r.index)),W!==null){let Y=W.__ngLastListenerFn__||W;Y.__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,y=!1}else{o=e_(r,e,h,o,!1);let Y=n.listen(R,i,o);g.push(o,Y),l&&l.push(i,re,$,$+1)}}else o=e_(r,e,h,o,!1);let D=r.outputs,x;if(y&&D!==null&&(x=D[i])){let k=x.length;if(k)for(let R=0;R<k;R+=2){let $=x[R],re=x[R+1],Te=e[$][re].subscribe(o),ee=g.length;g.push(o,Te),l&&l.push(i,r.index,ee,-(ee+1))}}}function Xv(t,e,n,r){let i=me(null);try{return nn(6,e,n),n(r)!==!1}catch(o){return qw(t,o),!1}finally{nn(7,e,n),me(i)}}function e_(t,e,n,r,i){return function o(s){if(s===Function)return r;let c=t.componentOffset>-1?Jn(t.index,e):e;Uh(c);let u=Xv(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=Xv(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function es(t=1){return xT(t)}function wi(t,e,n){return qt(t,"",e,"",n),wi}function qt(t,e,n,r,i){let o=Me(),s=eI(o,e,n,r);if(s!==An){let c=Mn(),u=Eh();jw(c,u,o,t,s,o[Qe],i,!1)}return qt}function M(t,e=""){let n=Me(),r=Mn(),i=t+Qn,o=r.firstCreatePass?jc(r,i,1,e,null):r.data[i],s=bA(r,n,o,e,t);n[i]=s,bh()&&kh(r,n,s,o),Yo(o,!1)}var bA=(t,e,n,r,i)=>(Dh(!0),mS(e[Qe],r));function gt(t){return xn("",t,""),gt}function xn(t,e,n){let r=Me(),i=eI(r,t,e,n);return i!==An&&jh(r,Jo(),i),xn}function ts(t,e,n,r,i){let o=Me(),s=gA(o,t,e,n,r,i);return s!==An&&jh(o,Jo(),s),ts}function Wh(t,e,n,r,i,o,s,c,u){let l=Me(),h=mA(l,t,e,n,r,i,o,s,c,u);return h!==An&&jh(l,Jo(),h),Wh}var DA=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=T_(!1,r.type),o=i.length>0?$c([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(G(It))});let t=e;return t})();function Ar(t){zh("NgStandalone"),t.getStandaloneInjector=e=>e.get(DA).getOrCreateStandaloneInjector(t)}var Ya=null;function CA(t){Ya!==null&&(t.defaultEncapsulation!==Ya.defaultEncapsulation||t.preserveWhitespaces!==Ya.preserveWhitespaces)||(Ya=t)}var Wc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Kh=new Z(""),ns=new Z(""),Kc=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Qh||(TA(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(G(Ie),G(Qc),G(ns))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Qc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Qh?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function TA(t){Qh=t}var Qh;function Ii(t){return!!t&&typeof t.then=="function"}function tI(t){return!!t&&typeof t.subscribe=="function"}var Zc=new Z(""),nI=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=L(Zc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Ii(s))r.push(s);else if(tI(s)){let c=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zh=new Z("");function SA(){Gy(()=>{throw new H(600,!1)})}function MA(t){return t.isBoundToModule}function AA(t,e,n){try{let r=n();return Ii(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function rI(t,e){return Array.isArray(e)?e.reduce(rI,t):j(j({},t),e)}var Ei=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(lw),this.afterRenderEffectManager=L(qh),this.externalTestViews=new Set,this.beforeRender=new rt,this.afterTick=new rt,this.componentTypes=[],this.components=[],this.isStable=L(Hc).hasPendingTasks.pipe(ae(r=>!r)),this._injector=L(It)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof yc;if(!this._injector.get(nI).done){let D=!o&&E_(r),x=!1;throw new H(405,x)}let c;o?c=r:c=this._injector.get(zc).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=MA(c)?void 0:this._injector.get(Zn),l=i||c.selector,h=c.create(Ht.NULL,[],l,u),g=h.location.nativeElement,y=h.injector.get(Kh,null);return y?.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),nc(this.components,h),y?.unregisterApplication(g)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new H(101,!1);let i=me(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,me(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===Ww)throw new H(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:c,notifyErrorHandler:u}of this._views)xA(c,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>eh(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>eh(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;nc(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Zh,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>nc(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new H(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xA(t,e,n){!e&&!eh(t)||RA(t,n,e)}function eh(t){return vh(t)}function RA(t,e,n){let r;n?(r=0,t[Q]|=1024):t[Q]&64?r=0:r=1,Kw(t,e,r)}var th=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Yc=(()=>{let e=class e{compileModuleSync(r){return new Ic(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=b_(r),s=Iw(o.declarations).reduce((c,u)=>{let l=Kn(u);return l&&c.push(new mi(l)),c},[]);return new th(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NA=new Z("");function PA(t,e,n){let r=new Ic(n);return Promise.resolve(r)}function t_(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var OA=(()=>{let e=class e{constructor(){this.zone=L(Ie),this.applicationRef=L(Ei)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kA(t){return[{provide:Ie,useFactory:t},{provide:fi,multi:!0,useFactory:()=>{let e=L(OA,{optional:!0});return()=>e.initialize()}},{provide:fi,multi:!0,useFactory:()=>{let e=L(VA);return()=>{e.initialize()}}},{provide:lw,useFactory:FA}]}function FA(){let t=L(Ie),e=L(un);return n=>t.runOutsideAngular(()=>e.handleError(n))}function LA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VA=(()=>{let e=class e{constructor(){this.subscription=new je,this.initialized=!1,this.zone=L(Ie),this.pendingTasks=L(Hc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jA(){return typeof $localize<"u"&&$localize.locale||Ec}var Yh=new Z("",{providedIn:"root",factory:()=>L(Yh,ie.Optional|ie.SkipSelf)||jA()});var iI=new Z(""),oI=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=LM(i?.ngZone,LA({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=aA(r.moduleType,this.injector,kA(()=>o)),c=s.injector.get(un,null);return o.runOutsideAngular(()=>{let u=o.onError.subscribe({next:l=>{c.handleError(l)}});s.onDestroy(()=>{nc(this._modules,s),u.unsubscribe()})}),AA(c,o,()=>{let u=s.injector.get(nI);return u.runInitializers(),u.donePromise.then(()=>{let l=s.injector.get(Yh,Ec);return wA(l||Ec),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=rI({},i);return PA(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(Ei);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new H(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new H(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(iI,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(G(Ht))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Fo=null,sI=new Z("");function BA(t){if(Fo&&!Fo.get(sI,!1))throw new H(400,!1);SA(),Fo=t;let e=t.get(oI);return $A(t),e}function Jh(t,e,n=[]){let r=`Platform: ${e}`,i=new Z(r);return(o=[])=>{let s=aI();if(!s||s.injector.get(sI,!1)){let c=[...n,...o,{provide:i,useValue:!0}];t?t(c):BA(UA(c,r))}return zA(i)}}function UA(t=[],e){return Ht.create({name:e,providers:[{provide:Sc,useValue:"platform"},{provide:iI,useValue:new Set([()=>Fo=null])},...t]})}function zA(t){let e=aI();if(!e)throw new H(401,!1);return e}function aI(){return Fo?.get(oI)??null}function $A(t){t.get(Ah,null)?.forEach(n=>n())}var bi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HA;let t=e;return t})();function HA(t){return qA(Pt(),Me(),(t&16)===16)}function qA(t,e,n){if(xc(t)&&!n){let r=Jn(t.index,e);return new Cr(r,r)}else if(t.type&47){let r=e[an];return new Cr(r,e)}return null}var nh=class{constructor(){}supports(e){return Xw(e)}create(e){return new rh(e)}},GA=(t,e)=>e,rh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||GA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<n_(r,i,o)?n:r,c=n_(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let y=0;y<l;y++){let D=y<o.length?o[y]:o[y]=0,x=D+y;h<=x&&x<l&&(o[y]=D+1)}let g=s.previousIndex;o[g]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Xw(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,cA(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new ih(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new bc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new bc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ih=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},oh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},bc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new oh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function n_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function r_(){return new Xh([new nh])}var Xh=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||r_()),deps:[[e,new uh,new Tc]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new H(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:r_});let t=e;return t})();var cI=Jh(null,"core",[]),uI=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(G(Ei))},e.\u0275mod=at({type:e}),e.\u0275inj=st({});let t=e;return t})();function Di(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function lI(t){let e=Kn(t);if(!e)return null;let n=new mi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var gI=null;function xr(){return gI}function mI(t){gI??=t}var Jc=class{};var mt=new Z(""),sf=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>L(WA),providedIn:"platform"});let t=e;return t})(),yI=new Z(""),WA=(()=>{let e=class e extends sf{constructor(){super(),this._doc=L(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xr().getBaseHref(this._doc)}onPopState(r){let i=xr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=xr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function af(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function dI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Rn(t){return t&&t[0]!=="?"?"?"+t:t}var Nn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>L(cf),providedIn:"root"});let t=e;return t})(),vI=new Z(""),cf=(()=>{let e=class e extends Nn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??L(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return af(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Rn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let c=this.prepareExternalUrl(o+Rn(s));this._platformLocation.pushState(r,i,c)}replaceState(r,i,o,s){let c=this.prepareExternalUrl(o+Rn(s));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(sf),G(vI,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_I=(()=>{let e=class e extends Nn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=af(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let c=this.prepareExternalUrl(o+Rn(s));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.pushState(r,i,c)}replaceState(r,i,o,s){let c=this.prepareExternalUrl(o+Rn(s));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(sf),G(vI,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Ci=(()=>{let e=class e{constructor(r){this._subject=new it,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=ZA(dI(hI(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Rn(i))}normalize(r){return e.stripTrailingSlash(QA(this._basePath,hI(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Rn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Rn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Rn,e.joinWithSlash=af,e.stripTrailingSlash=dI,e.\u0275fac=function(i){return new(i||e)(G(Nn))},e.\u0275prov=z({token:e,factory:()=>KA(),providedIn:"root"});let t=e;return t})();function KA(){return new Ci(G(Nn))}function QA(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function hI(t){return t.replace(/\/index.html$/,"")}function ZA(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function wI(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ef=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},er=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,c)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new ef(o.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,c),fI(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);fI(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(be(_i),be(Uc),be(Xh))},e.\u0275dir=Yn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function fI(t,e){t.context.$implicit=e.item}var eu=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new tf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){pI("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){pI("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(be(_i),be(Uc))},e.\u0275dir=Yn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),tf=class{constructor(){this.$implicit=null,this.ngIf=null}};function pI(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${pt(e)}'.`)}var II=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=at({type:e}),e.\u0275inj=st({});let t=e;return t})(),uf="browser",YA="server";function JA(t){return t===uf}function lf(t){return t===YA}var EI=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>JA(L(Xn))?new nf(L(mt),window):new rf});let t=e;return t})(),nf=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=XA(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function XA(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var rf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Xc=class{};var pf=class extends Jc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},gf=class t extends pf{static makeCurrent(){mI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=tx();return n==null?null:nx(n)}resetBaseElement(){rs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wI(document.cookie,e)}},rs=null;function tx(){return rs=rs||document.querySelector("base"),rs?rs.getAttribute("href"):null}function nx(t){return new URL(t,document.baseURI).pathname}var mf=class{addToWindow(e){Ke.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new H(5103,!1);return o},Ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ke.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Ke.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(c=>{c.whenStable(s)})};Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?xr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},rx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),yf=new Z(""),TI=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(G(yf),G(Ie))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),tu=class{constructor(e){this._doc=e}},hf="ng-app-id",SI=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lf(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${hf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(hf),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(hf,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,c=s.get(i)?.elements;c?c.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(G(mt),G(Pc),G(xh,8),G(Xn))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),ff={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_f=/%COMP%/g,MI="%COMP%",ix=`_nghost-${MI}`,ox=`_ngcontent-${MI}`,sx=!0,ax=new Z("",{providedIn:"root",factory:()=>sx});function cx(t){return ox.replace(_f,t)}function ux(t){return ix.replace(_f,t)}function AI(t,e){return e.map(n=>n.replace(_f,t))}var bI=(()=>{let e=class e{constructor(r,i,o,s,c,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=lf(u),this.defaultRenderer=new is(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===on.ShadowDom&&(i=Ce(j({},i),{encapsulation:on.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof nu?o.applyToHost(r):o instanceof os&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let c=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case on.Emulated:s=new nu(l,h,i,this.appId,g,c,u,y);break;case on.ShadowDom:return new vf(l,h,r,i,c,u,this.nonce,y);default:s=new os(l,h,i,g,c,u,y);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(G(TI),G(SI),G(Pc),G(ax),G(mt),G(Xn),G(Ie),G(xh))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),is=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ff[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(DI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(DI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=ff[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ff[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mr.DashCase|Mr.Important)?e.style.setProperty(n,r,i&Mr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=xr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function DI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var vf=class extends is{constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=AI(i.id,i.styles);for(let h of l){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},os=class extends is{constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?AI(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},nu=class extends os{constructor(e,n,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,n,r,o,s,c,u,l),this.contentAttr=cx(l),this.hostAttr=ux(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},lx=(()=>{let e=class e extends tu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(G(mt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),CI=["alt","control","meta","shift"],dx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},fx=(()=>{let e=class e extends tu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xr().onAndCancel(r,s.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),CI.forEach(h=>{let g=i.indexOf(h);g>-1&&(i.splice(g,1),c+=h+".")}),c+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let o=dx[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),CI.forEach(c=>{if(c!==o){let u=hx[c];u(r)&&(s+=c+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(G(mt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function px(){gf.makeCurrent()}function gx(){return new un}function mx(){return mw(document),document}var yx=[{provide:Xn,useValue:uf},{provide:Ah,useValue:px,multi:!0},{provide:mt,useFactory:mx,deps:[]}],xI=Jh(cI,"browser",yx),vx=new Z(""),_x=[{provide:ns,useClass:mf,deps:[]},{provide:Kh,useClass:Kc,deps:[Ie,Qc,ns]},{provide:Kc,useClass:Kc,deps:[Ie,Qc,ns]}],wx=[{provide:Sc,useValue:"root"},{provide:un,useFactory:gx,deps:[]},{provide:yf,useClass:lx,multi:!0,deps:[mt,Ie,Xn]},{provide:yf,useClass:fx,multi:!0,deps:[mt]},bI,SI,TI,{provide:Go,useExisting:bI},{provide:Xc,useClass:rx,deps:[]},[]],RI=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Pc,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(G(vx,12))},e.\u0275mod=at({type:e}),e.\u0275inj=st({providers:[...wx,..._x],imports:[II,uI]});let t=e;return t})();var NI=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(G(mt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ix={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},wU=Ce(j({},Ix),{"[class.ng-submitted]":"isSubmitted"});var Ex=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>OI}),OI="always";var bx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=at({type:e}),e.\u0275inj=st({});let t=e;return t})();var Ti=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ex,useValue:r.callSetDisabledState??OI}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=at({type:e}),e.\u0275inj=st({imports:[bx]});let t=e;return t})();var te="primary",ws=Symbol("RouteTitle"),Df=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ri(t){return new Df(t)}function Sx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s.startsWith(":"))i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Mx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dn(t[n],e[n]))return!1;return!0}function dn(t,e){let n=t?Cf(t):void 0,r=e?Cf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!$I(t[i],e[i]))return!1;return!0}function Cf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function $I(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function HI(t){return t.length>0?t[t.length-1]:null}function ir(t){return ad(t)?t:Ii(t)?Ne(Promise.resolve(t)):K(t)}var Ax={exact:GI,subset:WI},qI={exact:xx,subset:Rx,ignored:()=>!0};function kI(t,e,n){return Ax[n.paths](t.root,e.root,n.matrixParams)&&qI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function xx(t,e){return dn(t,e)}function GI(t,e,n){if(!Nr(t.segments,e.segments)||!ou(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!GI(t.children[r],e.children[r],n))return!1;return!0}function Rx(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$I(t[n],e[n]))}function WI(t,e,n){return KI(t,e,e.segments,n)}function KI(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Nr(i,n)||e.hasChildren()||!ou(i,n,r))}else if(t.segments.length===n.length){if(!Nr(t.segments,n)||!ou(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!WI(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Nr(t.segments,i)||!ou(t.segments,i,r)||!t.children[te]?!1:KI(t.children[te],e,o,r)}}function ou(t,e,n){return e.every((r,i)=>qI[n](t[i].parameters,r.parameters))}var tr=class{constructor(e=new ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ri(this.queryParams),this._queryParamMap}toString(){return Ox.serialize(this)}},ve=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return su(this)}},Rr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ri(this.parameters),this._parameterMap}toString(){return ZI(this)}};function Nx(t,e){return Nr(t,e)&&t.every((n,r)=>dn(n.parameters,e[r].parameters))}function Nr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Px(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}var Is=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new hs,providedIn:"root"});let t=e;return t})(),hs=class{parse(e){let n=new Sf(e);return new tr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ss(e.root,!0)}`,r=Lx(e.queryParams),i=typeof e.fragment=="string"?`#${kx(e.fragment)}`:"";return`${n}${r}${i}`}},Ox=new hs;function su(t){return t.segments.map(e=>ZI(e)).join("/")}function ss(t,e){if(!t.hasChildren())return su(t);if(e){let n=t.children[te]?ss(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${ss(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Px(t,(r,i)=>i===te?[ss(t.children[te],!1)]:[`${i}:${ss(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${su(t)}/${n[0]}`:`${su(t)}/(${n.join("//")})`}}function QI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ru(t){return QI(t).replace(/%3B/gi,";")}function kx(t){return encodeURI(t)}function Tf(t){return QI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function au(t){return decodeURIComponent(t)}function FI(t){return au(t.replace(/\+/g,"%20"))}function ZI(t){return`${Tf(t.path)}${Fx(t.parameters)}`}function Fx(t){return Object.entries(t).map(([e,n])=>`;${Tf(e)}=${Tf(n)}`).join("")}function Lx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ru(n)}=${ru(i)}`).join("&"):`${ru(n)}=${ru(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Vx=/^[^\/()?;#]+/;function wf(t){let e=t.match(Vx);return e?e[0]:""}var jx=/^[^\/()?;=#]+/;function Bx(t){let e=t.match(jx);return e?e[0]:""}var Ux=/^[^=?&#]+/;function zx(t){let e=t.match(Ux);return e?e[0]:""}var $x=/^[^&#]+/;function Hx(t){let e=t.match($x);return e?e[0]:""}var Sf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new ve(e,n)),r}parseSegment(){let e=wf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Rr(au(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Bx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=wf(this.remaining);i&&(r=i,this.capture(r))}e[au(n)]=au(r)}parseQueryParam(e){let n=zx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Hx(this.remaining);s&&(r=s,this.capture(r))}let i=FI(n),o=FI(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=wf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[te]:new ve([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function YI(t){return t.segments.length>0?new ve([],{[te]:t}):t}function JI(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=JI(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ve(t.segments,e);return qx(n)}function qx(t){if(t.numberOfChildren===1&&t.children[te]){let e=t.children[te];return new ve(t.segments.concat(e.segments),e.children)}return t}function Ni(t){return t instanceof tr}function Gx(t,e,n=null,r=null){let i=XI(t);return eE(i,e,n,r)}function XI(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new ve(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=YI(r);return e??i}function eE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return If(i,i,i,n,r);let o=Wx(e);if(o.toRoot())return If(i,i,new ve([],{}),n,r);let s=Kx(o,i,t),c=s.processChildren?us(s.segmentGroup,s.index,o.commands):nE(s.segmentGroup,s.index,o.commands);return If(i,s.segmentGroup,c,n,r)}function cu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function fs(t){return typeof t=="object"&&t!=null&&t.outlets}function If(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=tE(t,e,n);let c=YI(JI(s));return new tr(c,o,i)}function tE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=tE(o,e,n)}),new ve(t.segments,r)}var uu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&cu(r[0]))throw new H(4003,!1);let i=r.find(fs);if(i&&i!==HI(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Wx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new uu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new uu(n,e,r)}var Ai=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Kx(t,e,n){if(t.isAbsolute)return new Ai(e,!0,0);if(!n)return new Ai(e,!1,NaN);if(n.parent===null)return new Ai(n,!0,0);let r=cu(t.commands[0])?0:1,i=n.segments.length-1+r;return Qx(n,i,t.numberOfDoubleDots)}function Qx(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new Ai(r,!1,i-o)}function Zx(t){return fs(t[0])?t[0].outlets:{[te]:t}}function nE(t,e,n){if(t??=new ve([],{}),t.segments.length===0&&t.hasChildren())return us(t,e,n);let r=Yx(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ve(t.segments.slice(0,r.pathIndex),{});return o.children[te]=new ve(t.segments.slice(r.pathIndex),t.children),us(o,0,i)}else return r.match&&i.length===0?new ve(t.segments,{}):r.match&&!t.hasChildren()?Mf(t,e,n):r.match?us(t,0,i):Mf(t,e,n)}function us(t,e,n){if(n.length===0)return new ve(t.segments,{});{let r=Zx(n),i={};if(Object.keys(r).some(o=>o!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let o=us(t.children[te],e,n);return new ve(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=nE(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ve(t.segments,i)}}function Yx(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(fs(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!VI(u,l,s))return o;r+=2}else{if(!VI(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Mf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(fs(o)){let u=Jx(o.outlets);return new ve(r,u)}if(i===0&&cu(n[0])){let u=t.segments[e];r.push(new Rr(u.path,LI(n[0]))),i++;continue}let s=fs(o)?o.outlets[te]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&cu(c)?(r.push(new Rr(s,LI(c))),i+=2):(r.push(new Rr(s,{})),i++)}return new ve(r,{})}function Jx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Mf(new ve([],{}),0,r))}),e}function LI(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function VI(t,e,n){return t==n.path&&dn(e,n.parameters)}var ls="imperative",ze=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ze||{}),kt=class{constructor(e,n){this.id=e,this.url=n}},Pi=class extends kt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ze.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hn=class extends kt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(bt||{}),lu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(lu||{}),nr=class extends kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rr=class extends kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ze.NavigationSkipped}},ps=class extends kt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},du=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Af=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xf=class extends kt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rf=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nf=class extends kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pf=class{constructor(e){this.route=e,this.type=ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Of=class{constructor(e){this.route=e,this.type=ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kf=class{constructor(e){this.snapshot=e,this.type=ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ff=class{constructor(e){this.snapshot=e,this.type=ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lf=class{constructor(e){this.snapshot=e,this.type=ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vf=class{constructor(e){this.snapshot=e,this.type=ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hu=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ze.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},gs=class{},ms=class{constructor(e){this.url=e}};var jf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Es,this.attachRef=null}},Es=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new jf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Bf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Bf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Uf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Uf(e,this._root).map(n=>n.value)}};function Bf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Bf(t,n);if(r)return r}return null}function Uf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Uf(t,n);if(r.length)return r.unshift(e),r}return[]}var Et=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Mi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var pu=class extends fu{constructor(e,n){super(e),this.snapshot=n,Yf(this,e)}toString(){return this.snapshot.toString()}};function rE(t){let e=Xx(t),n=new Ge([new Rr("",{})]),r=new Ge({}),i=new Ge({}),o=new Ge({}),s=new Ge(""),c=new Gt(n,r,o,s,i,te,t,e.root);return c.snapshot=e.root,new pu(new Et(c,[]),e)}function Xx(t){let e={},n={},r={},i="",o=new ys([],e,r,i,n,te,t,null,{});return new gu("",new Et(o,[]))}var Gt=class{constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ae(l=>l[ws]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(e=>Ri(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(e=>Ri(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&oE(i)&&(r.resolve[ws]=i.title),r}var ys=class{get title(){return this.data?.[ws]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ri(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ri(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},gu=class extends fu{constructor(e,n){super(n),this.url=e,Yf(this,n)}toString(){return iE(this._root)}};function Yf(t,e){e.value._routerState=t,e.children.forEach(n=>Yf(t,n))}function iE(t){let e=t.children.length>0?` { ${t.children.map(iE).join(", ")} } `:"";return`${t.value}${e}`}function Ef(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),dn(e.params,n.params)||t.paramsSubject.next(n.params),Mx(e.url,n.url)||t.urlSubject.next(n.url),dn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zf(t,e){let n=dn(t.params,e.params)&&Nx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||zf(t.parent,e.parent))}function oE(t){return typeof t.title=="string"||t.title===null}var Jf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new it,this.deactivateEvents=new it,this.attachEvents=new it,this.detachEvents=new it,this.parentContexts=L(Es),this.location=L(_i),this.changeDetector=L(bi),this.environmentInjector=L(It),this.inputBinder=L(wu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=r;let o=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new $f(r,u,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Yn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Tr]});let t=e;return t})(),$f=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Gt?this.route:e===Es?this.childContexts:this.parent.get(e,n)}},wu=new Z(""),jI=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Po([i.queryParams,i.params,i.data]).pipe(St(([s,c,u],l)=>(u=j(j(j({},s),c),u),l===0?K(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let c=lI(i.component);if(!c){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of c.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function eR(t,e,n){let r=vs(t,e._root,n?n._root:void 0);return new pu(r,e)}function vs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=tR(t,e,n);return new Et(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>vs(t,c)),s}}let r=nR(e.value),i=e.children.map(o=>vs(t,o));return new Et(r,i)}}function tR(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return vs(t,r,i);return vs(t,r)})}function nR(t){return new Gt(new Ge(t.url),new Ge(t.params),new Ge(t.queryParams),new Ge(t.fragment),new Ge(t.data),t.outlet,t.component,t)}var sE="ngNavigationCancelingError";function aE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ni(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cE(!1,bt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function cE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[sE]=!0,n.cancellationCode=e,n}function rR(t){return uE(t)&&Ni(t.url)}function uE(t){return!!t&&t[sE]}var iR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ar],decls:1,vars:0,template:function(i,o){i&1&&U(0,"router-outlet")},dependencies:[Jf],encapsulation:2});let t=e;return t})();function oR(t,e){return t.providers&&!t._injector&&(t._injector=$c(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Xf(t){let e=t.children&&t.children.map(Xf),n=e?Ce(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=iR),n}function fn(t){return t.outlet||te}function sR(t,e){let n=t.filter(r=>fn(r)===e);return n.push(...t.filter(r=>fn(r)!==e)),n}function bs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var aR=(t,e,n,r)=>ae(i=>(new Hf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Hf=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ef(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Mi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Mi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Mi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Mi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Vf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ff(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Ef(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Ef(c.route.value),this.activateChildRoutes(e,null,s.children)}else{let c=bs(i.snapshot);s.attachRef=null,s.route=i,s.injector=c,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},mu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xi=class{constructor(e,n){this.component=e,this.route=n}};function cR(t,e,n){let r=t._root,i=e?e._root:null;return as(r,i,n,[r.value])}function uR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ki(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!a_(t)?t:e.get(t):r}function as(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Mi(e);return t.children.forEach(s=>{lR(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ds(c,n.getContext(s),i)),i}function lR(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=dR(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new mu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?as(t,e,c?c.children:null,r,i):as(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new xi(c.outlet.component,s))}else s&&ds(e,c,i),i.canActivateChecks.push(new mu(r)),o.component?as(t,null,c?c.children:null,r,i):as(t,null,n,r,i);return i}function dR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Nr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nr(t.url,e.url)||!dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zf(t,e)||!dn(t.queryParams,e.queryParams);case"paramsChange":default:return!zf(t,e)}}function ds(t,e,n){let r=Mi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ds(s,e.children.getContext(o),n):ds(s,null,n):ds(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new xi(e.outlet.component,i)):n.canDeactivateChecks.push(new xi(null,i)):n.canDeactivateChecks.push(new xi(null,i))}function Ds(t){return typeof t=="function"}function hR(t){return typeof t=="boolean"}function fR(t){return t&&Ds(t.canLoad)}function pR(t){return t&&Ds(t.canActivate)}function gR(t){return t&&Ds(t.canActivateChild)}function mR(t){return t&&Ds(t.canDeactivate)}function yR(t){return t&&Ds(t.canMatch)}function lE(t){return t instanceof bn||t?.name==="EmptyError"}var iu=Symbol("INITIAL_VALUE");function Oi(){return St(t=>Po(t.map(e=>e.pipe(Dn(1),dd(iu)))).pipe(ae(e=>{for(let n of e)if(n!==!0){if(n===iu)return iu;if(n===!1||n instanceof tr)return n}return!0}),Tt(e=>e!==iu),Dn(1)))}function vR(t,e){return Oe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?K(Ce(j({},n),{guardsResult:!0})):_R(s,r,i,t).pipe(Oe(c=>c&&hR(c)?wR(r,o,t,e):K(c)),ae(c=>Ce(j({},n),{guardsResult:c})))})}function _R(t,e,n,r){return Ne(t).pipe(Oe(i=>CR(i.component,i.route,n,e,r)),Xt(i=>i!==!0,!0))}function wR(t,e,n,r){return Ne(e).pipe(vr(i=>ii(ER(i.route.parent,r),IR(i.route,r),DR(t,i.path,n),bR(t,i.route,n))),Xt(i=>i!==!0,!0))}function IR(t,e){return t!==null&&e&&e(new Lf(t)),K(!0)}function ER(t,e){return t!==null&&e&&e(new kf(t)),K(!0)}function bR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>Ga(()=>{let s=bs(e)??n,c=ki(o,s),u=pR(c)?c.canActivate(e,t):Cn(s,()=>c(e,t));return ir(u).pipe(Xt())}));return K(i).pipe(Oi())}function DR(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>uR(s)).filter(s=>s!==null).map(s=>Ga(()=>{let c=s.guards.map(u=>{let l=bs(s.node)??n,h=ki(u,l),g=gR(h)?h.canActivateChild(r,t):Cn(l,()=>h(r,t));return ir(g).pipe(Xt())});return K(c).pipe(Oi())}));return K(o).pipe(Oi())}function CR(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(c=>{let u=bs(e)??i,l=ki(c,u),h=mR(l)?l.canDeactivate(t,e,n,r):Cn(u,()=>l(t,e,n,r));return ir(h).pipe(Xt())});return K(s).pipe(Oi())}function TR(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let c=ki(s,t),u=fR(c)?c.canLoad(e,n):Cn(t,()=>c(e,n));return ir(u)});return K(o).pipe(Oi(),dE(r))}function dE(t){return rd(We(e=>{if(Ni(e))throw aE(t,e)}),ae(e=>e===!0))}function SR(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let c=ki(s,t),u=yR(c)?c.canMatch(e,n):Cn(t,()=>c(e,n));return ir(u)});return K(o).pipe(Oi(),dE(r))}var _s=class{constructor(e){this.segmentGroup=e||null}},yu=class extends Error{constructor(e){super(),this.urlTree=e}};function Si(t){return ni(new _s(t))}function MR(t){return ni(new H(4e3,!1))}function AR(t){return ni(cE(!1,bt.GuardRejected))}var qf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[te])return MR(e.redirectTo);i=i.children[te]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new yu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new tr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new ve(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Gf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xR(t,e,n,r,i){let o=ep(t,e,n);return o.matched?(r=oR(e,r),SR(r,e,n,i).pipe(ae(s=>s===!0?o:j({},Gf)))):K(o)}function ep(t,e,n){if(e.path==="**")return RR(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},Gf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Sx)(n,t,e);if(!i)return j({},Gf);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function RR(t){return{matched:!0,parameters:t.length>0?HI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function BI(t,e,n,r){return n.length>0&&OR(t,n,r)?{segmentGroup:new ve(e,PR(r,new ve(n,t.children))),slicedSegments:[]}:n.length===0&&kR(t,n,r)?{segmentGroup:new ve(t.segments,NR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ve(t.segments,t.children),slicedSegments:n}}function NR(t,e,n,r){let i={};for(let o of n)if(Iu(t,e,o)&&!r[fn(o)]){let s=new ve([],{});i[fn(o)]=s}return j(j({},r),i)}function PR(t,e){let n={};n[te]=e;for(let r of t)if(r.path===""&&fn(r)!==te){let i=new ve([],{});n[fn(r)]=i}return n}function OR(t,e,n){return n.some(r=>Iu(t,e,r)&&fn(r)!==te)}function kR(t,e,n){return n.some(r=>Iu(t,e,r))}function Iu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function FR(t,e,n,r){return fn(t)!==r&&(r===te||!Iu(e,n,t))?!1:ep(e,t,n).matched}function LR(t,e,n){return e.length===0&&!t.children[n]}var Wf=class{};function VR(t,e,n,r,i,o,s="emptyOnly"){return new Kf(t,e,n,r,i,s,o).recognize()}var jR=31,Kf=class{constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new qf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=BI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ae(n=>{let r=new ys([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,{},te,this.rootComponentType,null,{}),i=new Et(r,n),o=new gu("",i),s=Gx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,te).pipe(Hn(r=>{if(r instanceof yu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _s?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Zf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ae(o=>o instanceof Et?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Ne(i).pipe(vr(o=>{let s=r.children[o],c=sR(n,o);return this.processSegmentGroup(e,c,s,o)}),ld((o,s)=>(o.push(...s),o)),qn(null),ud(),Oe(o=>{if(o===null)return Si(r);let s=hE(o);return BR(s),K(s)}))}processSegment(e,n,r,i,o,s){return Ne(n).pipe(vr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s).pipe(Hn(u=>{if(u instanceof _s)return K(null);throw u}))),Xt(c=>!!c),Hn(c=>{if(lE(c))return LR(r,i,o)?K(new Wf):Si(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,c){return FR(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Si(i):Si(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=ep(n,i,o);if(!c)return Si(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jR&&(this.allowRedirects=!1));let g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,g).pipe(Oe(y=>this.processSegment(e,r,n,y.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=xR(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(St(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(St(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:g,parameters:y}=c,D=new ys(h,y,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,zR(r),fn(r),r.component??r._loadedComponent??null,r,$R(r)),{segmentGroup:x,slicedSegments:k}=BI(n,h,g,u);if(k.length===0&&x.hasChildren())return this.processChildren(l,u,x).pipe(ae($=>$===null?null:new Et(D,$)));if(u.length===0&&k.length===0)return K(new Et(D,[]));let R=fn(r)===o;return this.processSegment(l,u,x,k,R?te:o,!0).pipe(ae($=>new Et(D,$ instanceof Et?[$]:[])))}))):Si(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):TR(e,n,r,this.urlSerializer).pipe(Oe(i=>i?this.configLoader.loadChildren(e,n).pipe(We(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):AR(n))):K({routes:[],injector:e})}};function BR(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}function UR(t){let e=t.value.routeConfig;return e&&e.path===""}function hE(t){let e=[],n=new Set;for(let r of t){if(!UR(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=hE(r.children);e.push(new Et(r.value,i))}return e.filter(r=>!n.has(r))}function zR(t){return t.data||{}}function $R(t){return t.resolve||{}}function HR(t,e,n,r,i,o){return Oe(s=>VR(t,e,n,r,s.extractedUrl,i,o).pipe(ae(({state:c,tree:u})=>Ce(j({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function qR(t,e){return Oe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of fE(u))s.add(l);let c=0;return Ne(s).pipe(vr(u=>o.has(u)?GR(u,r,t,e):(u.data=Zf(u,u.parent,t).resolve,K(void 0))),We(()=>c++),oi(1),Oe(u=>c===s.size?K(n):wt))})}function fE(t){let e=t.children.map(n=>fE(n)).flat();return[t,...e]}function GR(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!oE(i)&&(o[ws]=i.title),WR(o,t,e,r).pipe(ae(s=>(t._resolvedData=s,t.data=Zf(t,t.parent,n).resolve,null)))}function WR(t,e,n,r){let i=Cf(t);if(i.length===0)return K({});let o={};return Ne(i).pipe(Oe(s=>KR(t[s],e,n,r).pipe(Xt(),We(c=>{o[s]=c}))),oi(1),cd(o),Hn(s=>lE(s)?wt:ni(s)))}function KR(t,e,n,r){let i=bs(e)??r,o=ki(t,i),s=o.resolve?o.resolve(e,n):Cn(i,()=>o(e,n));return ir(s)}function bf(t){return St(e=>{let n=t(e);return n?Ne(n).pipe(ae(()=>e)):K(e)})}var pE=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===te);return i}getResolvedTitleForRoute(r){return r.data[ws]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>L(QR),providedIn:"root"});let t=e;return t})(),QR=(()=>{let e=class e extends pE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(G(NI))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cs=new Z("",{providedIn:"root",factory:()=>({})}),vu=new Z(""),tp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(Yc)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ir(r.loadComponent()).pipe(ae(gE),We(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Oo(()=>{this.componentLoaders.delete(r)})),o=new ti(i,()=>new rt).pipe(ei());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return K({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=ZR(i,this.compiler,r,this.onLoadEndListener).pipe(Oo(()=>{this.childrenLoaders.delete(i)})),c=new ti(s,()=>new rt).pipe(ei());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZR(t,e,n,r){return ir(t.loadChildren()).pipe(ae(gE),Oe(i=>i instanceof Wo||Array.isArray(i)?K(i):Ne(e.compileModuleAsync(i))),ae(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(vu,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xf),injector:o}}))}function YR(t){return t&&typeof t=="object"&&"default"in t}function gE(t){return YR(t)?t.default:t}var np=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>L(JR),providedIn:"root"});let t=e;return t})(),JR=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mE=new Z(""),yE=new Z("");function XR(t,e,n){let r=t.get(yE),i=t.get(mt);return t.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),c=i.startViewTransition(()=>(o(),eN(t))),{onViewTransitionCreated:u}=r;return u&&Cn(t,()=>u({transition:c,from:e,to:n})),s})}function eN(t){return new Promise(e=>{Hh(e,{injector:t})})}var rp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=L(tp),this.environmentInjector=L(It),this.urlSerializer=L(Is),this.rootContexts=L(Es),this.location=L(Ci),this.inputBindingEnabled=L(wu,{optional:!0})!==null,this.titleStrategy=L(pE),this.options=L(Cs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(np),this.createViewTransition=L(mE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Pf(o)),i=o=>this.events.next(new Of(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ce(j(j({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ge({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ls,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Tt(s=>s.id!==0),ae(s=>Ce(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),St(s=>{let c=!1,u=!1;return K(s).pipe(St(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",bt.SupersededByNewNavigation),wt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ce(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&g!=="reload"){let y="";return this.events.next(new rr(l.id,this.urlSerializer.serialize(l.rawUrl),y,lu.IgnoredSameUrlNavigation)),l.resolve(null),wt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return K(l).pipe(St(y=>{let D=this.transitions?.getValue();return this.events.next(new Pi(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),D!==this.transitions?.getValue()?wt:Promise.resolve(y)}),HR(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),We(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Ce(j({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let D=new du(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(D)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:D,source:x,restoredState:k,extras:R}=l,$=new Pi(y,this.urlSerializer.serialize(D),x,k);this.events.next($);let re=rE(this.rootComponentType).snapshot;return this.currentTransition=s=Ce(j({},l),{targetSnapshot:re,urlAfterRedirects:D,extras:Ce(j({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=D,K(s)}else{let y="";return this.events.next(new rr(l.id,this.urlSerializer.serialize(l.extractedUrl),y,lu.IgnoredByUrlHandlingStrategy)),l.resolve(null),wt}}),We(l=>{let h=new Af(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ae(l=>(this.currentTransition=s=Ce(j({},l),{guards:cR(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),vR(this.environmentInjector,l=>this.events.next(l)),We(l=>{if(s.guardsResult=l.guardsResult,Ni(l.guardsResult))throw aE(this.urlSerializer,l.guardsResult);let h=new xf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Tt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",bt.GuardRejected),!1)),bf(l=>{if(l.guards.canActivateChecks.length)return K(l).pipe(We(h=>{let g=new Rf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),St(h=>{let g=!1;return K(h).pipe(qR(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(h,"",bt.NoDataFromResolver)}}))}),We(h=>{let g=new Nf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),bf(l=>{let h=g=>{let y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe(We(D=>{g.component=D}),ae(()=>{})));for(let D of g.children)y.push(...h(D));return y};return Po(h(l.targetSnapshot.root)).pipe(qn(null),Dn(1))}),bf(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,g=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return g?Ne(g).pipe(ae(()=>s)):K(s)}),ae(l=>{let h=eR(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ce(j({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),We(()=>{this.events.next(new gs)}),aR(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Dn(1),We({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),hd(this.transitionAbortSubject.pipe(We(l=>{throw l}))),Oo(()=>{!c&&!u&&this.cancelNavigationTransition(s,"",bt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hn(l=>{if(u=!0,uE(l))this.events.next(new nr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),rR(l)?this.events.next(new ms(l.url)):s.resolve(!1);else{this.events.next(new ps(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return wt}))}))}cancelNavigationTransition(r,i,o){let s=new nr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tN(t){return t!==ls}var nN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>L(rN),providedIn:"root"});let t=e;return t})(),Qf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},rN=(()=>{let e=class e extends Qf{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Rc(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>L(iN),providedIn:"root"});let t=e;return t})(),iN=(()=>{let e=class e extends vE{constructor(){super(...arguments),this.location=L(Ci),this.urlSerializer=L(Is),this.options=L(Cs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(np),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new tr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=rE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Pi)this.stateMemento=this.createStateMemento();else if(r instanceof rr)this.rawUrlTree=i.initialUrl;else if(r instanceof du){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof gs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof nr&&(r.code===bt.GuardRejected||r.code===bt.NoDataFromResolver)?this.restoreHistory(i):r instanceof ps?this.restoreHistory(i,!0):r instanceof hn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,c=j(j({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",c)}else{let s=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Rc(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(cs||{});function _E(t,e){t.events.pipe(Tt(n=>n instanceof hn||n instanceof nr||n instanceof ps||n instanceof rr),ae(n=>n instanceof hn||n instanceof rr?cs.COMPLETE:(n instanceof nr?n.code===bt.Redirect||n.code===bt.SupersededByNewNavigation:!1)?cs.REDIRECTING:cs.FAILED),Tt(n=>n!==cs.REDIRECTING),Dn(1)).subscribe(()=>{e()})}function oN(t){throw t}var sN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ft=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=L(Wc),this.stateManager=L(vE),this.options=L(Cs,{optional:!0})||{},this.pendingTasks=L(Hc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(rp),this.urlSerializer=L(Is),this.location=L(Ci),this.urlHandlingStrategy=L(np),this._events=new rt,this.errorHandler=this.options.errorHandler||oN,this.navigated=!1,this.routeReuseStrategy=L(nN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(vu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(wu,{optional:!0}),this.eventsSubscription=new je,this.isNgZoneEnabled=L(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof nr&&i.code!==bt.Redirect&&i.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof hn)this.navigated=!0;else if(i instanceof ms){let c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||tN(o.source)};this.scheduleNavigation(c,ls,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}uN(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ls,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let l=j({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Xf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:c,g=null;switch(u){case"merge":g=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}g!==null&&(g=this.removeEmptyProps(g));let y;try{let D=o?o.snapshot:this.routerState.snapshot.root;y=XI(D)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),y=this.currentUrlTree.root}return eE(y,r,g,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ni(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ls,null,i)}navigate(r,i={skipLocationChange:!1}){return cN(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=j({},sN):i===!1?o=j({},aN):o=i,Ni(r))return kI(this.currentUrlTree,r,o);let s=this.parseUrl(r);return kI(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,c){if(this.disposed)return Promise.resolve(!1);let u,l,h;c?(u=c.resolve,l=c.reject,h=c.promise):h=new Promise((y,D)=>{u=y,l=D});let g=this.pendingTasks.add();return _E(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new H(4008,!1)}function uN(t){return!(t instanceof gs)&&!(t instanceof ms)}var yt=(()=>{let e=class e{constructor(r,i,o,s,c,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=c,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new rt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof hn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||c||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:_w(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(be(Ft),be(Gt),Sh("tabindex"),be(Xo),be(Sr),be(Nn))},e.\u0275dir=Yn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Gc("click",function(c){return o.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&qc("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Rt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Di],skipLocationChange:[Rt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Di],replaceUrl:[Rt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Di],routerLink:"routerLink"},standalone:!0,features:[Gh,Tr]});let t=e;return t})();var _u=class{};var lN=(()=>{let e=class e{constructor(r,i,o,s,c){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Tt(r=>r instanceof hn),vr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=$c(s.providers,r,`Route: ${s.path}`));let c=s._injector??r,u=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return Ne(o).pipe(ri())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=K(null);let s=o.pipe(Oe(c=>c===null?K(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??r,c.routes))));if(i.loadComponent&&!i._loadedComponent){let c=this.loader.loadComponent(i);return Ne([s,c]).pipe(ri())}else return s})}};e.\u0275fac=function(i){return new(i||e)(G(Ft),G(Yc),G(It),G(_u),G(tp))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wE=new Z(""),dN=(()=>{let e=class e{constructor(r,i,o,s,c={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Pi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof hn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof rr&&r.code===lu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof hu&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new hu(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Rw()},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function hN(t){return t.routerState.root}function Ts(t,e){return{\u0275kind:t,\u0275providers:e}}function fN(){let t=L(Ht);return e=>{let n=t.get(Ei);if(e!==n.components[0])return;let r=t.get(Ft),i=t.get(IE);t.get(ip)===1&&r.initialNavigation(),t.get(EE,null,ie.Optional)?.setUpPreloading(),t.get(wE,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var IE=new Z("",{factory:()=>new rt}),ip=new Z("",{providedIn:"root",factory:()=>1});function pN(){return Ts(2,[{provide:ip,useValue:0},{provide:Zc,multi:!0,deps:[Ht],useFactory:e=>{let n=e.get(yI,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Ft),o=e.get(IE);_E(i,()=>{r(!0)}),e.get(rp).afterPreactivation=()=>(r(!0),o.closed?K(void 0):o),i.initialNavigation()}))}}])}function gN(){return Ts(3,[{provide:Zc,multi:!0,useFactory:()=>{let e=L(Ft);return()=>{e.setUpLocationChangeListener()}}},{provide:ip,useValue:2}])}var EE=new Z("");function mN(t){return Ts(0,[{provide:EE,useExisting:lN},{provide:_u,useExisting:t}])}function yN(){return Ts(8,[jI,{provide:wu,useExisting:jI}])}function vN(t){let e=[{provide:mE,useValue:XR},{provide:yE,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ts(9,e)}var UI=new Z("ROUTER_FORROOT_GUARD"),_N=[Ci,{provide:Is,useClass:hs},Ft,Es,{provide:Gt,useFactory:hN,deps:[Ft]},tp,[]],op=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[_N,[],{provide:vu,multi:!0,useValue:r},{provide:UI,useFactory:bN,deps:[[Ft,new Tc,new uh]]},{provide:Cs,useValue:i||{}},i?.useHash?IN():EN(),wN(),i?.preloadingStrategy?mN(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?DN(i):[],i?.bindToComponentInputs?yN().\u0275providers:[],i?.enableViewTransitions?vN().\u0275providers:[],CN()]}}static forChild(r){return{ngModule:e,providers:[{provide:vu,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(G(UI,8))},e.\u0275mod=at({type:e}),e.\u0275inj=st({});let t=e;return t})();function wN(){return{provide:wE,useFactory:()=>{let t=L(EI),e=L(Ie),n=L(Cs),r=L(rp),i=L(Is);return n.scrollOffset&&t.setOffset(n.scrollOffset),new dN(i,r,t,e,n)}}}function IN(){return{provide:Nn,useClass:_I}}function EN(){return{provide:Nn,useClass:cf}}function bN(t){return"guarded"}function DN(t){return[t.initialNavigation==="disabled"?gN().\u0275providers:[],t.initialNavigation==="enabledBlocking"?pN().\u0275providers:[]]}var zI=new Z("");function CN(){return[{provide:zI,useFactory:fN},{provide:Zh,multi:!0,useExisting:zI}]}var DE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TN=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},CE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,g=(o&3)<<4|c>>4,y=(c&15)<<2|l>>6,D=l&63;u||(D=64,s||(y=64)),r.push(n[h],n[g],n[y],n[D])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||g==null)throw new sp;let y=o<<2|c>>4;if(r.push(y),l!==64){let D=c<<4&240|l>>2;if(r.push(D),g!==64){let x=l<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},sp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},SN=function(t){let e=DE(t);return CE.encodeByteArray(e,!0)},Ss=function(t){return SN(t).replace(/\./g,"")},MN=function(t){try{return CE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xN=()=>AN().__FIREBASE_DEFAULTS__,RN=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&MN(t[1]);return e&&JSON.parse(e)},ap=()=>{try{return xN()||RN()||NN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PN=t=>{var e,n;return(n=(e=ap())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bu=t=>{let e=PN(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cp=()=>{var t;return(t=ap())===null||t===void 0?void 0:t.config};var Eu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Du(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ss(JSON.stringify(n)),Ss(JSON.stringify(s)),""].join(".")}function TE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ON(){var t;let e=(t=ap())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SE(){return!ON()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function up(){try{return typeof indexedDB=="object"}catch{return!1}}function ME(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var kN="FirebaseError",Wt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kN,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ms.prototype.create)}},Ms=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?FN(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Wt(i,c,r)}};function FN(t,e){return t.replace(LN,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var LN=/\{\$([^}]+)}/g;function As(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(bE(o)&&bE(s)){if(!As(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function bE(t){return t!==null&&typeof t=="object"}var BU=4*60*60*1e3;function Kt(t){return t&&t._delegate?t._delegate:t}var Qt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Or="[DEFAULT]";var lp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Eu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jN(e))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return P(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Or){return this.instances.has(e)}getOptions(e=Or){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Or){return this.component?this.component.multipleInstances?e:Or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function VN(t){return t===Or?void 0:t}function jN(t){return t.instantiationMode==="EAGER"}var Cu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new lp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var BN=[],fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{}),UN={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},zN=fe.INFO,$N={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},HN=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=$N[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Fi=class{constructor(e){this.name=e,this._logLevel=zN,this._logHandler=HN,this._userLogHandler=null,BN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var qN=(t,e)=>e.some(n=>t instanceof n),AE,xE;function GN(){return AE||(AE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WN(){return xE||(xE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var RE=new WeakMap,hp=new WeakMap,NE=new WeakMap,dp=new WeakMap,pp=new WeakMap;function KN(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(pn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&RE.set(n,t)}).catch(()=>{}),pp.set(e,t),e}function QN(t){if(hp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});hp.set(t,e)}var fp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PE(t){fp=t(fp)}function ZN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Tu(this),e,...n);return NE.set(r,e.sort?e.sort():[e]),pn(r)}:WN().includes(t)?function(...e){return t.apply(Tu(this),e),pn(RE.get(this))}:function(...e){return pn(t.apply(Tu(this),e))}}function YN(t){return typeof t=="function"?ZN(t):(t instanceof IDBTransaction&&QN(t),qN(t,GN())?new Proxy(t,fp):t)}function pn(t){if(t instanceof IDBRequest)return KN(t);if(dp.has(t))return dp.get(t);let e=YN(t);return e!==t&&(dp.set(t,e),pp.set(e,t)),e}var Tu=t=>pp.get(t);function kE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=pn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(pn(s.result),u.oldVersion,u.newVersion,pn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var JN=["get","getKey","getAll","getAllKeys","count"],XN=["put","add","delete","clear"],gp=new Map;function OE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gp.get(e))return gp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=XN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JN.includes(n)))return;let o=function(s,...c){return P(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return gp.set(e,o),o}PE(t=>Ce(j({},t),{get:(e,n,r)=>OE(e,n)||t.get(e,n,r),has:(e,n)=>!!OE(e,n)||t.has(e,n)}));var yp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function eP(t){let e=t.getComponent();return e?.type==="VERSION"}var vp="@firebase/app",FE="0.10.13";var Pn=new Fi("@firebase/app"),tP="@firebase/app-compat",nP="@firebase/analytics-compat",rP="@firebase/analytics",iP="@firebase/app-check-compat",oP="@firebase/app-check",sP="@firebase/auth",aP="@firebase/auth-compat",cP="@firebase/database",uP="@firebase/data-connect",lP="@firebase/database-compat",dP="@firebase/functions",hP="@firebase/functions-compat",fP="@firebase/installations",pP="@firebase/installations-compat",gP="@firebase/messaging",mP="@firebase/messaging-compat",yP="@firebase/performance",vP="@firebase/performance-compat",_P="@firebase/remote-config",wP="@firebase/remote-config-compat",IP="@firebase/storage",EP="@firebase/storage-compat",bP="@firebase/firestore",DP="@firebase/vertexai-preview",CP="@firebase/firestore-compat",TP="firebase",SP="10.14.1";var _p="[DEFAULT]",MP={[vp]:"fire-core",[tP]:"fire-core-compat",[rP]:"fire-analytics",[nP]:"fire-analytics-compat",[oP]:"fire-app-check",[iP]:"fire-app-check-compat",[sP]:"fire-auth",[aP]:"fire-auth-compat",[cP]:"fire-rtdb",[uP]:"fire-data-connect",[lP]:"fire-rtdb-compat",[dP]:"fire-fn",[hP]:"fire-fn-compat",[fP]:"fire-iid",[pP]:"fire-iid-compat",[gP]:"fire-fcm",[mP]:"fire-fcm-compat",[yP]:"fire-perf",[vP]:"fire-perf-compat",[_P]:"fire-rc",[wP]:"fire-rc-compat",[IP]:"fire-gcs",[EP]:"fire-gcs-compat",[bP]:"fire-fst",[CP]:"fire-fst-compat",[DP]:"fire-vertex","fire-js":"fire-js",[TP]:"fire-js-all"};var Su=new Map,AP=new Map,wp=new Map;function LE(t,e){try{t.container.addComponent(e)}catch(n){Pn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kr(t){let e=t.name;if(wp.has(e))return Pn.debug(`There were multiple attempts to register component ${e}.`),!1;wp.set(e,t);for(let n of Su.values())LE(n,t);for(let n of AP.values())LE(n,t);return!0}function Mu(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var xP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new Ms("app","Firebase",xP);var Ip=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}};var Au=SP;function Dp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:_p,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw or.create("bad-app-name",{appName:String(i)});if(n||(n=cp()),!n)throw or.create("no-options");let o=Su.get(i);if(o){if(As(n,o.options)&&As(r,o.config))return o;throw or.create("duplicate-app",{appName:i})}let s=new Cu(i);for(let u of wp.values())s.addComponent(u);let c=new Ip(n,r,s);return Su.set(i,c),c}function xu(t=_p){let e=Su.get(t);if(!e&&t===_p&&cp())return Dp();if(!e)throw or.create("no-app",{appName:t});return e}function Zt(t,e,n){var r;let i=(r=MP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pn.warn(c.join(" "));return}kr(new Qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var RP="firebase-heartbeat-database",NP=1,xs="firebase-heartbeat-store",mp=null;function UE(){return mp||(mp=kE(RP,NP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xs)}catch(n){console.warn(n)}}}}).catch(t=>{throw or.create("idb-open",{originalErrorMessage:t.message})})),mp}function PP(t){return P(this,null,function*(){try{let n=(yield UE()).transaction(xs),r=yield n.objectStore(xs).get(zE(t));return yield n.done,r}catch(e){if(e instanceof Wt)Pn.warn(e.message);else{let n=or.create("idb-get",{originalErrorMessage:e?.message});Pn.warn(n.message)}}})}function VE(t,e){return P(this,null,function*(){try{let r=(yield UE()).transaction(xs,"readwrite");yield r.objectStore(xs).put(e,zE(t)),yield r.done}catch(n){if(n instanceof Wt)Pn.warn(n.message);else{let r=or.create("idb-set",{originalErrorMessage:n?.message});Pn.warn(r.message)}}})}function zE(t){return`${t.name}!${t.options.appId}`}var OP=1024,kP=30*24*60*60*1e3,Ep=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new bp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return P(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=kP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Pn.warn(r)}})}getHeartbeatsHeader(){return P(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=jE(),{heartbeatsToSend:r,unsentEntries:i}=FP(this._heartbeatsCache.heartbeats),o=Ss(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Pn.warn(n),""}})}};function jE(){return new Date().toISOString().substring(0,10)}function FP(t,e=OP){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),BE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var bp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return P(this,null,function*(){return up()?ME().then(()=>!0).catch(()=>!1):!1})}read(){return P(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield PP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return P(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return P(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function BE(t){return Ss(JSON.stringify({version:2,heartbeats:t})).length}function LP(t){kr(new Qt("platform-logger",e=>new yp(e),"PRIVATE")),kr(new Qt("heartbeat",e=>new Ep(e),"PRIVATE")),Zt(vp,FE,t),Zt(vp,FE,"esm2017"),Zt("fire-js","")}LP("");var QE="firebasestorage.googleapis.com",ZE="storageBucket",VP=2*60*1e3,jP=10*60*1e3;var $e=class t extends Wt{constructor(e,n,r=0){super(Cp(e),`Firebase Storage: ${n} (${Cp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Je=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Je||{});function Cp(t){return"storage/"+t}function YE(){let t="An unknown error occurred, please check the error payload for server response.";return new $e(Je.UNKNOWN,t)}function BP(t){return new $e(Je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function UP(t){return new $e(Je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zP(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $e(Je.UNAUTHENTICATED,t)}function $P(){return new $e(Je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function HP(t){return new $e(Je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function qP(){return new $e(Je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GP(){return new $e(Je.CANCELED,"User canceled the upload/download.")}function WP(t){return new $e(Je.INVALID_URL,"Invalid URL '"+t+"'.")}function KP(t){return new $e(Je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function QP(){return new $e(Je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ZE+"' property when initializing the app?")}function ZP(){return new $e(Je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Tp(t){return new $e(Je.INVALID_ARGUMENT,t)}function JE(){return new $e(Je.APP_DELETED,"The Firebase app was deleted.")}function YP(t){return new $e(Je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rs(t){throw new $e(Je.INTERNAL_ERROR,"Internal error: "+t)}var Dt=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw KP(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}let s="(/(.*))?$",c=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(Y){Y.path_=decodeURIComponent(Y.path)}let h="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",D=new RegExp(`^https?://${g}/${h}/b/${i}/o${y}`,"i"),x={bucket:1,path:3},k=n===QE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",$=new RegExp(`^https?://${k}/${i}/${R}`,"i"),W=[{regex:c,indices:u,postModify:o},{regex:D,indices:x,postModify:l},{regex:$,indices:{bucket:1,path:2},postModify:l}];for(let Y=0;Y<W.length;Y++){let Te=W[Y],ee=Te.regex.exec(e);if(ee){let I=ee[Te.indices.bucket],m=ee[Te.indices.path];m||(m=""),r=new t(I,m),Te.postModify(r);break}}if(r==null)throw WP(e);return r}},Sp=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function JP(t,e,n){let r=1,i=null,o=null,s=!1,c=0;function u(){return c===2}let l=!1;function h(...R){l||(l=!0,e.apply(null,R))}function g(R){i=setTimeout(()=>{i=null,t(D,u())},R)}function y(){o&&clearTimeout(o)}function D(R,...$){if(l){y();return}if(R){y(),h.call(null,R,...$);return}if(u()||s){y(),h.call(null,R,...$);return}r<64&&(r*=2);let W;c===1?(c=2,W=0):W=(r+Math.random())*1e3,g(W)}let x=!1;function k(R){x||(x=!0,y(),!l&&(i!==null?(R||(c=2),clearTimeout(i),g(0)):R||(c=1)))}return g(0),o=setTimeout(()=>{s=!0,k(!0)},n),k}function XP(t){t(!1)}function eO(t){return t!==void 0}function tO(t){return typeof t=="object"&&!Array.isArray(t)}function XE(t){return typeof t=="string"||t instanceof String}function Mp(t,e,n,r){if(r<e)throw Tp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Tp(`Invalid value for '${t}'. Expected ${n} or less.`)}function Np(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function eb(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Vi=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Vi||{});function nO(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var Ap=class{constructor(e,n,r,i,o,s,c,u,l,h,g,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,x)=>{this.resolve_=D,this.reject_=x,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Li(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=c=>{let u=c.loaded,l=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let c=o.getErrorCode()===Vi.NO_ERROR,u=o.getStatus();if(!c||nO(u,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===Vi.ABORT;r(!1,new Li(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new Li(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,c=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(c,c.getResponse());eO(u)?o(u):o()}catch(u){s(u)}else if(c!==null){let u=YE();u.serverResponse=c.getErrorText(),this.errorCallback_?s(this.errorCallback_(c,u)):s(u)}else if(i.canceled){let u=this.appDelete_?JE():GP();s(u)}else{let u=qP();s(u)}};this.canceled_?n(!1,new Li(!1,null,!0)):this.backoffId_=JP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&XP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Li=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function rO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function iO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function sO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function aO(t,e,n,r,i,o,s=!0){let c=eb(t.urlParams),u=t.url+c,l=Object.assign({},t.headers);return oO(l,e),rO(l,n),iO(l,o),sO(l,r),new Ap(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function Pp(t){let e;try{e=JSON.parse(t)}catch{return null}return tO(e)?e:null}function cO(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uO(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function tb(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function lO(t,e){return e}var Ye=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||lO}},Ru=null;function dO(t){return!XE(t)||t.length<2?t:tb(t)}function hO(){if(Ru)return Ru;let t=[];t.push(new Ye("bucket")),t.push(new Ye("generation")),t.push(new Ye("metageneration")),t.push(new Ye("name","fullPath",!0));function e(o,s){return dO(s)}let n=new Ye("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new Ye("size");return i.xform=r,t.push(i),t.push(new Ye("timeCreated")),t.push(new Ye("updated")),t.push(new Ye("md5Hash",null,!0)),t.push(new Ye("cacheControl",null,!0)),t.push(new Ye("contentDisposition",null,!0)),t.push(new Ye("contentEncoding",null,!0)),t.push(new Ye("contentLanguage",null,!0)),t.push(new Ye("contentType",null,!0)),t.push(new Ye("metadata","customMetadata",!0)),Ru=t,Ru}function fO(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new Dt(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function pO(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return fO(r,t),r}function gO(t,e,n){let r=Pp(e);return r===null?null:pO(t,r,n)}function mO(t,e,n,r){let i=Pp(e);if(i===null||!XE(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(l=>{let h=t.bucket,g=t.fullPath,y="/b/"+s(h)+"/o/"+s(g),D=Np(y,n,r),x=eb({alt:"media",token:l});return D+x})[0]}var $E="prefixes",HE="items";function yO(t,e,n){let r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[$E])for(let i of n[$E]){let o=i.replace(/\/$/,""),s=t._makeStorageReference(new Dt(e,o));r.prefixes.push(s)}if(n[HE])for(let i of n[HE]){let o=t._makeStorageReference(new Dt(e,i.name));r.items.push(o)}return r}function vO(t,e,n){let r=Pp(n);return r===null?null:yO(t,e,r)}var Nu=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function nb(t){if(!t)throw YE()}function _O(t,e){function n(r,i){let o=vO(t,e,i);return nb(o!==null),o}return n}function wO(t,e){function n(r,i){let o=gO(t,i,e);return nb(o!==null),mO(o,i,t.host,t._protocol)}return n}function rb(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=$P():i=zP():n.getStatus()===402?i=UP(t.bucket):n.getStatus()===403?i=HP(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function IO(t){let e=rb(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=BP(t.path)),o.serverResponse=i.serverResponse,o}return n}function EO(t,e,n,r,i){let o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);let s=e.bucketOnlyServerUrl(),c=Np(s,t.host,t._protocol),u="GET",l=t.maxOperationRetryTime,h=new Nu(c,u,_O(t,e.bucket),l);return h.urlParams=o,h.errorHandler=rb(e),h}function bO(t,e,n){let r=e.fullServerUrl(),i=Np(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,c=new Nu(i,o,wO(t,n),s);return c.errorHandler=IO(e),c}var dz=256*1024;var qE=null,xp=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Rs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Rp=class extends xp{initXhr(){this.xhr_.responseType="text"}};function ib(){return qE?qE():new Rp}var ji=class t{constructor(e,n){this._service=e,n instanceof Dt?this._location=n:this._location=Dt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Dt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tb(this._location.path)}get storage(){return this._service}get parent(){let e=cO(this._location.path);if(e===null)return null;let n=new Dt(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw YP(e)}};function DO(t){let e={prefixes:[],items:[]};return ob(t,e).then(()=>e)}function ob(t,e,n){return P(this,null,function*(){let i=yield CO(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield ob(t,e,i.nextPageToken))})}function CO(t,e){e!=null&&typeof e.maxResults=="number"&&Mp("options.maxResults",1,1e3,e.maxResults);let n=e||{},r=EO(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,ib)}function TO(t){t._throwIfRoot("getDownloadURL");let e=bO(t.storage,t._location,hO());return t.storage.makeRequestWithTokens(e,ib).then(n=>{if(n===null)throw ZP();return n})}function SO(t,e){let n=uO(t._location.path,e),r=new Dt(t._location.bucket,n);return new ji(t.storage,r)}function MO(t){return/^[A-Za-z]+:\/\//.test(t)}function AO(t,e){return new ji(t,e)}function sb(t,e){if(t instanceof Ns){let n=t;if(n._bucket==null)throw QP();let r=new ji(n,n._bucket);return e!=null?sb(r,e):r}else return e!==void 0?SO(t,e):t}function xO(t,e){if(e&&MO(e)){if(t instanceof Ns)return AO(t,e);throw Tp("To use ref(service, url), the first argument must be a Storage instance.")}else return sb(t,e)}function GE(t,e){let n=e?.[ZE];return n==null?null:Dt.makeFromBucketSpec(n,t)}function RO(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Du(i,t.app.options.projectId))}var Ns=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=QE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VP,this._maxUploadRetryTime=jP,this._requests=new Set,i!=null?this._bucket=Dt.makeFromBucketSpec(i,this._host):this._bucket=GE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dt.makeFromBucketSpec(this._url,e):this._bucket=GE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Mp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Mp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return P(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return P(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ji(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Sp(JE());{let s=aO(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return P(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},WE="@firebase/storage",KE="0.13.2";var ab="storage";function cb(t){return t=Kt(t),DO(t)}function Bi(t){return t=Kt(t),TO(t)}function Fr(t,e){return t=Kt(t),xO(t,e)}function Ui(t=xu(),e){t=Kt(t);let r=Mu(t,ab).getImmediate({identifier:e}),i=bu("storage");return i&&NO(r,...i),r}function NO(t,e,n,r={}){RO(t,e,n,r)}function PO(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ns(n,r,i,e,Au)}function OO(){kr(new Qt(ab,PO,"PUBLIC").setMultipleInstances(!0)),Zt(WE,KE,""),Zt(WE,KE,"esm2017")}OO();var kO="firebase",FO="10.14.1";Zt(kO,FO,"app");var ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lb={};var sr,Op;(function(){var t;function e(I,m){function _(){}_.prototype=m.prototype,I.D=m.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(w,E,C){for(var v=Array(arguments.length-2),wn=2;wn<arguments.length;wn++)v[wn-2]=arguments[wn];return m.prototype[E].apply(w,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,m,_){_||(_=0);var w=Array(16);if(typeof m=="string")for(var E=0;16>E;++E)w[E]=m.charCodeAt(_++)|m.charCodeAt(_++)<<8|m.charCodeAt(_++)<<16|m.charCodeAt(_++)<<24;else for(E=0;16>E;++E)w[E]=m[_++]|m[_++]<<8|m[_++]<<16|m[_++]<<24;m=I.g[0],_=I.g[1],E=I.g[2];var C=I.g[3],v=m+(C^_&(E^C))+w[0]+3614090360&4294967295;m=_+(v<<7&4294967295|v>>>25),v=C+(E^m&(_^E))+w[1]+3905402710&4294967295,C=m+(v<<12&4294967295|v>>>20),v=E+(_^C&(m^_))+w[2]+606105819&4294967295,E=C+(v<<17&4294967295|v>>>15),v=_+(m^E&(C^m))+w[3]+3250441966&4294967295,_=E+(v<<22&4294967295|v>>>10),v=m+(C^_&(E^C))+w[4]+4118548399&4294967295,m=_+(v<<7&4294967295|v>>>25),v=C+(E^m&(_^E))+w[5]+1200080426&4294967295,C=m+(v<<12&4294967295|v>>>20),v=E+(_^C&(m^_))+w[6]+2821735955&4294967295,E=C+(v<<17&4294967295|v>>>15),v=_+(m^E&(C^m))+w[7]+4249261313&4294967295,_=E+(v<<22&4294967295|v>>>10),v=m+(C^_&(E^C))+w[8]+1770035416&4294967295,m=_+(v<<7&4294967295|v>>>25),v=C+(E^m&(_^E))+w[9]+2336552879&4294967295,C=m+(v<<12&4294967295|v>>>20),v=E+(_^C&(m^_))+w[10]+4294925233&4294967295,E=C+(v<<17&4294967295|v>>>15),v=_+(m^E&(C^m))+w[11]+2304563134&4294967295,_=E+(v<<22&4294967295|v>>>10),v=m+(C^_&(E^C))+w[12]+1804603682&4294967295,m=_+(v<<7&4294967295|v>>>25),v=C+(E^m&(_^E))+w[13]+4254626195&4294967295,C=m+(v<<12&4294967295|v>>>20),v=E+(_^C&(m^_))+w[14]+2792965006&4294967295,E=C+(v<<17&4294967295|v>>>15),v=_+(m^E&(C^m))+w[15]+1236535329&4294967295,_=E+(v<<22&4294967295|v>>>10),v=m+(E^C&(_^E))+w[1]+4129170786&4294967295,m=_+(v<<5&4294967295|v>>>27),v=C+(_^E&(m^_))+w[6]+3225465664&4294967295,C=m+(v<<9&4294967295|v>>>23),v=E+(m^_&(C^m))+w[11]+643717713&4294967295,E=C+(v<<14&4294967295|v>>>18),v=_+(C^m&(E^C))+w[0]+3921069994&4294967295,_=E+(v<<20&4294967295|v>>>12),v=m+(E^C&(_^E))+w[5]+3593408605&4294967295,m=_+(v<<5&4294967295|v>>>27),v=C+(_^E&(m^_))+w[10]+38016083&4294967295,C=m+(v<<9&4294967295|v>>>23),v=E+(m^_&(C^m))+w[15]+3634488961&4294967295,E=C+(v<<14&4294967295|v>>>18),v=_+(C^m&(E^C))+w[4]+3889429448&4294967295,_=E+(v<<20&4294967295|v>>>12),v=m+(E^C&(_^E))+w[9]+568446438&4294967295,m=_+(v<<5&4294967295|v>>>27),v=C+(_^E&(m^_))+w[14]+3275163606&4294967295,C=m+(v<<9&4294967295|v>>>23),v=E+(m^_&(C^m))+w[3]+4107603335&4294967295,E=C+(v<<14&4294967295|v>>>18),v=_+(C^m&(E^C))+w[8]+1163531501&4294967295,_=E+(v<<20&4294967295|v>>>12),v=m+(E^C&(_^E))+w[13]+2850285829&4294967295,m=_+(v<<5&4294967295|v>>>27),v=C+(_^E&(m^_))+w[2]+4243563512&4294967295,C=m+(v<<9&4294967295|v>>>23),v=E+(m^_&(C^m))+w[7]+1735328473&4294967295,E=C+(v<<14&4294967295|v>>>18),v=_+(C^m&(E^C))+w[12]+2368359562&4294967295,_=E+(v<<20&4294967295|v>>>12),v=m+(_^E^C)+w[5]+4294588738&4294967295,m=_+(v<<4&4294967295|v>>>28),v=C+(m^_^E)+w[8]+2272392833&4294967295,C=m+(v<<11&4294967295|v>>>21),v=E+(C^m^_)+w[11]+1839030562&4294967295,E=C+(v<<16&4294967295|v>>>16),v=_+(E^C^m)+w[14]+4259657740&4294967295,_=E+(v<<23&4294967295|v>>>9),v=m+(_^E^C)+w[1]+2763975236&4294967295,m=_+(v<<4&4294967295|v>>>28),v=C+(m^_^E)+w[4]+1272893353&4294967295,C=m+(v<<11&4294967295|v>>>21),v=E+(C^m^_)+w[7]+4139469664&4294967295,E=C+(v<<16&4294967295|v>>>16),v=_+(E^C^m)+w[10]+3200236656&4294967295,_=E+(v<<23&4294967295|v>>>9),v=m+(_^E^C)+w[13]+681279174&4294967295,m=_+(v<<4&4294967295|v>>>28),v=C+(m^_^E)+w[0]+3936430074&4294967295,C=m+(v<<11&4294967295|v>>>21),v=E+(C^m^_)+w[3]+3572445317&4294967295,E=C+(v<<16&4294967295|v>>>16),v=_+(E^C^m)+w[6]+76029189&4294967295,_=E+(v<<23&4294967295|v>>>9),v=m+(_^E^C)+w[9]+3654602809&4294967295,m=_+(v<<4&4294967295|v>>>28),v=C+(m^_^E)+w[12]+3873151461&4294967295,C=m+(v<<11&4294967295|v>>>21),v=E+(C^m^_)+w[15]+530742520&4294967295,E=C+(v<<16&4294967295|v>>>16),v=_+(E^C^m)+w[2]+3299628645&4294967295,_=E+(v<<23&4294967295|v>>>9),v=m+(E^(_|~C))+w[0]+4096336452&4294967295,m=_+(v<<6&4294967295|v>>>26),v=C+(_^(m|~E))+w[7]+1126891415&4294967295,C=m+(v<<10&4294967295|v>>>22),v=E+(m^(C|~_))+w[14]+2878612391&4294967295,E=C+(v<<15&4294967295|v>>>17),v=_+(C^(E|~m))+w[5]+4237533241&4294967295,_=E+(v<<21&4294967295|v>>>11),v=m+(E^(_|~C))+w[12]+1700485571&4294967295,m=_+(v<<6&4294967295|v>>>26),v=C+(_^(m|~E))+w[3]+2399980690&4294967295,C=m+(v<<10&4294967295|v>>>22),v=E+(m^(C|~_))+w[10]+4293915773&4294967295,E=C+(v<<15&4294967295|v>>>17),v=_+(C^(E|~m))+w[1]+2240044497&4294967295,_=E+(v<<21&4294967295|v>>>11),v=m+(E^(_|~C))+w[8]+1873313359&4294967295,m=_+(v<<6&4294967295|v>>>26),v=C+(_^(m|~E))+w[15]+4264355552&4294967295,C=m+(v<<10&4294967295|v>>>22),v=E+(m^(C|~_))+w[6]+2734768916&4294967295,E=C+(v<<15&4294967295|v>>>17),v=_+(C^(E|~m))+w[13]+1309151649&4294967295,_=E+(v<<21&4294967295|v>>>11),v=m+(E^(_|~C))+w[4]+4149444226&4294967295,m=_+(v<<6&4294967295|v>>>26),v=C+(_^(m|~E))+w[11]+3174756917&4294967295,C=m+(v<<10&4294967295|v>>>22),v=E+(m^(C|~_))+w[2]+718787259&4294967295,E=C+(v<<15&4294967295|v>>>17),v=_+(C^(E|~m))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+m&4294967295,I.g[1]=I.g[1]+(E+(v<<21&4294967295|v>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.u=function(I,m){m===void 0&&(m=I.length);for(var _=m-this.blockSize,w=this.B,E=this.h,C=0;C<m;){if(E==0)for(;C<=_;)i(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<m;)if(w[E++]=I.charCodeAt(C++),E==this.blockSize){i(this,w),E=0;break}}else for(;C<m;)if(w[E++]=I[C++],E==this.blockSize){i(this,w),E=0;break}}this.h=E,this.o+=m},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var m=1;m<I.length-8;++m)I[m]=0;var _=8*this.o;for(m=I.length-8;m<I.length;++m)I[m]=_&255,_/=256;for(this.u(I),I=Array(16),m=_=0;4>m;++m)for(var w=0;32>w;w+=8)I[_++]=this.g[m]>>>w&255;return I};function o(I,m){var _=c;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=m(I)}function s(I,m){this.h=m;for(var _=[],w=!0,E=I.length-1;0<=E;E--){var C=I[E]|0;w&&C==m||(_[E]=C,w=!1)}this.g=_}var c={};function u(I){return-128<=I&&128>I?o(I,function(m){return new s([m|0],0>m?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return g;if(0>I)return R(l(-I));for(var m=[],_=1,w=0;I>=_;w++)m[w]=I/_|0,_*=4294967296;return new s(m,0)}function h(I,m){if(I.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(I.charAt(0)=="-")return R(h(I.substring(1),m));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(m,8)),w=g,E=0;E<I.length;E+=8){var C=Math.min(8,I.length-E),v=parseInt(I.substring(E,E+C),m);8>C?(C=l(Math.pow(m,C)),w=w.j(C).add(l(v))):(w=w.j(_),w=w.add(l(v)))}return w}var g=u(0),y=u(1),D=u(16777216);t=s.prototype,t.m=function(){if(k(this))return-R(this).m();for(var I=0,m=1,_=0;_<this.g.length;_++){var w=this.i(_);I+=(0<=w?w:4294967296+w)*m,m*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(k(this))return"-"+R(this).toString(I);for(var m=l(Math.pow(I,6)),_=this,w="";;){var E=Y(_,m).g;_=$(_,E.j(m));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=E,x(_))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(var m=0;m<I.g.length;m++)if(I.g[m]!=0)return!1;return!0}function k(I){return I.h==-1}t.l=function(I){return I=$(this,I),k(I)?-1:x(I)?0:1};function R(I){for(var m=I.g.length,_=[],w=0;w<m;w++)_[w]=~I.g[w];return new s(_,~I.h).add(y)}t.abs=function(){return k(this)?R(this):this},t.add=function(I){for(var m=Math.max(this.g.length,I.g.length),_=[],w=0,E=0;E<=m;E++){var C=w+(this.i(E)&65535)+(I.i(E)&65535),v=(C>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);w=v>>>16,C&=65535,v&=65535,_[E]=v<<16|C}return new s(_,_[_.length-1]&-2147483648?-1:0)};function $(I,m){return I.add(R(m))}t.j=function(I){if(x(this)||x(I))return g;if(k(this))return k(I)?R(this).j(R(I)):R(R(this).j(I));if(k(I))return R(this.j(R(I)));if(0>this.l(D)&&0>I.l(D))return l(this.m()*I.m());for(var m=this.g.length+I.g.length,_=[],w=0;w<2*m;w++)_[w]=0;for(w=0;w<this.g.length;w++)for(var E=0;E<I.g.length;E++){var C=this.i(w)>>>16,v=this.i(w)&65535,wn=I.i(E)>>>16,ho=I.i(E)&65535;_[2*w+2*E]+=v*ho,re(_,2*w+2*E),_[2*w+2*E+1]+=C*ho,re(_,2*w+2*E+1),_[2*w+2*E+1]+=v*wn,re(_,2*w+2*E+1),_[2*w+2*E+2]+=C*wn,re(_,2*w+2*E+2)}for(w=0;w<m;w++)_[w]=_[2*w+1]<<16|_[2*w];for(w=m;w<2*m;w++)_[w]=0;return new s(_,0)};function re(I,m){for(;(I[m]&65535)!=I[m];)I[m+1]+=I[m]>>>16,I[m]&=65535,m++}function W(I,m){this.g=I,this.h=m}function Y(I,m){if(x(m))throw Error("division by zero");if(x(I))return new W(g,g);if(k(I))return m=Y(R(I),m),new W(R(m.g),R(m.h));if(k(m))return m=Y(I,R(m)),new W(R(m.g),m.h);if(30<I.g.length){if(k(I)||k(m))throw Error("slowDivide_ only works with positive integers.");for(var _=y,w=m;0>=w.l(I);)_=Te(_),w=Te(w);var E=ee(_,1),C=ee(w,1);for(w=ee(w,2),_=ee(_,2);!x(w);){var v=C.add(w);0>=v.l(I)&&(E=E.add(_),C=v),w=ee(w,1),_=ee(_,1)}return m=$(I,E.j(m)),new W(E,m)}for(E=g;0<=I.l(m);){for(_=Math.max(1,Math.floor(I.m()/m.m())),w=Math.ceil(Math.log(_)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(_),v=C.j(m);k(v)||0<v.l(I);)_-=w,C=l(_),v=C.j(m);x(C)&&(C=y),E=E.add(C),I=$(I,v)}return new W(E,I)}t.A=function(I){return Y(this,I).h},t.and=function(I){for(var m=Math.max(this.g.length,I.g.length),_=[],w=0;w<m;w++)_[w]=this.i(w)&I.i(w);return new s(_,this.h&I.h)},t.or=function(I){for(var m=Math.max(this.g.length,I.g.length),_=[],w=0;w<m;w++)_[w]=this.i(w)|I.i(w);return new s(_,this.h|I.h)},t.xor=function(I){for(var m=Math.max(this.g.length,I.g.length),_=[],w=0;w<m;w++)_[w]=this.i(w)^I.i(w);return new s(_,this.h^I.h)};function Te(I){for(var m=I.g.length+1,_=[],w=0;w<m;w++)_[w]=I.i(w)<<1|I.i(w-1)>>>31;return new s(_,I.h)}function ee(I,m){var _=m>>5;m%=32;for(var w=I.g.length-_,E=[],C=0;C<w;C++)E[C]=0<m?I.i(C+_)>>>m|I.i(C+_+1)<<32-m:I.i(C+_);return new s(E,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Op=lb.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,sr=lb.Integer=s}).apply(typeof ub<"u"?ub:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},On={};var kp,LO,zi,Fp,Ps,Ou,Lp,Vp,jp;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in f))break e;f=f[b]}a=a[a.length-1],p=f[a],d=d(p),d!=p&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,p=!1,b={next:function(){if(!p&&f<a.length){var T=f++;return{value:d(T,a[T]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function g(a,d,f){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function y(a,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,y.apply(null,arguments)}function D(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function x(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(p,b,T){for(var F=Array(arguments.length-2),we=2;we<arguments.length;we++)F[we-2]=arguments[we];return d.prototype[b].apply(p,F)}}function k(a){let d=a.length;if(0<d){let f=Array(d);for(let p=0;p<d;p++)f[p]=a[p];return f}return[]}function R(a,d){for(let f=1;f<arguments.length;f++){let p=arguments[f];if(u(p)){let b=a.length||0,T=p.length||0;a.length=b+T;for(let F=0;F<T;F++)a[b+F]=p[F]}else a.push(p)}}class ${constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function re(a){return/^[\s\xa0]*$/.test(a)}function W(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Y(a){return Y[" "](a),a}Y[" "]=function(){};var Te=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ee(a,d,f){for(let p in a)d.call(f,a[p],p,a)}function I(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function m(a){let d={};for(let f in a)d[f]=a[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let f,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(f in p)a[f]=p[f];for(let T=0;T<_.length;T++)f=_[T],Object.prototype.hasOwnProperty.call(p,f)&&(a[f]=p[f])}}function E(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function C(a){c.setTimeout(()=>{throw a},0)}function v(){var a=bl;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class wn{constructor(){this.h=this.g=null}add(d,f){let p=ho.get();p.set(d,f),this.h?this.h.next=p:this.g=p,this.h=p}}var ho=new $(()=>new eD,a=>a.reset());class eD{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let fo,po=!1,bl=new wn,Lm=()=>{let a=c.Promise.resolve(void 0);fo=()=>{a.then(tD)}};var tD=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(f){C(f)}var d=ho;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}po=!1};function jn(){this.s=this.s,this.C=this.C}jn.prototype.s=!1,jn.prototype.ma=function(){this.s||(this.s=!0,this.N())},jn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var nD=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function go(a,d){if(Xe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Te){e:{try{Y(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:rD[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&go.aa.h.call(this)}}x(go,Xe);var rD={2:"touch",3:"pen",4:"mouse"};go.prototype.h=function(){go.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var mo="closure_listenable_"+(1e6*Math.random()|0),iD=0;function oD(a,d,f,p,b){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!p,this.ha=b,this.key=++iD,this.da=this.fa=!1}function da(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ha(a){this.src=a,this.g={},this.h=0}ha.prototype.add=function(a,d,f,p,b){var T=a.toString();a=this.g[T],a||(a=this.g[T]=[],this.h++);var F=Cl(a,d,p,b);return-1<F?(d=a[F],f||(d.fa=!1)):(d=new oD(d,this.src,T,!!p,b),d.fa=f,a.push(d)),d};function Dl(a,d){var f=d.type;if(f in a.g){var p=a.g[f],b=Array.prototype.indexOf.call(p,d,void 0),T;(T=0<=b)&&Array.prototype.splice.call(p,b,1),T&&(da(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Cl(a,d,f,p){for(var b=0;b<a.length;++b){var T=a[b];if(!T.da&&T.listener==d&&T.capture==!!f&&T.ha==p)return b}return-1}var Tl="closure_lm_"+(1e6*Math.random()|0),Sl={};function Vm(a,d,f,p,b){if(p&&p.once)return Bm(a,d,f,p,b);if(Array.isArray(d)){for(var T=0;T<d.length;T++)Vm(a,d[T],f,p,b);return null}return f=Rl(f),a&&a[mo]?a.K(d,f,l(p)?!!p.capture:!!p,b):jm(a,d,f,!1,p,b)}function jm(a,d,f,p,b,T){if(!d)throw Error("Invalid event type");var F=l(b)?!!b.capture:!!b,we=Al(a);if(we||(a[Tl]=we=new ha(a)),f=we.add(d,f,p,F,T),f.proxy)return f;if(p=sD(),f.proxy=p,p.src=a,p.listener=f,a.addEventListener)nD||(b=F),b===void 0&&(b=!1),a.addEventListener(d.toString(),p,b);else if(a.attachEvent)a.attachEvent(zm(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function sD(){function a(f){return d.call(a.src,a.listener,f)}let d=aD;return a}function Bm(a,d,f,p,b){if(Array.isArray(d)){for(var T=0;T<d.length;T++)Bm(a,d[T],f,p,b);return null}return f=Rl(f),a&&a[mo]?a.L(d,f,l(p)?!!p.capture:!!p,b):jm(a,d,f,!0,p,b)}function Um(a,d,f,p,b){if(Array.isArray(d))for(var T=0;T<d.length;T++)Um(a,d[T],f,p,b);else p=l(p)?!!p.capture:!!p,f=Rl(f),a&&a[mo]?(a=a.i,d=String(d).toString(),d in a.g&&(T=a.g[d],f=Cl(T,f,p,b),-1<f&&(da(T[f]),Array.prototype.splice.call(T,f,1),T.length==0&&(delete a.g[d],a.h--)))):a&&(a=Al(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Cl(d,f,p,b)),(f=-1<a?d[a]:null)&&Ml(f))}function Ml(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[mo])Dl(d.i,a);else{var f=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(f,p,a.capture):d.detachEvent?d.detachEvent(zm(f),p):d.addListener&&d.removeListener&&d.removeListener(p),(f=Al(d))?(Dl(f,a),f.h==0&&(f.src=null,d[Tl]=null)):da(a)}}}function zm(a){return a in Sl?Sl[a]:Sl[a]="on"+a}function aD(a,d){if(a.da)a=!0;else{d=new go(d,this);var f=a.listener,p=a.ha||a.src;a.fa&&Ml(a),a=f.call(p,d)}return a}function Al(a){return a=a[Tl],a instanceof ha?a:null}var xl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rl(a){return typeof a=="function"?a:(a[xl]||(a[xl]=function(d){return a.handleEvent(d)}),a[xl])}function et(){jn.call(this),this.i=new ha(this),this.M=this,this.F=null}x(et,jn),et.prototype[mo]=!0,et.prototype.removeEventListener=function(a,d,f,p){Um(this,a,d,f,p)};function dt(a,d){var f,p=a.F;if(p)for(f=[];p;p=p.F)f.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new Xe(d,a);else if(d instanceof Xe)d.target=d.target||a;else{var b=d;d=new Xe(p,a),w(d,b)}if(b=!0,f)for(var T=f.length-1;0<=T;T--){var F=d.g=f[T];b=fa(F,p,!0,d)&&b}if(F=d.g=a,b=fa(F,p,!0,d)&&b,b=fa(F,p,!1,d)&&b,f)for(T=0;T<f.length;T++)F=d.g=f[T],b=fa(F,p,!1,d)&&b}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],p=0;p<f.length;p++)da(f[p]);delete a.g[d],a.h--}}this.F=null},et.prototype.K=function(a,d,f,p){return this.i.add(String(a),d,!1,f,p)},et.prototype.L=function(a,d,f,p){return this.i.add(String(a),d,!0,f,p)};function fa(a,d,f,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,T=0;T<d.length;++T){var F=d[T];if(F&&!F.da&&F.capture==f){var we=F.listener,qe=F.ha||F.src;F.fa&&Dl(a.i,F),b=we.call(qe,p)!==!1&&b}}return b&&!p.defaultPrevented}function $m(a,d,f){if(typeof a=="function")f&&(a=y(a,f));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Hm(a){a.g=$m(()=>{a.g=null,a.i&&(a.i=!1,Hm(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class cD extends jn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Hm(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yo(a){jn.call(this),this.h=a,this.g={}}x(yo,jn);var qm=[];function Gm(a){ee(a.g,function(d,f){this.g.hasOwnProperty(f)&&Ml(d)},a),a.g={}}yo.prototype.N=function(){yo.aa.N.call(this),Gm(this)},yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nl=c.JSON.stringify,uD=c.JSON.parse,lD=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Pl(){}Pl.prototype.h=null;function Wm(a){return a.h||(a.h=a.i())}function Km(){}var vo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ol(){Xe.call(this,"d")}x(Ol,Xe);function kl(){Xe.call(this,"c")}x(kl,Xe);var dr={},Qm=null;function pa(){return Qm=Qm||new et}dr.La="serverreachability";function Zm(a){Xe.call(this,dr.La,a)}x(Zm,Xe);function _o(a){let d=pa();dt(d,new Zm(d))}dr.STAT_EVENT="statevent";function Ym(a,d){Xe.call(this,dr.STAT_EVENT,a),this.stat=d}x(Ym,Xe);function ht(a){let d=pa();dt(d,new Ym(d,a))}dr.Ma="timingevent";function Jm(a,d){Xe.call(this,dr.Ma,a),this.size=d}x(Jm,Xe);function wo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Io(){this.g=!0}Io.prototype.xa=function(){this.g=!1};function dD(a,d,f,p,b,T){a.info(function(){if(a.g)if(T)for(var F="",we=T.split("&"),qe=0;qe<we.length;qe++){var ge=we[qe].split("=");if(1<ge.length){var tt=ge[0];ge=ge[1];var nt=tt.split("_");F=2<=nt.length&&nt[1]=="type"?F+(tt+"="+ge+"&"):F+(tt+"=redacted&")}}else F=null;else F=T;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+d+`
`+f+`
`+F})}function hD(a,d,f,p,b,T,F){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+d+`
`+f+`
`+T+" "+F})}function qr(a,d,f,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+pD(a,f)+(p?" "+p:"")})}function fD(a,d){a.info(function(){return"TIMEOUT: "+d})}Io.prototype.info=function(){};function pD(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var p=f[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var T=b[0];if(T!="noop"&&T!="stop"&&T!="close")for(var F=1;F<b.length;F++)b[F]=""}}}}return Nl(f)}catch{return d}}var ga={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fl;function ma(){}x(ma,Pl),ma.prototype.g=function(){return new XMLHttpRequest},ma.prototype.i=function(){return{}},Fl=new ma;function Bn(a,d,f,p){this.j=a,this.i=d,this.l=f,this.R=p||1,this.U=new yo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ey}function ey(){this.i=null,this.g="",this.h=!1}var ty={},Ll={};function Vl(a,d,f){a.L=1,a.v=wa(In(d)),a.m=f,a.P=!0,ny(a,null)}function ny(a,d){a.F=Date.now(),ya(a),a.A=In(a.v);var f=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),my(f.i,"t",p),a.C=0,f=a.j.J,a.h=new ey,a.g=Oy(a.j,f?d:null,!a.m),0<a.O&&(a.M=new cD(y(a.Y,a,a.g),a.O)),d=a.U,f=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(qm[0]=b.toString()),b=qm);for(var T=0;T<b.length;T++){var F=Vm(f,b[T],p||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),_o(),dD(a.i,a.u,a.A,a.l,a.R,a.m)}Bn.prototype.ca=function(a){a=a.target;let d=this.M;d&&En(a)==3?d.j():this.Y(a)},Bn.prototype.Y=function(a){try{if(a==this.g)e:{let nt=En(this.g);var d=this.g.Ba();let Kr=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||by(this.g)))){this.J||nt!=4||d==7||(d==8||0>=Kr?_o(3):_o(2)),jl(this);var f=this.g.Z();this.X=f;t:if(ry(this)){var p=by(this.g);a="";var b=p.length,T=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hr(this),Eo(this);var F="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(T&&d==b-1)});p.length=0,this.h.g+=a,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,hD(this.i,this.u,this.A,this.l,this.R,nt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var we,qe=this.g;if((we=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(we)){var ge=we;break t}}ge=null}if(f=ge)qr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bl(this,f);else{this.o=!1,this.s=3,ht(12),hr(this),Eo(this);break e}}if(this.P){f=!0;let Vt;for(;!this.J&&this.C<F.length;)if(Vt=gD(this,F),Vt==Ll){nt==4&&(this.s=4,ht(14),f=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==ty){this.s=4,ht(15),qr(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else qr(this.i,this.l,Vt,null),Bl(this,Vt);if(ry(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||F.length!=0||this.h.h||(this.s=1,ht(16),f=!1),this.o=this.o&&f,!f)qr(this.i,this.l,F,"[Invalid Chunked Response]"),hr(this),Eo(this);else if(0<F.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Gl(tt),tt.M=!0,ht(11))}}else qr(this.i,this.l,F,null),Bl(this,F);nt==4&&hr(this),this.o&&!this.J&&(nt==4?xy(this.j,this):(this.o=!1,ya(this)))}else ND(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),hr(this),Eo(this)}}}catch{}finally{}};function ry(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function gD(a,d){var f=a.C,p=d.indexOf(`
`,f);return p==-1?Ll:(f=Number(d.substring(f,p)),isNaN(f)?ty:(p+=1,p+f>d.length?Ll:(d=d.slice(p,p+f),a.C=p+f,d)))}Bn.prototype.cancel=function(){this.J=!0,hr(this)};function ya(a){a.S=Date.now()+a.I,iy(a,a.I)}function iy(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=wo(y(a.ba,a),d)}function jl(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Bn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(fD(this.i,this.A),this.L!=2&&(_o(),ht(17)),hr(this),this.s=2,Eo(this)):iy(this,this.S-a)};function Eo(a){a.j.G==0||a.J||xy(a.j,a)}function hr(a){jl(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Gm(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Bl(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||Ul(f.h,a))){if(!a.K&&Ul(f.h,a)&&f.G==3){try{var p=f.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Ca(f),ba(f);else break e;ql(f),ht(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=wo(y(f.Za,f),6e3));if(1>=ay(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else pr(f,11)}else if((a.K||f.g==a)&&Ca(f),!re(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ge=b[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let tt=ge[3];tt!=null&&(f.la=tt,f.j.info("VER="+f.la));let nt=ge[4];nt!=null&&(f.Aa=nt,f.j.info("SVER="+f.Aa));let Kr=ge[5];Kr!=null&&typeof Kr=="number"&&0<Kr&&(p=1.5*Kr,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;let Vt=a.g;if(Vt){let Sa=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var T=p.h;T.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(T.j=T.l,T.g=new Set,T.h&&(zl(T,T.h),T.h=null))}if(p.D){let Wl=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;Wl&&(p.ya=Wl,De(p.I,p.D,Wl))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var F=a;if(p.qa=Py(p,p.J?p.ia:null,p.W),F.K){cy(p.h,F);var we=F,qe=p.L;qe&&(we.I=qe),we.B&&(jl(we),ya(we)),p.g=F}else My(p);0<f.i.length&&Da(f)}else ge[0]!="stop"&&ge[0]!="close"||pr(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?pr(f,7):Hl(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}_o(4)}catch{}}var mD=class{constructor(a,d){this.g=a,this.map=d}};function oy(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sy(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ay(a){return a.h?1:a.g?a.g.size:0}function Ul(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function zl(a,d){a.g?a.g.add(d):a.h=d}function cy(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}oy.prototype.cancel=function(){if(this.i=uy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function uy(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return k(a.i)}function yD(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,p=0;p<f;p++)d.push(a[p]);return d}d=[],f=0;for(p in a)d[f++]=a[p];return d}function vD(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let p in a)d[f++]=p;return d}}}function ly(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=vD(a),p=yD(a),b=p.length,T=0;T<b;T++)d.call(void 0,p[T],f&&f[T],a)}var dy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _D(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var p=a[f].indexOf("="),b=null;if(0<=p){var T=a[f].substring(0,p);b=a[f].substring(p+1)}else T=a[f];d(T,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function fr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof fr){this.h=a.h,va(this,a.j),this.o=a.o,this.g=a.g,_a(this,a.s),this.l=a.l;var d=a.i,f=new Co;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),hy(this,f),this.m=a.m}else a&&(d=String(a).match(dy))?(this.h=!1,va(this,d[1]||"",!0),this.o=bo(d[2]||""),this.g=bo(d[3]||"",!0),_a(this,d[4]),this.l=bo(d[5]||"",!0),hy(this,d[6]||"",!0),this.m=bo(d[7]||"")):(this.h=!1,this.i=new Co(null,this.h))}fr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Do(d,fy,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Do(d,fy,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Do(f,f.charAt(0)=="/"?ED:ID,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Do(f,DD)),a.join("")};function In(a){return new fr(a)}function va(a,d,f){a.j=f?bo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function _a(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function hy(a,d,f){d instanceof Co?(a.i=d,CD(a.i,a.h)):(f||(d=Do(d,bD)),a.i=new Co(d,a.h))}function De(a,d,f){a.i.set(d,f)}function wa(a){return De(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function bo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Do(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,wD),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function wD(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var fy=/[#\/\?@]/g,ID=/[#\?:]/g,ED=/[#\?]/g,bD=/[#\?@]/g,DD=/#/g;function Co(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Un(a){a.g||(a.g=new Map,a.h=0,a.i&&_D(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Co.prototype,t.add=function(a,d){Un(this),this.i=null,a=Gr(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function py(a,d){Un(a),d=Gr(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function gy(a,d){return Un(a),d=Gr(a,d),a.g.has(d)}t.forEach=function(a,d){Un(this),this.g.forEach(function(f,p){f.forEach(function(b){a.call(d,b,p,this)},this)},this)},t.na=function(){Un(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let p=0;p<d.length;p++){let b=a[p];for(let T=0;T<b.length;T++)f.push(d[p])}return f},t.V=function(a){Un(this);let d=[];if(typeof a=="string")gy(this,a)&&(d=d.concat(this.g.get(Gr(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return Un(this),this.i=null,a=Gr(this,a),gy(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function my(a,d,f){py(a,d),0<f.length&&(a.i=null,a.g.set(Gr(a,d),k(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var p=d[f];let T=encodeURIComponent(String(p)),F=this.V(p);for(p=0;p<F.length;p++){var b=T;F[p]!==""&&(b+="="+encodeURIComponent(String(F[p]))),a.push(b)}}return this.i=a.join("&")};function Gr(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function CD(a,d){d&&!a.j&&(Un(a),a.i=null,a.g.forEach(function(f,p){var b=p.toLowerCase();p!=b&&(py(this,p),my(this,b,f))},a)),a.j=d}function TD(a,d){let f=new Io;if(c.Image){let p=new Image;p.onload=D(zn,f,"TestLoadImage: loaded",!0,d,p),p.onerror=D(zn,f,"TestLoadImage: error",!1,d,p),p.onabort=D(zn,f,"TestLoadImage: abort",!1,d,p),p.ontimeout=D(zn,f,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function SD(a,d){let f=new Io,p=new AbortController,b=setTimeout(()=>{p.abort(),zn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(T=>{clearTimeout(b),T.ok?zn(f,"TestPingServer: ok",!0,d):zn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),zn(f,"TestPingServer: error",!1,d)})}function zn(a,d,f,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(f)}catch{}}function MD(){this.g=new lD}function AD(a,d,f){let p=f||"";try{ly(a,function(b,T){let F=b;l(b)&&(F=Nl(b)),d.push(p+T+"="+encodeURIComponent(F))})}catch(b){throw d.push(p+"type="+encodeURIComponent("_badmap")),b}}function To(a){this.l=a.Ub||null,this.j=a.eb||!1}x(To,Pl),To.prototype.g=function(){return new Ia(this.l,this.j)},To.prototype.i=function(a){return function(){return a}}({});function Ia(a,d){et.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ia,et),t=Ia.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Mo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,So(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Mo(this)),this.g&&(this.readyState=3,Mo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yy(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function yy(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?So(this):Mo(this),this.readyState==3&&yy(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,So(this))},t.Qa=function(a){this.g&&(this.response=a,So(this))},t.ga=function(){this.g&&So(this)};function So(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Mo(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Mo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function vy(a){let d="";return ee(a,function(f,p){d+=p,d+=":",d+=f,d+=`\r
`}),d}function $l(a,d,f){e:{for(p in f){var p=!1;break e}p=!0}p||(f=vy(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):De(a,d,f))}function xe(a){et.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(xe,et);var xD=/^https?$/i,RD=["POST","PUT"];t=xe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fl.g(),this.v=this.o?Wm(this.o):Wm(Fl),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(T){_y(this,T);return}if(a=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)f.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let T of p.keys())f.set(T,p.get(T));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(T=>T.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(RD,d,void 0))||p||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[T,F]of f)this.g.setRequestHeader(T,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ey(this),this.u=!0,this.g.send(a),this.u=!1}catch(T){_y(this,T)}};function _y(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,wy(a),Ea(a)}function wy(a){a.A||(a.A=!0,dt(a,"complete"),dt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,dt(this,"complete"),dt(this,"abort"),Ea(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ea(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Iy(this):this.bb())},t.bb=function(){Iy(this)};function Iy(a){if(a.h&&typeof s<"u"&&(!a.v[1]||En(a)!=4||a.Z()!=2)){if(a.u&&En(a)==4)$m(a.Ea,0,a);else if(dt(a,"readystatechange"),En(a)==4){a.h=!1;try{let F=a.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var p;if(p=F===0){var b=String(a.D).match(dy)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!xD.test(b?b.toLowerCase():"")}f=p}if(f)dt(a,"complete"),dt(a,"success");else{a.m=6;try{var T=2<En(a)?a.g.statusText:""}catch{T=""}a.l=T+" ["+a.Z()+"]",wy(a)}}finally{Ea(a)}}}}function Ea(a,d){if(a.g){Ey(a);let f=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||dt(a,"ready");try{f.onreadystatechange=p}catch{}}}function Ey(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function En(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),uD(d)}};function by(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function ND(a){let d={};a=(a.g&&2<=En(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(re(a[p]))continue;var f=E(a[p]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let T=d[b]||[];d[b]=T,T.push(f)}I(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function Dy(a){this.Aa=0,this.i=[],this.j=new Io,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,a),this.cb=Ao("retryDelaySeedMs",1e4,a),this.Wa=Ao("forwardChannelMaxRetries",2,a),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new oy(a&&a.concurrentRequestLimit),this.Da=new MD,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Dy.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,p){ht(0),this.W=a,this.H=d||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=Py(this,null,this.W),Da(this)};function Hl(a){if(Cy(a),a.G==3){var d=a.U++,f=In(a.I);if(De(f,"SID",a.K),De(f,"RID",d),De(f,"TYPE","terminate"),xo(a,f),d=new Bn(a,a.j,d),d.L=2,d.v=wa(In(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=Oy(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ya(d)}Ny(a)}function ba(a){a.g&&(Gl(a),a.g.cancel(),a.g=null)}function Cy(a){ba(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ca(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Da(a){if(!sy(a.h)&&!a.s){a.s=!0;var d=a.Ga;fo||Lm(),po||(fo(),po=!0),bl.add(d,a),a.B=0}}function PD(a,d){return ay(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=wo(y(a.Ga,a,d),Ry(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Bn(this,this.j,a),T=this.o;if(this.S&&(T?(T=m(T),w(T,this.S)):T=this.S),this.m!==null||this.O||(b.H=T,T=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Sy(this,b,d),f=In(this.I),De(f,"RID",a),De(f,"CVER",22),this.D&&De(f,"X-HTTP-Session-Id",this.D),xo(this,f),T&&(this.O?d="headers="+encodeURIComponent(String(vy(T)))+"&"+d:this.m&&$l(f,this.m,T)),zl(this.h,b),this.Ua&&De(f,"TYPE","init"),this.P?(De(f,"$req",d),De(f,"SID","null"),b.T=!0,Vl(b,f,null)):Vl(b,f,d),this.G=2}}else this.G==3&&(a?Ty(this,a):this.i.length==0||sy(this.h)||Ty(this))};function Ty(a,d){var f;d?f=d.l:f=a.U++;let p=In(a.I);De(p,"SID",a.K),De(p,"RID",f),De(p,"AID",a.T),xo(a,p),a.m&&a.o&&$l(p,a.m,a.o),f=new Bn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Sy(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),zl(a.h,f),Vl(f,p,d)}function xo(a,d){a.H&&ee(a.H,function(f,p){De(d,p,f)}),a.l&&ly({},function(f,p){De(d,p,f)})}function Sy(a,d,f){f=Math.min(a.i.length,f);var p=a.l?y(a.l.Na,a.l,a):null;e:{var b=a.i;let T=-1;for(;;){let F=["count="+f];T==-1?0<f?(T=b[0].g,F.push("ofs="+T)):T=0:F.push("ofs="+T);let we=!0;for(let qe=0;qe<f;qe++){let ge=b[qe].g,tt=b[qe].map;if(ge-=T,0>ge)T=Math.max(0,b[qe].g-100),we=!1;else try{AD(tt,F,"req"+ge+"_")}catch{p&&p(tt)}}if(we){p=F.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,p}function My(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;fo||Lm(),po||(fo(),po=!0),bl.add(d,a),a.v=0}}function ql(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=wo(y(a.Fa,a),Ry(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Ay(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=wo(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),ba(this),Ay(this))};function Gl(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Ay(a){a.g=new Bn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=In(a.qa);De(d,"RID","rpc"),De(d,"SID",a.K),De(d,"AID",a.T),De(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&De(d,"TO",a.ja),De(d,"TYPE","xmlhttp"),xo(a,d),a.m&&a.o&&$l(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=wa(In(d)),f.m=null,f.P=!0,ny(f,a)}t.Za=function(){this.C!=null&&(this.C=null,ba(this),ql(this),ht(19))};function Ca(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function xy(a,d){var f=null;if(a.g==d){Ca(a),Gl(a),a.g=null;var p=2}else if(Ul(a.h,d))f=d.D,cy(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;p=pa(),dt(p,new Jm(p,f)),Da(a)}else My(a);else if(b=d.s,b==3||b==0&&0<d.X||!(p==1&&PD(a,d)||p==2&&ql(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),b){case 1:pr(a,5);break;case 4:pr(a,10);break;case 3:pr(a,6);break;default:pr(a,2)}}}function Ry(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function pr(a,d){if(a.j.info("Error code "+d),d==2){var f=y(a.fb,a),p=a.Xa;let b=!p;p=new fr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||va(p,"https"),wa(p),b?TD(p.toString(),f):SD(p.toString(),f)}else ht(2);a.G=0,a.l&&a.l.sa(d),Ny(a),Cy(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Ny(a){if(a.G=0,a.ka=[],a.l){let d=uy(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function Py(a,d,f){var p=f instanceof fr?In(f):new fr(f);if(p.g!="")d&&(p.g=d+"."+p.g),_a(p,p.s);else{var b=c.location;p=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var T=new fr(null);p&&va(T,p),d&&(T.g=d),b&&_a(T,b),f&&(T.l=f),p=T}return f=a.D,d=a.ya,f&&d&&De(p,f,d),De(p,"VER",a.la),xo(a,p),p}function Oy(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new xe(new To({eb:f})):new xe(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ky(){}t=ky.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ta(){}Ta.prototype.g=function(a,d){return new vt(a,d)};function vt(a,d){et.call(this),this.g=new Dy(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!re(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!re(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Wr(this)}x(vt,et),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){Hl(this.g)},vt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Nl(a),a=f);d.i.push(new mD(d.Ya++,a)),d.G==3&&Da(d)},vt.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,vt.aa.N.call(this)};function Fy(a){Ol.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}x(Fy,Ol);function Ly(){kl.call(this),this.status=1}x(Ly,kl);function Wr(a){this.g=a}x(Wr,ky),Wr.prototype.ua=function(){dt(this.g,"a")},Wr.prototype.ta=function(a){dt(this.g,new Fy(a))},Wr.prototype.sa=function(a){dt(this.g,new Ly)},Wr.prototype.ra=function(){dt(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,jp=On.createWebChannelTransport=function(){return new Ta},Vp=On.getStatEventTarget=function(){return pa()},Lp=On.Event=dr,Ou=On.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,Ps=On.ErrorCode=ga,Xm.COMPLETE="complete",Fp=On.EventType=Xm,Km.EventType=vo,vo.OPEN="a",vo.CLOSE="b",vo.ERROR="c",vo.MESSAGE="d",et.prototype.listen=et.prototype.K,zi=On.WebChannel=Km,LO=On.FetchXmlHttpFactory=To,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,kp=On.XhrIo=xe}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});var db="@firebase/firestore";var He=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");var uo="10.14.0";var Ur=new Fi("@firebase/firestore");function Os(){return Ur.logLevel}function B(t,...e){if(Ur.logLevel<=fe.DEBUG){let n=e.map(wm);Ur.debug(`Firestore (${uo}): ${t}`,...n)}}function Fn(t,...e){if(Ur.logLevel<=fe.ERROR){let n=e.map(wm);Ur.error(`Firestore (${uo}): ${t}`,...n)}}function Zi(t,...e){if(Ur.logLevel<=fe.WARN){let n=e.map(wm);Ur.warn(`Firestore (${uo}): ${t}`,...n)}}function wm(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function X(t="Unexpected state"){let e=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: `+t;throw Fn(e),new Error(e)}function Re(t,e){t||X()}function de(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Wt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var mn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Vu=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},qp=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(He.UNAUTHENTICATED))}shutdown(){}},Gp=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Wp=class{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>P(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new Vu(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new He(e)}},Kp=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Qp=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Kp(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Zp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Yp=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new Zp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function VO(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ju=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=VO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ye(t,e){return t<e?-1:t>e?1:0}function Yi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ve=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ve(0,0))}static max(){return new t(new Ve(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Bu=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ae=class t extends Bu{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},jO=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lt=class t extends Bu{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return jO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new V(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ae.fromString(e))}static fromName(e){return new t(Ae.fromString(e).popFirst(5))}static empty(){return new t(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ae(e.slice()))}};var Jp=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Jp.UNKNOWN_ID=-1;function BO(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new zr(i,q.empty(),e)}function UO(t){return new zr(t.readTime,t.key,-1)}var zr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),q.empty(),-1)}static max(){return new t(ne.max(),q.empty(),-1)}};function zO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}var $O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Im(t){return P(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==$O)throw t;B("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function HO(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ia(t){return t.name==="IndexedDbTransactionError"}var Gb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function hl(t){return t==null}function Us(t){return t===0&&1/t==-1/0}function qO(t){return typeof t=="number"&&Number.isInteger(t)&&!Us(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var GO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rz=[...GO,"documentOverlays"],WO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],KO=WO,QO=[...KO,"indexConfiguration","indexState","indexEntries"];var Nz=[...QO,"globals"];function hb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oa(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pe=class t{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gi(this.root,e,this.comparator,!0)}},Gi=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,o){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ut=class t{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uu(this.data.getIterator())}getIteratorFrom(e){return new Uu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Uu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Lr=class t{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ut(Lt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yi(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var zu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zu("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};lt.EMPTY_BYTE_STRING=new lt("");var ZO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ln(t){if(Re(!!t),typeof t=="string"){let e=0,n=ZO.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cr(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}function Em(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bm(t){let e=t.mapValue.fields.__previous_value__;return Em(e)?bm(e):e}function zs(t){let e=Ln(t.mapValue.fields.__local_write_time__.timestampValue);return new Ve(e.seconds,e.nanos)}var eg=class{constructor(e,n,r,i,o,s,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},$u=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Em(t)?4:Qb(t)?9007199254740991:Kb(t)?10:11:X()}function _n(t,e){if(t===e)return!0;let n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zs(t).isEqual(zs(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ln(i.timestampValue),c=Ln(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return cr(i.bytesValue).isEqual(cr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Se(i.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Se(i.integerValue)===Se(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Se(i.doubleValue),c=Se(o.doubleValue);return s===c?Us(s)===Us(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return Yi(t.arrayValue.values||[],e.arrayValue.values||[],_n);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(hb(s)!==hb(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!_n(s[u],c[u])))return!1;return!0}(t,e);default:return X()}}function $s(t,e){return(t.values||[]).find(n=>_n(n,e))!==void 0}function Ji(t,e){if(t===e)return 0;let n=$r(t),r=$r(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Se(o.integerValue||o.doubleValue),u=Se(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return fb(t.timestampValue,e.timestampValue);case 4:return fb(zs(t),zs(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(o,s){let c=cr(o),u=cr(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=ye(c[l],u[l]);if(h!==0)return h}return ye(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=ye(Se(o.latitude),Se(s.latitude));return c!==0?c:ye(Se(o.longitude),Se(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pb(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,h;let g=o.fields||{},y=s.fields||{},D=(c=g.value)===null||c===void 0?void 0:c.arrayValue,x=(u=y.value)===null||u===void 0?void 0:u.arrayValue,k=ye(((l=D?.values)===null||l===void 0?void 0:l.length)||0,((h=x?.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:pb(D,x)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ku.mapValue&&s===ku.mapValue)return 0;if(o===ku.mapValue)return 1;if(s===ku.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let g=0;g<u.length&&g<h.length;++g){let y=ye(u[g],h[g]);if(y!==0)return y;let D=Ji(c[u[g]],l[h[g]]);if(D!==0)return D}return ye(u.length,h.length)}(t.mapValue,e.mapValue);default:throw X()}}function fb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);let n=Ln(t),r=Ln(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function pb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ji(n[i],r[i]);if(o)return o}return ye(n.length,r.length)}function Xi(t){return tg(t)}function tg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ln(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=tg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${tg(n.fields[s])}`;return i+"}"}(t.mapValue):X()}function gb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ng(t){return!!t&&"integerValue"in t}function Dm(t){return!!t&&"arrayValue"in t}function mb(t){return!!t&&"nullValue"in t}function yb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bp(t){return!!t&&"mapValue"in t}function Kb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Fs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return oa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fs(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Qb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var kn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fs(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=Fs(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Bp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oa(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Fs(this.value))}};var Yt=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),kn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var eo=class{constructor(e,n){this.position=e,this.inclusive=n}};function vb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),n.key):r=Ji(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _b(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_n(t.position[n],e.position[n]))return!1;return!0}var to=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function YO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hu=class{},Le=class t extends Hu{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ig(e,n,r):n==="array-contains"?new ag(e,r):n==="in"?new cg(e,r):n==="not-in"?new ug(e,r):n==="array-contains-any"?new lg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new og(e,r):new sg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ji(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(Ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Jt=class t extends Hu{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Zb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Zb(t){return t.op==="and"}function Yb(t){return JO(t)&&Zb(t)}function JO(t){for(let e of t.filters)if(e instanceof Jt)return!1;return!0}function rg(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+Xi(t.value);if(Yb(t))return t.filters.map(e=>rg(e)).join(",");{let e=t.filters.map(n=>rg(n)).join(",");return`${t.op}(${e})`}}function Jb(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&_n(r.value,i.value)}(t,e):t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&Jb(s,i.filters[c]),!0):!1}(t,e):void X()}function Xb(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${Xi(n.value)}`}(t):t instanceof Jt?function(n){return n.op.toString()+" {"+n.getFilters().map(Xb).join(" ,")+"}"}(t):"Filter"}var ig=class extends Le{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},og=class extends Le{constructor(e,n){super(e,"in",n),this.keys=e0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},sg=class extends Le{constructor(e,n){super(e,"not-in",n),this.keys=e0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function e0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var ag=class extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Dm(n)&&$s(n.arrayValue,this.value)}},cg=class extends Le{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&$s(this.value.arrayValue,n)}},ug=class extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if($s(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!$s(this.value.arrayValue,n)}},lg=class extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Dm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$s(this.value.arrayValue,r))}};var dg=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function wb(t,e=null,n=[],r=[],i=null,o=null,s=null){return new dg(t,e,n,r,i,o,s)}function Cm(t){let e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),hl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xi(r)).join(",")),e.ue=n}return e.ue}function Tm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Jb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_b(t.startAt,e.startAt)&&_b(t.endAt,e.endAt)}function hg(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Hr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function XO(t,e,n,r,i,o,s,c){return new Hr(t,e,n,r,i,o,s,c)}function Sm(t){return new Hr(t)}function Ib(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function t0(t){return t.collectionGroup!==null}function Ls(t){let e=de(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new ut(Lt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new to(o,r))}),n.has(Lt.keyField().canonicalString())||e.ce.push(new to(Lt.keyField(),r))}return e.ce}function vn(t){let e=de(t);return e.le||(e.le=e1(e,Ls(t))),e.le}function e1(t,e){if(t.limitType==="F")return wb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new to(i.field,o)});let n=t.endAt?new eo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new eo(t.startAt.position,t.startAt.inclusive):null;return wb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fg(t,e){let n=t.filters.concat([e]);return new Hr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pg(t,e,n){return new Hr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fl(t,e){return Tm(vn(t),vn(e))&&t.limitType===e.limitType}function n0(t){return`${Cm(vn(t))}|lt:${t.limitType}`}function $i(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Xb(i)).join(", ")}]`),hl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xi(i)).join(",")),`Target(${r})`}(vn(t))}; limitType=${t.limitType})`}function pl(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Ls(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=vb(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,Ls(r),i)||r.endAt&&!function(s,c,u){let l=vb(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,Ls(r),i))}(t,e)}function t1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function r0(t){return(e,n)=>{let r=!1;for(let i of Ls(t)){let o=n1(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function n1(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Ji(u,l):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}var ur=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Wb(this.inner)}size(){return this.innerSize}};var r1=new Pe(q.comparator);function lr(){return r1}var i0=new Pe(q.comparator);function ks(...t){let e=i0;for(let n of t)e=e.insert(n.key,n);return e}function i1(t){let e=i0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vr(){return Vs()}function o0(){return Vs()}function Vs(){return new ur(t=>t.toString(),(t,e)=>t.isEqual(e))}var Oz=new Pe(q.comparator),o1=new ut(q.comparator);function pe(...t){let e=o1;for(let n of t)e=e.add(n);return e}var s1=new ut(ye);function a1(){return s1}function Mm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Us(e)?"-0":e}}function s0(t){return{integerValue:""+t}}function c1(t,e){return qO(e)?s0(e):Mm(t,e)}var no=class{constructor(){this._=void 0}};function u1(t,e,n){return t instanceof Hs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Em(o)&&(o=bm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ro?a0(t,e):t instanceof io?c0(t,e):function(i,o){let s=d1(i,o),c=Eb(s)+Eb(i.Pe);return ng(s)&&ng(i.Pe)?s0(c):Mm(i.serializer,c)}(t,e)}function l1(t,e,n){return t instanceof ro?a0(t,e):t instanceof io?c0(t,e):n}function d1(t,e){return t instanceof qs?function(r){return ng(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Hs=class extends no{},ro=class extends no{constructor(e){super(),this.elements=e}};function a0(t,e){let n=u0(e);for(let r of t.elements)n.some(i=>_n(i,r))||n.push(r);return{arrayValue:{values:n}}}var io=class extends no{constructor(e){super(),this.elements=e}};function c0(t,e){let n=u0(e);for(let r of t.elements)n=n.filter(i=>!_n(i,r));return{arrayValue:{values:n}}}var qs=class extends no{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Eb(t){return Se(t.integerValue||t.doubleValue)}function u0(t){return Dm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function h1(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ro&&i instanceof ro||r instanceof io&&i instanceof io?Yi(r.elements,i.elements,_n):r instanceof qs&&i instanceof qs?_n(r.Pe,i.Pe):r instanceof Hs&&i instanceof Hs}(t.transform,e.transform)}var js=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Lu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Gs=class{};function l0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gg(t.key,js.none()):new Ws(t.key,t.data,js.none());{let n=t.data,r=kn.empty(),i=new ut(Lt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new oo(t.key,r,new Lr(i.toArray()),js.none())}}function f1(t,e,n){t instanceof Ws?function(i,o,s){let c=i.value.clone(),u=Db(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof oo?function(i,o,s){if(!Lu(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=Db(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(d0(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Bs(t,e,n,r){return t instanceof Ws?function(o,s,c,u){if(!Lu(o.precondition,s))return c;let l=o.value.clone(),h=Cb(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof oo?function(o,s,c,u){if(!Lu(o.precondition,s))return c;let l=Cb(o.fieldTransforms,u,s),h=s.data;return h.setAll(d0(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,s,c){return Lu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function bb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yi(r,i,(o,s)=>h1(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ws=class extends Gs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},oo=class extends Gs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function d0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Db(t,e,n){let r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,l1(s,c,n[i]))}return r}function Cb(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,u1(o,s,e))}return r}var gg=class extends Gs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var mg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&f1(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bs(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Bs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=o0();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=l0(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Yi(this.mutations,e.mutations,(n,r)=>bb(n,r))&&Yi(this.baseMutations,e.baseMutations,(n,r)=>bb(n,r))}};var yg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var vg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ke,le;function h0(t){if(t===void 0)return Fn("GRPC error has no .code"),N.UNKNOWN;switch(t){case ke.OK:return N.OK;case ke.CANCELLED:return N.CANCELLED;case ke.UNKNOWN:return N.UNKNOWN;case ke.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ke.INTERNAL:return N.INTERNAL;case ke.UNAVAILABLE:return N.UNAVAILABLE;case ke.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ke.NOT_FOUND:return N.NOT_FOUND;case ke.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ke.ABORTED:return N.ABORTED;case ke.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ke.DATA_LOSS:return N.DATA_LOSS;default:return X()}}(le=ke||(ke={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var Tb=null;function p1(){return new TextEncoder}var g1=new sr([4294967295,4294967295],0);function Sb(t){let e=p1().encode(t),n=new Op;return n.update(e),new Uint8Array(n.digest())}function Mb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sr([n,r],0),new sr([i,o],0)]}var _g=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jr(`Invalid padding: ${n}`);if(r<0)throw new jr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jr(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=sr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(sr.fromNumber(r)));return i.compare(g1)===1&&(i=new sr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=Sb(e),[r,i]=Mb(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let n=Sb(e),[r,i]=Mb(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},jr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var qu=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ks.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Pe(ye),lr(),pe())}},Ks=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var Wi=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Gu=class{constructor(e,n){this.targetId=e,this.me=n}},Wu=class{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ku=class{constructor(){this.fe=0,this.ge=xb(),this.pe=lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new Ks(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=xb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},wg=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=lr(),this.qe=Ab(),this.Qe=new Pe(ye)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(hg(o))if(r===0){let s=new q(o.path);this.Ue(n,s,Yt.newNoDocument(s,ne.min()))}else Re(r===1);else{let s=this.Ye(n);if(s!==r){let c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}Tb?.et(function(h,g,y,D,x){var k,R,$,re,W,Y;let Te={localCacheCount:h,existenceFilterCount:g.count,databaseId:y.database,projectId:y.projectId},ee=g.unchangedNames;return ee&&(Te.bloomFilter={applied:x===0,hashCount:(k=ee?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(re=($=(R=ee?.bits)===null||R===void 0?void 0:R.bitmap)===null||$===void 0?void 0:$.length)!==null&&re!==void 0?re:0,padding:(Y=(W=ee?.bits)===null||W===void 0?void 0:W.padding)!==null&&Y!==void 0?Y:0,mightContain:I=>{var m;return(m=D?.mightContain(I))!==null&&m!==void 0&&m}}),Te}(s,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=cr(r).toUint8Array()}catch(u){if(u instanceof zu)return Zi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new _g(s,i,o)}catch(u){return Zi(u instanceof jr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&hg(c.target)){let u=new q(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Yt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=pe();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new qu(e,n,this.Qe,this.ke,r);return this.ke=lr(),this.qe=Ab(),this.Qe=new Pe(ye),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ku,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ut(ye),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ku),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Ab(){return new Pe(q.comparator)}function xb(){return new Pe(q.comparator)}var m1={asc:"ASCENDING",desc:"DESCENDING"},y1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v1={and:"AND",or:"OR"},Ig=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Eg(t,e){return t.useProto3Json||hl(e)?e:{value:e}}function bg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ki(t){return Re(!!t),ne.fromTimestamp(function(n){let r=Ln(n);return new Ve(r.seconds,r.nanos)}(t))}function p0(t,e){return Dg(t,e).canonicalString()}function Dg(t,e){let n=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function g0(t){let e=Ae.fromString(t);return Re(w0(e)),e}function Up(t,e){let n=g0(e);if(n.get(1)!==t.databaseId.projectId)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(y0(n))}function m0(t,e){return p0(t.databaseId,e)}function _1(t){let e=g0(t);return e.length===4?Ae.emptyPath():y0(e)}function Rb(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function y0(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function w1(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Re(h===void 0||typeof h=="string"),lt.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array),lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let h=l.code===void 0?N.UNKNOWN:h0(l.code);return new V(h,l.message||"")}(s);n=new Wu(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Up(t,r.document.name),o=Ki(r.document.updateTime),s=r.document.createTime?Ki(r.document.createTime):ne.min(),c=new kn({mapValue:{fields:r.document.fields}}),u=Yt.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Wi(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Up(t,r.document),o=r.readTime?Ki(r.readTime):ne.min(),s=Yt.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Wi([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Up(t,r.document),o=r.removedTargetIds||[];n=new Wi([],o,i,null)}else{if(!("filter"in e))return X();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new vg(i,o),c=r.targetId;n=new Gu(c,s)}}return n}function I1(t,e){return{documents:[m0(t,e.path)]}}function E1(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=m0(t,i);let o=function(l){if(l.length!==0)return _0(Jt.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:Hi(y.field),direction:C1(y.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Eg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function b1(t){let e=_1(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(g){let y=v0(g);return y instanceof Jt&&Yb(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(g){return g.map(y=>function(x){return new to(qi(x.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,hl(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(g){let y=!!g.before,D=g.values||[];return new eo(D,y)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let y=!g.before,D=g.values||[];return new eo(D,y)}(n.endAt)),XO(e,i,s,o,c,"F",u,l)}function D1(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function v0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=qi(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qi(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=qi(n.unaryFilter.field);return Le.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=qi(n.unaryFilter.field);return Le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return Le.create(qi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jt.create(n.compositeFilter.filters.map(r=>v0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function C1(t){return m1[t]}function T1(t){return y1[t]}function S1(t){return v1[t]}function Hi(t){return{fieldPath:t.canonicalString()}}function qi(t){return Lt.fromServerFormat(t.fieldPath)}function _0(t){return t instanceof Le?function(n){if(n.op==="=="){if(yb(n.value))return{unaryFilter:{field:Hi(n.field),op:"IS_NAN"}};if(mb(n.value))return{unaryFilter:{field:Hi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yb(n.value))return{unaryFilter:{field:Hi(n.field),op:"IS_NOT_NAN"}};if(mb(n.value))return{unaryFilter:{field:Hi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hi(n.field),op:T1(n.op),value:n.value}}}(t):t instanceof Jt?function(n){let r=n.getFilters().map(i=>_0(i));return r.length===1?r[0]:{compositeFilter:{op:S1(n.op),filters:r}}}(t):X()}function w0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Qs=class t{constructor(e,n,r,i,o=ne.min(),s=ne.min(),c=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Cg=class{constructor(e){this.ct=e}};function M1(t){let e=b1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pg(e,e.limit,"L"):e}var Qu=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Us(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ln(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(cr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Qb(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Kb(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):X()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Se(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Qu.vt=new Qu;var Tg=class{constructor(){this.un=new Sg}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(zr.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},Sg=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(Ae.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Ae.comparator)).toArray()}};var kz=new Uint8Array(0);var gn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);var Zs=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Mg=class{constructor(){this.changes=new ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ag=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var xg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bs(r.mutation,i,Lr.empty(),Ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=Vr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ks();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Vr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=lr(),s=Vs(),c=function(){return Vs()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof oo)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Bs(h.mutation,l,h.mutation.getFieldMask(),Ve.now())):s.set(l.key,Lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var g;return c.set(l,new Ag(h,(g=s.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Vs(),i=new Pe((s,c)=>s-c),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Lr.empty();h=c.applyToLocalView(l,h),r.set(u,h);let g=(i.get(c.batchId)||pe()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,g=o0();h.forEach(y=>{if(!o.has(y)){let D=l0(n.get(y),r.get(y));D!==null&&g.set(y,D),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,g))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(Vr()),c=-1,u=o;return s.next(l=>O.forEach(l,(h,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:c,changes:i1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=ks();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ks();return this.indexManager.getCollectionParents(e,o).next(c=>O.forEach(c,u=>{let l=function(g,y){return new Hr(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((g,y)=>{s=s.insert(g,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Yt.newInvalidDocument(h)))});let c=ks();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Bs(h.mutation,l,Lr.empty(),Ve.now()),pl(n,l)&&(c=c.insert(u,l))}),c})}};var Rg=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ki(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:M1(i.bundledQuery),readTime:Ki(i.readTime)}}(n)),O.resolve()}};var Ng=class{constructor(){this.overlays=new Pe(q.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Vr();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=Vr(),o=n.length+1,s=new q(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Vr(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=Vr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return O.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new yg(n,r));let o=this.Ir.get(n);o===void 0&&(o=pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Pg=class{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var Ys=class{constructor(){this.Tr=new ut(Fe.Er),this.dr=new ut(Fe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Fe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Fe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new q(new Ae([])),r=new Fe(n,e),i=new Fe(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new q(new Ae([])),r=new Fe(n,e),i=new Fe(n,e+1),o=pe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Fe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Fe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||ye(e.wr,n.wr)}static Ar(e,n){return ye(e.wr,n.wr)||q.comparator(e.key,n.key)}};var Og=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ut(Fe.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new mg(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new Fe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Fe(n,0),i=new Fe(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(ye);return n.forEach(i=>{let o=new Fe(i,0),s=new Fe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new Fe(new q(o),0),c=new ut(ye);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),O.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let o=new Fe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Fe(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var kg=class{constructor(e){this.Mr=e,this.docs=function(){return new Pe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=lr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yt.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=lr(),s=n.path,c=new q(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||zO(UO(h),r)<=0||(i.has(h.key)||pl(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){X()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Fg(this)}getSize(e){return O.resolve(this.size)}},Fg=class extends Mg{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Lg=class{constructor(e){this.persistence=e,this.Nr=new ur(n=>Cm(n),Tm),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ys,this.targetCount=0,this.kr=Zs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Zs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var Vg=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Gb(0),this.Kr=!1,this.Kr=!0,this.$r=new Pg,this.referenceDelegate=e(this),this.Ur=new Lg(this),this.indexManager=new Tg,this.remoteDocumentCache=function(i){return new kg(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Cg(n),this.Gr=new Rg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ng,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Og(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);let i=new jg(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},jg=class extends Xp{constructor(e){super(),this.currentSequenceNumber=e}},Bg=class t{constructor(e){this.persistence=e,this.Jr=new Ys,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Ug=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var zg=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var $g=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return SE()?8:HO(TE())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new zg;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Os()<=fe.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",$i(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(Os()<=fe.DEBUG&&B("QueryEngine","Query:",$i(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Os()<=fe.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",$i(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):O.resolve())}Yi(e,n){if(Ib(n))return O.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=pg(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,s,u.readTime)?this.Yi(e,pg(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return Ib(n)||i.isEqual(ne.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?O.resolve(null):(Os()<=fe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$i(n)),this.rs(e,s,n,BO(i,-1)).next(c=>c))})}ts(e,n){let r=new ut(r0(e));return n.forEach((i,o)=>{pl(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Os()<=fe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",$i(n)),this.Ji.getDocumentsMatchingQuery(e,n,zr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Hg=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pe(ye),this._s=new ur(o=>Cm(o),Tm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function A1(t,e,n,r){return new Hg(t,e,n,r)}function I0(t,e){return P(this,null,function*(){let n=de(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function E0(t){let e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function x1(t,e){let n=de(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((h,g)=>{let y=i.get(g);if(!y)return;c.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,g)));let D=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?D=D.withResumeToken(lt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(h.resumeToken,r)),i=i.insert(g,D),function(k,R,$){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(y,D,h)&&c.push(n.Ur.updateTargetData(o,D))});let u=lr(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(R1(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ne.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(g=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return O.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function R1(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=lr();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):B("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function N1(t,e){let n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Qs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function qg(t,e,n){return P(this,null,function*(){let r=de(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ia(s))throw s;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Nb(t,e,n){let r=de(t),i=ne.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let g=de(u),y=g._s.get(h);return y!==void 0?O.resolve(g.os.get(y)):g.Ur.getTargetData(l,h)}(r,s,vn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ne.min(),n?o:pe())).next(c=>(P1(r,t1(e),c),{documents:c,Ts:o})))}function P1(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Zu=class{constructor(){this.activeTargetIds=a1()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Gg=class{constructor(){this.so=new Zu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Zu,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Wg=class{_o(e){}shutdown(){}};var Yu=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Fu=null;function zp(){return Fu===null?Fu=function(){return 268435456+Math.round(2147483648*Math.random())}():Fu++,"0x"+Fu.toString(16)}var O1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Kg=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ct="WebChannelConnection",Qg=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=zp(),u=this.xo(n,r.toUriEncodedString());B("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(B("RestConnection",`Received RPC '${n}' ${c}: `,h),h),h=>{throw Zi("RestConnection",`RPC '${n}' ${c} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=O1[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=zp();return new Promise((s,c)=>{let u=new kp;u.setWithCredentials(!0),u.listenOnce(Fp.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ps.NO_ERROR:let h=u.getResponseJson();B(ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Ps.TIMEOUT:B(ct,`RPC '${e}' ${o} timed out`),c(new V(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ps.HTTP_ERROR:let g=u.getStatus();if(B(ct,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let D=y?.error;if(D&&D.status&&D.message){let x=function(R){let $=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf($)>=0?$:N.UNKNOWN}(D.status);c(new V(x,D.message))}else c(new V(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new V(N.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{B(ct,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);B(ct,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=zp(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jp(),c=Vp(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);let g=s.createWebChannel(h,u),y=!1,D=!1,x=new Kg({Io:R=>{D?B(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(B(ct,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),B(ct,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},To:()=>g.close()}),k=(R,$,re)=>{R.listen($,W=>{try{re(W)}catch(Y){setTimeout(()=>{throw Y},0)}})};return k(g,zi.EventType.OPEN,()=>{D||(B(ct,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),k(g,zi.EventType.CLOSE,()=>{D||(D=!0,B(ct,`RPC '${e}' stream ${i} transport closed`),x.So())}),k(g,zi.EventType.ERROR,R=>{D||(D=!0,Zi(ct,`RPC '${e}' stream ${i} transport errored:`,R),x.So(new V(N.UNAVAILABLE,"The operation could not be completed")))}),k(g,zi.EventType.MESSAGE,R=>{var $;if(!D){let re=R.data[0];Re(!!re);let W=re,Y=W.error||(($=W[0])===null||$===void 0?void 0:$.error);if(Y){B(ct,`RPC '${e}' stream ${i} received error:`,Y);let Te=Y.status,ee=function(_){let w=ke[_];if(w!==void 0)return h0(w)}(Te),I=Y.message;ee===void 0&&(ee=N.INTERNAL,I="Unknown error status: "+Te+" with message "+Y.message),D=!0,x.So(new V(ee,I)),g.close()}else B(ct,`RPC '${e}' stream ${i} received:`,re),x.bo(re)}}),k(c,Lp.STAT_EVENT,R=>{R.stat===Ou.PROXY?B(ct,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Ou.NOPROXY&&B(ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}};function $p(){return typeof document<"u"?document:null}function gl(t){return new Ig(t,!0)}var Ju=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Zg=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ju(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return P(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return P(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return P(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new V(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>P(this,null,function*(){this.state=0,this.start()}))}I_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Yg=class extends Zg{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=w1(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?Ki(s.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Rb(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=hg(u)?{documents:I1(o,u)}:{query:E1(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=f0(o,s.resumeToken);let l=Eg(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){c.readTime=bg(o,s.snapshotVersion.toTimestamp());let l=Eg(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=D1(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Rb(this.serializer),n.removeTarget=e,this.a_(n)}};var Jg=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Dg(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(N.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,Dg(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Xg=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fn(n),this.D_=!1):B("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var em=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>P(this,null,function*(){aa(this)&&(B("RemoteStore","Restarting streams for network reachability change."),yield function(u){return P(this,null,function*(){let l=de(u);l.L_.add(4),yield sa(l),l.q_.set("Unknown"),l.L_.delete(4),yield ml(l)})}(this))}))}),this.q_=new Xg(r,i)}};function ml(t){return P(this,null,function*(){if(aa(t))for(let e of t.B_)yield e(!0)})}function sa(t){return P(this,null,function*(){for(let e of t.B_)yield e(!1)})}function b0(t,e){let n=de(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Nm(n)?Rm(n):lo(n).r_()&&xm(n,e))}function Am(t,e){let n=de(t),r=lo(n);n.N_.delete(e),r.r_()&&D0(n,e),n.N_.size===0&&(r.r_()?r.o_():aa(n)&&n.q_.set("Unknown"))}function xm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(t).A_(e)}function D0(t,e){t.Q_.xe(e),lo(t).R_(e)}function Rm(t){t.Q_=new wg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),lo(t).start(),t.q_.v_()}function Nm(t){return aa(t)&&!lo(t).n_()&&t.N_.size>0}function aa(t){return de(t).L_.size===0}function C0(t){t.Q_=void 0}function k1(t){return P(this,null,function*(){t.q_.set("Online")})}function F1(t){return P(this,null,function*(){t.N_.forEach((e,n)=>{xm(t,e)})})}function L1(t,e){return P(this,null,function*(){C0(t),Nm(t)?(t.q_.M_(e),Rm(t)):t.q_.set("Unknown")})}function V1(t,e,n){return P(this,null,function*(){if(t.q_.set("Online"),e instanceof Wu&&e.state===2&&e.cause)try{yield function(i,o){return P(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pb(t,r)}else if(e instanceof Wi?t.Q_.Ke(e):e instanceof Gu?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{let r=yield E0(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),D0(o,u);let g=new Qs(h.target,u,l,h.sequenceNumber);xm(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){B("RemoteStore","Failed to raise snapshot:",r),yield Pb(t,r)}})}function Pb(t,e,n){return P(this,null,function*(){if(!ia(e))throw e;t.L_.add(1),yield sa(t),t.q_.set("Offline"),n||(n=()=>E0(t.localStore)),t.asyncQueue.enqueueRetryable(()=>P(this,null,function*(){B("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield ml(t)}))})}function Ob(t,e){return P(this,null,function*(){let n=de(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");let r=aa(n);n.L_.add(3),yield sa(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield ml(n)})}function j1(t,e){return P(this,null,function*(){let n=de(t);e?(n.L_.delete(2),yield ml(n)):e||(n.L_.add(2),yield sa(n),n.q_.set("Unknown"))})}function lo(t){return t.K_||(t.K_=function(n,r,i){let o=de(n);return o.w_(),new Yg(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:k1.bind(null,t),Ro:F1.bind(null,t),mo:L1.bind(null,t),d_:V1.bind(null,t)}),t.B_.push(e=>P(this,null,function*(){e?(t.K_.s_(),Nm(t)?Rm(t):t.q_.set("Unknown")):(yield t.K_.stop(),C0(t))}))),t.K_}var tm=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function T0(t,e){if(Fn("AsyncQueue",`${e}: ${t}`),ia(t))return new V(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Xu=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=ks(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var el=class{constructor(){this.W_=new Pe(q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},so=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,Xu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var nm=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},rm=class{constructor(){this.queries=kb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=de(n),o=i.queries;i.queries=kb(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new V(N.ABORTED,"Firestore shutting down"))}};function kb(){return new ur(t=>n0(t),fl)}function S0(t,e){return P(this,null,function*(){let n=de(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new nm,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=T0(s,`Initialization of query '${$i(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Pm(n)})}function M0(t,e){return P(this,null,function*(){let n=de(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function B1(t,e){let n=de(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.j_)c.X_(i)&&(r=!0);s.z_=i}}r&&Pm(n)}function U1(t,e,n){let r=de(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function Pm(t){t.Y_.forEach(e=>{e.next()})}var im,Fb;(Fb=im||(im={})).ea="default",Fb.Cache="cache";var tl=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new so(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==im.Cache}};var nl=class{constructor(e){this.key=e}},rl=class{constructor(e){this.key=e}},om=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=r0(e),this.Ra=new Xu(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new el,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{let y=i.get(h),D=pl(this.query,g)?g:null,x=!!y&&this.mutatedKeys.has(y.key),k=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations),R=!1;y&&D?y.data.isEqual(D.data)?x!==k&&(r.track({type:3,doc:D}),R=!0):this.ga(y,D)||(r.track({type:2,doc:D}),R=!0,(u&&this.Aa(D,u)>0||l&&this.Aa(D,l)<0)&&(c=!0)):!y&&D?(r.track({type:0,doc:D}),R=!0):y&&!D&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(c=!0)),R&&(D?(s=s.add(D),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:c,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,g)=>function(D,x){let k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return k(D)-k(x)}(h.type,g.type)||this.Aa(h.doc,g.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new so(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new el,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new rl(r))}),this.da.forEach(r=>{e.has(r)||n.push(new nl(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return so.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},sm=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},am=class{constructor(e){this.key=e,this.va=!1}},cm=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ur(c=>n0(c),fl),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(q.comparator),this.Na=new Map,this.La=new Ys,this.Ba={},this.ka=new Map,this.qa=Zs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function z1(t,e,n=!0){return P(this,null,function*(){let r=P0(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield A0(r,e,n,!0),i})}function $1(t,e){return P(this,null,function*(){let n=P0(t);yield A0(n,e,!0,!1)})}function A0(t,e,n,r){return P(this,null,function*(){let i=yield N1(t.localStore,vn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield H1(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&b0(t.remoteStore,i),c})}function H1(t,e,n,r,i){return P(this,null,function*(){t.Ka=(g,y,D)=>function(k,R,$,re){return P(this,null,function*(){let W=R.view.ma($);W.ns&&(W=yield Nb(k.localStore,R.query,!1).then(({documents:I})=>R.view.ma(I,W)));let Y=re&&re.targetChanges.get(R.targetId),Te=re&&re.targetMismatches.get(R.targetId)!=null,ee=R.view.applyChanges(W,k.isPrimaryClient,Y,Te);return Vb(k,R.targetId,ee.wa),ee.snapshot})}(t,g,y,D);let o=yield Nb(t.localStore,e,!0),s=new om(e,o.Ts),c=s.ma(o.documents),u=Ks.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);Vb(t,n,l.wa);let h=new sm(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function q1(t,e,n){return P(this,null,function*(){let r=de(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!fl(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield qg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Am(r.remoteStore,i.targetId),um(r,i.targetId)}).catch(Im))):(um(r,i.targetId),yield qg(r.localStore,i.targetId,!0))})}function G1(t,e){return P(this,null,function*(){let n=de(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Am(n.remoteStore,r.targetId))})}function x0(t,e){return P(this,null,function*(){let n=de(t);try{let r=yield x1(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Re(s.va):i.removedDocuments.size>0&&(Re(s.va),s.va=!1))}),yield N0(n,r,e)}catch(r){yield Im(r)}})}function Lb(t,e,n){let r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=de(s);u.onlineState=c;let l=!1;u.queries.forEach((h,g)=>{for(let y of g.j_)y.Z_(c)&&(l=!0)}),l&&Pm(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function W1(t,e,n){return P(this,null,function*(){let r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Pe(q.comparator);s=s.insert(o,Yt.newNoDocument(o,ne.min()));let c=pe().add(o),u=new qu(ne.min(),new Map,new Pe(ye),s,c);yield x0(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Om(r)}else yield qg(r.localStore,e,!1).then(()=>um(r,e,n)).catch(Im)})}function um(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||R0(t,r)})}function R0(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Am(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Om(t))}function Vb(t,e,n){for(let r of n)r instanceof nl?(t.La.addReference(r.key,e),K1(t,r)):r instanceof rl?(B("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||R0(t,r.key)):X()}function K1(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(B("SyncEngine","New document in limbo: "+n),t.xa.add(r),Om(t))}function Om(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new q(Ae.fromString(e)),r=t.qa.next();t.Na.set(r,new am(n)),t.Oa=t.Oa.insert(n,r),b0(t.remoteStore,new Qs(vn(Sm(n.path)),r,"TargetPurposeLimboResolution",Gb.oe))}}function N0(t,e,n){return P(this,null,function*(){let r=de(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let g=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=Ug.Wi(u.targetId,l);o.push(g)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return P(this,null,function*(){let h=de(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>O.forEach(l,y=>O.forEach(y.$i,D=>h.persistence.referenceDelegate.addReference(g,y.targetId,D)).next(()=>O.forEach(y.Ui,D=>h.persistence.referenceDelegate.removeReference(g,y.targetId,D)))))}catch(g){if(!ia(g))throw g;B("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let y=g.targetId;if(!g.fromCache){let D=h.os.get(y),x=D.snapshotVersion,k=D.withLastLimboFreeSnapshotVersion(x);h.os=h.os.insert(y,k)}}})}(r.localStore,o))})}function Q1(t,e){return P(this,null,function*(){let n=de(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());let r=yield I0(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new V(N.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield N0(n,r.hs)}})}function Z1(t,e){let n=de(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let c=n.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function P0(t){let e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=x0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W1.bind(null,e),e.Ca.d_=B1.bind(null,e.eventManager),e.Ca.$a=U1.bind(null,e.eventManager),e}var jb=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return P(this,null,function*(){this.serializer=gl(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return A1(this.persistence,new $g,n.initialUser,this.serializer)}Ga(n){return new Vg(Bg.Zr,this.serializer)}Wa(n){return new Gg}terminate(){return P(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var Y1=(()=>{class t{initialize(n,r){return P(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Lb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q1.bind(null,this.syncEngine),yield j1(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new rm}()}createDatastore(n){let r=gl(n.databaseInfo.databaseId),i=function(s){return new Qg(s)}(n.databaseInfo);return function(s,c,u,l){return new Jg(s,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new em(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>Lb(this.syncEngine,r,0),function(){return Yu.D()?new Yu:new Wg}())}createSyncEngine(n,r){return function(o,s,c,u,l,h,g){let y=new cm(o,s,c,u,l,h);return g&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return P(this,null,function*(){var n,r;yield function(o){return P(this,null,function*(){let s=de(o);B("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield sa(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var il=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Fn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var lm=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=He.UNAUTHENTICATED,this.clientId=ju.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>P(this,null,function*(){B("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=T0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Hp(t,e){return P(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>P(this,null,function*(){r.isEqual(i)||(yield I0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Bb(t,e){return P(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield J1(t);B("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ob(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ob(e.remoteStore,i)),t._onlineComponents=e})}function J1(t){return P(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Hp(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zi("Error using user provided cache. Falling back to memory cache: "+n),yield Hp(t,new jb)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield Hp(t,new jb);return t._offlineComponents})}function X1(t){return P(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield Bb(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield Bb(t,new Y1))),t._onlineComponents})}function O0(t){return P(this,null,function*(){let e=yield X1(t),n=e.eventManager;return n.onListen=z1.bind(null,e.syncEngine),n.onUnlisten=q1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=G1.bind(null,e.syncEngine),n})}function ek(t,e,n={}){let r=new mn;return t.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(o,s,c,u,l){let h=new il({next:y=>{h.Za(),s.enqueueAndForget(()=>M0(o,g));let D=y.docs.has(c);!D&&y.fromCache?l.reject(new V(N.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&y.fromCache&&u&&u.source==="server"?l.reject(new V(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),g=new tl(Sm(c.path),h,{includeMetadataChanges:!0,_a:!0});return S0(o,g)}(yield O0(t),t.asyncQueue,e,n,r)})),r.promise}function tk(t,e,n={}){let r=new mn;return t.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(o,s,c,u,l){let h=new il({next:y=>{h.Za(),s.enqueueAndForget(()=>M0(o,g)),y.fromCache&&u.source==="server"?l.reject(new V(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),g=new tl(c,h,{includeMetadataChanges:!0,_a:!0});return S0(o,g)}(yield O0(t),t.asyncQueue,e,n,r)})),r.promise}function k0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Ub=new Map;function F0(t,e,n){if(!n)throw new V(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nk(t,e,n,r){if(e===!0&&r===!0)throw new V(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zb(t){if(!q.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $b(t){if(q.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Js(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=yl(t);throw new V(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ol=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ao=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ol({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ol(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qp;switch(r.type){case"firstParty":return new Qp(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return P(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Ub.get(n);r&&(B("ComponentProvider","Removing Datastore"),Ub.delete(n),r.terminate())}(this),Promise.resolve()}};function rk(t,e,n,r={}){var i;let o=(t=Js(t,ao))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=He.MOCK_USER;else{c=Du(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new He(l)}t._authCredentials=new Gp(new Vu(c,u))}}var co=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ct=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ar=class t extends co{constructor(e,n,r){super(e,n,Sm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function vl(t,e,...n){if(t=Kt(t),F0("collection","path",e),t instanceof ao){let r=Ae.fromString(e,...n);return $b(r),new ar(t,null,r)}{if(!(t instanceof Ct||t instanceof ar))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return $b(r),new ar(t.firestore,null,r)}}function ca(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=ju.newId()),F0("doc","path",e),t instanceof ao){let r=Ae.fromString(e,...n);return zb(r),new Ct(t,null,new q(r))}{if(!(t instanceof Ct||t instanceof ar))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return zb(r),new Ct(t.firestore,t instanceof ar?t.converter:null,new q(r))}}var sl=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ju(this,"async_queue_retry"),this.Vu=()=>{let r=$p();r&&B("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=$p();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=$p();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new mn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return P(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ia(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw Fn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=tm.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&X()}verifyOperationInProgress(){}wu(){return P(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Xs=class extends ao{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sl,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return P(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new sl(e),this._firestoreClient=void 0,yield e}})}};function L0(t,e){let n=typeof t=="object"?t:xu(),r=typeof t=="string"?t:e||"(default)",i=Mu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=bu("firestore");o&&rk(i,...o)}return i}function V0(t){if(t._terminated)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ik(t),t._firestoreClient}function ik(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,h){return new eg(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,k0(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new lm(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var ea=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(lt.fromBase64String(e))}catch(n){throw new V(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var al=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cl=class{constructor(e){this._methodName=e}};var ta=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var na=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var ok=/^__.*__$/;function j0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var dm=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return fm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(j0(this.Cu)&&ok.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},hm=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gl(e)}Qu(e,n,r,i=!1){return new dm({Cu:e,methodName:n,qu:r,path:Lt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function sk(t){let e=t._freezeSettings(),n=gl(t._databaseId);return new hm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ak(t,e,n,r=!1){return km(n,t.Qu(r?4:3,e))}function km(t,e){if(B0(t=Kt(t)))return uk("Unsupported field value:",e,t),ck(t,e);if(t instanceof cl)return function(r,i){if(!j0(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=km(c,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return c1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ve.fromDate(r);return{timestampValue:bg(i.serializer,o)}}if(r instanceof Ve){let o=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bg(i.serializer,o)}}if(r instanceof ta)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ea)return{bytesValue:f0(i.serializer,r._byteString)};if(r instanceof Ct){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:p0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof na)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Mm(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${yl(r)}`)}(t,e)}function ck(t,e){let n={};return Wb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(t,(r,i)=>{let o=km(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function B0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof ta||t instanceof ea||t instanceof Ct||t instanceof cl||t instanceof na)}function uk(t,e,n){if(!B0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=yl(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}var lk=new RegExp("[~\\*/\\[\\]]");function dk(t,e,n){if(e.search(lk)>=0)throw fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new al(...e.split("."))._internalPath}catch{throw fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fm(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(N.INVALID_ARGUMENT,c+t+u)}var ul=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new pm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(U0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},pm=class extends ul{data(){return super.data()}};function U0(t,e){return typeof e=="string"?dk(t,e):e instanceof al?e._internalPath:e._delegate._internalPath}function hk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ra=class{},gm=class extends ra{};function _l(t,e,...n){let r=[];e instanceof ra&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof ym).length,c=o.filter(u=>u instanceof mm).length;if(s>1||s>0&&c>0)throw new V(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var mm=class t extends gm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return z0(e._query,n),new co(e.firestore,e.converter,fg(e._query,n))}_parse(e){let n=sk(e.firestore);return function(o,s,c,u,l,h,g){let y;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new V(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){qb(g,h);let D=[];for(let x of g)D.push(Hb(u,o,x));y={arrayValue:{values:D}}}else y=Hb(u,o,g)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||qb(g,h),y=ak(c,s,g,h==="in"||h==="not-in");return Le.create(l,h,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var ym=class t extends ra{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)z0(s,u),s=fg(s,u)}(e._query,n),new co(e.firestore,e.converter,fg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Hb(t,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new V(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t0(e)&&n.indexOf("/")!==-1)throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ae.fromString(n));if(!q.isDocumentKey(r))throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gb(t,new q(r))}if(n instanceof Ct)return gb(t,n._key);throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yl(n)}.`)}function qb(t,e){if(!Array.isArray(t)||t.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z0(t,e){let n=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new V(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var vm=class{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return oa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Se(s.doubleValue));return new na(o)}convertGeoPoint(e){return new ta(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=bm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zs(e));default:return null}}convertTimestamp(e){let n=Ln(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ae.fromString(e);Re(w0(r));let i=new $u(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(n)||Fn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var Br=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ll=class extends ul{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Qi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(U0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Qi=class extends ll{data(e={}){return super.data(e)}},_m=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Br(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qi(this._firestore,this._userDataWriter,r.key,r,new Br(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Qi(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Br(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Qi(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Br(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:fk(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function fk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}function ua(t){t=Js(t,Ct);let e=Js(t.firestore,Xs);return ek(V0(e),t._key).then(n=>pk(e,t,n))}var dl=class extends vm{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}};function wl(t){t=Js(t,co);let e=Js(t.firestore,Xs),n=V0(e),r=new dl(e);return hk(t._query),tk(n,t._query).then(i=>new _m(e,r,t,i))}function pk(t,e,n){let r=n.docs.get(e._key),i=new dl(t);return new ll(t,i,e._key,r,new Br(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){uo=i})(Au),kr(new Qt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Xs(new Wp(r.getProvider("auth-internal")),new Yp(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Zt(db,"4.7.3",e),Zt(db,"4.7.3","esm2017")})();var gk={apiKey:"AIzaSyBMDG_5lDDr2YeB9GwJGP_C3XO5hdcltbk",authDomain:"trippbarker-31e6e.firebaseapp.com",projectId:"trippbarker-31e6e",storageBucket:"trippbarker-31e6e.appspot.com",messagingSenderId:"648512597814",appId:"1:648512597814:web:25016cb4a291e39ee4cd97"},mk=Dp(gk),Vn=L0(mk);function yk(t,e){if(t&1&&(A(0,"a",5),M(1,"GitHub REPO"),S()),t&2){let n=es();wi("href",n.project.repo,vi)}}function vk(t,e){if(t&1&&(A(0,"a",6),M(1,"PROJECT LINK"),S()),t&2){let n=es();wi("href",n.project.liveSite,vi)}}function _k(t,e){if(t&1&&(A(0,"div",7)(1,"h2"),M(2),S(),A(3,"p"),M(4),S(),U(5,"div",8),S()),t&2){let n=e.$implicit;qt("id","",n.contentRef,"Cont"),he(2),gt(n.header),he(2),gt(n.text),he(),qt("id","",n.contentRef,"Content")}}var $0=(()=>{let e=class e{constructor(r,i){this.route=r,this.router=i,this.project={id:"",ref:"",technologies:new Array,name:"",link:"null",liveSite:"null",repo:"null",description:""},this.details=new Array}ngOnInit(){return P(this,null,function*(){yield this.getProject()})}getProject(){return P(this,null,function*(){let r=this.route.snapshot.paramMap.get("ref");if(r){let i=yield ua(ca(Vn,"project",r)),o=yield ua(ca(Vn,"projectDetails",r));this.project.name=i.get("id"),this.project.ref=i.get("ref"),this.project.technologies=i.get("technologies"),this.project.name=i.get("name"),this.project.link=i.get("link"),this.project.liveSite=i.get("liveSite"),this.project.repo=i.get("repo"),this.project.description=i.get("desc");let s=1;for(console.log(this.project.repo);o.get("sect-"+s);){let c=o.get("sect-"+s).text;c=c.replaceAll("/n",`
`),c=c.replaceAll("/t","	");let u={header:o.get("sect-"+s).header,text:c,contentRef:o.get("sect-"+s).contentRef,contentType:o.get("sect-"+s).contentType,contentCaption:o.get("sect-"+s).contentCaption,contentExt:o.get("sect-"+s).contentExt};this.details.push(u),this.getContent(u.contentRef,u.contentType,u.contentCaption,u.contentExt),s++}}})}getContent(r,i,o,s){return P(this,null,function*(){if(i!="null"){let c=Ui(),u=Fr(c,"project/"+this.project.ref+"/"+r+s);Bi(u).then(l=>{if(i=="img"){let g=document.createElement("img");g.src=l,g.alt=o,g.style.setProperty("max-width","50rem"),g.style.setProperty("text-align","center"),document.getElementById(r+"Content")?.appendChild(g)}else if(i=="vid"){let g=document.createElement("video");g.src=l,g.controls=!0,document.getElementById(r+"Content")?.appendChild(g)}let h=document.createElement("p");h.textContent=o,h.style.setProperty("font-style","italic"),h.style.setProperty("font-size",".75rem"),h.style.setProperty("margin",".5rem"),h.style.setProperty("color","grey"),document.getElementById(r+"Content")?.appendChild(h)})}})}};e.\u0275fac=function(i){return new(i||e)(be(Gt),be(Ft))},e.\u0275cmp=Be({type:e,selectors:[["app-project-detail"]],standalone:!0,features:[Ar],decls:10,vars:5,consts:[["href","https://www.trippbarker.com/projects","id","back"],["id","project"],["id","repo","class","link",3,"href",4,"ngIf"],["id","liveSite","class","link",3,"href",4,"ngIf"],["class","detailContainer",3,"id",4,"ngFor","ngForOf"],["id","repo",1,"link",3,"href"],["id","liveSite",1,"link",3,"href"],[1,"detailContainer",3,"id"],[1,"detailContent",3,"id"]],template:function(i,o){i&1&&(A(0,"a",0),M(1,"[Projects]"),S(),A(2,"div",1)(3,"h1"),M(4),S(),A(5,"h2"),M(6),S(),ln(7,yk,2,1,"a",2)(8,vk,2,1,"a",3)(9,_k,6,6,"div",4),S()),i&2&&(he(4),gt(o.project.name),he(2),gt(o.project.description),he(),Ot("ngIf",o.project.repo!="null"),he(),Ot("ngIf",o.project.liveSite!="null"),he(),Ot("ngForOf",o.details))},dependencies:[er,eu,Ti],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ee6c4d}#project[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:60rem}.detailContainer[_ngcontent-%COMP%]{margin-left:1rem;height:100%;width:60rem}.detailContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.detailContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ee6c4d}.detailContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre-wrap;margin-left:1rem;margin-right:1rem}.link[_ngcontent-%COMP%]{font-weight:bolder;margin-right:2rem;font-size:1rem;text-decoration:none;color:#ee6c4d}.link[_ngcontent-%COMP%]:hover{color:#b64225}"]});let t=e;return t})();var la=(()=>{let e=class e{constructor(){this.messages=[]}add(r){this.messages.push(r)}clear(){this.messages=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Il=(()=>{let e=class e{constructor(r){this.messageService=r}};e.\u0275fac=function(i){return new(i||e)(G(la))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wk(t,e){if(t&1&&(A(0,"div",2)(1,"a",3)(2,"div",4)(3,"h2"),M(4),S(),A(5,"h3"),M(6),S()()()()),t&2){let n=e.$implicit;he(),qt("routerLink","/project/",n.ref,""),he(3),ts("",n.name," | ",n.technologies,""),he(2),gt(n.description)}}var El=(()=>{let e=class e{ngOnInit(){this.getProjects()}constructor(r,i){this.projectService=r,this.messageService=i,this.projects=new Array}getProjects(){return P(this,null,function*(){(yield wl(_l(vl(Vn,"project")))).forEach(i=>{let o={id:i.id,ref:i.data().ref,technologies:i.data().technologies,name:i.data().name,link:i.data().link,liveSite:i.data().liveSite,repo:i.data().repo,description:i.data().desc};this.projects.push(o)}),this.projects.forEach(i=>{this.getProjectImage(i.ref)})})}getProjectImage(r){return P(this,null,function*(){let i=Ui(),o=Fr(i,"project/"+r+"/main.png");Bi(o).then(s=>{let c=document.getElementById(r+"IMG");c.style.backgroundImage="url("+s+")"})})}};e.\u0275fac=function(i){return new(i||e)(be(Il),be(la))},e.\u0275cmp=Be({type:e,selectors:[["app-projects"]],standalone:!0,features:[Ar],decls:2,vars:1,consts:[["id","projects"],["class","projectCont",4,"ngFor","ngForOf"],[1,"projectCont"],[1,"project",3,"routerLink"],[1,"projectDets"]],template:function(i,o){i&1&&(A(0,"div",0),ln(1,wk,7,5,"div",1),S()),i&2&&(he(),Ot("ngForOf",o.projects))},dependencies:[er,Ti,yt],styles:["*[_ngcontent-%COMP%]{font-family:Azeret Mono,monospace}body[_ngcontent-%COMP%]{background-color:#e0fbfc}#projects[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;justify-content:space-around;width:100%;align-items:center;max-width:125rem}.projectCont[_ngcontent-%COMP%]{margin:1rem;display:flex;flex-direction:column;justify-content:center;align-items:center}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#293241;text-decoration:none}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ee6c4d}.project[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;padding:1rem;border-radius:.25rem;overflow:hidden}.projectImg[_ngcontent-%COMP%]{background-color:#293241;height:10rem;width:20rem;overflow-x:hidden;border-radius:.5rem .5rem 0 0;background-size:cover}.projectDets[_ngcontent-%COMP%]{margin-left:1rem}h2[_ngcontent-%COMP%]{margin-top:0}"]});let t=e;return t})();var q0=(()=>{let e=class e{constructor(r){this.projectService=r,this.projects=[]}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(be(Il))},e.\u0275cmp=Be({type:e,selectors:[["app-dashboard"]],decls:7,vars:0,consts:[["routerLink","/about-me"],["routerLink","/projects"],["routerLink","/bike"]],template:function(i,o){i&1&&(A(0,"nav")(1,"a",0),M(2,"ABOUT ME"),S(),A(3,"a",1),M(4,"PROJECTS"),S(),A(5,"a",2),M(6,"BIKE"),S()())},dependencies:[yt],styles:["nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:0}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:.5rem 0rem .5rem 2rem;text-decoration:none;font-family:Azeret Mono,monospace;font-weight:bolder;font-size:2rem;color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff4500;padding-left:1rem;transition:.1s}"]});let t=e;return t})();function Ik(t,e){if(t&1&&(A(0,"div",4)(1,"h2"),M(2),S(),A(3,"h3"),M(4),S()()),t&2){let n=e.$implicit;qt("routerLink","/brag/",n.year,""),he(2),xn("BRAG ",n.year,""),he(2),Wh("",n.days[0].startLocation," to ",n.days[7].endLocation," (",n.distance," miles, ",n.elevation," feet climbed)")}}var G0=(()=>{let e=class e{constructor(){this.brags=new Array}ngOnInit(){this.getBrags()}getBrags(){return P(this,null,function*(){let r=new Intl.NumberFormat("en-US");(yield wl(_l(vl(Vn,"brag")))).forEach(o=>{let s=new Array,c=0,u=0;for(let h=0;h<8;h++){let y={date:new Ve(o.data()["day"+h].date.seconds,o.data()["day"+h].date.nanoseconds).toDate(),day:o.data()["day"+h].day,number:o.data()["day"+h].number,distance:o.data()["day"+h].distance,elevation:o.data()["day"+h].elevation,movingTime:o.data()["day"+h].movingTime,endLocation:o.data()["day"+h].endLocation,startLocation:o.data()["day"+h].startLocation,stravaLink:o.data()["day"+h].stravaLink};c+=o.data()["day"+h].distance,u+=o.data()["day"+h].elevation,console.log(u),s.push(y)}let l={year:o.data().year,days:s,distance:r.format(Math.round((c+Number.EPSILON)*100)/100),elevation:r.format(Math.round((u+Number.EPSILON)*100)/100)};this.brags.push(l)}),console.log(this.brags)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["app-bike"]],decls:12,vars:1,consts:[["id","brags",1,"bikeContainer"],["routerLink","/checklist",1,"bragContainer"],["class","bragContainer",3,"routerLink",4,"ngFor","ngForOf"],["id","gear",1,"gearContainer"],[1,"bragContainer",3,"routerLink"]],template:function(i,o){i&1&&(A(0,"div",0)(1,"h1"),M(2,"Bike Ride Across Georgia"),S(),A(3,"div",1)(4,"h2"),M(5,"BRAG CHECKLIST"),S(),A(6,"h3"),M(7,"A checklist for BRAG including everything I need for showering, camping, and riding."),S()(),ln(8,Ik,5,7,"div",2),S(),A(9,"div",3)(10,"h1"),M(11,"GEAR"),S()()),i&2&&(he(8),Ot("ngForOf",o.brags))},dependencies:[er,yt],styles:[".bikeContainer[_ngcontent-%COMP%], .bragContainer[_ngcontent-%COMP%], .gearContainer[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 2rem}.bragContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#00008b}.bragContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:1rem}.bragContainer[_ngcontent-%COMP%]:hover{cursor:pointer;padding-left:1rem;transition:.1s}.bragContainer[_ngcontent-%COMP%]:hover   h2[_ngcontent-%COMP%]{color:#ff4500}"]});let t=e;return t})();function Ek(t,e){if(t&1&&(A(0,"p",12),M(1,"see the ride "),A(2,"a",13),M(3,"here"),S()()),t&2){let n=es().$implicit;he(2),wi("href",n.stravaLink,vi)}}function bk(t,e){if(t&1&&(A(0,"div",3)(1,"h2",4),M(2),A(3,"i"),M(4),S()(),A(5,"div",5)(6,"div",6)(7,"p"),M(8,"distance"),S(),A(9,"p")(10,"b",7),M(11),S(),M(12," mi"),S()(),A(13,"div",8)(14,"p"),M(15,"elevation gain"),S(),A(16,"p")(17,"b",7),M(18),S(),M(19," ft"),S()(),A(20,"div",9)(21,"p"),M(22,"moving time"),S(),A(23,"p")(24,"b",7),M(25),S()()()(),ln(26,Ek,4,1,"p",10),U(27,"div",11),S()),t&2){let n=e.$implicit;he(2),xn("day ",n.day," "),he(2),ts("",n.startLocation," to ",n.endLocation,""),he(7),gt(n.distance),he(7),gt(n.elevation),he(7),gt(n.movingTime),he(),Ot("ngIf",n.stravaLink!=""),he(),qt("id","day",n.number,"images")}}var W0=(()=>{let e=class e{constructor(r,i){this.route=r,this.router=i,this.brag={year:0,days:new Array,distance:"",elevation:""},this.totalDist=0,this.totalElv=0}ngOnInit(){return P(this,null,function*(){yield this.getBrag(),this.brag.days.forEach(r=>{console.log("hello"),console.log(this.brag.year.toString()),this.getImages(this.brag.year.toString(),r.number)})})}getBrag(){return P(this,null,function*(){let r=this.route.snapshot.paramMap.get("year"),i=yield ua(ca(Vn,"brag","brag"+r)),o=new Intl.NumberFormat("en-US"),s=new Array,c=0,u=0;for(let h=0;h<8;h++){let y={date:new Ve(i.get("day"+h).date.seconds,i.get("day"+h).date.nanoseconds).toDate(),day:i.get("day"+h).day,number:i.get("day"+h).number,distance:i.get("day"+h).distance,movingTime:i.get("day"+h).movingTime,elevation:i.get("day"+h).elevation,endLocation:i.get("day"+h).endLocation,startLocation:i.get("day"+h).startLocation,stravaLink:i.get("day"+h).stravaLink};c+=i.get("day"+h).distance,u+=i.get("day"+h).elevation,s.push(y)}let l={year:i.get("year"),days:s,distance:o.format(Math.round((c+Number.EPSILON)*100)/100),elevation:o.format(Math.round((u+Number.EPSILON)*100)/100)};this.brag=l})}getImages(r,i){return P(this,null,function*(){let o=Ui(),s=Fr(o,"brag/"+r+"/day"+i+"/thumbnails");cb(s).then(c=>{c.items.forEach(u=>{Bi(Fr(o,u.fullPath)).then(l=>{let h=document.createElement("img");h.id=u.name,h.src=l,h.setAttribute("height","100%"),h.style.setProperty("margin-right",".5rem"),h.style.setProperty("border-radius",".25rem"),document.getElementById("day"+i+"images")?.appendChild(h)})})})})}};e.\u0275fac=function(i){return new(i||e)(be(Gt),be(Ft))},e.\u0275cmp=Be({type:e,selectors:[["app-brag"]],decls:10,vars:4,consts:[["routerLink","/bike","id","back"],["id","bragContainer"],["class","dayContainer",4,"ngFor","ngForOf"],[1,"dayContainer"],[1,"header"],[1,"stats"],[1,"distance"],[1,"stat"],[1,"elevation"],[1,"time"],["class","rideLink",4,"ngIf"],[1,"bragImages",3,"id"],[1,"rideLink"],["target","_blank",3,"href"]],template:function(i,o){i&1&&(A(0,"a",0),M(1,"[BACK]"),S(),A(2,"div",1)(3,"h1"),M(4),S(),A(5,"h2"),M(6),S(),A(7,"h2"),M(8),S(),ln(9,bk,28,9,"div",2),S()),i&2&&(he(4),xn("BRAG ",o.brag.year,""),he(2),xn("distance: ",o.brag.distance," mi"),he(2),xn("elevation: ",o.brag.elevation," ft"),he(),Ot("ngForOf",o.brag.days))},dependencies:[er,eu,yt],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ee6c4d}h1[_ngcontent-%COMP%]{color:#293241}#bragContainer[_ngcontent-%COMP%], .dayContainer[_ngcontent-%COMP%], #back[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:60rem}.dayContainer[_ngcontent-%COMP%]{padding:1rem;margin:1rem;border-radius:.5rem}.header[_ngcontent-%COMP%]{color:#293241}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:bolder;color:#293241}.stats[_ngcontent-%COMP%]{display:flex;margin-bottom:15px}.stat[_ngcontent-%COMP%]{font-size:2rem;color:#293241}.distance[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.rideLink[_ngcontent-%COMP%]{margin:0 0 15px;padding:0}p[_ngcontent-%COMP%]{font-size:1rem}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-top:.5rem;padding-right:1rem;padding-bottom:.5rem}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]{border-right:1px solid #EE6C4D}.elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-left:1rem}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ee6c4d}.bragImages[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:20rem;padding-bottom:1rem;overflow-x:scroll;overflow-y:hidden}google-map[_ngcontent-%COMP%]{margin-right:1rem}img[_ngcontent-%COMP%]{margin:1rem}@media only screen and (max-width: 768px){.stats[_ngcontent-%COMP%]{flex-direction:column}.elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-left:0}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]{border-right:none}}[_ngcontent-%COMP%]::-webkit-scrollbar{height:12px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ee6c4d;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#b64225;cursor:grab}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{cursor:grabbing}"]});let t=e;return t})();var K0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["app-checklist"]],decls:174,vars:0,consts:[["routerLink","/bike","id","back"],["id","checklist"],["id","checklists"],[1,"checklistCat"],["type","checkbox","name","camping","id","tent"],["for","tent",1,"notselctable"],["type","checkbox","name","camping","id","groundcloth"],["for","groundcloth"],["type","checkbox","name","camping","id","stakes"],["for","stakes"],["type","checkbox","name","camping","id","mallet"],["for","mallet"],["type","checkbox","name","camping","id","chair"],["for","chair"],["type","checkbox","name","camping","id","batterybank"],["for","batterybank"],["type","checkbox","name","camping","id","clothes"],["for","clothes"],["type","checkbox","name","camping","id","hat"],["for","hat"],["type","checkbox","name","camping","id","shoes"],["for","shoes"],["type","checkbox","name","camping","id","crocs"],["for","crocs"],["type","checkbox","name","camping","id","clothingline"],["for","clothingline"],["type","checkbox","name","camping","id","spork"],["for","spork"],["type","checkbox","name","camping","id","oatmeal"],["for","oatmeal"],["type","checkbox","name","sleeping","id","sleepingpad"],["for","sleepingpad"],["type","checkbox","name","sleeping","id","sleepingbag"],["for","sleepingbag"],["type","checkbox","name","sleeping","id","pillow"],["for","pillow"],["type","checkbox","name","sleeping","id","airpump"],["for","airpump"],["type","checkbox","name","sleeping","id","eyemask"],["for","eyemask"],["type","checkbox","name","sleeping","id","earplugs"],["for","earplugs"],["type","checkbox","name","sleeping","id","fans"],["for","fans"],["type","checkbox","name","sleeping","id","theragun"],["for","theragun"],["type","checkbox","name","shower","id","soap"],["for","soap"],["type","checkbox","name","shower","id","shampoo"],["for","shampoo"],["type","checkbox","name","shower","id","towel"],["for","towel"],["type","checkbox","name","shower","id","toothpaste"],["for","toothpaste"],["type","checkbox","name","shower","id","toothbrush"],["for","toothbrush"],["type","checkbox","name","shower","id","comb"],["for","comb"],["type","checkbox","name","shower","id","chamoiscream"],["for","chamoiscream"],["type","checkbox","name","camping","id","bugrepellent"],["for","bugrepellent"],["type","checkbox","name","camping","id","sunscreen"],["for","sunscreen"],["type","checkbox","name","bike","id","bike"],["for","bike"],["type","checkbox","name","bike","id","bottles"],["for","bottles"],["type","checkbox","name","bike","id","helmet"],["for","helmet"],["type","checkbox","name","bike","id","glasses"],["for","glasses"],["type","checkbox","name","bike","id","cyclingshoes"],["for","cyclingshoes"],["type","checkbox","name","bike","id","flashlight"],["for","flashlight"],["type","checkbox","name","bike","id","chainlube"],["for","chainlube"],["type","checkbox","name","bike","id","gopro"],["for","gopro"],["type","checkbox","name","bike","id","hollyland"],["for","hollyland"]],template:function(i,o){i&1&&(A(0,"a",0),M(1,"[BACK]"),S(),A(2,"div",1)(3,"h2"),M(4,"BRAG Checklist"),S(),A(5,"div",2)(6,"div",3)(7,"h3"),M(8,"Camping"),S(),U(9,"input",4),A(10,"label",5),M(11,"tent"),S(),U(12,"br")(13,"input",6),A(14,"label",7),M(15,"ground cloth"),S(),U(16,"br")(17,"input",8),A(18,"label",9),M(19,"stakes"),S(),U(20,"br")(21,"input",10),A(22,"label",11),M(23,"mallet"),S(),U(24,"br")(25,"input",12),A(26,"label",13),M(27,"camping chair"),S(),U(28,"br")(29,"input",14),A(30,"label",15),M(31,"battery bank"),S(),U(32,"br")(33,"input",16),A(34,"label",17),M(35,"clothes"),S(),U(36,"br")(37,"input",18),A(38,"label",19),M(39,"hat"),S(),U(40,"br")(41,"input",20),A(42,"label",21),M(43,"shoes"),S(),U(44,"br")(45,"input",22),A(46,"label",23),M(47,"crocs"),S(),U(48,"br")(49,"input",24),A(50,"label",25),M(51,"clothing line"),S(),U(52,"br")(53,"input",26),A(54,"label",27),M(55,"spork"),S(),U(56,"br")(57,"input",28),A(58,"label",29),M(59,"oatmeal"),S(),U(60,"br"),S(),A(61,"div",3)(62,"h3"),M(63,"Sleeping"),S(),U(64,"input",30),A(65,"label",31),M(66,"sleeping pad"),S(),U(67,"br")(68,"input",32),A(69,"label",33),M(70,"sleeping bag"),S(),U(71,"br")(72,"input",34),A(73,"label",35),M(74,"pillow"),S(),U(75,"br")(76,"input",36),A(77,"label",37),M(78,"air pump"),S(),U(79,"br")(80,"input",38),A(81,"label",39),M(82,"eyemask"),S(),U(83,"br")(84,"input",40),A(85,"label",41),M(86,"earplugs"),S(),U(87,"br")(88,"input",42),A(89,"label",43),M(90,"fans"),S(),U(91,"br")(92,"input",44),A(93,"label",45),M(94,"theragun"),S(),U(95,"br"),S(),A(96,"div",3)(97,"h3"),M(98,"Shower Bag"),S(),U(99,"input",46),A(100,"label",47),M(101,"soap"),S(),U(102,"br")(103,"input",48),A(104,"label",49),M(105,"shampoo"),S(),U(106,"br")(107,"input",50),A(108,"label",51),M(109,"towel"),S(),U(110,"br")(111,"input",52),A(112,"label",53),M(113,"toothpaste"),S(),U(114,"br")(115,"input",54),A(116,"label",55),M(117,"toothbrush"),S(),U(118,"br")(119,"input",56),A(120,"label",57),M(121,"comb"),S(),U(122,"br")(123,"input",58),A(124,"label",59),M(125,"chamois cream"),S(),U(126,"br")(127,"input",60),A(128,"label",61),M(129,"bug repellent"),S(),U(130,"br")(131,"input",62),A(132,"label",63),M(133,"sun sunscreen"),S(),U(134,"br"),S(),A(135,"div",3)(136,"h3"),M(137,"Bike"),S(),U(138,"input",64),A(139,"label",65),M(140,"bike"),S(),U(141,"br")(142,"input",66),A(143,"label",67),M(144,"water bottles"),S(),U(145,"br")(146,"input",68),A(147,"label",69),M(148,"helmet"),S(),U(149,"br")(150,"input",70),A(151,"label",71),M(152,"glasses"),S(),U(153,"br")(154,"input",72),A(155,"label",73),M(156,"cycling shoes"),S(),U(157,"br")(158,"input",74),A(159,"label",75),M(160,"flashlight"),S(),U(161,"br")(162,"input",76),A(163,"label",77),M(164,"chainlube"),S(),U(165,"br")(166,"input",78),A(167,"label",79),M(168,"gopro"),S(),U(169,"br")(170,"input",80),A(171,"label",81),M(172,"hollyland mic"),S(),U(173,"br"),S()()())},dependencies:[yt],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ff4500}#checklist[_ngcontent-%COMP%]{max-width:60rem;margin-left:auto;margin-right:auto}#checklists[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.checklistCat[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ee6c4d}div[_ngcontent-%COMP%]{margin-left:1rem}h2[_ngcontent-%COMP%]{font-size:2rem;color:#293241}h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-left:2rem}label[_ngcontent-%COMP%]{font-size:1.5rem;-webkit-user-select:none;user-select:none}label[_ngcontent-%COMP%]:hover{color:#ee6c4d;cursor:pointer}input[_ngcontent-%COMP%]{height:1rem;width:1rem;margin-left:3rem}"]});let t=e;return t})();var Q0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["app-about-me"]],decls:105,vars:0,consts:[["routerLink","/dashboard","id","back"],["id","about"],["id","aboutMe"],["id","contact"],["href","https://github.com/TrippBarker","target","_blank"],["href","https://bsky.app/profile/caffeineowl.bsky.social","target","_blank"],["id","skills"],[1,"xpContainer"],[1,"xpTime"],[1,"xpDets"],[1,"xpContainer","dotted"]],template:function(i,o){i&1&&(A(0,"a",0),M(1,"[BACK]"),S(),A(2,"div",1)(3,"h2"),M(4,"About Me"),S(),A(5,"div",2)(6,"p"),M(7,"Hi, I\u2019m Tripp Barker, a Software Developer with a strong foundation in object-oriented design and full-stack development. I recently earned my degree in Software Development from Georgia Gwinnett College, where I led and contributed to several successful projects. These include an open-source system for organizing Magic: The Gathering card collections and a full-stack web service for the Georgia public school system that connects teachers with sponsors to fund classroom projects."),S(),A(8,"p"),M(9,"I prioritize flexibility and maintainability in my code, ensuring that projects remain adaptable to change. My workflow is guided by agile principles, keeping development aligned with stakeholder needs. I'm passionate about building innovative solutions and am eager to contribute my skills to a forward-thinking team."),S(),A(10,"p"),M(11,"I\u2019m available for work immediately\u2014feel free to reach out via phone or email!"),S()(),A(12,"h2"),M(13,"Contact"),S(),A(14,"div",3)(15,"p"),M(16,"GitHub...: "),A(17,"a",4),M(18,"TrippBarker"),S()(),A(19,"p"),M(20,"Bluesky..: "),A(21,"a",5),M(22,"caffeineowl"),S()()(),A(23,"h2"),M(24,"Skills and Technologies"),S(),A(25,"div",6)(26,"div")(27,"p"),M(28,"- Java"),S(),A(29,"p"),M(30,"- Python"),S(),A(31,"p"),M(32,"- JavaScript/HTML/CSS"),S()(),A(33,"div")(34,"p"),M(35,"- Microsoft Office Suite"),S(),A(36,"p"),M(37,"- Project Libre"),S(),A(38,"p"),M(39,"- Visual Paradigm"),S(),A(40,"p"),M(41,"- Firebase"),S()(),A(42,"div")(43,"p"),M(44,"- SQLite"),S(),A(45,"p"),M(46,"- Git"),S(),A(47,"p"),M(48,"- Angular"),S()()(),A(49,"h2"),M(50,"Education"),S(),A(51,"div",7)(52,"div",8)(53,"p"),M(54,"Aug. 2021-"),U(55,"br"),M(56,"Present"),S()(),A(57,"div",9)(58,"h3"),M(59,"Software Development, "),A(60,"em"),M(61,"Georgia Gwinnett College"),S()(),A(62,"p"),M(63,"GPA 3.7"),S()()(),A(64,"h2"),M(65,"Work Experience"),S(),A(66,"div",10)(67,"div",8)(68,"p"),M(69,"Jun. 2022-"),U(70,"br"),M(71,"Oct. 2023"),S()(),A(72,"div",9)(73,"h3"),M(74,"Alarm Handler, "),A(75,"em"),M(76,"INOC/ITSavvy"),S()(),A(77,"p"),M(78,"At ITSavvy I worked as an Alarm Handler monitoring incoming network alarms and associating them with known issues, maintenances, or otherwise open a new ticket to track new issues. I work as an intermediary between clients and carriers to ensure that tickets receive the most detailed up-to-date information regarding each step taken in the trouble shooting process."),S()()(),A(79,"div",10)(80,"div",8)(81,"p"),M(82,"Jan. 2020-"),U(83,"br"),M(84,"Jun. 2022"),S()(),A(85,"div",9)(86,"h3"),M(87,"Helpdesk Technician, "),A(88,"em"),M(89,"INOC"),S()(),A(90,"p"),M(91,"At INOC I worked as a Help Desk Technician assisting multiple clients facing various issues including account recovery, PC troubleshooting, RMA/Technician Dispatch coordination, and much more. In my role as Help Desk Technician, it was vital to my job that work processes be followed closely, tickets be worked quick and efficiently, and that I include clear and concise updates for all work done."),S()()(),A(92,"div",7)(93,"div",8)(94,"p"),M(95,"Oct. 2019-"),U(96,"br"),M(97,"Feb. 2020"),S()(),A(98,"div",9)(99,"h3"),M(100,"Level Two Computer Technician, "),A(101,"em"),M(102,"Wolf Pack Techies"),S()(),A(103,"p"),M(104,"At Wolf Pack Techies I worked as a Level 2 Computer Technician. My role was to receive/check in incoming customer computers, diagnose issues, research resolutions, and service the machines. Each step in the process required detailed documentation in our ticketing system. In this role I provided professional customer service to customers and worked to educate customers on how they may be able to prevent or resolve issues with their machines in the future."),S()()()())},dependencies:[yt],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ee6c4d}#about[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:50rem;display:flex;flex-direction:column;justify-content:center;align-items:flex-start}#contact[_ngcontent-%COMP%]{display:flex;flex-direction:column}#contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:bolder;color:#00008b}a[_ngcontent-%COMP%]:hover{color:#ee6c4d}h2[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem;border-bottom:1px solid black}#skills[_ngcontent-%COMP%]{display:flex;flex-direction:row}#skills[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.xpContainer[_ngcontent-%COMP%]{justify-content:space-between;display:flex}.dotted[_ngcontent-%COMP%]{border-bottom:1px dashed lightslategray}.xpTime[_ngcontent-%COMP%]{width:8rem;margin-right:1rem}.xpDets[_ngcontent-%COMP%]{width:41rem}"]});let t=e;return t})();var Dk=[{path:"about-me",component:Q0},{path:"projects",component:El},{path:"dashboard",component:q0},{path:"project/:ref",component:$0},{path:"bike",component:G0},{path:"brag/:year",component:W0},{path:"checklist",component:K0},{path:"",redirectTo:"/dashboard",pathMatch:"full"}],Z0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=at({type:e}),e.\u0275inj=st({imports:[op.forRoot(Dk),op]});let t=e;return t})();var Y0=(()=>{let e=class e{constructor(){this.title="Tripp Barker"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["app-root"]],decls:7,vars:1,consts:[["rel","preconnect","href",Fc`https://fonts.googleapis.com`],["rel","preconnect","href",Fc`https://fonts.gstatic.com`,"crossorigin",""],["href",Fc`https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100..900;1,100..900&display=swap`,"rel","stylesheet"],["routerLink","/dashboard","id","title"]],template:function(i,o){i&1&&(U(0,"link",0)(1,"link",1)(2,"link",2),A(3,"a",3)(4,"h1"),M(5),S()(),U(6,"router-outlet")),i&2&&(he(5),gt(o.title))},dependencies:[Jf,yt]});let t=e;return t})();var J0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=at({type:e}),e.\u0275inj=st({});let t=e;return t})();var X0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=at({type:e,bootstrap:[Y0]}),e.\u0275inj=st({imports:[RI,Z0,Ti,El,J0]});let t=e;return t})();xI().bootstrapModule(X0).catch(t=>console.error(t));
