var Ub=Object.defineProperty,zb=Object.defineProperties;var $b=Object.getOwnPropertyDescriptors;var uy=Object.getOwnPropertySymbols;var Hb=Object.prototype.hasOwnProperty,qb=Object.prototype.propertyIsEnumerable;var ly=(t,e,n)=>e in t?Ub(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})Hb.call(e,n)&&ly(t,n,e[n]);if(uy)for(var n of uy(e))qb.call(e,n)&&ly(t,n,e[n]);return t},de=(t,e)=>zb(t,$b(e));var _=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var dy=null;var Nl=1,hy=Symbol("SIGNAL");function te(t){let e=dy;return dy=t,e}var fy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gb(t){if(!(kl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Nl)){if(!t.producerMustRecompute(t)&&!Pl(t)){t.dirty=!1,t.lastCleanEpoch=Nl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Nl}}function py(t){return t&&(t.nextProducerIndex=0),te(t)}function gy(t,e){if(te(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(kl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ol(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Pl(t){aa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Gb(n),r!==n.version))return!0}return!1}function my(t){if(aa(t),kl(t))for(let e=0;e<t.producerNode.length;e++)Ol(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ol(t,e){if(Wb(t),aa(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Ol(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];aa(i),i.producerIndexOfThis[r]=e}}function kl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function aa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Wb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Kb(){throw new Error}var Qb=Kb;function yy(t){Qb=t}function V(t){return typeof t=="function"}function Lr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ca=Lr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function is(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(V(r))try{r()}catch(s){e=s instanceof ca?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{vy(s)}catch(o){e=e??[],o instanceof ca?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ca(e)}}add(e){var n;if(e&&e!==this)if(this.closed)vy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&is(n,e)}remove(e){let{_finalizers:n}=this;n&&is(n,e),e instanceof t&&e._removeParent(this)}};Te.EMPTY=(()=>{let t=new Te;return t.closed=!0,t})();var Fl=Te.EMPTY;function ua(t){return t instanceof Te||t&&"closed"in t&&V(t.remove)&&V(t.add)&&V(t.unsubscribe)}function vy(t){V(t)?t():t.unsubscribe()}var At={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vr={setTimeout(t,e,...n){let{delegate:r}=Vr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Vr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function la(t){Vr.setTimeout(()=>{let{onUnhandledError:e}=At;if(e)e(t);else throw t})}function ss(){}var _y=Ll("C",void 0,void 0);function wy(t){return Ll("E",void 0,t)}function Iy(t){return Ll("N",t,void 0)}function Ll(t,e,n){return{kind:t,value:e,error:n}}var Xn=null;function jr(t){if(At.useDeprecatedSynchronousErrorHandling){let e=!Xn;if(e&&(Xn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Xn;if(Xn=null,n)throw r}}else t()}function Ey(t){At.useDeprecatedSynchronousErrorHandling&&Xn&&(Xn.errorThrown=!0,Xn.error=t)}var er=class extends Te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ua(e)&&e.add(this)):this.destination=Jb}static create(e,n,r){return new Br(e,n,r)}next(e){this.isStopped?jl(Iy(e),this):this._next(e)}error(e){this.isStopped?jl(wy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jl(_y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Zb=Function.prototype.bind;function Vl(t,e){return Zb.call(t,e)}var Bl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){da(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){da(r)}else da(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){da(n)}}},Br=class extends er{constructor(e,n,r){super();let i;if(V(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&At.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vl(e.next,s),error:e.error&&Vl(e.error,s),complete:e.complete&&Vl(e.complete,s)}):i=e}this.destination=new Bl(i)}};function da(t){At.useDeprecatedSynchronousErrorHandling?Ey(t):la(t)}function Yb(t){throw t}function jl(t,e){let{onStoppedNotification:n}=At;n&&Vr.setTimeout(()=>n(t,e))}var Jb={closed:!0,next:ss,error:Yb,complete:ss};var Ur=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ot(t){return t}function Ul(...t){return zl(t)}function zl(t){return t.length===0?ot:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=eC(n)?n:new Br(n,r,i);return jr(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Dy(r),new r((i,s)=>{let o=new Br({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ur](){return this}pipe(...n){return zl(n)(this)}toPromise(n){return n=Dy(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Dy(t){var e;return(e=t??At.Promise)!==null&&e!==void 0?e:Promise}function Xb(t){return t&&V(t.next)&&V(t.error)&&V(t.complete)}function eC(t){return t&&t instanceof er||Xb(t)&&ua(t)}function $l(t){return V(t?.lift)}function q(t){return e=>{if($l(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(t,e,n,r,i){return new Hl(t,e,n,r,i)}var Hl=class extends er{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function zr(){return q((t,e)=>{let n=null;t._refCount++;let r=G(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var $r=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$l(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Te;let n=this.getSubject();e.add(this.source.subscribe(G(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Te.EMPTY)}return e}refCount(){return zr()(this)}};var by=Lr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $e=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ha(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new by}next(n){jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Fl:(this.currentObservers=null,s.push(n),new Te(()=>{this.currentObservers=null,is(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new ha(e,n),t})(),ha=class extends $e{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Fl}};var Oe=class extends $e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var at=new oe(t=>t.complete());function Cy(t){return t&&V(t.schedule)}function Ty(t){return t[t.length-1]}function Sy(t){return V(Ty(t))?t.pop():void 0}function An(t){return Cy(Ty(t))?t.pop():void 0}function Ay(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function My(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tr(t){return this instanceof tr?(this.v=t,this):new tr(t)}function xy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(w,T){s.push([h,f,w,T])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(w){d(s[0][3],w)}}function c(h){h.value instanceof tr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ry(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof My=="function"?My(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var fa=t=>t&&typeof t.length=="number"&&typeof t!="function";function pa(t){return V(t?.then)}function ga(t){return V(t[Ur])}function ma(t){return Symbol.asyncIterator&&V(t?.[Symbol.asyncIterator])}function ya(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function tC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var va=tC();function _a(t){return V(t?.[va])}function wa(t){return xy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield tr(n.read());if(i)return yield tr(void 0);yield yield tr(r)}}finally{n.releaseLock()}})}function Ia(t){return V(t?.getReader)}function Me(t){if(t instanceof oe)return t;if(t!=null){if(ga(t))return nC(t);if(fa(t))return rC(t);if(pa(t))return iC(t);if(ma(t))return Ny(t);if(_a(t))return sC(t);if(Ia(t))return oC(t)}throw ya(t)}function nC(t){return new oe(e=>{let n=t[Ur]();if(V(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rC(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function iC(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,la)})}function sC(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Ny(t){return new oe(e=>{aC(t,e).catch(n=>e.error(n))})}function oC(t){return Ny(wa(t))}function aC(t,e){var n,r,i,s;return Ay(this,void 0,void 0,function*(){try{for(n=Ry(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function tt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ea(t,e=0){return q((n,r)=>{n.subscribe(G(r,i=>tt(r,t,()=>r.next(i),e),()=>tt(r,t,()=>r.complete(),e),i=>tt(r,t,()=>r.error(i),e)))})}function Da(t,e=0){return q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Py(t,e){return Me(t).pipe(Da(e),Ea(e))}function Oy(t,e){return Me(t).pipe(Da(e),Ea(e))}function ky(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Fy(t,e){return new oe(n=>{let r;return tt(n,e,()=>{r=t[va](),tt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>V(r?.return)&&r.return()})}function ba(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{tt(n,e,()=>{let r=t[Symbol.asyncIterator]();tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ly(t,e){return ba(wa(t),e)}function Vy(t,e){if(t!=null){if(ga(t))return Py(t,e);if(fa(t))return ky(t,e);if(pa(t))return Oy(t,e);if(ma(t))return ba(t,e);if(_a(t))return Fy(t,e);if(Ia(t))return Ly(t,e)}throw ya(t)}function ye(t,e){return e?Vy(t,e):Me(t)}function O(...t){let e=An(t);return ye(t,e)}function Hr(t,e){let n=V(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function ql(t){return!!t&&(t instanceof oe||V(t.lift)&&V(t.subscribe))}var gn=Lr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function W(t,e){return q((n,r)=>{let i=0;n.subscribe(G(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:cC}=Array;function uC(t,e){return cC(e)?t(...e):t(e)}function jy(t){return W(e=>uC(t,e))}var{isArray:lC}=Array,{getPrototypeOf:dC,prototype:hC,keys:fC}=Object;function By(t){if(t.length===1){let e=t[0];if(lC(e))return{args:e,keys:null};if(pC(e)){let n=fC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function pC(t){return t&&typeof t=="object"&&dC(t)===hC}function Uy(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function os(...t){let e=An(t),n=Sy(t),{args:r,keys:i}=By(t);if(r.length===0)return ye([],e);let s=new oe(gC(r,e,i?o=>Uy(i,o):ot));return n?s.pipe(jy(n)):s}function gC(t,e,n=ot){return r=>{zy(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)zy(e,()=>{let u=ye(t[c],e),l=!1;u.subscribe(G(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function zy(t,e,n){t?tt(n,t,e):e()}function $y(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=T=>u<r?w(T):c.push(T),w=T=>{s&&e.next(T),u++;let b=!1;Me(n(T,l++)).subscribe(G(e,P=>{i?.(P),s?f(P):e.next(P)},()=>{b=!0},void 0,()=>{if(b)try{for(u--;c.length&&u<r;){let P=c.shift();o?tt(e,o,()=>w(P)):w(P)}h()}catch(P){e.error(P)}}))};return t.subscribe(G(e,f,()=>{d=!0,h()})),()=>{a?.()}}function _e(t,e,n=1/0){return V(e)?_e((r,i)=>W((s,o)=>e(r,s,i,o))(Me(t(r,i))),n):(typeof e=="number"&&(n=e),q((r,i)=>$y(r,i,t,n)))}function qr(t=1/0){return _e(ot,t)}function Hy(){return qr(1)}function Gr(...t){return Hy()(ye(t,An(t)))}function Ca(t){return new oe(e=>{Me(t()).subscribe(e)})}function gt(t,e){return q((n,r)=>{let i=0;n.subscribe(G(r,s=>t.call(e,s,i++)&&r.next(s)))})}function xn(t){return q((e,n)=>{let r=null,i=!1,s;r=e.subscribe(G(n,void 0,void 0,o=>{s=Me(t(o,xn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function qy(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(G(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function nr(t,e){return V(e)?_e(t,e,1):_e(t,1)}function Rn(t){return q((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function mn(t){return t<=0?()=>at:q((e,n)=>{let r=0;e.subscribe(G(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Gl(t){return W(()=>t)}function Ta(t=mC){return q((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function mC(){return new gn}function as(t){return q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function qt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gt((i,s)=>t(i,s,r)):ot,mn(1),n?Rn(e):Ta(()=>new gn))}function Wr(t){return t<=0?()=>at:q((e,n)=>{let r=[];e.subscribe(G(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Wl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gt((i,s)=>t(i,s,r)):ot,Wr(1),n?Rn(e):Ta(()=>new gn))}function Kl(t,e){return q(qy(t,e,arguments.length>=2,!0))}function Ql(...t){let e=An(t);return q((n,r)=>{(e?Gr(t,n,e):Gr(t,n)).subscribe(r)})}function mt(t,e){return q((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(G(r,c=>{i?.unsubscribe();let u=0,l=s++;Me(t(c,l)).subscribe(i=G(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Zl(t){return q((e,n)=>{Me(t).subscribe(G(n,()=>n.complete(),ss)),!n.closed&&e.subscribe(n)})}function ke(t,e,n){let r=V(t)||e||n?{next:t,error:e,complete:n}:t;return r?q((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(G(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ot}var Av="https://g.co/ng/security#xss",x=class extends Error{constructor(e,n){super(Hd(e,n)),this.code=e}};function Hd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Es(t){return{toString:t}.toString()}var Sa="__parameters__";function yC(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function xv(t,e,n){return Es(()=>{let r=yC(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Sa)?c[Sa]:Object.defineProperty(c,Sa,{value:[]})[Sa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Fe=globalThis;function ue(t){for(let e in t)if(t[e]===ue)return e;throw Error("Could not find renamed property on target object.")}function nt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(nt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Gy(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var vC=ue({__forward_ref__:ue});function qd(t){return t.__forward_ref__=qd,t.toString=function(){return nt(this())},t}function vt(t){return Rv(t)?t():t}function Rv(t){return typeof t=="function"&&t.hasOwnProperty(vC)&&t.__forward_ref__===qd}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ge(t){return{providers:t.providers||[],imports:t.imports||[]}}function rc(t){return Wy(t,Pv)||Wy(t,Ov)}function Nv(t){return rc(t)!==null}function Wy(t,e){return t.hasOwnProperty(e)?t[e]:null}function _C(t){let e=t&&(t[Pv]||t[Ov]);return e||null}function Ky(t){return t&&(t.hasOwnProperty(Qy)||t.hasOwnProperty(wC))?t[Qy]:null}var Pv=ue({\u0275prov:ue}),Qy=ue({\u0275inj:ue}),Ov=ue({ngInjectableDef:ue}),wC=ue({ngInjectorDef:ue}),F=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kv(t){return t&&!!t.\u0275providers}var IC=ue({\u0275cmp:ue}),EC=ue({\u0275dir:ue}),DC=ue({\u0275pipe:ue}),bC=ue({\u0275mod:ue}),Fa=ue({\u0275fac:ue}),cs=ue({__NG_ELEMENT_ID__:ue}),Zy=ue({__NG_ENV_ID__:ue});function Gt(t){return typeof t=="string"?t:t==null?"":String(t)}function CC(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Gt(t)}function TC(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,t)}function Gd(t,e){throw new x(-201,!1)}var z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(z||{}),od;function Fv(){return od}function yt(t){let e=od;return od=t,e}function Lv(t,e,n){let r=rc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&z.Optional)return null;if(e!==void 0)return e;Gd(t,"Injector")}var SC={},ls=SC,ad="__NG_DI_FLAG__",La="ngTempTokenPath",MC="ngTokenPath",AC=/\n/gm,xC="\u0275",Yy="__source",Jr;function RC(){return Jr}function Nn(t){let e=Jr;return Jr=t,e}function NC(t,e=z.Default){if(Jr===void 0)throw new x(-203,!1);return Jr===null?Lv(t,void 0,e):Jr.get(t,e&z.Optional?null:void 0,e)}function N(t,e=z.Default){return(Fv()||NC)(vt(t),e)}function E(t,e=z.Default){return N(t,ic(e))}function ic(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cd(t){let e=[];for(let n=0;n<t.length;n++){let r=vt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){let a=r[o],c=PC(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(N(i,s))}else e.push(N(r))}return e}function Vv(t,e){return t[ad]=e,t.prototype[ad]=e,t}function PC(t){return t[ad]}function OC(t,e,n,r){let i=t[La];throw e[Yy]&&i.unshift(e[Yy]),t.message=kC(`
`+t.message,i,n,r),t[MC]=i,t[La]=null,t}function kC(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==xC?t.slice(2):t;let i=nt(e);if(Array.isArray(e))i=e.map(nt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):nt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(AC,`
  `)}`}var sc=Vv(xv("Optional"),8);var Wd=Vv(xv("SkipSelf"),4);function ei(t,e){let n=t.hasOwnProperty(Fa);return n?t[Fa]:null}function Kd(t,e){t.forEach(n=>Array.isArray(n)?Kd(n,e):e(n))}function jv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Va(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var ds={},Wt=[],ti=new F(""),Bv=new F("",-1),Uv=new F(""),ja=class{get(e,n=ls){if(n===ls){let r=new Error(`NullInjectorError: No provider for ${nt(e)}!`);throw r.name="NullInjectorError",r}return n}},zv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zv||{}),Zt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zt||{}),wt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(wt||{});function FC(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ud(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];LC(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function $v(t){return t===3||t===4||t===6}function LC(t){return t.charCodeAt(0)===64}function Qd(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Jy(t,n,i,null,e[++r]):Jy(t,n,i,null,null))}}return t}function Jy(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Hv="ng-template";function VC(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&FC(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Zd(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Zd(t){return t.type===4&&t.value!==Hv}function jC(t,e,n){let r=t.type===4&&!n?Hv:t.value;return e===r}function BC(t,e,n){let r=4,i=t.attrs,s=i!==null?$C(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!xt(r)&&!xt(c))return!1;if(o&&xt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!jC(t,c,n)||c===""&&e.length===1){if(xt(r))return!1;o=!0}}else if(r&8){if(i===null||!VC(t,i,c,n)){if(xt(r))return!1;o=!0}}else{let u=e[++a],l=UC(c,i,Zd(t),n);if(l===-1){if(xt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(xt(r))return!1;o=!0}}}}return xt(r)||o}function xt(t){return(t&1)===0}function UC(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return HC(e,t)}function zC(t,e,n=!1){for(let r=0;r<e.length;r++)if(BC(t,e[r],n))return!0;return!1}function $C(t){for(let e=0;e<t.length;e++){let n=t[e];if($v(n))return e}return t.length}function HC(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Xy(t,e){return t?":not("+e.trim()+")":e}function qC(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!xt(o)&&(e+=Xy(s,i),i=""),r=o,s=s||!xt(r);n++}return i!==""&&(e+=Xy(s,i)),e}function GC(t){return t.map(qC).join(",")}function WC(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!xt(i))break;i=s}r++}return{attrs:e,classes:n}}function Se(t){return Es(()=>{let e=Qv(t),n=de(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zt.Emulated,styles:t.styles||Wt,_:null,schemas:t.schemas||null,tView:null,id:""});Zv(n);let r=t.dependencies;return n.directiveDefs=tv(r,!1),n.pipeDefs=tv(r,!0),n.id=ZC(n),n})}function KC(t){return On(t)||qv(t)}function QC(t){return t!==null}function We(t){return Es(()=>({type:t.type,bootstrap:t.bootstrap||Wt,declarations:t.declarations||Wt,imports:t.imports||Wt,exports:t.exports||Wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ev(t,e){if(t==null)return ds;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=wt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==wt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ln(t){return Es(()=>{let e=Qv(t);return Zv(e),e})}function On(t){return t[IC]||null}function qv(t){return t[EC]||null}function Gv(t){return t[DC]||null}function Wv(t){let e=On(t)||qv(t)||Gv(t);return e!==null?e.standalone:!1}function Kv(t,e){let n=t[bC]||null;if(!n&&e===!0)throw new Error(`Type ${nt(t)} does not have '\u0275mod' property.`);return n}function Qv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ds,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ev(t.inputs,e),outputs:ev(t.outputs),debugInfo:null}}function Zv(t){t.features?.forEach(e=>e(t))}function tv(t,e){if(!t)return null;let n=e?Gv:KC;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(QC)}function ZC(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function YC(...t){return{\u0275providers:Yv(!0,t),\u0275fromNgModule:!0}}function Yv(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Kd(e,o=>{let a=o;ld(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Jv(i,s),n}function Jv(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Yd(i,s=>{e(s,r)})}}function ld(t,e,n,r){if(t=vt(t),!t)return!1;let i=null,s=Ky(t),o=!s&&On(t);if(!s&&!o){let c=t.ngModule;if(s=Ky(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)ld(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Kd(s.imports,l=>{ld(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Jv(u,e)}if(!a){let u=ei(i)||(()=>new i);e({provide:i,useFactory:u,deps:Wt},i),e({provide:Uv,useValue:i,multi:!0},i),e({provide:ti,useValue:()=>N(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Yd(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Yd(t,e){for(let n of t)kv(n)&&(n=n.\u0275providers),Array.isArray(n)?Yd(n,e):e(n)}var JC=ue({provide:String,useValue:ue});function Xv(t){return t!==null&&typeof t=="object"&&JC in t}function XC(t){return!!(t&&t.useExisting)}function eT(t){return!!(t&&t.useFactory)}function dd(t){return typeof t=="function"}var oc=new F(""),Ra={},tT={},Yl;function Jd(){return Yl===void 0&&(Yl=new ja),Yl}var ct=class{},hs=class extends ct{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fd(e,o=>this.processProvider(o)),this.records.set(Bv,Kr(void 0,this)),i.has("environment")&&this.records.set(ct,Kr(void 0,this));let s=this.records.get(oc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Uv,Wt,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Nn(this),r=yt(void 0),i;try{return e()}finally{Nn(n),yt(r)}}get(e,n=ls,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Zy))return e[Zy](this);r=ic(r);let i,s=Nn(this),o=yt(void 0);try{if(!(r&z.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=aT(e)&&rc(e);u&&this.injectableDefInScope(u)?c=Kr(hd(e),Ra):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&z.Self?Jd():this.parent;return n=r&z.Optional&&n===ls?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[La]=a[La]||[]).unshift(nt(e)),s)throw a;return OC(a,e,"R3InjectorError",this.source)}else throw a}finally{yt(o),Nn(s)}}resolveInjectorInitializers(){let e=te(null),n=Nn(this),r=yt(void 0),i;try{let s=this.get(ti,Wt,z.Self);for(let o of s)o()}finally{Nn(n),yt(r),te(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){e=vt(e);let n=dd(e)?e:vt(e&&e.provide),r=rT(e);if(!dd(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Kr(void 0,Ra,!0),i.factory=()=>cd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=te(null);try{return n.value===Ra&&(n.value=tT,n.value=n.factory()),typeof n.value=="object"&&n.value&&oT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{te(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function hd(t){let e=rc(t),n=e!==null?e.factory:ei(t);if(n!==null)return n;if(t instanceof F)throw new x(204,!1);if(t instanceof Function)return nT(t);throw new x(204,!1)}function nT(t){if(t.length>0)throw new x(204,!1);let n=_C(t);return n!==null?()=>n.factory(t):()=>new t}function rT(t){if(Xv(t))return Kr(void 0,t.useValue);{let e=iT(t);return Kr(e,Ra)}}function iT(t,e,n){let r;if(dd(t)){let i=vt(t);return ei(i)||hd(i)}else if(Xv(t))r=()=>vt(t.useValue);else if(eT(t))r=()=>t.useFactory(...cd(t.deps||[]));else if(XC(t))r=()=>N(vt(t.useExisting));else{let i=vt(t&&(t.useClass||t.provide));if(sT(t))r=()=>new i(...cd(t.deps));else return ei(i)||hd(i)}return r}function Kr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sT(t){return!!t.deps}function oT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function aT(t){return typeof t=="function"||typeof t=="object"&&t instanceof F}function fd(t,e){for(let n of t)Array.isArray(n)?fd(n,e):n&&kv(n)?fd(n.\u0275providers,e):e(n)}function yn(t,e){t instanceof hs&&t.assertNotDestroyed();let n,r=Nn(t),i=yt(void 0);try{return e()}finally{Nn(r),yt(i)}}function e_(){return Fv()!==void 0||RC()!=null}function cT(t){if(!e_())throw new x(-203,!1)}function uT(t){let e=Fe.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function lT(t){return typeof t=="function"}var vn=0,K=1,k=2,qe=3,Rt=4,Pt=5,Ba=6,fs=7,Yt=8,ni=9,Nt=10,Le=11,ps=12,nv=13,si=14,Jt=15,ac=16,Qr=17,ri=18,cc=19,t_=20,Pn=21,Jl=22,sr=23,kn=25,n_=1;var or=7,Ua=8,za=9,_t=10,Xd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Xd||{});function rr(t){return Array.isArray(t)&&typeof t[n_]=="object"}function _n(t){return Array.isArray(t)&&t[n_]===!0}function r_(t){return(t.flags&4)!==0}function uc(t){return t.componentOffset>-1}function eh(t){return(t.flags&1)===1}function Ds(t){return!!t.template}function dT(t){return(t[k]&512)!==0}var pd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function i_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function lr(){return s_}function s_(t){return t.type.prototype.ngOnChanges&&(t.setInput=fT),hT}lr.ngInherit=!0;function hT(){let t=a_(this),e=t?.current;if(e){let n=t.previous;if(n===ds)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fT(t,e,n,r,i){let s=this.declaredInputs[r],o=a_(t)||pT(t,{previous:ds,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new pd(u&&u.currentValue,n,c===ds),i_(t,e,i,n)}var o_="__ngSimpleChanges__";function a_(t){return t[o_]||null}function pT(t,e){return t[o_]=e}var rv=null;var Kt=function(t,e,n){rv?.(t,e,n)},gT="svg",mT="math",yT=!1;function vT(){return yT}function Xt(t){for(;Array.isArray(t);)t=t[vn];return t}function _T(t,e){return Xt(e[t])}function It(t,e){return Xt(e[t.index])}function c_(t,e){return t.data[e]}function Vn(t,e){let n=e[t];return rr(n)?n:n[vn]}function th(t){return(t[k]&128)===128}function wT(t){return _n(t[qe])}function $a(t,e){return e==null?null:t[e]}function u_(t){t[Qr]=0}function IT(t){t[k]&1024||(t[k]|=1024,th(t)&&gs(t))}function ET(t,e){for(;t>0;)e=e[si],t--;return e}function nh(t){return!!(t[k]&9216||t[sr]?.dirty)}function gd(t){t[Nt].changeDetectionScheduler?.notify(1),nh(t)?gs(t):t[k]&64&&(vT()?(t[k]|=1024,gs(t)):t[Nt].changeDetectionScheduler?.notify())}function gs(t){t[Nt].changeDetectionScheduler?.notify();let e=ms(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!th(e)));)e=ms(e)}function l_(t,e){if((t[k]&256)===256)throw new x(911,!1);t[Pn]===null&&(t[Pn]=[]),t[Pn].push(e)}function DT(t,e){if(t[Pn]===null)return;let n=t[Pn].indexOf(e);n!==-1&&t[Pn].splice(n,1)}function ms(t){let e=t[qe];return _n(e)?e[qe]:e}var Q={lFrame:__(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bT(){return Q.lFrame.elementDepthCount}function CT(){Q.lFrame.elementDepthCount++}function TT(){Q.lFrame.elementDepthCount--}function d_(){return Q.bindingsEnabled}function ST(){return Q.skipHydrationRootTNode!==null}function MT(t){return Q.skipHydrationRootTNode===t}function AT(){Q.skipHydrationRootTNode=null}function fe(){return Q.lFrame.lView}function wn(){return Q.lFrame.tView}function Et(){let t=h_();for(;t!==null&&t.type===64;)t=t.parent;return t}function h_(){return Q.lFrame.currentTNode}function xT(){let t=Q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function bs(t,e){let n=Q.lFrame;n.currentTNode=t,n.isParent=e}function f_(){return Q.lFrame.isParent}function RT(){Q.lFrame.isParent=!1}function p_(){return Q.lFrame.bindingIndex}function NT(t){return Q.lFrame.bindingIndex=t}function rh(){return Q.lFrame.bindingIndex++}function g_(t){let e=Q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function PT(){return Q.lFrame.inI18n}function OT(t,e){let n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=t,md(e)}function kT(){return Q.lFrame.currentDirectiveIndex}function md(t){Q.lFrame.currentDirectiveIndex=t}function m_(t){Q.lFrame.currentQueryIndex=t}function FT(t){let e=t[K];return e.type===2?e.declTNode:e.type===1?t[Pt]:null}function y_(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&z.Host);)if(i=FT(s),i===null||(s=s[si],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Q.lFrame=v_();return r.currentTNode=e,r.lView=t,!0}function ih(t){let e=v_(),n=t[K];Q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function v_(){let t=Q.lFrame,e=t===null?null:t.child;return e===null?__(t):e}function __(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function w_(){let t=Q.lFrame;return Q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var I_=w_;function sh(){let t=w_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function LT(t){return(Q.lFrame.contextLView=ET(t,Q.lFrame.contextLView))[Yt]}function Cs(){return Q.lFrame.selectedIndex}function ar(t){Q.lFrame.selectedIndex=t}function oh(){let t=Q.lFrame;return c_(t.tView,t.selectedIndex)}function VT(){return Q.lFrame.currentNamespace}var E_=!0;function ah(){return E_}function ch(t){E_=t}function jT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=s_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function uh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Na(t,e,n){D_(t,e,3,n)}function Pa(t,e,n,r){(t[k]&3)===n&&D_(t,e,n,r)}function Xl(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function D_(t,e,n,r){let i=r!==void 0?t[Qr]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Qr]+=65536),(a<s||s==-1)&&(BT(t,n,e,c),t[Qr]=(t[Qr]&4294901760)+c+2),c++}function iv(t,e){Kt(4,t,e);let n=te(null);try{e.call(t)}finally{te(n),Kt(5,t,e)}}function BT(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[k]>>14<t[Qr]>>16&&(t[k]&3)===e&&(t[k]+=16384,iv(a,s)):iv(a,s)}var Xr=-1,ys=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function UT(t){return t instanceof ys}function zT(t){return(t.flags&8)!==0}function $T(t){return(t.flags&16)!==0}function b_(t){return t!==Xr}function Ha(t){return t&32767}function HT(t){return t>>16}function qa(t,e){let n=HT(t),r=e;for(;n>0;)r=r[si],n--;return r}var yd=!0;function sv(t){let e=yd;return yd=t,e}var qT=256,C_=qT-1,T_=5,GT=0,Qt={};function WT(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(cs)&&(r=n[cs]),r==null&&(r=n[cs]=GT++);let i=r&C_,s=1<<i;e.data[t+(i>>T_)]|=s}function S_(t,e){let n=M_(t,e);if(n!==-1)return n;let r=e[K];r.firstCreatePass&&(t.injectorIndex=e.length,ed(r.data,t),ed(e,null),ed(r.blueprint,null));let i=lh(t,e),s=t.injectorIndex;if(b_(i)){let o=Ha(i),a=qa(i,e),c=a[K].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function ed(t,e){t.push(0,0,0,0,0,0,0,0,e)}function M_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function lh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=P_(i),r===null)return Xr;if(n++,i=i[si],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xr}function KT(t,e,n){WT(t,e,n)}function QT(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if($v(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function A_(t,e,n){if(n&z.Optional||t!==void 0)return t;Gd(e,"NodeInjector")}function x_(t,e,n,r){if(n&z.Optional&&r===void 0&&(r=null),!(n&(z.Self|z.Host))){let i=t[ni],s=yt(void 0);try{return i?i.get(e,r,n&z.Optional):Lv(e,r,n&z.Optional)}finally{yt(s)}}return A_(r,e,n)}function R_(t,e,n,r=z.Default,i){if(t!==null){if(e[k]&2048&&!(r&z.Self)){let o=eS(t,e,n,r,Qt);if(o!==Qt)return o}let s=N_(t,e,n,r,Qt);if(s!==Qt)return s}return x_(e,n,r,i)}function N_(t,e,n,r,i){let s=JT(n);if(typeof s=="function"){if(!y_(e,t,r))return r&z.Host?A_(i,n,r):x_(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&z.Optional))Gd(n);else return o}finally{I_()}}else if(typeof s=="number"){let o=null,a=M_(t,e),c=Xr,u=r&z.Host?e[Jt][Pt]:null;for((a===-1||r&z.SkipSelf)&&(c=a===-1?lh(t,e):e[a+8],c===Xr||!av(r,!1)?a=-1:(o=e[K],a=Ha(c),e=qa(c,e)));a!==-1;){let l=e[K];if(ov(s,a,l.data)){let d=ZT(a,e,n,o,r,u);if(d!==Qt)return d}c=e[a+8],c!==Xr&&av(r,e[K].data[a+8]===u)&&ov(s,a,e)?(o=l,a=Ha(c),e=qa(c,e)):a=-1}}return i}function ZT(t,e,n,r,i,s){let o=e[K],a=o.data[t+8],c=r==null?uc(a)&&yd:r!=o&&(a.type&3)!==0,u=i&z.Host&&s===a,l=YT(a,o,n,c,u);return l!==null?vs(e,o,l,a):Qt}function YT(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let w=o[f];if(f<c&&n===w||f>=c&&w.type===n)return f}if(i){let f=o[c];if(f&&Ds(f)&&f.type===n)return c}return null}function vs(t,e,n,r){let i=t[n],s=e.data;if(UT(i)){let o=i;o.resolving&&TC(CC(s[n]));let a=sv(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?yt(o.injectImpl):null,l=y_(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&jT(n,s[n],e)}finally{u!==null&&yt(u),sv(a),o.resolving=!1,I_()}}return i}function JT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(cs)?t[cs]:void 0;return typeof e=="number"?e>=0?e&C_:XT:e}function ov(t,e,n){let r=1<<t;return!!(n[e+(t>>T_)]&r)}function av(t,e){return!(t&z.Self)&&!(t&z.Host&&e)}var ir=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return R_(this._tNode,this._lView,e,ic(r),n)}};function XT(){return new ir(Et(),fe())}function lc(t){return Es(()=>{let e=t.prototype.constructor,n=e[Fa]||vd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Fa]||vd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function vd(t){return Rv(t)?()=>{let e=vd(vt(t));return e&&e()}:ei(t)}function eS(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[k]&2048&&!(o[k]&512);){let a=N_(s,o,n,r|z.Self,Qt);if(a!==Qt)return a;let c=s.parent;if(!c){let u=o[t_];if(u){let l=u.get(n,Qt,r);if(l!==Qt)return l}c=P_(o),o=o[si]}s=c}return i}function P_(t){let e=t[K],n=e.type;return n===2?e.declTNode:n===1?t[Pt]:null}function dh(t){return QT(Et(),t)}function cv(t,e=null,n=null,r){let i=O_(t,e,n,r);return i.resolveInjectorInitializers(),i}function O_(t,e=null,n=null,r,i=new Set){let s=[n||Wt,YC(t)];return r=r||(typeof t=="object"?void 0:nt(t)),new hs(s,e||Jd(),r||null,i)}var Ot=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return cv({name:""},i,r,"");{let s=r.name??"";return cv({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=ls,e.NULL=new ja,e.\u0275prov=A({token:e,providedIn:"any",factory:()=>N(Bv)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var tS="ngOriginalError";function td(t){return t[tS]}var en=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&td(e);for(;n&&td(n);)n=td(n);return n||null}},k_=new F("",{providedIn:"root",factory:()=>E(en).handleError.bind(void 0)}),hh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nS,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),_d=class extends hh{constructor(e){super(),this._lView=e}onDestroy(e){return l_(this._lView,e),()=>DT(this._lView,e)}};function nS(){return new _d(fe())}function rS(){return dc(Et(),fe())}function dc(t,e){return new dr(It(t,e))}var dr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=rS;let t=e;return t})();var wd=class extends $e{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,e_()&&(this.destroyRef=E(hh,{optional:!0})??void 0)}emit(e){let n=te(null);try{super.next(e)}finally{te(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=nd(s),i&&(i=nd(i)),o&&(o=nd(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Te&&e.add(a),a}};function nd(t){return e=>{setTimeout(t,void 0,e)}}var He=wd;function F_(t){return(t.flags&128)===128}var L_=new Map,iS=0;function sS(){return iS++}function oS(t){L_.set(t[cc],t)}function aS(t){L_.delete(t[cc])}var uv="__ngContext__";function cr(t,e){rr(e)?(t[uv]=e[cc],oS(e)):t[uv]=e}function V_(t){return B_(t[ps])}function j_(t){return B_(t[Rt])}function B_(t){for(;t!==null&&!_n(t);)t=t[Rt];return t}var Id;function U_(t){Id=t}function cS(){if(Id!==void 0)return Id;if(typeof document<"u")return document;throw new x(210,!1)}var hc=new F("",{providedIn:"root",factory:()=>uS}),uS="ng",fh=new F(""),jn=new F("",{providedIn:"platform",factory:()=>"unknown"});var ph=new F("",{providedIn:"root",factory:()=>cS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var lS="h",dS="b";var hS=()=>null;function gh(t,e,n=!1){return hS(t,e,n)}var z_=!1,fS=new F("",{providedIn:"root",factory:()=>z_});var Ma;function pS(){if(Ma===void 0&&(Ma=null,Fe.trustedTypes))try{Ma=Fe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ma}function gS(t){return pS()?.createScriptURL(t)||t}var Aa;function mS(){if(Aa===void 0&&(Aa=null,Fe.trustedTypes))try{Aa=Fe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Aa}function lv(t){return mS()?.createScriptURL(t)||t}var Ga=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Av})`}};function fc(t){return t instanceof Ga?t.changingThisBreaksApplicationSecurity:t}function mh(t,e){let n=yS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Av})`)}return n===e}function yS(t){return t instanceof Ga&&t.getTypeName()||null}var vS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $_(t){return t=String(t),t.match(vS)?t:"unsafe:"+t}var pc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pc||{});function oi(t){let e=q_();return e?e.sanitize(pc.URL,t)||"":mh(t,"URL")?fc(t):$_(Gt(t))}function _S(t){let e=q_();if(e)return lv(e.sanitize(pc.RESOURCE_URL,t)||"");if(mh(t,"ResourceURL"))return lv(fc(t));throw new x(904,!1)}function gc(t){return gS(t[0])}function wS(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?_S:oi}function H_(t,e,n){return wS(e,n)(t)}function q_(){let t=fe();return t&&t[Nt].sanitizer}function G_(t){return t instanceof Function?t():t}function IS(t){return(t??E(Ot)).get(jn)==="browser"}var hr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(hr||{}),ES;function yh(t,e){return ES(t,e)}function Zr(t,e,n,r,i){if(r!=null){let s,o=!1;_n(r)?s=r:rr(r)&&(o=!0,r=r[vn]);let a=Xt(r);t===0&&n!==null?i==null?Y_(e,n,a):Wa(e,n,a,i||null,!0):t===1&&n!==null?Wa(e,n,a,i||null,!0):t===2?jS(e,a,o):t===3&&e.destroyNode(a),s!=null&&US(e,t,s,n,i)}}function DS(t,e){return t.createText(e)}function bS(t,e,n){t.setValue(e,n)}function W_(t,e,n){return t.createElement(e,n)}function CS(t,e){K_(t,e),e[vn]=null,e[Pt]=null}function TS(t,e,n,r,i,s){r[vn]=i,r[Pt]=e,mc(t,r,n,1,i,s)}function K_(t,e){e[Nt].changeDetectionScheduler?.notify(1),mc(t,e,e[Le],2,null,null)}function SS(t){let e=t[ps];if(!e)return rd(t[K],t);for(;e;){let n=null;if(rr(e))n=e[ps];else{let r=e[_t];r&&(n=r)}if(!n){for(;e&&!e[Rt]&&e!==t;)rr(e)&&rd(e[K],e),e=e[qe];e===null&&(e=t),rr(e)&&rd(e[K],e),n=e&&e[Rt]}e=n}}function MS(t,e,n,r){let i=_t+r,s=n.length;r>0&&(n[i-1][Rt]=e),r<s-_t?(e[Rt]=n[i],jv(n,_t+r,e)):(n.push(e),e[Rt]=null),e[qe]=n;let o=e[ac];o!==null&&n!==o&&AS(o,e);let a=e[ri];a!==null&&a.insertView(t),gd(e),e[k]|=128}function AS(t,e){let n=t[za],i=e[qe][qe][Jt];e[Jt]!==i&&(t[k]|=Xd.HasTransplantedViews),n===null?t[za]=[e]:n.push(e)}function Q_(t,e){let n=t[za],r=n.indexOf(e);n.splice(r,1)}function Ed(t,e){if(t.length<=_t)return;let n=_t+e,r=t[n];if(r){let i=r[ac];i!==null&&i!==t&&Q_(i,r),e>0&&(t[n-1][Rt]=r[Rt]);let s=Va(t,_t+e);CS(r[K],r);let o=s[ri];o!==null&&o.detachView(s[K]),r[qe]=null,r[Rt]=null,r[k]&=-129}return r}function Z_(t,e){if(!(e[k]&256)){let n=e[Le];n.destroyNode&&mc(t,e,n,3,null,null),SS(e)}}function rd(t,e){if(e[k]&256)return;let n=te(null);try{e[k]&=-129,e[k]|=256,e[sr]&&my(e[sr]),RS(t,e),xS(t,e),e[K].type===1&&e[Le].destroy();let r=e[ac];if(r!==null&&_n(e[qe])){r!==e[qe]&&Q_(r,e);let i=e[ri];i!==null&&i.detachView(t)}aS(e)}finally{te(n)}}function xS(t,e){let n=t.cleanup,r=e[fs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[fs]=null);let i=e[Pn];if(i!==null){e[Pn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function RS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ys)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Kt(4,a,c);try{c.call(a)}finally{Kt(5,a,c)}}else{Kt(4,i,s);try{s.call(i)}finally{Kt(5,i,s)}}}}}function NS(t,e,n){return PS(t,e.parent,n)}function PS(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[vn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Zt.None||s===Zt.Emulated)return null}return It(r,n)}}function Wa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Y_(t,e,n){t.appendChild(e,n)}function dv(t,e,n,r,i){r!==null?Wa(t,e,n,r,i):Y_(t,e,n)}function OS(t,e,n,r){t.removeChild(e,n,r)}function vh(t,e){return t.parentNode(e)}function kS(t,e){return t.nextSibling(e)}function FS(t,e,n){return VS(t,e,n)}function LS(t,e,n){return t.type&40?It(t,n):null}var VS=LS,hv;function _h(t,e,n,r){let i=NS(t,r,e),s=e[Le],o=r.parent||e[Pt],a=FS(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)dv(s,i,n[c],a,!1);else dv(s,i,n,a,!1);hv!==void 0&&hv(s,r,e,n,i)}function Oa(t,e){if(e!==null){let n=e.type;if(n&3)return It(e,t);if(n&4)return Dd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Oa(t,r);{let i=t[e.index];return _n(i)?Dd(-1,i):Xt(i)}}else{if(n&32)return yh(e,t)()||Xt(t[e.index]);{let r=J_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ms(t[Jt]);return Oa(i,r)}else return Oa(t,e.next)}}}return null}function J_(t,e){if(e!==null){let r=t[Jt][Pt],i=e.projection;return r.projection[i]}return null}function Dd(t,e){let n=_t+t+1;if(n<e.length){let r=e[n],i=r[K].firstChild;if(i!==null)return Oa(r,i)}return e[or]}function jS(t,e,n){let r=vh(t,e);r&&OS(t,r,e,n)}function wh(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&cr(Xt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)wh(t,e,n.child,r,i,s,!1),Zr(e,t,i,a,s);else if(c&32){let u=yh(n,r),l;for(;l=u();)Zr(e,t,i,l,s);Zr(e,t,i,a,s)}else c&16?BS(t,e,r,n,i,s):Zr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function mc(t,e,n,r,i,s){wh(n,r,t.firstChild,e,i,s,!1)}function BS(t,e,n,r,i,s){let o=n[Jt],c=o[Pt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Zr(e,t,i,l,s)}else{let u=c,l=o[qe];F_(r)&&(u.flags|=128),wh(t,e,u,l,i,s,!0)}}function US(t,e,n,r,i){let s=n[or],o=Xt(n);s!==o&&Zr(e,t,r,s,i);for(let a=_t;a<n.length;a++){let c=n[a];mc(c[K],c,t,e,r,s)}}function zS(t,e,n){t.setAttribute(e,"style",n)}function X_(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ew(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ud(t,e,r),i!==null&&X_(t,e,i),s!==null&&zS(t,e,s)}var In={};function Y(t=1){tw(wn(),fe(),Cs()+t,!1)}function tw(t,e,n,r){if(!r)if((e[k]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Na(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Pa(e,s,0,n)}ar(n)}function le(t,e=z.Default){let n=fe();if(n===null)return N(t,e);let r=Et();return R_(r,n,vt(t),e)}function nw(){let t="invalid";throw new Error(t)}function rw(t,e,n,r,i,s){let o=te(null);try{let a=null;i&wt.SignalBased&&(a=e[r][hy]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&wt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):i_(e,a,r,s)}finally{te(o)}}function $S(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ar(~i);else{let s=i,o=n[++r],a=n[++r];OT(o,s);let c=e[s];a(2,c)}}}finally{ar(-1)}}function yc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[vn]=i,d[k]=r|4|128|8|64,(u!==null||t&&t[k]&2048)&&(d[k]|=2048),u_(d),d[qe]=d[si]=t,d[Yt]=n,d[Nt]=o||t&&t[Nt],d[Le]=a||t&&t[Le],d[ni]=c||t&&t[ni]||null,d[Pt]=s,d[cc]=sS(),d[Ba]=l,d[t_]=u,d[Jt]=e.type==2?t[Jt]:d,d}function vc(t,e,n,r,i){let s=t.data[e];if(s===null)s=HS(t,e,n,r,i),PT()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=xT();s.injectorIndex=o===null?-1:o.injectorIndex}return bs(s,!0),s}function HS(t,e,n,r,i){let s=h_(),o=f_(),a=o?s:s&&s.parent,c=t.data[e]=QS(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function iw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function sw(t,e,n,r,i){let s=Cs(),o=r&2;try{ar(-1),o&&e.length>kn&&tw(t,e,kn,!1),Kt(o?2:0,i),n(r,i)}finally{ar(s),Kt(o?3:1,i)}}function ow(t,e,n){if(r_(e)){let r=te(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{te(r)}}}function aw(t,e,n){d_()&&(tM(t,e,n,It(n,e)),(n.flags&64)===64&&fw(t,e,n))}function cw(t,e,n=It){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function uw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ih(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ih(t,e,n,r,i,s,o,a,c,u,l){let d=kn+r,h=d+i,f=qS(d,h),w=typeof u=="function"?u():u;return f[K]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:l}}function qS(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:In);return n}function GS(t,e,n,r){let s=r.get(fS,z_)||n===Zt.ShadowDom,o=t.selectRootElement(e,s);return WS(o),o}function WS(t){KS(t)}var KS=()=>null;function QS(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return ST()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function fv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=wt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?pv(r,n,u,a,c):pv(r,n,u,a)}return r}function pv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function ZS(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,w=h?h.outputs:null;c=fv(0,d.inputs,l,c,f),u=fv(1,d.outputs,l,u,w);let T=c!==null&&o!==null&&!Zd(e)?hM(c,l,o):null;a.push(T)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function YS(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function lw(t,e,n,r,i,s,o,a){let c=It(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Eh(t,n,l,r,i),uc(e)&&JS(n,e.index)):e.type&3?(r=YS(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function JS(t,e){let n=Vn(e,t);n[k]&16||(n[k]|=64)}function dw(t,e,n,r){if(d_()){let i=r===null?null:{"":-1},s=rM(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&hw(t,e,n,o,i,a),i&&iM(n,r,i)}n.mergedAttrs=Qd(n.mergedAttrs,n.attrs)}function hw(t,e,n,r,i,s){for(let u=0;u<r.length;u++)KT(S_(n,e),t,r[u].type);oM(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=iw(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Qd(n.mergedAttrs,l.hostAttrs),aM(t,n,e,c,l),sM(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}ZS(t,n,s)}function XS(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;eM(o)!=a&&o.push(a),o.push(n,r,s)}}function eM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function tM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;uc(n)&&cM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||S_(n,e),cr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=vs(e,t,a,n);if(cr(u,e),o!==null&&dM(e,a-i,u,c,n,o),Ds(c)){let l=Vn(n.index,e);l[Yt]=vs(e,t,a,n)}}}function fw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=kT();try{ar(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];md(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&nM(c,u)}}finally{ar(-1),md(o)}}function nM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function rM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(zC(e,o.selectors,!1))if(r||(r=[]),Ds(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;bd(t,e,c)}else r.unshift(o),bd(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function bd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function iM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new x(-301,!1);r.push(e[i],s)}}}function sM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ds(e)&&(n[""]=t)}}function oM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function aM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ei(i.type,!0)),o=new ys(s,Ds(i),le);t.blueprint[r]=o,n[r]=o,XS(t,e,r,iw(t,n,i.hostVars,In),i)}function cM(t,e,n){let r=It(e,t),i=uw(n),s=t[Nt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=_c(t,yc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function uM(t,e,n,r,i,s){let o=It(t,e);lM(e[Le],o,s,t.value,n,r,i)}function lM(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Gt(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function dM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];rw(r,n,c,u,l,d)}}function hM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function pw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function gw(t,e){let n=t.contentQueries;if(n!==null){let r=te(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];m_(s),a.contentQueries(2,e[o],o)}}}finally{te(r)}}}function _c(t,e){return t[ps]?t[nv][Rt]=e:t[ps]=e,t[nv]=e,e}function Cd(t,e,n){m_(0);let r=te(null);try{e(t,n)}finally{te(r)}}function fM(t){return t[fs]||(t[fs]=[])}function pM(t){return t.cleanup||(t.cleanup=[])}function mw(t,e){let n=t[ni],r=n?n.get(en,null):null;r&&r.handleError(e)}function Eh(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];rw(l,u,r,a,c,i)}}function Dh(t,e,n){let r=_T(e,t);bS(t[Le],r,n)}function gM(t,e){let n=Vn(e,t),r=n[K];mM(r,n);let i=n[vn];i!==null&&n[Ba]===null&&(n[Ba]=gh(i,n[ni])),bh(r,n,n[Yt])}function mM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function bh(t,e,n){ih(e);try{let r=t.viewQuery;r!==null&&Cd(1,r,n);let i=t.template;i!==null&&sw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ri]?.finishViewCreation(t),t.staticContentQueries&&gw(t,e),t.staticViewQueries&&Cd(2,t.viewQuery,n);let s=t.components;s!==null&&yM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,sh()}}function yM(t,e){for(let n=0;n<e.length;n++)gM(t,e[n])}function vM(t,e,n,r){let i=te(null);try{let s=e.tView,a=t[k]&4096?4096:16,c=yc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[ac]=u;let l=t[ri];return l!==null&&(c[ri]=l.createEmbeddedView(s)),bh(s,c,n),c}finally{te(i)}}function gv(t,e){return!e||e.firstChild===null||F_(t)}function _M(t,e,n,r=!0){let i=e[K];if(MS(i,e,t,n),r){let o=Dd(n,t),a=e[Le],c=vh(a,t[or]);c!==null&&TS(i,t[Pt],a,e,c,o)}let s=e[Ba];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Ka(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Xt(s)),_n(s)&&wM(s,r);let o=n.type;if(o&8)Ka(t,e,n.child,r);else if(o&32){let a=yh(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=J_(e,n);if(Array.isArray(a))r.push(...a);else{let c=ms(e[Jt]);Ka(c[K],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function wM(t,e){for(let n=_t;n<t.length;n++){let r=t[n],i=r[K].firstChild;i!==null&&Ka(r[K],r,i,e)}t[or]!==t[vn]&&e.push(t[or])}var yw=[];function IM(t){return t[sr]??EM(t)}function EM(t){let e=yw.pop()??Object.create(bM);return e.lView=t,e}function DM(t){t.lView[sr]!==t&&(t.lView=null,yw.push(t))}var bM=de(S({},fy),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{gs(t.lView)},consumerOnSignalRead(){this.lView[sr]=this}}),vw=100;function _w(t,e=!0,n=0){let r=t[Nt],i=r.rendererFactory,s=!1;s||i.begin?.();try{CM(t,n)}catch(o){throw e&&mw(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function CM(t,e){Td(t,e);let n=0;for(;nh(t);){if(n===vw)throw new x(103,!1);n++,Td(t,1)}}function TM(t,e,n,r){let i=e[k];if((i&256)===256)return;let s=!1;!s&&e[Nt].inlineEffectRunner?.flush(),ih(e);let o=null,a=null;!s&&SM(t)&&(a=IM(e),o=py(a));try{u_(e),NT(t.bindingStartIndex),n!==null&&sw(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Na(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Pa(e,d,0,null),Xl(e,0)}if(MM(e),ww(e,0),t.contentQueries!==null&&gw(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Na(e,d)}else{let d=t.contentHooks;d!==null&&Pa(e,d,1),Xl(e,1)}$S(t,e);let u=t.components;u!==null&&Ew(e,u,0);let l=t.viewQuery;if(l!==null&&Cd(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Na(e,d)}else{let d=t.viewHooks;d!==null&&Pa(e,d,2),Xl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Jl]){for(let d of e[Jl])d();e[Jl]=null}s||(e[k]&=-73)}catch(c){throw gs(e),c}finally{a!==null&&(gy(a,o),DM(a)),sh()}}function SM(t){return t.type!==2}function ww(t,e){for(let n=V_(t);n!==null;n=j_(n))for(let r=_t;r<n.length;r++){let i=n[r];Iw(i,e)}}function MM(t){for(let e=V_(t);e!==null;e=j_(e)){if(!(e[k]&Xd.HasTransplantedViews))continue;let n=e[za];for(let r=0;r<n.length;r++){let i=n[r],s=i[qe];IT(i)}}}function AM(t,e,n){let r=Vn(e,t);Iw(r,n)}function Iw(t,e){th(t)&&Td(t,e)}function Td(t,e){let r=t[K],i=t[k],s=t[sr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Pl(s)),s&&(s.dirty=!1),t[k]&=-9217,o)TM(r,t,r.template,t[Yt]);else if(i&8192){ww(t,1);let a=r.components;a!==null&&Ew(t,a,1)}}function Ew(t,e,n){for(let r=0;r<e.length;r++)AM(t,e[r],n)}function Ch(t){for(t[Nt].changeDetectionScheduler?.notify();t;){t[k]|=64;let e=ms(t);if(dT(t)&&!e)return t;t=e}return null}var ur=class{get rootNodes(){let e=this._lView,n=e[K];return Ka(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yt]}set context(e){this._lView[Yt]=e}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qe];if(_n(e)){let n=e[Ua],r=n?n.indexOf(this):-1;r>-1&&(Ed(e,r),Va(n,r))}this._attachedToViewContainer=!1}Z_(this._lView[K],this._lView)}onDestroy(e){l_(this._lView,e)}markForCheck(){Ch(this._cdRefInjectingView||this._lView)}detach(){this._lView[k]&=-129}reattach(){gd(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,_w(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,K_(this._lView[K],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e,gd(this._lView)}},wc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=NM;let t=e;return t})(),xM=wc,RM=class extends xM{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=vM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ur(i)}};function NM(){return PM(Et(),fe())}function PM(t,e){return t.type&4?new RM(e,t,dc(t,e)):null}var cU=new RegExp(`^(\\d+)*(${dS}|${lS})*(.*)`);var OM=()=>null;function mv(t,e){return OM(t,e)}var Qa=class{},Sd=class{},Za=class{};function kM(t){let e=Error(`No component factory found for ${nt(t)}.`);return e[FM]=t,e}var FM="ngComponent";var Md=class{resolveComponentFactory(e){throw kM(e)}},Ic=(()=>{let e=class e{};e.NULL=new Md;let t=e;return t})(),_s=class{},Ts=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>LM();let t=e;return t})();function LM(){let t=fe(),e=Et(),n=Vn(e.index,t);return(rr(n)?n:t)[Le]}var VM=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),id={};var yv=new Set;function Th(t){yv.has(t)||(yv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function vv(...t){}function jM(){let t=typeof Fe.requestAnimationFrame=="function",e=Fe[t?"requestAnimationFrame":"setTimeout"],n=Fe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new He(!1),this.onMicrotaskEmpty=new He(!1),this.onStable=new He(!1),this.onError=new He(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=jM().nativeRequestAnimationFrame,zM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new x(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,BM,vv,vv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},BM={};function Sh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function UM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Fe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ad(t),t.isCheckStableRunning=!0,Sh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ad(t))}function zM(t){let e=()=>{UM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if($M(a))return n.invokeTask(i,s,o,a);try{return _v(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),wv(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return _v(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),wv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ad(t),Sh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ad(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function _v(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wv(t){t._nesting--,Sh(t)}var xd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new He,this.onMicrotaskEmpty=new He,this.onStable=new He,this.onError=new He}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function $M(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function HM(t="zone.js",e){return t==="noop"?new xd:t==="zone.js"?new ce(e):t}var Yr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Yr||{}),qM={destroy(){}};function Mh(t,e){!e&&cT(Mh);let n=e?.injector??E(Ot);if(!IS(n))return qM;Th("NgAfterNextRender");let r=n.get(Ah),i=r.handler??=new Nd,s=e?.phase??Yr.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(hh).onDestroy(o),c=yn(n,()=>new Rd(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var Rd=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=E(ce),this.errorHandler=E(en,{optional:!0}),E(Qa,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Nd=class{constructor(){this.executingCallbacks=!1,this.buckets={[Yr.EarlyRead]:new Set,[Yr.Write]:new Set,[Yr.MixedReadWrite]:new Set,[Yr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Ah=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Pd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Gy(i,a);else if(s==2){let c=a,u=e[++o];r=Gy(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ya=class extends Ic{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=On(e);return new ii(n,this.ngModule)}};function Iv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function GM(t){let e=t.toLowerCase();return e==="svg"?gT:e==="math"?mT:null}var Od=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ic(r);let i=this.injector.get(e,id,r);return i!==id||n===id?i:this.parentInjector.get(e,n,r)}},ii=class extends Za{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Iv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Iv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=GC(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=te(null);try{i=i||this.ngModule;let o=i instanceof ct?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Od(e,o):e,c=a.get(_s,null);if(c===null)throw new x(407,!1);let u=a.get(VM,null),l=a.get(Ah,null),d=a.get(Qa,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",T=r?GS(f,r,this.componentDef.encapsulation,a):W_(f,w,GM(w)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let P=null;T!==null&&(P=gh(T,a,!0));let ae=Ih(0,null,null,1,0,null,null,null,null,null,null),$=yc(null,ae,null,b,null,null,h,f,a,null,P);ih($);let H,Ce;try{let ne=this.componentDef,Je,pt=null;ne.findHostDirectiveDefs?(Je=[],pt=new Map,ne.findHostDirectiveDefs(ne,Je,pt),Je.push(ne)):Je=[ne];let Rl=WM($,T),oa=KM(Rl,T,ne,Je,$,h,f);Ce=c_(ae,kn),T&&YM(f,ne,T,r),n!==void 0&&JM(Ce,this.ngContentSelectors,n),H=ZM(oa,ne,Je,pt,$,[XM]),bh(ae,$,null)}finally{sh()}return new kd(this.componentType,H,dc(Ce,$),$,Ce)}finally{te(s)}}},kd=class extends Sd{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ur(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Eh(s[K],s,i,e,n),this.previousInputValues.set(e,n);let o=Vn(this._tNode.index,s);Ch(o)}}get injector(){return new ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function WM(t,e){let n=t[K],r=kn;return t[r]=e,vc(n,r,2,"#host",null)}function KM(t,e,n,r,i,s,o){let a=i[K];QM(r,t,e,o);let c=null;e!==null&&(c=gh(e,i[ni]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=yc(i,uw(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&bd(a,t,r.length-1),_c(i,d),i[t.index]=d}function QM(t,e,n,r){for(let i of t)e.mergedAttrs=Qd(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Pd(e,e.mergedAttrs,!0),n!==null&&ew(r,n,e))}function ZM(t,e,n,r,i,s){let o=Et(),a=i[K],c=It(o,i);hw(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=vs(i,a,d,o);cr(h,i)}fw(a,i,o),c&&cr(c,i);let u=vs(i,a,o.directiveStart+o.componentOffset,o);if(t[Yt]=i[Yt]=u,s!==null)for(let l of s)l(u,e);return ow(a,o,i),u}function YM(t,e,n,r){if(r)ud(t,n,["ng-version","17.3.1"]);else{let{attrs:i,classes:s}=WC(e.selectors[0]);i&&ud(t,n,i),s&&s.length>0&&X_(t,n,s.join(" "))}}function JM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function XM(){let t=Et();uh(fe()[K],t)}var ai=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eA;let t=e;return t})();function eA(){let t=Et();return nA(t,fe())}var tA=ai,Dw=class extends tA{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return dc(this._hostTNode,this._hostLView)}get injector(){return new ir(this._hostTNode,this._hostLView)}get parentInjector(){let e=lh(this._hostTNode,this._hostLView);if(b_(e)){let n=qa(e,this._hostLView),r=Ha(e),i=n[K].data[r+8];return new ir(i,n)}else return new ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ev(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-_t}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=mv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,gv(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!lT(e),a;if(o)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef}let c=o?e:new ii(On(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let T=(o?u:this.parentInjector).get(ct,null);T&&(s=T)}let l=On(c.componentType??{}),d=mv(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,gv(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(wT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[qe],u=new Dw(c,c[Pt],c[qe]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return _M(o,i,s,r),e.attachToViewContainerRef(),jv(sd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ev(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ed(this._lContainer,n);r&&(Va(sd(this._lContainer),n),Z_(r[K],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ed(this._lContainer,n);return r&&Va(sd(this._lContainer),n)!=null?new ur(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ev(t){return t[Ua]}function sd(t){return t[Ua]||(t[Ua]=[])}function nA(t,e){let n,r=e[t.index];return _n(r)?n=r:(n=pw(r,e,null,t),e[t.index]=n,_c(e,n)),iA(n,e,t,r),new Dw(n,t,e)}function rA(t,e){let n=t[Le],r=n.createComment(""),i=It(e,t),s=vh(n,i);return Wa(n,s,r,kS(n,i),!1),r}var iA=aA,sA=()=>!1;function oA(t,e,n){return sA(t,e,n)}function aA(t,e,n,r){if(t[or])return;let i;n.type&8?i=Xt(r):i=rA(e,n),t[or]=i}function cA(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(hA))}return s}return Ja.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),o.push(r(d).then(f=>{a[u+h]=f,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(o).then(()=>fA(s));e.push(c)}),lA(),Promise.all(e).then(()=>{})}var Ja=new Map,uA=new Set;function lA(){let t=Ja;return Ja=new Map,t}function dA(){return Ja.size===0}function hA(t){return typeof t=="string"?t:t.text()}function fA(t){uA.delete(t)}function xh(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Fn=class{},ws=class{};var Xa=class extends Fn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ya(this);let i=Kv(e);this._bootstrapComponents=G_(i.bootstrap),this._r3Injector=O_(e,n,[{provide:Fn,useValue:this},{provide:Ic,useValue:this.componentFactoryResolver},...r],nt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ec=class extends ws{constructor(e){super(),this.moduleType=e}create(e){return new Xa(this.moduleType,e,[])}};function pA(t,e,n){return new Xa(t,e,n)}var Fd=class extends Fn{constructor(e){super(),this.componentFactoryResolver=new Ya(this),this.instance=null;let n=new hs([...e.providers,{provide:Fn,useValue:this},{provide:Ic,useValue:this.componentFactoryResolver}],e.parent||Jd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ec(t,e,n=null){return new Fd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Dc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Oe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bw(t){return mA(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function gA(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function mA(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Is(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Ld(t,e,n,r){let i=Is(t,e,n);return Is(t,e+1,r)||i}function yA(t,e,n,r,i,s){let o=Ld(t,e,n,r);return Ld(t,e+2,i,s)||o}function vA(t){return(t.flags&32)===32}function _A(t,e,n,r,i,s,o,a,c){let u=e.consts,l=vc(e,t,4,o||null,$a(u,a));dw(e,n,l,$a(u,c)),uh(e,l);let d=l.tView=Ih(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function tn(t,e,n,r,i,s,o,a){let c=fe(),u=wn(),l=t+kn,d=u.firstCreatePass?_A(l,u,c,e,n,r,i,s,o):u.data[l];bs(d,!1);let h=wA(u,c,d,t);ah()&&_h(u,c,h,d),cr(h,c);let f=pw(h,c,h,d);return c[l]=f,_c(c,f),oA(f,d,c),eh(d)&&aw(u,c,d),o!=null&&cw(c,d,a),tn}var wA=IA;function IA(t,e,n,r){return ch(!0),e[Le].createComment("")}function bc(t,e,n,r){let i=fe(),s=rh();if(Is(i,s,e)){let o=wn(),a=oh();uM(a,i,t,e,n,r)}return bc}function Cw(t,e,n,r){return Is(t,rh(),n)?e+Gt(n)+r:In}function EA(t,e,n,r,i,s){let o=p_(),a=Ld(t,o,n,i);return g_(2),a?e+Gt(n)+r+Gt(i)+s:In}function DA(t,e,n,r,i,s,o,a,c,u){let l=p_(),d=yA(t,l,n,i,o,c);return g_(4),d?e+Gt(n)+r+Gt(i)+s+Gt(o)+a+Gt(c)+u:In}function Dt(t,e,n){let r=fe(),i=rh();if(Is(r,i,e)){let s=wn(),o=oh();lw(s,o,r,t,e,r[Le],n,!1)}return Dt}function Dv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Eh(t,n,s[o],o,r)}function bA(t,e,n,r,i,s){let o=e.consts,a=$a(o,i),c=vc(e,t,2,r,a);return dw(e,n,c,$a(o,s)),c.attrs!==null&&Pd(c,c.attrs,!1),c.mergedAttrs!==null&&Pd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function m(t,e,n,r){let i=fe(),s=wn(),o=kn+t,a=i[Le],c=s.firstCreatePass?bA(o,s,i,e,n,r):s.data[o],u=CA(s,i,c,a,e,t);i[o]=u;let l=eh(c);return bs(c,!0),ew(a,u,c),!vA(c)&&ah()&&_h(s,i,u,c),bT()===0&&cr(u,i),CT(),l&&(aw(s,i,c),ow(s,c,i)),r!==null&&cw(i,c),m}function p(){let t=Et();f_()?RT():(t=t.parent,bs(t,!1));let e=t;MT(e)&&AT(),TT();let n=wn();return n.firstCreatePass&&(uh(n,t),r_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&zT(e)&&Dv(n,e,fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&$T(e)&&Dv(n,e,fe(),e.stylesWithoutHost,!1),p}function M(t,e,n,r){return m(t,e,n,r),p(),M}var CA=(t,e,n,r,i,s)=>(ch(!0),W_(r,i,VT()));var tc="en-US";var TA=tc;function SA(t){typeof t=="string"&&(TA=t.toLowerCase().replace(/_/g,"-"))}function Cc(t,e,n,r){let i=fe(),s=wn(),o=Et();return AA(s,i,i[Le],o,t,e,r),Cc}function MA(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[fs],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function AA(t,e,n,r,i,s,o){let a=eh(r),u=t.firstCreatePass&&pM(t),l=e[Yt],d=fM(e),h=!0;if(r.type&3||o){let T=It(r,e),b=o?o(T):T,P=d.length,ae=o?H=>o(Xt(H[r.index])):r.index,$=null;if(!o&&a&&($=MA(t,e,i,r.index)),$!==null){let H=$.__ngLastListenerFn__||$;H.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,h=!1}else{s=Cv(r,e,l,s,!1);let H=n.listen(b,i,s);d.push(s,H),u&&u.push(i,ae,P,P+1)}}else s=Cv(r,e,l,s,!1);let f=r.outputs,w;if(h&&f!==null&&(w=f[i])){let T=w.length;if(T)for(let b=0;b<T;b+=2){let P=w[b],ae=w[b+1],Ce=e[P][ae].subscribe(s),ne=d.length;d.push(s,Ce),u&&u.push(i,r.index,ne,-(ne+1))}}}function bv(t,e,n,r){let i=te(null);try{return Kt(6,e,n),n(r)!==!1}catch(s){return mw(t,s),!1}finally{Kt(7,e,n),te(i)}}function Cv(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Vn(t.index,e):e;Ch(a);let c=bv(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=bv(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Ss(t=1){return LT(t)}function ci(t,e,n){return bt(t,"",e,"",n),ci}function bt(t,e,n,r,i){let s=fe(),o=Cw(s,e,n,r);if(o!==In){let a=wn(),c=oh();lw(a,c,s,t,o,s[Le],i,!1)}return bt}function g(t,e=""){let n=fe(),r=wn(),i=t+kn,s=r.firstCreatePass?vc(r,i,1,e,null):r.data[i],o=xA(r,n,s,e,t);n[i]=o,ah()&&_h(r,n,o,s),bs(s,!1)}var xA=(t,e,n,r,i)=>(ch(!0),DS(e[Le],r));function rt(t){return En("",t,""),rt}function En(t,e,n){let r=fe(),i=Cw(r,t,e,n);return i!==In&&Dh(r,Cs(),i),En}function Rh(t,e,n,r,i){let s=fe(),o=EA(s,t,e,n,r,i);return o!==In&&Dh(s,Cs(),o),Rh}function Nh(t,e,n,r,i,s,o,a,c){let u=fe(),l=DA(u,t,e,n,r,i,s,o,a,c);return l!==In&&Dh(u,Cs(),l),Nh}var RA=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Yv(!1,r.type),s=i.length>0?Ec([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=A({token:e,providedIn:"environment",factory:()=>new e(N(ct))});let t=e;return t})();function fr(t){Th("NgStandalone"),t.getStandaloneInjector=e=>e.get(RA).getOrCreateStandaloneInjector(t)}var xa=null;function NA(t){xa!==null&&(t.defaultEncapsulation!==xa.defaultEncapsulation||t.preserveWhitespaces!==xa.preserveWhitespaces)||(xa=t)}var Tc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Ph=new F(""),Ms=new F(""),Sc=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Oh||(PA(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(N(ce),N(Mc),N(Ms))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Mc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Oh?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function PA(t){Oh=t}var Oh;function ui(t){return!!t&&typeof t.then=="function"}function Tw(t){return!!t&&typeof t.subscribe=="function"}var Ac=new F(""),Sw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=E(Ac,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ui(o))r.push(o);else if(Tw(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kh=new F("");function OA(){yy(()=>{throw new x(600,!1)})}function kA(t){return t.isBoundToModule}function FA(t,e,n){try{let r=n();return ui(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function Mw(t,e){return Array.isArray(e)?e.reduce(Mw,t):S(S({},t),e)}var li=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(k_),this.afterRenderEffectManager=E(Ah),this.externalTestViews=new Set,this.beforeRender=new $e,this.afterTick=new $e,this.componentTypes=[],this.components=[],this.isStable=E(Dc).hasPendingTasks.pipe(W(r=>!r)),this._injector=E(ct)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Za;if(!this._injector.get(Sw).done){let f=!s&&Wv(r),w=!1;throw new x(405,w)}let a;s?a=r:a=this._injector.get(Ic).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=kA(a)?void 0:this._injector.get(Fn),u=i||a.selector,l=a.create(Ot.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(Ph,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),ka(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new x(101,!1);let i=te(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,te(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===vw)throw new x(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)LA(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Vd(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Vd(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ka(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(kh,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ka(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new x(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ka(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function LA(t,e,n){!e&&!Vd(t)||VA(t,n,e)}function Vd(t){return nh(t)}function VA(t,e,n){let r;n?(r=0,t[k]|=1024):t[k]&64?r=0:r=1,_w(t,e,r)}var jd=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},xc=(()=>{let e=class e{compileModuleSync(r){return new ec(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Kv(r),o=G_(s.declarations).reduce((a,c)=>{let u=On(c);return u&&a.push(new ii(u)),a},[]);return new jd(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jA=new F("");function BA(t,e,n){let r=new ec(n);return Promise.resolve(r)}function Tv(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var UA=(()=>{let e=class e{constructor(){this.zone=E(ce),this.applicationRef=E(li)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zA(t){return[{provide:ce,useFactory:t},{provide:ti,multi:!0,useFactory:()=>{let e=E(UA,{optional:!0});return()=>e.initialize()}},{provide:ti,multi:!0,useFactory:()=>{let e=E(qA);return()=>{e.initialize()}}},{provide:k_,useFactory:$A}]}function $A(){let t=E(ce),e=E(en);return n=>t.runOutsideAngular(()=>e.handleError(n))}function HA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var qA=(()=>{let e=class e{constructor(){this.subscription=new Te,this.initialized=!1,this.zone=E(ce),this.pendingTasks=E(Dc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GA(){return typeof $localize<"u"&&$localize.locale||tc}var Fh=new F("",{providedIn:"root",factory:()=>E(Fh,z.Optional|z.SkipSelf)||GA()});var Aw=new F(""),xw=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=HM(i?.ngZone,HA({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let o=pA(r.moduleType,this.injector,zA(()=>s)),a=o.injector.get(en,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{ka(this._modules,o),c.unsubscribe()})}),FA(a,s,()=>{let c=o.injector.get(Sw);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(Fh,tc);return SA(u||tc),this._moduleDoBootstrap(o),o})})})}bootstrapModule(r,i=[]){let s=Mw({},i);return BA(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){let i=r.injector.get(li);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new x(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(Aw,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(N(Ot))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),us=null,Rw=new F("");function WA(t){if(us&&!us.get(Rw,!1))throw new x(400,!1);OA(),us=t;let e=t.get(xw);return ZA(t),e}function Lh(t,e,n=[]){let r=`Platform: ${e}`,i=new F(r);return(s=[])=>{let o=Nw();if(!o||o.injector.get(Rw,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):WA(KA(a,r))}return QA(i)}}function KA(t=[],e){return Ot.create({name:e,providers:[{provide:oc,useValue:"platform"},{provide:Aw,useValue:new Set([()=>us=null])},...t]})}function QA(t){let e=Nw();if(!e)throw new x(401,!1);return e}function Nw(){return us?.get(xw)??null}function ZA(t){t.get(fh,null)?.forEach(n=>n())}var di=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=YA;let t=e;return t})();function YA(t){return JA(Et(),fe(),(t&16)===16)}function JA(t,e,n){if(uc(t)&&!n){let r=Vn(t.index,e);return new ur(r,r)}else if(t.type&47){let r=e[Jt];return new ur(r,e)}return null}var Bd=class{constructor(){}supports(e){return bw(e)}create(e){return new Ud(e)}},XA=(t,e)=>e,Ud=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||XA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Sv(r,i,s)?n:r,a=Sv(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,w=f+h;l<=w&&w<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!bw(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,gA(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new zd(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new nc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},zd=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},$d=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},nc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new $d,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Sv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Mv(){return new Vh([new Bd])}var Vh=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Mv()),deps:[[e,new Wd,new sc]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new x(901,!1)}};e.\u0275prov=A({token:e,providedIn:"root",factory:Mv});let t=e;return t})();var Pw=Lh(null,"core",[]),Ow=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(N(li))},e.\u0275mod=We({type:e}),e.\u0275inj=Ge({});let t=e;return t})();function hi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function kw(t){let e=On(t);if(!e)return null;let n=new ii(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Bw=null;function pr(){return Bw}function Uw(t){Bw??=t}var Rc=class{};var it=new F(""),Hh=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>E(ex),providedIn:"platform"});let t=e;return t})(),zw=new F(""),ex=(()=>{let e=class e extends Hh{constructor(){super(),this._doc=E(it),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pr().getBaseHref(this._doc)}onPopState(r){let i=pr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=pr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function qh(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Fw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Dn(t){return t&&t[0]!=="?"?"?"+t:t}var bn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>E(Gh),providedIn:"root"});let t=e;return t})(),$w=new F(""),Gh=(()=>{let e=class e extends bn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(it).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return qh(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Dn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Dn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Dn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(Hh),N($w,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hw=(()=>{let e=class e extends bn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=qh(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Dn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Dn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(Hh),N($w,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),fi=(()=>{let e=class e{constructor(r){this._subject=new He,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=rx(Fw(Lw(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Dn(i))}normalize(r){return e.stripTrailingSlash(nx(this._basePath,Lw(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Dn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Dn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Dn,e.joinWithSlash=qh,e.stripTrailingSlash=Fw,e.\u0275fac=function(i){return new(i||e)(N(bn))},e.\u0275prov=A({token:e,factory:()=>tx(),providedIn:"root"});let t=e;return t})();function tx(){return new fi(N(bn))}function nx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Lw(t){return t.replace(/\/index.html$/,"")}function rx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function qw(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var jh=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Bn=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new jh(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),Vw(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);Vw(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(le(ai),le(wc),le(Vh))},e.\u0275dir=Ln({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Vw(t,e){t.context.$implicit=e.item}var Pc=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Bh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){jw("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){jw("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(le(ai),le(wc))},e.\u0275dir=Ln({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Bh=class{constructor(){this.$implicit=null,this.ngIf=null}};function jw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${nt(e)}'.`)}var Gw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=We({type:e}),e.\u0275inj=Ge({});let t=e;return t})(),Wh="browser",ix="server";function sx(t){return t===Wh}function Kh(t){return t===ix}var Ww=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>sx(E(jn))?new Uh(E(it),window):new zh});let t=e;return t})(),Uh=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=ox(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function ox(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var zh=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Nc=class{};var Jh=class extends Rc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xh=class t extends Jh{static makeCurrent(){Uw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=cx();return n==null?null:ux(n)}resetBaseElement(){As=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qw(document.cookie,e)}},As=null;function cx(){return As=As||document.querySelector("base"),As?As.getAttribute("href"):null}function ux(t){return new URL(t,document.baseURI).pathname}var ef=class{addToWindow(e){Fe.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new x(5103,!1);return s},Fe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Fe.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Fe.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?pr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},lx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),tf=new F(""),Yw=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new x(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(N(tf),N(ce))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Oc=class{constructor(e){this._doc=e}},Zh="ng-app-id",Jw=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Kh(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Zh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Zh),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Zh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(N(it),N(hc),N(ph,8),N(jn))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Yh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rf=/%COMP%/g,Xw="%COMP%",dx=`_nghost-${Xw}`,hx=`_ngcontent-${Xw}`,fx=!0,px=new F("",{providedIn:"root",factory:()=>fx});function gx(t){return hx.replace(rf,t)}function mx(t){return dx.replace(rf,t)}function eI(t,e){return e.map(n=>n.replace(rf,t))}var Kw=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Kh(c),this.defaultRenderer=new xs(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zt.ShadowDom&&(i=de(S({},i),{encapsulation:Zt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof kc?s.applyToHost(r):s instanceof Rs&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Zt.Emulated:o=new kc(u,l,i,this.appId,d,a,c,h);break;case Zt.ShadowDom:return new nf(u,l,r,i,a,c,this.nonce,h);default:o=new Rs(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(N(Yw),N(Jw),N(hc),N(px),N(it),N(jn),N(ce),N(ph))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),xs=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Yh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Qw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Qw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Yh[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Yh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(hr.DashCase|hr.Important)?e.style.setProperty(n,r,i&hr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&hr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=pr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Qw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var nf=class extends xs{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=eI(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Rs=class extends xs{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?eI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},kc=class extends Rs{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=gx(u),this.hostAttr=mx(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},yx=(()=>{let e=class e extends Oc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(N(it))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Zw=["alt","control","meta","shift"],vx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_x={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},wx=(()=>{let e=class e extends Oc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Zw.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=vx[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Zw.forEach(a=>{if(a!==s){let c=_x[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(N(it))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function Ix(){Xh.makeCurrent()}function Ex(){return new en}function Dx(){return U_(document),document}var bx=[{provide:jn,useValue:Wh},{provide:fh,useValue:Ix,multi:!0},{provide:it,useFactory:Dx,deps:[]}],tI=Lh(Pw,"browser",bx),Cx=new F(""),Tx=[{provide:Ms,useClass:ef,deps:[]},{provide:Ph,useClass:Sc,deps:[ce,Mc,Ms]},{provide:Sc,useClass:Sc,deps:[ce,Mc,Ms]}],Sx=[{provide:oc,useValue:"root"},{provide:en,useFactory:Ex,deps:[]},{provide:tf,useClass:yx,multi:!0,deps:[it,ce,jn]},{provide:tf,useClass:wx,multi:!0,deps:[it]},Kw,Jw,Yw,{provide:_s,useExisting:Kw},{provide:Nc,useClass:lx,deps:[]},[]],nI=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:hc,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(N(Cx,12))},e.\u0275mod=We({type:e}),e.\u0275inj=Ge({providers:[...Sx,...Tx],imports:[Gw,Ow]});let t=e;return t})();var rI=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(N(it))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},mz=de(S({},Mx),{"[class.ng-submitted]":"isSubmitted"});var Ax=new F("CallSetDisabledState",{providedIn:"root",factory:()=>sI}),sI="always";var xx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=We({type:e}),e.\u0275inj=Ge({});let t=e;return t})();var pi=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ax,useValue:r.callSetDisabledState??sI}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=We({type:e}),e.\u0275inj=Ge({imports:[xx]});let t=e;return t})();var B="primary",Gs=Symbol("RouteTitle"),uf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _i(t){return new uf(t)}function Ox(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!nn(t[n],e[n]))return!1;return!0}function nn(t,e){let n=t?lf(t):void 0,r=e?lf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!pI(t[i],e[i]))return!1;return!0}function lf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function pI(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function gI(t){return t.length>0?t[t.length-1]:null}function Hn(t){return ql(t)?t:ui(t)?ye(Promise.resolve(t)):O(t)}var Fx={exact:yI,subset:vI},mI={exact:Lx,subset:Vx,ignored:()=>!0};function oI(t,e,n){return Fx[n.paths](t.root,e.root,n.matrixParams)&&mI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Lx(t,e){return nn(t,e)}function yI(t,e,n){if(!mr(t.segments,e.segments)||!Vc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!yI(t.children[r],e.children[r],n))return!1;return!0}function Vx(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pI(t[n],e[n]))}function vI(t,e,n){return _I(t,e,e.segments,n)}function _I(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!mr(i,n)||e.hasChildren()||!Vc(i,n,r))}else if(t.segments.length===n.length){if(!mr(t.segments,n)||!Vc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!vI(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!mr(t.segments,i)||!Vc(t.segments,i,r)||!t.children[B]?!1:_I(t.children[B],e,s,r)}}function Vc(t,e,n){return e.every((r,i)=>mI[n](t[i].parameters,r.parameters))}var Un=class{constructor(e=new re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_i(this.queryParams),this._queryParamMap}toString(){return Ux.serialize(this)}},re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jc(this)}},gr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_i(this.parameters),this._parameterMap}toString(){return II(this)}};function jx(t,e){return mr(t,e)&&t.every((n,r)=>nn(n.parameters,e[r].parameters))}function mr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Bx(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===B&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==B&&(n=n.concat(e(i,r)))}),n}var Ws=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>new Vs,providedIn:"root"});let t=e;return t})(),Vs=class{parse(e){let n=new hf(e);return new Un(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ns(e.root,!0)}`,r=Hx(e.queryParams),i=typeof e.fragment=="string"?`#${zx(e.fragment)}`:"";return`${n}${r}${i}`}},Ux=new Vs;function jc(t){return t.segments.map(e=>II(e)).join("/")}function Ns(t,e){if(!t.hasChildren())return jc(t);if(e){let n=t.children[B]?Ns(t.children[B],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==B&&r.push(`${i}:${Ns(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Bx(t,(r,i)=>i===B?[Ns(t.children[B],!1)]:[`${i}:${Ns(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[B]!=null?`${jc(t)}/${n[0]}`:`${jc(t)}/(${n.join("//")})`}}function wI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fc(t){return wI(t).replace(/%3B/gi,";")}function zx(t){return encodeURI(t)}function df(t){return wI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bc(t){return decodeURIComponent(t)}function aI(t){return Bc(t.replace(/\+/g,"%20"))}function II(t){return`${df(t.path)}${$x(t.parameters)}`}function $x(t){return Object.entries(t).map(([e,n])=>`;${df(e)}=${df(n)}`).join("")}function Hx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Fc(n)}=${Fc(i)}`).join("&"):`${Fc(n)}=${Fc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var qx=/^[^\/()?;#]+/;function sf(t){let e=t.match(qx);return e?e[0]:""}var Gx=/^[^\/()?;=#]+/;function Wx(t){let e=t.match(Gx);return e?e[0]:""}var Kx=/^[^=?&#]+/;function Qx(t){let e=t.match(Kx);return e?e[0]:""}var Zx=/^[^&#]+/;function Yx(t){let e=t.match(Zx);return e?e[0]:""}var hf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[B]=new re(e,n)),r}parseSegment(){let e=sf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new gr(Bc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Wx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=sf(this.remaining);i&&(r=i,this.capture(r))}e[Bc(n)]=Bc(r)}parseQueryParam(e){let n=Qx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Yx(this.remaining);o&&(r=o,this.capture(r))}let i=aI(n),s=aI(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=sf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=B);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[B]:new re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};function EI(t){return t.segments.length>0?new re([],{[B]:t}):t}function DI(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=DI(i);if(r===B&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new re(t.segments,e);return Jx(n)}function Jx(t){if(t.numberOfChildren===1&&t.children[B]){let e=t.children[B];return new re(t.segments.concat(e.segments),e.children)}return t}function wi(t){return t instanceof Un}function Xx(t,e,n=null,r=null){let i=bI(t);return CI(i,e,n,r)}function bI(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new re(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=EI(r);return e??i}function CI(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return of(i,i,i,n,r);let s=eR(e);if(s.toRoot())return of(i,i,new re([],{}),n,r);let o=tR(s,i,t),a=o.processChildren?ks(o.segmentGroup,o.index,s.commands):SI(o.segmentGroup,o.index,s.commands);return of(i,o.segmentGroup,a,n,r)}function Uc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function js(t){return typeof t=="object"&&t!=null&&t.outlets}function of(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=TI(t,e,n);let a=EI(DI(o));return new Un(a,s,i)}function TI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=TI(s,e,n)}),new re(t.segments,r)}var zc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Uc(r[0]))throw new x(4003,!1);let i=r.find(js);if(i&&i!==gI(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function eR(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new zc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new zc(n,e,r)}var yi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function tR(t,e,n){if(t.isAbsolute)return new yi(e,!0,0);if(!n)return new yi(e,!1,NaN);if(n.parent===null)return new yi(n,!0,0);let r=Uc(t.commands[0])?0:1,i=n.segments.length-1+r;return nR(n,i,t.numberOfDoubleDots)}function nR(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new yi(r,!1,i-s)}function rR(t){return js(t[0])?t[0].outlets:{[B]:t}}function SI(t,e,n){if(t??=new re([],{}),t.segments.length===0&&t.hasChildren())return ks(t,e,n);let r=iR(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new re(t.segments.slice(0,r.pathIndex),{});return s.children[B]=new re(t.segments.slice(r.pathIndex),t.children),ks(s,0,i)}else return r.match&&i.length===0?new re(t.segments,{}):r.match&&!t.hasChildren()?ff(t,e,n):r.match?ks(t,0,i):ff(t,e,n)}function ks(t,e,n){if(n.length===0)return new re(t.segments,{});{let r=rR(n),i={};if(Object.keys(r).some(s=>s!==B)&&t.children[B]&&t.numberOfChildren===1&&t.children[B].segments.length===0){let s=ks(t.children[B],e,n);return new re(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=SI(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new re(t.segments,i)}}function iR(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(js(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!uI(c,u,o))return s;r+=2}else{if(!uI(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ff(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(js(s)){let c=sR(s.outlets);return new re(r,c)}if(i===0&&Uc(n[0])){let c=t.segments[e];r.push(new gr(c.path,cI(n[0]))),i++;continue}let o=js(s)?s.outlets[B]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Uc(a)?(r.push(new gr(o,cI(a))),i+=2):(r.push(new gr(o,{})),i++)}return new re(r,{})}function sR(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ff(new re([],{}),0,r))}),e}function cI(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function uI(t,e,n){return t==n.path&&nn(e,n.parameters)}var Fs="imperative",Ae=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ae||{}),Ct=class{constructor(e,n){this.id=e,this.url=n}},Ii=class extends Ct{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ae.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rn=class extends Ct{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ae.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},lt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(lt||{}),$c=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}($c||{}),zn=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ae.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$n=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ae.NavigationSkipped}},Bs=class extends Ct{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ae.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hc=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ae.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pf=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ae.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gf=class extends Ct{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ae.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mf=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ae.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ae.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vf=class{constructor(e){this.route=e,this.type=Ae.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_f=class{constructor(e){this.route=e,this.type=Ae.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wf=class{constructor(e){this.snapshot=e,this.type=Ae.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},If=class{constructor(e){this.snapshot=e,this.type=Ae.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ef=class{constructor(e){this.snapshot=e,this.type=Ae.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Df=class{constructor(e){this.snapshot=e,this.type=Ae.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ae.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Us=class{},zs=class{constructor(e){this.url=e}};var bf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ks,this.attachRef=null}},Ks=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new bf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Cf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Cf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Tf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Tf(e,this._root).map(n=>n.value)}};function Cf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Cf(t,n);if(r)return r}return null}function Tf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Tf(t,n);if(r.length)return r.unshift(e),r}return[]}var ut=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function mi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Wc=class extends Gc{constructor(e,n){super(e),this.snapshot=n,Ff(this,e)}toString(){return this.snapshot.toString()}};function MI(t){let e=oR(t),n=new Oe([new gr("",{})]),r=new Oe({}),i=new Oe({}),s=new Oe({}),o=new Oe(""),a=new kt(n,r,s,o,i,B,t,e.root);return a.snapshot=e.root,new Wc(new ut(a,[]),e)}function oR(t){let e={},n={},r={},i="",s=new $s([],e,r,i,n,B,t,null,{});return new Kc("",new ut(s,[]))}var kt=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(W(u=>u[Gs]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(e=>_i(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(e=>_i(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),t.params),data:S(S({},e.data),t.data),resolve:S(S(S(S({},t.data),e.data),i?.data),t._resolvedData)}:r={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},i&&xI(i)&&(r.resolve[Gs]=i.title),r}var $s=class{get title(){return this.data?.[Gs]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_i(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_i(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Kc=class extends Gc{constructor(e,n){super(n),this.url=e,Ff(this,n)}toString(){return AI(this._root)}};function Ff(t,e){e.value._routerState=t,e.children.forEach(n=>Ff(t,n))}function AI(t){let e=t.children.length>0?` { ${t.children.map(AI).join(", ")} } `:"";return`${t.value}${e}`}function af(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,nn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),nn(e.params,n.params)||t.paramsSubject.next(n.params),kx(e.url,n.url)||t.urlSubject.next(n.url),nn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Sf(t,e){let n=nn(t.params,e.params)&&jx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Sf(t.parent,e.parent))}function xI(t){return typeof t.title=="string"||t.title===null}var Lf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=B,this.activateEvents=new He,this.deactivateEvents=new He,this.attachEvents=new He,this.detachEvents=new He,this.parentContexts=E(Ks),this.location=E(ai),this.changeDetector=E(di),this.environmentInjector=E(ct),this.inputBinder=E(Xc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Mf(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ln({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[lr]});let t=e;return t})(),Mf=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===kt?this.route:e===Ks?this.childContexts:this.parent.get(e,n)}},Xc=new F(""),lI=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=os([i.queryParams,i.params,i.data]).pipe(mt(([o,a,c],u)=>(c=S(S(S({},o),a),c),u===0?O(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=kw(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function aR(t,e,n){let r=Hs(t,e._root,n?n._root:void 0);return new Wc(r,e)}function Hs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=cR(t,e,n);return new ut(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Hs(t,a)),o}}let r=uR(e.value),i=e.children.map(s=>Hs(t,s));return new ut(r,i)}}function cR(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Hs(t,r,i);return Hs(t,r)})}function uR(t){return new kt(new Oe(t.url),new Oe(t.params),new Oe(t.queryParams),new Oe(t.fragment),new Oe(t.data),t.outlet,t.component,t)}var RI="ngNavigationCancelingError";function NI(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=wi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=PI(!1,lt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function PI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[RI]=!0,n.cancellationCode=e,n}function lR(t){return OI(t)&&wi(t.url)}function OI(t){return!!t&&t[RI]}var dR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Se({type:e,selectors:[["ng-component"]],standalone:!0,features:[fr],decls:1,vars:0,template:function(i,s){i&1&&M(0,"router-outlet")},dependencies:[Lf],encapsulation:2});let t=e;return t})();function hR(t,e){return t.providers&&!t._injector&&(t._injector=Ec(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Vf(t){let e=t.children&&t.children.map(Vf),n=e?de(S({},t),{children:e}):S({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==B&&(n.component=dR),n}function sn(t){return t.outlet||B}function fR(t,e){let n=t.filter(r=>sn(r)===e);return n.push(...t.filter(r=>sn(r)!==e)),n}function Qs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var pR=(t,e,n,r)=>W(i=>(new Af(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Af=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),af(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=mi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=mi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=mi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=mi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Df(s.value.snapshot))}),e.children.length&&this.forwardEvent(new If(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(af(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),af(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Qs(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Qc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vi=class{constructor(e,n){this.component=e,this.route=n}};function gR(t,e,n){let r=t._root,i=e?e._root:null;return Ps(r,i,n,[r.value])}function mR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Di(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Nv(t)?t:e.get(t):r}function Ps(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=mi(e);return t.children.forEach(o=>{yR(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ls(a,n.getContext(o),i)),i}function yR(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=vR(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Qc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ps(t,e,a?a.children:null,r,i):Ps(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vi(a.outlet.component,o))}else o&&Ls(e,a,i),i.canActivateChecks.push(new Qc(r)),s.component?Ps(t,null,a?a.children:null,r,i):Ps(t,null,n,r,i);return i}function vR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!mr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mr(t.url,e.url)||!nn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sf(t,e)||!nn(t.queryParams,e.queryParams);case"paramsChange":default:return!Sf(t,e)}}function Ls(t,e,n){let r=mi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ls(o,e.children.getContext(s),n):Ls(o,null,n):Ls(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vi(e.outlet.component,i)):n.canDeactivateChecks.push(new vi(null,i)):n.canDeactivateChecks.push(new vi(null,i))}function Zs(t){return typeof t=="function"}function _R(t){return typeof t=="boolean"}function wR(t){return t&&Zs(t.canLoad)}function IR(t){return t&&Zs(t.canActivate)}function ER(t){return t&&Zs(t.canActivateChild)}function DR(t){return t&&Zs(t.canDeactivate)}function bR(t){return t&&Zs(t.canMatch)}function kI(t){return t instanceof gn||t?.name==="EmptyError"}var Lc=Symbol("INITIAL_VALUE");function Ei(){return mt(t=>os(t.map(e=>e.pipe(mn(1),Ql(Lc)))).pipe(W(e=>{for(let n of e)if(n!==!0){if(n===Lc)return Lc;if(n===!1||n instanceof Un)return n}return!0}),gt(e=>e!==Lc),mn(1)))}function CR(t,e){return _e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?O(de(S({},n),{guardsResult:!0})):TR(o,r,i,t).pipe(_e(a=>a&&_R(a)?SR(r,s,t,e):O(a)),W(a=>de(S({},n),{guardsResult:a})))})}function TR(t,e,n,r){return ye(t).pipe(_e(i=>NR(i.component,i.route,n,e,r)),qt(i=>i!==!0,!0))}function SR(t,e,n,r){return ye(e).pipe(nr(i=>Gr(AR(i.route.parent,r),MR(i.route,r),RR(t,i.path,n),xR(t,i.route,n))),qt(i=>i!==!0,!0))}function MR(t,e){return t!==null&&e&&e(new Ef(t)),O(!0)}function AR(t,e){return t!==null&&e&&e(new wf(t)),O(!0)}function xR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(s=>Ca(()=>{let o=Qs(e)??n,a=Di(s,o),c=IR(a)?a.canActivate(e,t):yn(o,()=>a(e,t));return Hn(c).pipe(qt())}));return O(i).pipe(Ei())}function RR(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>mR(o)).filter(o=>o!==null).map(o=>Ca(()=>{let a=o.guards.map(c=>{let u=Qs(o.node)??n,l=Di(c,u),d=ER(l)?l.canActivateChild(r,t):yn(u,()=>l(r,t));return Hn(d).pipe(qt())});return O(a).pipe(Ei())}));return O(s).pipe(Ei())}function NR(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return O(!0);let o=s.map(a=>{let c=Qs(e)??i,u=Di(a,c),l=DR(u)?u.canDeactivate(t,e,n,r):yn(c,()=>u(t,e,n,r));return Hn(l).pipe(qt())});return O(o).pipe(Ei())}function PR(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let s=i.map(o=>{let a=Di(o,t),c=wR(a)?a.canLoad(e,n):yn(t,()=>a(e,n));return Hn(c)});return O(s).pipe(Ei(),FI(r))}function FI(t){return Ul(ke(e=>{if(wi(e))throw NI(t,e)}),W(e=>e===!0))}function OR(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let s=i.map(o=>{let a=Di(o,t),c=bR(a)?a.canMatch(e,n):yn(t,()=>a(e,n));return Hn(c)});return O(s).pipe(Ei(),FI(r))}var qs=class{constructor(e){this.segmentGroup=e||null}},Zc=class extends Error{constructor(e){super(),this.urlTree=e}};function gi(t){return Hr(new qs(t))}function kR(t){return Hr(new x(4e3,!1))}function FR(t){return Hr(PI(!1,lt.GuardRejected))}var xf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[B])return kR(e.redirectTo);i=i.children[B]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Zc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Un(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Rf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LR(t,e,n,r,i){let s=jf(t,e,n);return s.matched?(r=hR(e,r),OR(r,e,n,i).pipe(W(o=>o===!0?s:S({},Rf)))):O(s)}function jf(t,e,n){if(e.path==="**")return VR(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?S({},Rf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Ox)(n,t,e);if(!i)return S({},Rf);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?S(S({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function VR(t){return{matched:!0,parameters:t.length>0?gI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function dI(t,e,n,r){return n.length>0&&UR(t,n,r)?{segmentGroup:new re(e,BR(r,new re(n,t.children))),slicedSegments:[]}:n.length===0&&zR(t,n,r)?{segmentGroup:new re(t.segments,jR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new re(t.segments,t.children),slicedSegments:n}}function jR(t,e,n,r){let i={};for(let s of n)if(eu(t,e,s)&&!r[sn(s)]){let o=new re([],{});i[sn(s)]=o}return S(S({},r),i)}function BR(t,e){let n={};n[B]=e;for(let r of t)if(r.path===""&&sn(r)!==B){let i=new re([],{});n[sn(r)]=i}return n}function UR(t,e,n){return n.some(r=>eu(t,e,r)&&sn(r)!==B)}function zR(t,e,n){return n.some(r=>eu(t,e,r))}function eu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function $R(t,e,n,r){return sn(t)!==r&&(r===B||!eu(e,n,t))?!1:jf(e,t,n).matched}function HR(t,e,n){return e.length===0&&!t.children[n]}var Nf=class{};function qR(t,e,n,r,i,s,o="emptyOnly"){return new Pf(t,e,n,r,i,o,s).recognize()}var GR=31,Pf=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new xf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,`'${e.segmentGroup}'`)}recognize(){let e=dI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(W(n=>{let r=new $s([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},B,this.rootComponentType,null,{}),i=new ut(r,n),s=new Kc("",i),o=Xx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,B).pipe(xn(r=>{if(r instanceof Zc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof qs?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=kf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(W(s=>s instanceof ut?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ye(i).pipe(nr(s=>{let o=r.children[s],a=fR(n,s);return this.processSegmentGroup(e,a,o,s)}),Kl((s,o)=>(s.push(...o),s)),Rn(null),Wl(),_e(s=>{if(s===null)return gi(r);let o=LI(s);return WR(o),O(o)}))}processSegment(e,n,r,i,s,o){return ye(n).pipe(nr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(xn(c=>{if(c instanceof qs)return O(null);throw c}))),qt(a=>!!a),xn(a=>{if(kI(a))return HR(r,i,s)?O(new Nf):gi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return $R(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):gi(i):gi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=jf(n,i,s);if(!a)return gi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>GR&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(_e(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=LR(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(mt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(mt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new $s(l,h,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,QR(r),sn(r),r.component??r._loadedComponent??null,r,ZR(r)),{segmentGroup:w,slicedSegments:T}=dI(n,l,d,c);if(T.length===0&&w.hasChildren())return this.processChildren(u,c,w).pipe(W(P=>P===null?null:new ut(f,P)));if(c.length===0&&T.length===0)return O(new ut(f,[]));let b=sn(r)===s;return this.processSegment(u,c,w,T,b?B:s,!0).pipe(W(P=>new ut(f,P instanceof ut?[P]:[])))}))):gi(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):PR(e,n,r,this.urlSerializer).pipe(_e(i=>i?this.configLoader.loadChildren(e,n).pipe(ke(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):FR(n))):O({routes:[],injector:e})}};function WR(t){t.sort((e,n)=>e.value.outlet===B?-1:n.value.outlet===B?1:e.value.outlet.localeCompare(n.value.outlet))}function KR(t){let e=t.value.routeConfig;return e&&e.path===""}function LI(t){let e=[],n=new Set;for(let r of t){if(!KR(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=LI(r.children);e.push(new ut(r.value,i))}return e.filter(r=>!n.has(r))}function QR(t){return t.data||{}}function ZR(t){return t.resolve||{}}function YR(t,e,n,r,i,s){return _e(o=>qR(t,e,n,r,o.extractedUrl,i,s).pipe(W(({state:a,tree:c})=>de(S({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function JR(t,e){return _e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of VI(c))o.add(u);let a=0;return ye(o).pipe(nr(c=>s.has(c)?XR(c,r,t,e):(c.data=kf(c,c.parent,t).resolve,O(void 0))),ke(()=>a++),Wr(1),_e(c=>a===o.size?O(n):at))})}function VI(t){let e=t.children.map(n=>VI(n)).flat();return[t,...e]}function XR(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!xI(i)&&(s[Gs]=i.title),eN(s,t,e,r).pipe(W(o=>(t._resolvedData=o,t.data=kf(t,t.parent,n).resolve,null)))}function eN(t,e,n,r){let i=lf(t);if(i.length===0)return O({});let s={};return ye(i).pipe(_e(o=>tN(t[o],e,n,r).pipe(qt(),ke(a=>{s[o]=a}))),Wr(1),Gl(s),xn(o=>kI(o)?at:Hr(o)))}function tN(t,e,n,r){let i=Qs(e)??r,s=Di(t,i),o=s.resolve?s.resolve(e,n):yn(i,()=>s(e,n));return Hn(o)}function cf(t){return mt(e=>{let n=t(e);return n?ye(n).pipe(W(()=>e)):O(e)})}var jI=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===B);return i}getResolvedTitleForRoute(r){return r.data[Gs]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>E(nN),providedIn:"root"});let t=e;return t})(),nN=(()=>{let e=class e extends jI{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(N(rI))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ys=new F("",{providedIn:"root",factory:()=>({})}),Yc=new F(""),Bf=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(xc)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return O(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Hn(r.loadComponent()).pipe(W(BI),ke(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),as(()=>{this.componentLoaders.delete(r)})),s=new $r(i,()=>new $e).pipe(zr());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=rN(i,this.compiler,r,this.onLoadEndListener).pipe(as(()=>{this.childrenLoaders.delete(i)})),a=new $r(o,()=>new $e).pipe(zr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rN(t,e,n,r){return Hn(t.loadChildren()).pipe(W(BI),_e(i=>i instanceof ws||Array.isArray(i)?O(i):ye(e.compileModuleAsync(i))),W(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Yc,[],{optional:!0,self:!0}).flat()),{routes:o.map(Vf),injector:s}}))}function iN(t){return t&&typeof t=="object"&&"default"in t}function BI(t){return iN(t)?t.default:t}var Uf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>E(sN),providedIn:"root"});let t=e;return t})(),sN=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UI=new F(""),zI=new F("");function oN(t,e,n){let r=t.get(zI),i=t.get(it);return t.get(ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),aN(t))),{onViewTransitionCreated:c}=r;return c&&yn(t,()=>c({transition:a,from:e,to:n})),o})}function aN(t){return new Promise(e=>{Mh(e,{injector:t})})}var zf=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $e,this.transitionAbortSubject=new $e,this.configLoader=E(Bf),this.environmentInjector=E(ct),this.urlSerializer=E(Ws),this.rootContexts=E(Ks),this.location=E(fi),this.inputBindingEnabled=E(Xc,{optional:!0})!==null,this.titleStrategy=E(jI),this.options=E(Ys,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(Uf),this.createViewTransition=E(UI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let r=s=>this.events.next(new vf(s)),i=s=>this.events.next(new _f(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(de(S(S({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Oe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fs,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gt(o=>o.id!==0),W(o=>de(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),mt(o=>{let a=!1,c=!1;return O(o).pipe(mt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",lt.SupersededByNewNavigation),at;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?de(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new $n(u.id,this.urlSerializer.serialize(u.rawUrl),h,$c.IgnoredSameUrlNavigation)),u.resolve(null),at}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return O(u).pipe(mt(h=>{let f=this.transitions?.getValue();return this.events.next(new Ii(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?at:Promise.resolve(h)}),YR(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ke(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=de(S({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Hc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:w,restoredState:T,extras:b}=u,P=new Ii(h,this.urlSerializer.serialize(f),w,T);this.events.next(P);let ae=MI(this.rootComponentType).snapshot;return this.currentTransition=o=de(S({},u),{targetSnapshot:ae,urlAfterRedirects:f,extras:de(S({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(o)}else{let h="";return this.events.next(new $n(u.id,this.urlSerializer.serialize(u.extractedUrl),h,$c.IgnoredByUrlHandlingStrategy)),u.resolve(null),at}}),ke(u=>{let l=new pf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),W(u=>(this.currentTransition=o=de(S({},u),{guards:gR(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),CR(this.environmentInjector,u=>this.events.next(u)),ke(u=>{if(o.guardsResult=u.guardsResult,wi(u.guardsResult))throw NI(this.urlSerializer,u.guardsResult);let l=new gf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),gt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",lt.GuardRejected),!1)),cf(u=>{if(u.guards.canActivateChecks.length)return O(u).pipe(ke(l=>{let d=new mf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),mt(l=>{let d=!1;return O(l).pipe(JR(this.paramsInheritanceStrategy,this.environmentInjector),ke({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",lt.NoDataFromResolver)}}))}),ke(l=>{let d=new yf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),cf(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ke(f=>{d.component=f}),W(()=>{})));for(let f of d.children)h.push(...l(f));return h};return os(l(u.targetSnapshot.root)).pipe(Rn(null),mn(1))}),cf(()=>this.afterPreactivation()),mt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?ye(d).pipe(W(()=>o)):O(o)}),W(u=>{let l=aR(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=de(S({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ke(()=>{this.events.next(new Us)}),pR(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),mn(1),ke({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Zl(this.transitionAbortSubject.pipe(ke(u=>{throw u}))),as(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",lt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xn(u=>{if(c=!0,OI(u))this.events.next(new zn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),lR(u)?this.events.next(new zs(u.url)):o.resolve(!1);else{this.events.next(new Bs(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return at}))}))}cancelNavigationTransition(r,i,s){let o=new zn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cN(t){return t!==Fs}var uN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>E(lN),providedIn:"root"});let t=e;return t})(),Of=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},lN=(()=>{let e=class e extends Of{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=lc(e)))(s||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$I=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>E(dN),providedIn:"root"});let t=e;return t})(),dN=(()=>{let e=class e extends $I{constructor(){super(...arguments),this.location=E(fi),this.urlSerializer=E(Ws),this.options=E(Ys,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(Uf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Un,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=MI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ii)this.stateMemento=this.createStateMemento();else if(r instanceof $n)this.rawUrlTree=i.initialUrl;else if(r instanceof Hc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Us?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof zn&&(r.code===lt.GuardRejected||r.code===lt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Bs?this.restoreHistory(i,!0):r instanceof rn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=S(S({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=S(S({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=lc(e)))(s||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Os=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Os||{});function HI(t,e){t.events.pipe(gt(n=>n instanceof rn||n instanceof zn||n instanceof Bs||n instanceof $n),W(n=>n instanceof rn||n instanceof $n?Os.COMPLETE:(n instanceof zn?n.code===lt.Redirect||n.code===lt.SupersededByNewNavigation:!1)?Os.REDIRECTING:Os.FAILED),gt(n=>n!==Os.REDIRECTING),mn(1)).subscribe(()=>{e()})}function hN(t){throw t}var fN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Tt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=E(Tc),this.stateManager=E($I),this.options=E(Ys,{optional:!0})||{},this.pendingTasks=E(Dc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(zf),this.urlSerializer=E(Ws),this.location=E(fi),this.urlHandlingStrategy=E(Uf),this._events=new $e,this.errorHandler=this.options.errorHandler||hN,this.navigated=!1,this.routeReuseStrategy=E(uN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(Yc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(Xc,{optional:!0}),this.eventsSubscription=new Te,this.isNgZoneEnabled=E(ce)instanceof ce&&ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof zn&&i.code!==lt.Redirect&&i.code!==lt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof rn)this.navigated=!0;else if(i instanceof zs){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||cN(s.source)};this.scheduleNavigation(a,Fs,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}mN(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=S({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Vf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=bI(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return CI(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=wi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Fs,null,i)}navigate(r,i={skipLocationChange:!1}){return gN(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=S({},fN):i===!1?s=S({},pN):s=i,wi(r))return oI(this.currentUrlTree,r,s);let o=this.parseUrl(r);return oI(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return HI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new x(4008,!1)}function mN(t){return!(t instanceof Us)&&!(t instanceof zs)}var st=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new $e,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof rn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:H_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(le(Tt),le(kt),dh("tabindex"),le(Ts),le(dr),le(bn))},e.\u0275dir=Ln({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Cc("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&bc("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[wt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",hi],skipLocationChange:[wt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",hi],replaceUrl:[wt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",hi],routerLink:"routerLink"},standalone:!0,features:[xh,lr]});let t=e;return t})();var Jc=class{};var yN=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(gt(r=>r instanceof rn),nr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Ec(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return ye(s).pipe(qr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=O(null);let o=s.pipe(_e(a=>a===null?O(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ye([o,a]).pipe(qr())}else return o})}};e.\u0275fac=function(i){return new(i||e)(N(Tt),N(xc),N(ct),N(Jc),N(Bf))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qI=new F(""),vN=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof rn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof $n&&r.code===$c.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof qc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){nw()},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function _N(t){return t.routerState.root}function Js(t,e){return{\u0275kind:t,\u0275providers:e}}function wN(){let t=E(Ot);return e=>{let n=t.get(li);if(e!==n.components[0])return;let r=t.get(Tt),i=t.get(GI);t.get($f)===1&&r.initialNavigation(),t.get(WI,null,z.Optional)?.setUpPreloading(),t.get(qI,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var GI=new F("",{factory:()=>new $e}),$f=new F("",{providedIn:"root",factory:()=>1});function IN(){return Js(2,[{provide:$f,useValue:0},{provide:Ac,multi:!0,deps:[Ot],useFactory:e=>{let n=e.get(zw,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Tt),s=e.get(GI);HI(i,()=>{r(!0)}),e.get(zf).afterPreactivation=()=>(r(!0),s.closed?O(void 0):s),i.initialNavigation()}))}}])}function EN(){return Js(3,[{provide:Ac,multi:!0,useFactory:()=>{let e=E(Tt);return()=>{e.setUpLocationChangeListener()}}},{provide:$f,useValue:2}])}var WI=new F("");function DN(t){return Js(0,[{provide:WI,useExisting:yN},{provide:Jc,useExisting:t}])}function bN(){return Js(8,[lI,{provide:Xc,useExisting:lI}])}function CN(t){let e=[{provide:UI,useValue:oN},{provide:zI,useValue:S({skipNextTransition:!!t?.skipInitialTransition},t)}];return Js(9,e)}var hI=new F("ROUTER_FORROOT_GUARD"),TN=[fi,{provide:Ws,useClass:Vs},Tt,Ks,{provide:kt,useFactory:_N,deps:[Tt]},Bf,[]],Hf=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[TN,[],{provide:Yc,multi:!0,useValue:r},{provide:hI,useFactory:xN,deps:[[Tt,new sc,new Wd]]},{provide:Ys,useValue:i||{}},i?.useHash?MN():AN(),SN(),i?.preloadingStrategy?DN(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?RN(i):[],i?.bindToComponentInputs?bN().\u0275providers:[],i?.enableViewTransitions?CN().\u0275providers:[],NN()]}}static forChild(r){return{ngModule:e,providers:[{provide:Yc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(N(hI,8))},e.\u0275mod=We({type:e}),e.\u0275inj=Ge({});let t=e;return t})();function SN(){return{provide:qI,useFactory:()=>{let t=E(Ww),e=E(ce),n=E(Ys),r=E(zf),i=E(Ws);return n.scrollOffset&&t.setOffset(n.scrollOffset),new vN(i,r,t,e,n)}}}function MN(){return{provide:bn,useClass:Hw}}function AN(){return{provide:bn,useClass:Gh}}function xN(t){return"guarded"}function RN(t){return[t.initialNavigation==="disabled"?EN().\u0275providers:[],t.initialNavigation==="enabledBlocking"?IN().\u0275providers:[]]}var fI=new F("");function NN(){return[{provide:fI,useFactory:wN},{provide:kh,multi:!0,useExisting:fI}]}var QI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PN=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ZI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new qf;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let w=u<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},qf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ON=function(t){let e=QI(t);return ZI.encodeByteArray(e,!0)},Xs=function(t){return ON(t).replace(/\./g,"")},kN=function(t){try{return ZI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function FN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var LN=()=>FN().__FIREBASE_DEFAULTS__,VN=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&kN(t[1]);return e&&JSON.parse(e)},Gf=()=>{try{return LN()||VN()||jN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BN=t=>{var e,n;return(n=(e=Gf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nu=t=>{let e=BN(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wf=()=>{var t;return(t=Gf())===null||t===void 0?void 0:t.config};var tu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ru(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xs(JSON.stringify(n)),Xs(JSON.stringify(o)),""].join(".")}function to(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UN(){var t;let e=(t=Gf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YI(){return!UN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iu(){try{return typeof indexedDB=="object"}catch{return!1}}function JI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var zN="FirebaseError",Ft=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zN,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}},eo=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?$N(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ft(i,a,r)}};function $N(t,e){return t.replace(HN,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var HN=/\{\$([^}]+)}/g;function no(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(KI(s)&&KI(o)){if(!no(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function KI(t){return t!==null&&typeof t=="object"}var Fz=4*60*60*1e3;function Lt(t){return t&&t._delegate?t._delegate:t}var Vt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var vr="[DEFAULT]";var Kf=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new tu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GN(e))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=vr){return this.instances.has(e)}getOptions(e=vr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vr){return this.component?this.component.multipleInstances?e:vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qN(t){return t===vr?void 0:t}function GN(t){return t.instantiationMode==="EAGER"}var su=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Kf(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var WN=[],J=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(J||{}),KN={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},QN=J.INFO,ZN={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},YN=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=ZN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},bi=class{constructor(e){this.name=e,this._logLevel=QN,this._logHandler=YN,this._userLogHandler=null,WN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}};var JN=(t,e)=>e.some(n=>t instanceof n),XI,eE;function XN(){return XI||(XI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eP(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var tE=new WeakMap,Zf=new WeakMap,nE=new WeakMap,Qf=new WeakMap,Jf=new WeakMap;function tP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(on(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tE.set(n,t)}).catch(()=>{}),Jf.set(e,t),e}function nP(t){if(Zf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Zf.set(t,e)}var Yf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rE(t){Yf=t(Yf)}function rP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ou(this),e,...n);return nE.set(r,e.sort?e.sort():[e]),on(r)}:eP().includes(t)?function(...e){return t.apply(ou(this),e),on(tE.get(this))}:function(...e){return on(t.apply(ou(this),e))}}function iP(t){return typeof t=="function"?rP(t):(t instanceof IDBTransaction&&nP(t),JN(t,XN())?new Proxy(t,Yf):t)}function on(t){if(t instanceof IDBRequest)return tP(t);if(Qf.has(t))return Qf.get(t);let e=iP(t);return e!==t&&(Qf.set(t,e),Jf.set(e,t)),e}var ou=t=>Jf.get(t);function sE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=on(o);return r&&o.addEventListener("upgradeneeded",c=>{r(on(o.result),c.oldVersion,c.newVersion,on(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var sP=["get","getKey","getAll","getAllKeys","count"],oP=["put","add","delete","clear"],Xf=new Map;function iE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xf.get(e))return Xf.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=oP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sP.includes(n)))return;let s=function(o,...a){return _(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Xf.set(e,s),s}rE(t=>de(S({},t),{get:(e,n,r)=>iE(e,n)||t.get(e,n,r),has:(e,n)=>!!iE(e,n)||t.has(e,n)}));var tp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function aP(t){let e=t.getComponent();return e?.type==="VERSION"}var np="@firebase/app",oE="0.9.29";var _r=new bi("@firebase/app"),cP="@firebase/app-compat",uP="@firebase/analytics-compat",lP="@firebase/analytics",dP="@firebase/app-check-compat",hP="@firebase/app-check",fP="@firebase/auth",pP="@firebase/auth-compat",gP="@firebase/database",mP="@firebase/database-compat",yP="@firebase/functions",vP="@firebase/functions-compat",_P="@firebase/installations",wP="@firebase/installations-compat",IP="@firebase/messaging",EP="@firebase/messaging-compat",DP="@firebase/performance",bP="@firebase/performance-compat",CP="@firebase/remote-config",TP="@firebase/remote-config-compat",SP="@firebase/storage",MP="@firebase/storage-compat",AP="@firebase/firestore",xP="@firebase/firestore-compat",RP="firebase",NP="10.9.0";var rp="[DEFAULT]",PP={[np]:"fire-core",[cP]:"fire-core-compat",[lP]:"fire-analytics",[uP]:"fire-analytics-compat",[hP]:"fire-app-check",[dP]:"fire-app-check-compat",[fP]:"fire-auth",[pP]:"fire-auth-compat",[gP]:"fire-rtdb",[mP]:"fire-rtdb-compat",[yP]:"fire-fn",[vP]:"fire-fn-compat",[_P]:"fire-iid",[wP]:"fire-iid-compat",[IP]:"fire-fcm",[EP]:"fire-fcm-compat",[DP]:"fire-perf",[bP]:"fire-perf-compat",[CP]:"fire-rc",[TP]:"fire-rc-compat",[SP]:"fire-gcs",[MP]:"fire-gcs-compat",[AP]:"fire-fst",[xP]:"fire-fst-compat","fire-js":"fire-js",[RP]:"fire-js-all"};var au=new Map,ip=new Map;function OP(t,e){try{t.container.addComponent(e)}catch(n){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wr(t){let e=t.name;if(ip.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;ip.set(e,t);for(let n of au.values())OP(n,t);return!0}function cu(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var kP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qn=new eo("app","Firebase",kP);var sp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}};var uu=NP;function cp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:rp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qn.create("bad-app-name",{appName:String(i)});if(n||(n=Wf()),!n)throw qn.create("no-options");let s=au.get(i);if(s){if(no(n,s.options)&&no(r,s.config))return s;throw qn.create("duplicate-app",{appName:i})}let o=new su(i);for(let c of ip.values())o.addComponent(c);let a=new sp(n,r,o);return au.set(i,a),a}function lu(t=rp){let e=au.get(t);if(!e&&t===rp&&Wf())return cp();if(!e)throw qn.create("no-app",{appName:t});return e}function jt(t,e,n){var r;let i=(r=PP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(a.join(" "));return}wr(new Vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var FP="firebase-heartbeat-database",LP=1,ro="firebase-heartbeat-store",ep=null;function lE(){return ep||(ep=sE(FP,LP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ro)}catch(n){console.warn(n)}}}}).catch(t=>{throw qn.create("idb-open",{originalErrorMessage:t.message})})),ep}function VP(t){return _(this,null,function*(){try{let n=(yield lE()).transaction(ro),r=yield n.objectStore(ro).get(dE(t));return yield n.done,r}catch(e){if(e instanceof Ft)_r.warn(e.message);else{let n=qn.create("idb-get",{originalErrorMessage:e?.message});_r.warn(n.message)}}})}function aE(t,e){return _(this,null,function*(){try{let r=(yield lE()).transaction(ro,"readwrite");yield r.objectStore(ro).put(e,dE(t)),yield r.done}catch(n){if(n instanceof Ft)_r.warn(n.message);else{let r=qn.create("idb-set",{originalErrorMessage:n?.message});_r.warn(r.message)}}})}function dE(t){return`${t.name}!${t.options.appId}`}var jP=1024,BP=30*24*60*60*1e3,op=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ap(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=BP}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return _(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=cE(),{heartbeatsToSend:r,unsentEntries:i}=UP(this._heartbeatsCache.heartbeats),s=Xs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function cE(){return new Date().toISOString().substring(0,10)}function UP(t,e=jP){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),uE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ap=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return iu()?JI().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield VP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return aE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return aE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function uE(t){return Xs(JSON.stringify({version:2,heartbeats:t})).length}function zP(t){wr(new Vt("platform-logger",e=>new tp(e),"PRIVATE")),wr(new Vt("heartbeat",e=>new op(e),"PRIVATE")),jt(np,oE,t),jt(np,oE,"esm2017"),jt("fire-js","")}zP("");var vE="firebasestorage.googleapis.com",_E="storageBucket",$P=2*60*1e3,HP=10*60*1e3;var xe=class t extends Ft{constructor(e,n,r=0){super(up(e),`Firebase Storage: ${n} (${up(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return up(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Be=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Be||{});function up(t){return"storage/"+t}function wE(){let t="An unknown error occurred, please check the error payload for server response.";return new xe(Be.UNKNOWN,t)}function qP(t){return new xe(Be.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function GP(t){return new xe(Be.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function WP(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xe(Be.UNAUTHENTICATED,t)}function KP(){return new xe(Be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QP(t){return new xe(Be.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ZP(){return new xe(Be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YP(){return new xe(Be.CANCELED,"User canceled the upload/download.")}function JP(t){return new xe(Be.INVALID_URL,"Invalid URL '"+t+"'.")}function XP(t){return new xe(Be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eO(){return new xe(Be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_E+"' property when initializing the app?")}function tO(){return new xe(Be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lp(t){return new xe(Be.INVALID_ARGUMENT,t)}function IE(){return new xe(Be.APP_DELETED,"The Firebase app was deleted.")}function nO(t){return new xe(Be.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function io(t){throw new xe(Be.INTERNAL_ERROR,"Internal error: "+t)}var dt=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw XP(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(H){H.path_=decodeURIComponent(H.path)}let l="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${l}/b/${i}/o${h}`,"i"),w={bucket:1,path:3},T=n===vE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",P=new RegExp(`^https?://${T}/${i}/${b}`,"i"),$=[{regex:a,indices:c,postModify:s},{regex:f,indices:w,postModify:u},{regex:P,indices:{bucket:1,path:2},postModify:u}];for(let H=0;H<$.length;H++){let Ce=$[H],ne=Ce.regex.exec(e);if(ne){let Je=ne[Ce.indices.bucket],pt=ne[Ce.indices.path];pt||(pt=""),r=new t(Je,pt),Ce.postModify(r);break}}if(r==null)throw JP(e);return r}},dp=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function rO(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...b){u||(u=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(f,c())},b)}function h(){s&&clearTimeout(s)}function f(b,...P){if(u){h();return}if(b){h(),l.call(null,b,...P);return}if(c()||o){h(),l.call(null,b,...P);return}r<64&&(r*=2);let $;a===1?(a=2,$=0):$=(r+Math.random())*1e3,d($)}let w=!1;function T(b){w||(w=!0,h(),!u&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,T(!0)},n),T}function iO(t){t(!1)}function sO(t){return t!==void 0}function oO(t){return typeof t=="object"&&!Array.isArray(t)}function EE(t){return typeof t=="string"||t instanceof String}function hp(t,e,n,r){if(r<e)throw lp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw lp(`Invalid value for '${t}'. Expected ${n} or less.`)}function mp(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function DE(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ti=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Ti||{});function aO(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var fp=class{constructor(e,n,r,i,s,o,a,c,u,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,w)=>{this.resolve_=f,this.reject_=w,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Ci(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Ti.NO_ERROR,c=s.getStatus();if(!a||aO(c,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===Ti.ABORT;r(!1,new Ci(!1,null,l));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Ci(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());sO(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=wE();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?IE():YP();o(c)}else{let c=ZP();o(c)}};this.canceled_?n(!1,new Ci(!1,null,!0)):this.backoffId_=rO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Ci=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function cO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function uO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function lO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function dO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hO(t,e,n,r,i,s,o=!0){let a=DE(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return lO(u,e),cO(u,n),uO(u,s),dO(u,r),new fp(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function yp(t){let e;try{e=JSON.parse(t)}catch{return null}return oO(e)?e:null}function fO(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function pO(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function bE(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function gO(t,e){return e}var je=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||gO}},du=null;function mO(t){return!EE(t)||t.length<2?t:bE(t)}function yO(){if(du)return du;let t=[];t.push(new je("bucket")),t.push(new je("generation")),t.push(new je("metageneration")),t.push(new je("name","fullPath",!0));function e(s,o){return mO(o)}let n=new je("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new je("size");return i.xform=r,t.push(i),t.push(new je("timeCreated")),t.push(new je("updated")),t.push(new je("md5Hash",null,!0)),t.push(new je("cacheControl",null,!0)),t.push(new je("contentDisposition",null,!0)),t.push(new je("contentEncoding",null,!0)),t.push(new je("contentLanguage",null,!0)),t.push(new je("contentType",null,!0)),t.push(new je("metadata","customMetadata",!0)),du=t,du}function vO(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new dt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function _O(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return vO(r,t),r}function wO(t,e,n){let r=yp(e);return r===null?null:_O(t,r,n)}function IO(t,e,n,r){let i=yp(e);if(i===null||!EE(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let l=t.bucket,d=t.fullPath,h="/b/"+o(l)+"/o/"+o(d),f=mp(h,n,r),w=DE({alt:"media",token:u});return f+w})[0]}var hE="prefixes",fE="items";function EO(t,e,n){let r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[hE])for(let i of n[hE]){let s=i.replace(/\/$/,""),o=t._makeStorageReference(new dt(e,s));r.prefixes.push(o)}if(n[fE])for(let i of n[fE]){let s=t._makeStorageReference(new dt(e,i.name));r.items.push(s)}return r}function DO(t,e,n){let r=yp(n);return r===null?null:EO(t,e,r)}var hu=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function CE(t){if(!t)throw wE()}function bO(t,e){function n(r,i){let s=DO(t,e,i);return CE(s!==null),s}return n}function CO(t,e){function n(r,i){let s=wO(t,i,e);return CE(s!==null),IO(s,i,t.host,t._protocol)}return n}function TE(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=KP():i=WP():n.getStatus()===402?i=GP(t.bucket):n.getStatus()===403?i=QP(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function TO(t){let e=TE(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=qP(t.path)),s.serverResponse=i.serverResponse,s}return n}function SO(t,e,n,r,i){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);let o=e.bucketOnlyServerUrl(),a=mp(o,t.host,t._protocol),c="GET",u=t.maxOperationRetryTime,l=new hu(a,c,bO(t,e.bucket),u);return l.urlParams=s,l.errorHandler=TE(e),l}function MO(t,e,n){let r=e.fullServerUrl(),i=mp(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new hu(i,s,CO(t,n),o);return a.errorHandler=TO(e),a}var s$=256*1024;var pE=null,pp=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ti.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ti.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ti.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw io("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw io("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw io("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw io("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw io("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},gp=class extends pp{initXhr(){this.xhr_.responseType="text"}};function SE(){return pE?pE():new gp}var Si=class t{constructor(e,n){this._service=e,n instanceof dt?this._location=n:this._location=dt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new dt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bE(this._location.path)}get storage(){return this._service}get parent(){let e=fO(this._location.path);if(e===null)return null;let n=new dt(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nO(e)}};function AO(t){let e={prefixes:[],items:[]};return ME(t,e).then(()=>e)}function ME(t,e,n){return _(this,null,function*(){let i=yield xO(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield ME(t,e,i.nextPageToken))})}function xO(t,e){e!=null&&typeof e.maxResults=="number"&&hp("options.maxResults",1,1e3,e.maxResults);let n=e||{},r=SO(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,SE)}function RO(t){t._throwIfRoot("getDownloadURL");let e=MO(t.storage,t._location,yO());return t.storage.makeRequestWithTokens(e,SE).then(n=>{if(n===null)throw tO();return n})}function NO(t,e){let n=pO(t._location.path,e),r=new dt(t._location.bucket,n);return new Si(t.storage,r)}function PO(t){return/^[A-Za-z]+:\/\//.test(t)}function OO(t,e){return new Si(t,e)}function AE(t,e){if(t instanceof so){let n=t;if(n._bucket==null)throw eO();let r=new Si(n,n._bucket);return e!=null?AE(r,e):r}else return e!==void 0?NO(t,e):t}function kO(t,e){if(e&&PO(e)){if(t instanceof so)return OO(t,e);throw lp("To use ref(service, url), the first argument must be a Storage instance.")}else return AE(t,e)}function gE(t,e){let n=e?.[_E];return n==null?null:dt.makeFromBucketSpec(n,t)}function FO(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ru(i,t.app.options.projectId))}var so=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=vE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$P,this._maxUploadRetryTime=HP,this._requests=new Set,i!=null?this._bucket=dt.makeFromBucketSpec(i,this._host):this._bucket=gE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=dt.makeFromBucketSpec(this._url,e):this._bucket=gE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return _(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return _(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Si(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new dp(IE());{let o=hO(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return _(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},mE="@firebase/storage",yE="0.12.2";var xE="storage";function RE(t){return t=Lt(t),AO(t)}function Mi(t){return t=Lt(t),RO(t)}function Ir(t,e){return t=Lt(t),kO(t,e)}function Ai(t=lu(),e){t=Lt(t);let r=cu(t,xE).getImmediate({identifier:e}),i=nu("storage");return i&&LO(r,...i),r}function LO(t,e,n,r={}){FO(t,e,n,r)}function VO(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new so(n,r,i,e,uu)}function jO(){wr(new Vt(xE,VO,"PUBLIC").setMultipleInstances(!0)),jt(mE,yE,""),jt(mE,yE,"esm2017")}jO();var BO="firebase",UO="10.9.0";jt(BO,UO,"app");var zO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ut={},I,jp=jp||{},L=zO||self;function Tu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function wo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $O(t){return Object.prototype.hasOwnProperty.call(t,vp)&&t[vp]||(t[vp]=++HO)}var vp="closure_uid_"+(1e9*Math.random()>>>0),HO=0;function qO(t,e,n){return t.call.apply(t.bind,arguments)}function GO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ke(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ke=qO:Ke=GO,Ke.apply(null,arguments)}function fu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ne(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Gn(){this.s=this.s,this.o=this.o}var WO=0;Gn.prototype.s=!1;Gn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),WO!=0)&&$O(this)};Gn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var HE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Bp(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function NE(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Tu(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Qe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var KO=function(){if(!L.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};L.addEventListener("test",n,e),L.removeEventListener("test",n,e)}catch{}return t}();function ho(t){return/^[\s\xa0]*$/.test(t)}function Su(){var t=L.navigator;return t&&(t=t.userAgent)?t:""}function an(t){return Su().indexOf(t)!=-1}function Up(t){return Up[" "](t),t}Up[" "]=function(){};function QO(t,e){var n=L1;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var ZO=an("Opera"),Pi=an("Trident")||an("MSIE"),qE=an("Edge"),Dp=qE||Pi,GE=an("Gecko")&&!(Su().toLowerCase().indexOf("webkit")!=-1&&!an("Edge"))&&!(an("Trident")||an("MSIE"))&&!an("Edge"),YO=Su().toLowerCase().indexOf("webkit")!=-1&&!an("Edge");function WE(){var t=L.document;return t?t.documentMode:void 0}var bp;e:{if(pu="",gu=function(){var t=Su();if(GE)return/rv:([^\);]+)(\)|;)/.exec(t);if(qE)return/Edge\/([\d\.]+)/.exec(t);if(Pi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(YO)return/WebKit\/(\S+)/.exec(t);if(ZO)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),gu&&(pu=gu?gu[1]:""),Pi&&(mu=WE(),mu!=null&&mu>parseFloat(pu))){bp=String(mu);break e}bp=pu}var pu,gu,mu,Cp;L.document&&Pi?(_p=WE(),Cp=_p||parseInt(bp,10)||void 0):Cp=void 0;var _p,JO=Cp;function fo(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(GE){e:{try{Up(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:XO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&fo.$.h.call(this)}}Ne(fo,Qe);var XO={2:"touch",3:"pen",4:"mouse"};fo.prototype.h=function(){fo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Io="closure_listenable_"+(1e6*Math.random()|0),e1=0;function t1(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++e1,this.fa=this.ia=!1}function Mu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function zp(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function n1(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function KE(t){let e={};for(let n in t)e[n]=t[n];return e}var PE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function QE(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<PE.length;s++)n=PE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Au(t){this.src=t,this.g={},this.h=0}Au.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Sp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new t1(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Tp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=HE(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Mu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Sp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var $p="closure_lm_"+(1e6*Math.random()|0),wp={};function ZE(t,e,n,r,i){if(r&&r.once)return JE(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ZE(t,e[s],n,r,i);return null}return n=Gp(n),t&&t[Io]?t.O(e,n,wo(r)?!!r.capture:!!r,i):YE(t,e,n,!1,r,i)}function YE(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=wo(i)?!!i.capture:!!i,a=qp(t);if(a||(t[$p]=a=new Au(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=r1(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)KO||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(eD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function r1(){function t(n){return e.call(t.src,t.listener,n)}let e=i1;return t}function JE(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)JE(t,e[s],n,r,i);return null}return n=Gp(n),t&&t[Io]?t.P(e,n,wo(r)?!!r.capture:!!r,i):YE(t,e,n,!0,r,i)}function XE(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)XE(t,e[s],n,r,i);else r=wo(r)?!!r.capture:!!r,n=Gp(n),t&&t[Io]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Sp(s,n,r,i),-1<n&&(Mu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=qp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Sp(e,n,r,i)),(n=-1<t?e[t]:null)&&Hp(n))}function Hp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Io])Tp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(eD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qp(e))?(Tp(n,t),n.h==0&&(n.src=null,e[$p]=null)):Mu(t)}}}function eD(t){return t in wp?wp[t]:wp[t]="on"+t}function i1(t,e){if(t.fa)t=!0;else{e=new fo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Hp(t),t=n.call(r,e)}return t}function qp(t){return t=t[$p],t instanceof Au?t:null}var Ip="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gp(t){return typeof t=="function"?t:(t[Ip]||(t[Ip]=function(e){return t.handleEvent(e)}),t[Ip])}function Re(){Gn.call(this),this.i=new Au(this),this.S=this,this.J=null}Ne(Re,Gn);Re.prototype[Io]=!0;Re.prototype.removeEventListener=function(t,e,n,r){XE(this,t,e,n,r)};function ze(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Qe(e,t);else if(e instanceof Qe)e.target=e.target||t;else{var i=e;e=new Qe(r,t),QE(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=yu(o,r,!0,e)&&i}if(o=e.g=t,i=yu(o,r,!0,e)&&i,i=yu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=yu(o,r,!1,e)&&i}Re.prototype.N=function(){if(Re.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mu(n[r]);delete t.g[e],t.h--}}this.J=null};Re.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Re.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function yu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Tp(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Wp=L.JSON.stringify,Mp=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function s1(){var t=Kp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ap=class{constructor(){this.h=this.g=null}add(e,n){let r=tD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},tD=new Mp(()=>new xp,t=>t.reset()),xp=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function o1(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function a1(t){L.setTimeout(()=>{throw t},0)}var po,go=!1,Kp=new Ap,nD=()=>{let t=L.Promise.resolve(void 0);po=()=>{t.then(c1)}},c1=()=>{for(var t;t=s1();){try{t.h.call(t.g)}catch(n){a1(n)}var e=tD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}go=!1};function xu(t,e){Re.call(this),this.h=t||1,this.g=e||L,this.j=Ke(this.qb,this),this.l=Date.now()}Ne(xu,Re);I=xu.prototype;I.ga=!1;I.T=null;I.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ze(this,"tick"),this.ga&&(Qp(this),this.start()))}};I.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Qp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}I.N=function(){xu.$.N.call(this),Qp(this),delete this.g};function Zp(t,e,n){if(typeof t=="function")n&&(t=Ke(t,n));else if(t&&typeof t.handleEvent=="function")t=Ke(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:L.setTimeout(t,e||0)}function rD(t){t.g=Zp(()=>{t.g=null,t.i&&(t.i=!1,rD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Rp=class extends Gn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rD(this)}N(){super.N(),this.g&&(L.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function mo(t){Gn.call(this),this.h=t,this.g={}}Ne(mo,Gn);var OE=[];function iD(t,e,n,r){Array.isArray(n)||(n&&(OE[0]=n.toString()),n=OE);for(var i=0;i<n.length;i++){var s=ZE(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function sD(t){zp(t.g,function(e,n){this.g.hasOwnProperty(n)&&Hp(e)},t),t.g={}}mo.prototype.N=function(){mo.$.N.call(this),sD(this)};mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ru(){this.g=!0}Ru.prototype.Ea=function(){this.g=!1};function u1(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function l1(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ri(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+h1(t,n)+(r?" "+r:"")})}function d1(t,e){t.info(function(){return"TIMEOUT: "+e})}Ru.prototype.info=function(){};function h1(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Wp(n)}catch{return e}}var Cr={},kE=null;function Nu(){return kE=kE||new Re}Cr.Ta="serverreachability";function oD(t){Qe.call(this,Cr.Ta,t)}Ne(oD,Qe);function yo(t){let e=Nu();ze(e,new oD(e))}Cr.STAT_EVENT="statevent";function aD(t,e){Qe.call(this,Cr.STAT_EVENT,t),this.stat=e}Ne(aD,Qe);function Xe(t){let e=Nu();ze(e,new aD(e,t))}Cr.Ua="timingevent";function cD(t,e){Qe.call(this,Cr.Ua,t),this.size=e}Ne(cD,Qe);function Eo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return L.setTimeout(function(){t()},e)}var Pu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},uD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yp(){}Yp.prototype.h=null;function FE(t){return t.h||(t.h=t.i())}function lD(){}var Do={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Jp(){Qe.call(this,"d")}Ne(Jp,Qe);function Xp(){Qe.call(this,"c")}Ne(Xp,Qe);var Np;function Ou(){}Ne(Ou,Yp);Ou.prototype.g=function(){return new XMLHttpRequest};Ou.prototype.i=function(){return{}};Np=new Ou;function bo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new mo(this),this.P=f1,t=Dp?125:void 0,this.V=new xu(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dD}function dD(){this.i=null,this.g="",this.h=!1}var f1=45e3,hD={},Pp={};I=bo.prototype;I.setTimeout=function(t){this.P=t};function Op(t,e,n){t.L=1,t.A=Fu(Tn(e)),t.u=n,t.S=!0,fD(t,null)}function fD(t,e){t.G=Date.now(),Co(t),t.B=Tn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),ID(n.i,"t",r),t.o=0,n=t.l.J,t.h=new dD,t.g=zD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Rp(Ke(t.Pa,t,t.g),t.O)),iD(t.U,t.g,"readystatechange",t.nb),e=t.I?KE(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),yo(),u1(t.j,t.v,t.B,t.m,t.W,t.u)}I.nb=function(t){t=t.target;let e=this.M;e&&cn(t)==3?e.l():this.Pa(t)};I.Pa=function(t){try{if(t==this.g)e:{let l=cn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Dp||this.g&&(this.h.h||this.g.ja()||BE(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?yo(3):yo(2)),ku(this);var n=this.g.da();this.ca=n;t:if(pD(this)){var r=BE(this.g);t="";var i=r.length,s=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),lo(this);var o="";break t}this.h.i=new L.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,l1(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ho(a)){var u=a;break t}}u=null}if(n=u)Ri(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kp(this,n);else{this.i=!1,this.s=3,Xe(12),Er(this),lo(this);break e}}this.S?(gD(this,l,o),Dp&&this.i&&l==3&&(iD(this.U,this.V,"tick",this.mb),this.V.start())):(Ri(this.j,this.m,o,null),kp(this,o)),l==4&&Er(this),this.i&&!this.J&&(l==4?VD(this.l,this):(this.i=!1,Co(this)))}else O1(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Xe(12)):(this.s=0,Xe(13)),Er(this),lo(this)}}}catch{}finally{}};function pD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function gD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=p1(t,n),i==Pp){e==4&&(t.s=4,Xe(14),r=!1),Ri(t.j,t.m,null,"[Incomplete Response]");break}else if(i==hD){t.s=4,Xe(15),Ri(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ri(t.j,t.m,i,null),kp(t,i);pD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Xe(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),sg(e),e.M=!0,Xe(11))):(Ri(t.j,t.m,n,"[Invalid Chunked Response]"),Er(t),lo(t))}I.mb=function(){if(this.g){var t=cn(this.g),e=this.g.ja();this.o<e.length&&(ku(this),gD(this,t,e),this.i&&t!=4&&Co(this))}};function p1(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Pp:(n=Number(e.substring(n,r)),isNaN(n)?hD:(r+=1,r+n>e.length?Pp:(e=e.slice(r,r+n),t.o=r+n,e)))}I.cancel=function(){this.J=!0,Er(this)};function Co(t){t.Y=Date.now()+t.P,mD(t,t.P)}function mD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Eo(Ke(t.lb,t),e)}function ku(t){t.C&&(L.clearTimeout(t.C),t.C=null)}I.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(d1(this.j,this.B),this.L!=2&&(yo(),Xe(17)),Er(this),this.s=2,lo(this)):mD(this,this.Y-t)};function lo(t){t.l.H==0||t.J||VD(t.l,t)}function Er(t){ku(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Qp(t.V),sD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function kp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Fp(n.i,t))){if(!t.K&&Fp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Eu(n),ju(n);else break e;ig(n),Xe(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Eo(Ke(n.ib,n),6e3));if(1>=bD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Dr(n,11)}else if((t.K||n.g==t)&&Eu(n),!ho(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let w=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.i;s.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(eg(s,s.h),s.h=null))}if(r.F){let T=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,he(r.I,r.F,T))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=UD(r,r.J?r.pa:null,r.Y),o.K){CD(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(ku(a),Co(a)),r.g=o}else FD(r);0<n.j.length&&Bu(n)}else u[0]!="stop"&&u[0]!="close"||Dr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Dr(n,7):rg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}yo(4)}catch{}}function g1(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Tu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function m1(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Tu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function yD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Tu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=m1(t),r=g1(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var vD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function y1(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function br(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof br){this.h=t.h,wu(this,t.j),this.s=t.s,this.g=t.g,Iu(this,t.m),this.l=t.l;var e=t.i,n=new vo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),LE(this,n),this.o=t.o}else t&&(e=String(t).match(vD))?(this.h=!1,wu(this,e[1]||"",!0),this.s=co(e[2]||""),this.g=co(e[3]||"",!0),Iu(this,e[4]),this.l=co(e[5]||"",!0),LE(this,e[6]||"",!0),this.o=co(e[7]||"")):(this.h=!1,this.i=new vo(null,this.h))}br.prototype.toString=function(){var t=[],e=this.j;e&&t.push(uo(e,VE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(uo(e,VE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(uo(n,n.charAt(0)=="/"?w1:_1,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",uo(n,E1)),t.join("")};function Tn(t){return new br(t)}function wu(t,e,n){t.j=n?co(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Iu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function LE(t,e,n){e instanceof vo?(t.i=e,D1(t.i,t.h)):(n||(e=uo(e,I1)),t.i=new vo(e,t.h))}function he(t,e,n){t.i.set(e,n)}function Fu(t){return he(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function co(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function uo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,v1),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function v1(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var VE=/[#\/\?@]/g,_1=/[#\?:]/g,w1=/[#\?]/g,I1=/[#\?@]/g,E1=/#/g;function vo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Wn(t){t.g||(t.g=new Map,t.h=0,t.i&&y1(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}I=vo.prototype;I.add=function(t,e){Wn(this),this.i=null,t=Oi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function _D(t,e){Wn(t),e=Oi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function wD(t,e){return Wn(t),e=Oi(t,e),t.g.has(e)}I.forEach=function(t,e){Wn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};I.ta=function(){Wn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};I.Z=function(t){Wn(this);let e=[];if(typeof t=="string")wD(this,t)&&(e=e.concat(this.g.get(Oi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};I.set=function(t,e){return Wn(this),this.i=null,t=Oi(this,t),wD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};I.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ID(t,e,n){_D(t,e),0<n.length&&(t.i=null,t.g.set(Oi(t,e),Bp(n)),t.h+=n.length)}I.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Oi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function D1(t,e){e&&!t.j&&(Wn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_D(this,r),ID(this,i,n))},t)),t.j=e}var b1=class{constructor(t,e){this.g=t,this.map=e}};function ED(t){this.l=t||C1,L.PerformanceNavigationTiming?(t=L.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(L.g&&L.g.Ka&&L.g.Ka()&&L.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var C1=10;function DD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function bD(t){return t.h?1:t.g?t.g.size:0}function Fp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function eg(t,e){t.g?t.g.add(e):t.h=e}function CD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ED.prototype.cancel=function(){if(this.i=TD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function TD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Bp(t.i)}var T1=class{stringify(t){return L.JSON.stringify(t,void 0)}parse(t){return L.JSON.parse(t,void 0)}};function S1(){this.g=new T1}function M1(t,e,n){let r=n||"";try{yD(t,function(i,s){let o=i;wo(i)&&(o=Wp(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function A1(t,e){let n=new Ru;if(L.Image){let r=new Image;r.onload=fu(vu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=fu(vu,n,r,"TestLoadImage: error",!1,e),r.onabort=fu(vu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=fu(vu,n,r,"TestLoadImage: timeout",!1,e),L.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function vu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function To(t){this.l=t.ec||null,this.j=t.ob||!1}Ne(To,Yp);To.prototype.g=function(){return new Lu(this.l,this.j)};To.prototype.i=function(t){return function(){return t}}({});function Lu(t,e){Re.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=tg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ne(Lu,Re);var tg=0;I=Lu.prototype;I.open=function(t,e){if(this.readyState!=tg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_o(this)};I.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||L).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};I.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,So(this)),this.readyState=tg};I.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_o(this)),this.g&&(this.readyState=3,_o(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof L.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function SD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}I.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?So(this):_o(this),this.readyState==3&&SD(this)}};I.Za=function(t){this.g&&(this.response=this.responseText=t,So(this))};I.Ya=function(t){this.g&&(this.response=t,So(this))};I.ka=function(){this.g&&So(this)};function So(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_o(t)}I.setRequestHeader=function(t,e){this.v.append(t,e)};I.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};I.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function _o(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var x1=L.JSON.parse;function ge(t){Re.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=MD,this.L=this.M=!1}Ne(ge,Re);var MD="",R1=/^https?$/i,N1=["POST","PUT"];I=ge.prototype;I.Oa=function(t){this.M=t};I.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Np.g(),this.C=this.u?FE(this.u):FE(Np),this.g.onreadystatechange=Ke(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){jE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=L.FormData&&t instanceof L.FormData,!(0<=HE(N1,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{RD(this),0<this.B&&((this.L=P1(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ke(this.ua,this)):this.A=Zp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){jE(this,s)}};function P1(t){return Pi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}I.ua=function(){typeof jp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ze(this,"timeout"),this.abort(8))};function jE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,AD(t),Vu(t)}function AD(t){t.F||(t.F=!0,ze(t,"complete"),ze(t,"error"))}I.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ze(this,"complete"),ze(this,"abort"),Vu(this))};I.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vu(this,!0)),ge.$.N.call(this)};I.La=function(){this.s||(this.G||this.v||this.l?xD(this):this.kb())};I.kb=function(){xD(this)};function xD(t){if(t.h&&typeof jp<"u"&&(!t.C[1]||cn(t)!=4||t.da()!=2)){if(t.v&&cn(t)==4)Zp(t.La,0,t);else if(ze(t,"readystatechange"),cn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(vD)[1]||null;!i&&L.self&&L.self.location&&(i=L.self.location.protocol.slice(0,-1)),r=!R1.test(i?i.toLowerCase():"")}n=r}if(n)ze(t,"complete"),ze(t,"success");else{t.m=6;try{var s=2<cn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",AD(t)}}finally{Vu(t)}}}}function Vu(t,e){if(t.g){RD(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ze(t,"ready");try{n.onreadystatechange=r}catch{}}}function RD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(L.clearTimeout(t.A),t.A=null)}I.isActive=function(){return!!this.g};function cn(t){return t.g?t.g.readyState:0}I.da=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}};I.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};I.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),x1(e)}};function BE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case MD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function O1(t){let e={};t=(t.g&&2<=cn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ho(t[r]))continue;var n=o1(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}n1(e,function(r){return r.join(", ")})}I.Ia=function(){return this.m};I.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ND(t){let e="";return zp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ng(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ND(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):he(t,e,n))}function oo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function PD(t){this.Ga=0,this.j=[],this.l=new Ru,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=oo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=oo("baseRetryDelayMs",5e3,t),this.hb=oo("retryDelaySeedMs",1e4,t),this.eb=oo("forwardChannelMaxRetries",2,t),this.xa=oo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ED(t&&t.concurrentRequestLimit),this.Ja=new S1,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}I=PD.prototype;I.ra=8;I.H=1;function rg(t){if(OD(t),t.H==3){var e=t.W++,n=Tn(t.I);if(he(n,"SID",t.K),he(n,"RID",e),he(n,"TYPE","terminate"),Mo(t,n),e=new bo(t,t.l,e),e.L=2,e.A=Fu(Tn(n)),n=!1,L.navigator&&L.navigator.sendBeacon)try{n=L.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&L.Image&&(new Image().src=e.A,n=!0),n||(e.g=zD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Co(e)}BD(t)}function ju(t){t.g&&(sg(t),t.g.cancel(),t.g=null)}function OD(t){ju(t),t.u&&(L.clearTimeout(t.u),t.u=null),Eu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&L.clearTimeout(t.m),t.m=null)}function Bu(t){if(!DD(t.i)&&!t.m){t.m=!0;var e=t.Na;po||nD(),go||(po(),go=!0),Kp.add(e,t),t.C=0}}function k1(t,e){return bD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Eo(Ke(t.Na,t,e),jD(t,t.C)),t.C++,!0)}I.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new bo(this,this.l,t),s=this.s;if(this.U&&(s?(s=KE(s),QE(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=kD(this,i,e),n=Tn(this.I),he(n,"RID",t),he(n,"CVER",22),this.F&&he(n,"X-HTTP-Session-Id",this.F),Mo(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(ND(s)))+"&"+e:this.o&&ng(n,this.o,s)),eg(this.i,i),this.bb&&he(n,"TYPE","init"),this.P?(he(n,"$req",e),he(n,"SID","null"),i.aa=!0,Op(i,n,null)):Op(i,n,e),this.H=2}}else this.H==3&&(t?UE(this,t):this.j.length==0||DD(this.i)||UE(this))};function UE(t,e){var n;e?n=e.m:n=t.W++;let r=Tn(t.I);he(r,"SID",t.K),he(r,"RID",n),he(r,"AID",t.V),Mo(t,r),t.o&&t.s&&ng(r,t.o,t.s),n=new bo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=kD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),eg(t.i,n),Op(n,r,e)}function Mo(t,e){t.na&&zp(t.na,function(n,r){he(e,r,n)}),t.h&&yD({},function(n,r){he(e,r,n)})}function kD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ke(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{M1(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function FD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;po||nD(),go||(po(),go=!0),Kp.add(e,t),t.A=0}}function ig(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Eo(Ke(t.Ma,t),jD(t,t.A)),t.A++,!0)}I.Ma=function(){if(this.u=null,LD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Eo(Ke(this.jb,this),t)}};I.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xe(10),ju(this),LD(this))};function sg(t){t.B!=null&&(L.clearTimeout(t.B),t.B=null)}function LD(t){t.g=new bo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Tn(t.wa);he(e,"RID","rpc"),he(e,"SID",t.K),he(e,"AID",t.V),he(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&he(e,"TO",t.qa),he(e,"TYPE","xmlhttp"),Mo(t,e),t.o&&t.s&&ng(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Fu(Tn(e)),n.u=null,n.S=!0,fD(n,t)}I.ib=function(){this.v!=null&&(this.v=null,ju(this),ig(this),Xe(19))};function Eu(t){t.v!=null&&(L.clearTimeout(t.v),t.v=null)}function VD(t,e){var n=null;if(t.g==e){Eu(t),sg(t),t.g=null;var r=2}else if(Fp(t.i,e))n=e.F,CD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Nu(),ze(r,new cD(r,n)),Bu(t)}else FD(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&k1(t,e)||r==2&&ig(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Dr(t,5);break;case 4:Dr(t,10);break;case 3:Dr(t,6);break;default:Dr(t,2)}}}function jD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Dr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ke(t.pb,t);n||(n=new br("//www.google.com/images/cleardot.gif"),L.location&&L.location.protocol=="http"||wu(n,"https"),Fu(n)),A1(n.toString(),r)}else Xe(2);t.H=0,t.h&&t.h.za(e),BD(t),OD(t)}I.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xe(2)):(this.l.info("Failed to ping google.com"),Xe(1))};function BD(t){if(t.H=0,t.ma=[],t.h){let e=TD(t.i);(e.length!=0||t.j.length!=0)&&(NE(t.ma,e),NE(t.ma,t.j),t.i.i.length=0,Bp(t.j),t.j.length=0),t.h.ya()}}function UD(t,e,n){var r=n instanceof br?Tn(n):new br(n);if(r.g!="")e&&(r.g=e+"."+r.g),Iu(r,r.m);else{var i=L.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new br(null);r&&wu(s,r),e&&(s.g=e),i&&Iu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&he(r,n,e),he(r,"VER",t.ra),Mo(t,r),r}function zD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ge(new To({ob:n})):new ge(t.va),e.Oa(t.J),e}I.isActive=function(){return!!this.h&&this.h.isActive(this)};function $D(){}I=$D.prototype;I.Ba=function(){};I.Aa=function(){};I.za=function(){};I.ya=function(){};I.isActive=function(){return!0};I.Va=function(){};function Du(){if(Pi&&!(10<=Number(JO)))throw Error("Environmental error: no available transport.")}Du.prototype.g=function(t,e){return new ht(t,e)};function ht(t,e){Re.call(this),this.g=new PD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ho(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ho(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ki(this)}Ne(ht,Re);ht.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Xe(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=UD(t,null,t.Y),Bu(t)};ht.prototype.close=function(){rg(this.g)};ht.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Wp(t),t=n);e.j.push(new b1(e.fb++,t)),e.H==3&&Bu(e)};ht.prototype.N=function(){this.g.h=null,delete this.j,rg(this.g),delete this.g,ht.$.N.call(this)};function HD(t){Jp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ne(HD,Jp);function qD(){Xp.call(this),this.status=1}Ne(qD,Xp);function ki(t){this.g=t}Ne(ki,$D);ki.prototype.Ba=function(){ze(this.g,"a")};ki.prototype.Aa=function(t){ze(this.g,new HD(t))};ki.prototype.za=function(t){ze(this.g,new qD)};ki.prototype.ya=function(){ze(this.g,"b")};function F1(){this.blockSize=-1}function Bt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ne(Bt,F1);Bt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ep(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Bt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Ep(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ep(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ep(this,r),i=0;break}}this.h=i,this.i+=e};Bt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function se(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var L1={};function og(t){return-128<=t&&128>t?QO(t,function(e){return new se([e|0],0>e?-1:0)}):new se([t|0],0>t?-1:0)}function un(t){if(isNaN(t)||!isFinite(t))return Ni;if(0>t)return Ue(un(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Lp;return new se(e,0)}function GD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ue(GD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=un(Math.pow(e,8)),r=Ni,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=un(Math.pow(e,s)),r=r.R(s).add(un(o))):(r=r.R(n),r=r.add(un(o)))}return r}var Lp=4294967296,Ni=og(0),Vp=og(1),zE=og(16777216);I=se.prototype;I.ea=function(){if(St(this))return-Ue(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Lp+r)*e,e*=Lp}return t};I.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Cn(this))return"0";if(St(this))return"-"+Ue(this).toString(t);for(var e=un(Math.pow(t,6)),n=this,r="";;){var i=Cu(n,e).g;n=bu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Cn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};I.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Cn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function St(t){return t.h==-1}I.X=function(t){return t=bu(this,t),St(t)?-1:Cn(t)?0:1};function Ue(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new se(n,~t.h).add(Vp)}I.abs=function(){return St(this)?Ue(this):this};I.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new se(n,n[n.length-1]&-2147483648?-1:0)};function bu(t,e){return t.add(Ue(e))}I.R=function(t){if(Cn(this)||Cn(t))return Ni;if(St(this))return St(t)?Ue(this).R(Ue(t)):Ue(Ue(this).R(t));if(St(t))return Ue(this.R(Ue(t)));if(0>this.X(zE)&&0>t.X(zE))return un(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,_u(n,2*r+2*i),n[2*r+2*i+1]+=s*c,_u(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,_u(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,_u(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new se(n,0)};function _u(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ao(t,e){this.g=t,this.h=e}function Cu(t,e){if(Cn(e))throw Error("division by zero");if(Cn(t))return new ao(Ni,Ni);if(St(t))return e=Cu(Ue(t),e),new ao(Ue(e.g),Ue(e.h));if(St(e))return e=Cu(t,Ue(e)),new ao(Ue(e.g),e.h);if(30<t.g.length){if(St(t)||St(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Vp,r=e;0>=r.X(t);)n=$E(n),r=$E(r);var i=xi(n,1),s=xi(r,1);for(r=xi(r,2),n=xi(n,2);!Cn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=xi(r,1),n=xi(n,1)}return e=bu(t,i.R(e)),new ao(i,e)}for(i=Ni;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=un(n),o=s.R(e);St(o)||0<o.X(t);)n-=r,s=un(n),o=s.R(e);Cn(s)&&(s=Vp),i=i.add(s),t=bu(t,o)}return new ao(i,t)}I.gb=function(t){return Cu(this,t).h};I.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new se(n,this.h&t.h)};I.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new se(n,this.h|t.h)};I.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new se(n,this.h^t.h)};function $E(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new se(n,t.h)}function xi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new se(i,t.h)}Du.prototype.createWebChannel=Du.prototype.g;ht.prototype.send=ht.prototype.u;ht.prototype.open=ht.prototype.m;ht.prototype.close=ht.prototype.close;Pu.NO_ERROR=0;Pu.TIMEOUT=8;Pu.HTTP_ERROR=6;uD.COMPLETE="complete";lD.EventType=Do;Do.OPEN="a";Do.CLOSE="b";Do.ERROR="c";Do.MESSAGE="d";Re.prototype.listen=Re.prototype.O;ge.prototype.listenOnce=ge.prototype.P;ge.prototype.getLastError=ge.prototype.Sa;ge.prototype.getLastErrorCode=ge.prototype.Ia;ge.prototype.getStatus=ge.prototype.da;ge.prototype.getResponseJson=ge.prototype.Wa;ge.prototype.getResponseText=ge.prototype.ja;ge.prototype.send=ge.prototype.ha;ge.prototype.setWithCredentials=ge.prototype.Oa;Bt.prototype.digest=Bt.prototype.l;Bt.prototype.reset=Bt.prototype.reset;Bt.prototype.update=Bt.prototype.j;se.prototype.add=se.prototype.add;se.prototype.multiply=se.prototype.R;se.prototype.modulo=se.prototype.gb;se.prototype.compare=se.prototype.X;se.prototype.toNumber=se.prototype.ea;se.prototype.toString=se.prototype.toString;se.prototype.getBits=se.prototype.D;se.fromNumber=un;se.fromString=GD;var WD=Ut.createWebChannelTransport=function(){return new Du},KD=Ut.getStatEventTarget=function(){return Nu()},Uu=Ut.ErrorCode=Pu,QD=Ut.EventType=uD,ZD=Ut.Event=Cr,ag=Ut.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},f$=Ut.FetchXmlHttpFactory=To,Ao=Ut.WebChannel=lD,YD=Ut.XhrIo=ge,JD=Ut.Md5=Bt,Tr=Ut.Integer=se;var XD="@firebase/firestore";var Pe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pe.UNAUTHENTICATED=new Pe(null),Pe.GOOGLE_CREDENTIALS=new Pe("google-credentials-uid"),Pe.FIRST_PARTY=new Pe("first-party-uid"),Pe.MOCK_USER=new Pe("mock-user");var ns="10.9.0";var Pr=new bi("@firebase/firestore");function xo(){return Pr.logLevel}function D(t,...e){if(Pr.logLevel<=J.DEBUG){let n=e.map(Gm);Pr.debug(`Firestore (${ns}): ${t}`,...n)}}function fn(t,...e){if(Pr.logLevel<=J.ERROR){let n=e.map(Gm);Pr.error(`Firestore (${ns}): ${t}`,...n)}}function $i(t,...e){if(Pr.logLevel<=J.WARN){let n=e.map(Gm);Pr.warn(`Firestore (${ns}): ${t}`,...n)}}function Gm(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function j(t="Unexpected state"){let e=`FIRESTORE (${ns}) INTERNAL ASSERTION FAILED: `+t;throw fn(e),new Error(e)}function De(t,e){t||j()}function ee(t,e){return t}var v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=class extends Ft{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var zt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var qu=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},fg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pe.UNAUTHENTICATED))}shutdown(){}},pg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},gg=class{constructor(e){this.t=e,this.currentUser=Pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new zt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new qu(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Pe(e)}},mg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},yg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},vg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},_g=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new vg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function V1(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Gu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=V1(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ie(t,e){return t<e?-1:t>e?1:0}function Hi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var be=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var U=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new be(0,0))}static max(){return new t(new be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Wu=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&j(),r===void 0?r=e.length-n:r>e.length-n&&j(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},pe=class t extends Wu{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new C(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},j1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mt=class t extends Wu{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return j1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new C(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new C(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var R=class t{constructor(e){this.path=e}static fromPath(e){return new t(pe.fromString(e))}static fromName(e){return new t(pe.fromString(e).popFirst(5))}static empty(){return new t(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new pe(e.slice()))}};var wg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};wg.UNKNOWN_ID=-1;function B1(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(r===1e9?new be(n+1,0):new be(n,r));return new Or(i,R.empty(),e)}function U1(t){return new Or(t.readTime,t.key,-1)}var Or=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(U.min(),R.empty(),-1)}static max(){return new t(U.max(),R.empty(),-1)}};function z1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=R.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}var $1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ig=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Wm(t){return _(this,null,function*(){if(t.code!==v.FAILED_PRECONDITION||t.message!==$1)throw t;D("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Eg=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new zt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Nr(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Km(r.target.error);this.V.reject(new Nr(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Nr(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new bg(n)}},Ku=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(to())===12.2&&fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),Sr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!iu())return!1;if(t.C())return!0;let e=to(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return _(this,null,function*(){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Nr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new C(v.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new C(v.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Nr(e,o))},i.onupgradeneeded=s=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return _(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=Eg.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),y.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(D("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Dg=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Sr(this.k.delete())}},Nr=class extends C{constructor(e,n){super(v.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Xo(t){return t.name==="IndexedDbTransactionError"}var bg=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Sr(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),Sr(this.store.add(e))}get(e){return Sr(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),Sr(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),Sr(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new y((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new y((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){D("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new y((r,i)=>{n.onerror=s=>{let o=Km(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new y((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new Dg(a),u=n(a.primaryKey,a.value,c);if(u instanceof y){let l=u.catch(d=>(c.done(),y.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>y.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Sr(t){return new y((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=Km(r.target.error);n(i)}})}var e0=!1;function Km(t){let e=Ku.S(to());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return e0||(e0=!0,setTimeout(()=>{throw r},0)),r}}return t}var N0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function wl(t){return t==null}function Lo(t){return t===0&&1/t==-1/0}function H1(t){return typeof t=="number"&&Number.isInteger(t)&&!Lo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var q1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],b$=[...q1,"documentOverlays"],G1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],W1=G1,C$=[...W1,"indexConfiguration","indexState","indexEntries"];function t0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ve=class t{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ji(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ji(this.root,e,this.comparator,!1)}getReverseIterator(){return new ji(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ji(this.root,e,this.comparator,!0)}},ji=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},dn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();let e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}};dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(e,n,r,i,s){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ye=class t{constructor(e){this.comparator=e,this.data=new ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qu(this.data.getIterator())}getIteratorFrom(e){return new Qu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Qu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Mr=class t{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ye(Mt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hi(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Zu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Zu("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};et.EMPTY_BYTE_STRING=new et("");var K1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qn(t){if(De(!!t),typeof t=="string"){let e=0,n=K1.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(t.seconds),nanos:me(t.nanos)}}function me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zn(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}function Qm(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zm(t){let e=t.mapValue.fields.__previous_value__;return Qm(e)?Zm(e):e}function Vo(t){let e=Qn(t.mapValue.fields.__local_write_time__.timestampValue);return new be(e.seconds,e.nanos)}var Cg=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Yu=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var zu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function kr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qm(t)?4:O0(t)?9007199254740991:10:j()}function pn(t,e){if(t===e)return!0;let n=kr(t);if(n!==kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vo(t).isEqual(Vo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Qn(i.timestampValue),a=Qn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zn(i.bytesValue).isEqual(Zn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return me(i.geoPointValue.latitude)===me(s.geoPointValue.latitude)&&me(i.geoPointValue.longitude)===me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return me(i.integerValue)===me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=me(i.doubleValue),a=me(s.doubleValue);return o===a?Lo(o)===Lo(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Hi(t.arrayValue.values||[],e.arrayValue.values||[],pn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(t0(o)!==t0(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!pn(o[c],a[c])))return!1;return!0}(t,e);default:return j()}}function jo(t,e){return(t.values||[]).find(n=>pn(n,e))!==void 0}function qi(t,e){if(t===e)return 0;let n=kr(t),r=kr(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=me(s.integerValue||s.doubleValue),c=me(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return n0(t.timestampValue,e.timestampValue);case 4:return n0(Vo(t),Vo(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Zn(s),c=Zn(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ie(a[u],c[u]);if(l!==0)return l}return ie(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ie(me(s.latitude),me(o.latitude));return a!==0?a:ie(me(s.longitude),me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=qi(a[u],c[u]);if(l)return l}return ie(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===zu.mapValue&&o===zu.mapValue)return 0;if(s===zu.mapValue)return 1;if(o===zu.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ie(c[d],l[d]);if(h!==0)return h;let f=qi(a[c[d]],u[l[d]]);if(f!==0)return f}return ie(c.length,l.length)}(t.mapValue,e.mapValue);default:throw j()}}function n0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);let n=Qn(t),r=Qn(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function Gi(t){return Tg(t)}function Tg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Qn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return R.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Tg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Tg(n.fields[o])}`;return i+"}"}(t.mapValue):j()}function r0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sg(t){return!!t&&"integerValue"in t}function Ym(t){return!!t&&"arrayValue"in t}function i0(t){return!!t&&"nullValue"in t}function s0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cg(t){return!!t&&"mapValue"in t}function No(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ea(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=No(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=No(t.arrayValue.values[n]);return e}return Object.assign({},t)}function O0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Sn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=No(n)}setAll(e){let n=Mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=No(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());cg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ea(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(No(this.value))}};var $t=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,U.min(),U.min(),U.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,U.min(),U.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,U.min(),U.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Wi=class{constructor(e,n){this.position=e,this.inclusive=n}};function o0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=R.comparator(R.fromName(o.referenceValue),n.key):r=qi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function a0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pn(t.position[n],e.position[n]))return!1;return!0}var Ki=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Q1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ju=class{},Ee=class t extends Ju{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ag(e,n,r):n==="array-contains"?new Ng(e,r):n==="in"?new Pg(e,r):n==="not-in"?new Og(e,r):n==="array-contains-any"?new kg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xg(e,r):new Rg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qi(n,this.value)):n!==null&&kr(this.value)===kr(n)&&this.matchesComparison(qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return j()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ht=class t extends Ju{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return k0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function k0(t){return t.op==="and"}function F0(t){return Z1(t)&&k0(t)}function Z1(t){for(let e of t.filters)if(e instanceof Ht)return!1;return!0}function Mg(t){if(t instanceof Ee)return t.field.canonicalString()+t.op.toString()+Gi(t.value);if(F0(t))return t.filters.map(e=>Mg(e)).join(",");{let e=t.filters.map(n=>Mg(n)).join(",");return`${t.op}(${e})`}}function L0(t,e){return t instanceof Ee?function(r,i){return i instanceof Ee&&r.op===i.op&&r.field.isEqual(i.field)&&pn(r.value,i.value)}(t,e):t instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&L0(o,i.filters[a]),!0):!1}(t,e):void j()}function V0(t){return t instanceof Ee?function(n){return`${n.field.canonicalString()} ${n.op} ${Gi(n.value)}`}(t):t instanceof Ht?function(n){return n.op.toString()+" {"+n.getFilters().map(V0).join(" ,")+"}"}(t):"Filter"}var Ag=class extends Ee{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){let n=R.comparator(e.key,this.key);return this.matchesComparison(n)}},xg=class extends Ee{constructor(e,n){super(e,"in",n),this.keys=j0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Rg=class extends Ee{constructor(e,n){super(e,"not-in",n),this.keys=j0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function j0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}var Ng=class extends Ee{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Ym(n)&&jo(n.arrayValue,this.value)}},Pg=class extends Ee{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&jo(this.value.arrayValue,n)}},Og=class extends Ee{constructor(e,n){super(e,"not-in",n)}matches(e){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!jo(this.value.arrayValue,n)}},kg=class extends Ee{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jo(this.value.arrayValue,r))}};var Fg=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function c0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Fg(t,e,n,r,i,s,o)}function Jm(t){let e=ee(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),wl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gi(r)).join(",")),e.ce=n}return e.ce}function Xm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Q1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!L0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a0(t.startAt,e.startAt)&&a0(t.endAt,e.endAt)}function Lg(t){return R.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Fr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function Y1(t,e,n,r,i,s,o,a){return new Fr(t,e,n,r,i,s,o,a)}function ey(t){return new Fr(t)}function u0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function B0(t){return t.collectionGroup!==null}function Po(t){let e=ee(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ye(Mt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ki(s,r))}),n.has(Mt.keyField().canonicalString())||e.le.push(new Ki(Mt.keyField(),r))}return e.le}function hn(t){let e=ee(t);return e.he||(e.he=J1(e,Po(t))),e.he}function J1(t,e){if(t.limitType==="F")return c0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ki(i.field,s)});let n=t.endAt?new Wi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wi(t.startAt.position,t.startAt.inclusive):null;return c0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vg(t,e){let n=t.filters.concat([e]);return new Fr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jg(t,e,n){return new Fr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Il(t,e){return Xm(hn(t),hn(e))&&t.limitType===e.limitType}function U0(t){return`${Jm(hn(t))}|lt:${t.limitType}`}function Fi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>V0(i)).join(", ")}]`),wl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gi(i)).join(",")),`Target(${r})`}(hn(t))}; limitType=${t.limitType})`}function El(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):R.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Po(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=o0(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Po(r),i)||r.endAt&&!function(o,a,c){let u=o0(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Po(r),i))}(t,e)}function X1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function z0(t){return(e,n)=>{let r=!1;for(let i of Po(t)){let s=ek(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ek(t,e,n){let r=t.field.isKeyField()?R.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?qi(c,u):j()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}var Yn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return P0(this.inner)}size(){return this.innerSize}};var tk=new ve(R.comparator);function Jn(){return tk}var $0=new ve(R.comparator);function Ro(...t){let e=$0;for(let n of t)e=e.insert(n.key,n);return e}function nk(t){let e=$0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ar(){return Oo()}function H0(){return Oo()}function Oo(){return new Yn(t=>t.toString(),(t,e)=>t.isEqual(e))}var S$=new ve(R.comparator),rk=new Ye(R.comparator);function X(...t){let e=rk;for(let n of t)e=e.add(n);return e}var ik=new Ye(ie);function sk(){return ik}function q0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lo(e)?"-0":e}}function G0(t){return{integerValue:""+t}}function ok(t,e){return H1(e)?G0(e):q0(t,e)}var Qi=class{constructor(){this._=void 0}};function ak(t,e,n){return t instanceof Bo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Qm(s)&&(s=Zm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Zi?W0(t,e):t instanceof Yi?K0(t,e):function(i,s){let o=uk(i,s),a=l0(o)+l0(i.Ie);return Sg(o)&&Sg(i.Ie)?G0(a):q0(i.serializer,a)}(t,e)}function ck(t,e,n){return t instanceof Zi?W0(t,e):t instanceof Yi?K0(t,e):n}function uk(t,e){return t instanceof Uo?function(r){return Sg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Bo=class extends Qi{},Zi=class extends Qi{constructor(e){super(),this.elements=e}};function W0(t,e){let n=Q0(e);for(let r of t.elements)n.some(i=>pn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Yi=class extends Qi{constructor(e){super(),this.elements=e}};function K0(t,e){let n=Q0(e);for(let r of t.elements)n=n.filter(i=>!pn(i,r));return{arrayValue:{values:n}}}var Uo=class extends Qi{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function l0(t){return me(t.integerValue||t.doubleValue)}function Q0(t){return Ym(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zi&&i instanceof Zi||r instanceof Yi&&i instanceof Yi?Hi(r.elements,i.elements,pn):r instanceof Uo&&i instanceof Uo?pn(r.Ie,i.Ie):r instanceof Bo&&i instanceof Bo}(t.transform,e.transform)}var ko=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Hu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var zo=class{};function Z0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bg(t.key,ko.none()):new $o(t.key,t.data,ko.none());{let n=t.data,r=Sn.empty(),i=new Ye(Mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ji(t.key,r,new Mr(i.toArray()),ko.none())}}function dk(t,e,n){t instanceof $o?function(i,s,o){let a=i.value.clone(),c=h0(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ji?function(i,s,o){if(!Hu(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=h0(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Y0(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fo(t,e,n,r){return t instanceof $o?function(s,o,a,c){if(!Hu(s.precondition,o))return a;let u=s.value.clone(),l=f0(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ji?function(s,o,a,c){if(!Hu(s.precondition,o))return a;let u=f0(s.fieldTransforms,c,o),l=o.data;return l.setAll(Y0(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Hu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function d0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hi(r,i,(s,o)=>lk(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var $o=class extends zo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ji=class extends zo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Y0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function h0(t,e,n){let r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ck(o,a,n[i]))}return r}function f0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,ak(s,o,e))}return r}var Bg=class extends zo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Ug=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&dk(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fo(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Fo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=H0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=Z0(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),X())}isEqual(e){return this.batchId===e.batchId&&Hi(this.mutations,e.mutations,(n,r)=>d0(n,r))&&Hi(this.baseMutations,e.baseMutations,(n,r)=>d0(n,r))}};var zg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var $g=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var we,Z;function J0(t){if(t===void 0)return fn("GRPC error has no .code"),v.UNKNOWN;switch(t){case we.OK:return v.OK;case we.CANCELLED:return v.CANCELLED;case we.UNKNOWN:return v.UNKNOWN;case we.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case we.INTERNAL:return v.INTERNAL;case we.UNAVAILABLE:return v.UNAVAILABLE;case we.UNAUTHENTICATED:return v.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case we.NOT_FOUND:return v.NOT_FOUND;case we.ALREADY_EXISTS:return v.ALREADY_EXISTS;case we.PERMISSION_DENIED:return v.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case we.ABORTED:return v.ABORTED;case we.OUT_OF_RANGE:return v.OUT_OF_RANGE;case we.UNIMPLEMENTED:return v.UNIMPLEMENTED;case we.DATA_LOSS:return v.DATA_LOSS;default:return j()}}(Z=we||(we={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";var p0=null;function hk(){return new TextEncoder}var fk=new Tr([4294967295,4294967295],0);function g0(t){let e=hk().encode(t),n=new JD;return n.update(e),new Uint8Array(n.digest())}function m0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Tr([n,r],0),new Tr([i,s],0)]}var Hg=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xr(`Invalid padding: ${n}`);if(r<0)throw new xr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Tr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Tr.fromNumber(r)));return i.compare(fk)===1&&(i=new Tr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=g0(e),[r,i]=m0(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=g0(e),[r,i]=m0(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},xr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Xu=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ho.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(U.min(),i,new ve(ie),Jn(),X())}},Ho=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,X(),X(),X())}};var Bi=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},el=class{constructor(e,n){this.targetId=e,this.fe=n}},tl=class{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},nl=class{constructor(){this.ge=0,this.pe=v0(),this.ye=et.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=X(),n=X(),r=X();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new Ho(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=v0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,De(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},qg=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=Jn(),this.Qe=y0(),this.Ke=new ve(ie)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(Lg(s))if(r===0){let o=new R(s.path);this.We(n,o,$t.newNoDocument(o,U.min()))}else De(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}p0?.tt(function(l,d,h,f,w){var T,b,P,ae,$,H;let Ce={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ne=d.unchangedNames;return ne&&(Ce.bloomFilter={applied:w===0,hashCount:(T=ne?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(ae=(P=(b=ne?.bits)===null||b===void 0?void 0:b.bitmap)===null||P===void 0?void 0:P.length)!==null&&ae!==void 0?ae:0,padding:(H=($=ne?.bits)===null||$===void 0?void 0:$.padding)!==null&&H!==void 0?H:0,mightContain:Je=>{var pt;return(pt=f?.mightContain(Je))!==null&&pt!==void 0&&pt}}),Ce}(o,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Zn(r).toUint8Array()}catch(c){if(c instanceof Zu)return $i("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Hg(o,i,s)}catch(c){return $i(c instanceof xr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Lg(a.target)){let c=new R(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,$t.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=X();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Xu(e,n,this.Ke,this.qe,r);return this.qe=Jn(),this.Qe=y0(),this.Ke=new ve(ie),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new nl,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ye(ie),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new nl),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function y0(){return new ve(R.comparator)}function v0(){return new ve(R.comparator)}var pk={asc:"ASCENDING",desc:"DESCENDING"},gk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mk={and:"AND",or:"OR"},Gg=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Wg(t,e){return t.useProto3Json||wl(e)?e:{value:e}}function Kg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ui(t){return De(!!t),U.fromTimestamp(function(n){let r=Qn(n);return new be(r.seconds,r.nanos)}(t))}function eb(t,e){return Qg(t,e).canonicalString()}function Qg(t,e){let n=function(i){return new pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tb(t){let e=pe.fromString(t);return De(ob(e)),e}function ug(t,e){let n=tb(e);if(n.get(1)!==t.databaseId.projectId)throw new C(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(rb(n))}function nb(t,e){return eb(t.databaseId,e)}function yk(t){let e=tb(t);return e.length===4?pe.emptyPath():rb(e)}function _0(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rb(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vk(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:j()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(De(l===void 0||typeof l=="string"),et.fromBase64String(l||"")):(De(l===void 0||l instanceof Uint8Array),et.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?v.UNKNOWN:J0(u.code);return new C(l,u.message||"")}(o);n=new tl(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ug(t,r.document.name),s=Ui(r.document.updateTime),o=r.document.createTime?Ui(r.document.createTime):U.min(),a=new Sn({mapValue:{fields:r.document.fields}}),c=$t.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Bi(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ug(t,r.document),s=r.readTime?Ui(r.readTime):U.min(),o=$t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bi([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ug(t,r.document),s=r.removedTargetIds||[];n=new Bi([],s,i,null)}else{if(!("filter"in e))return j();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new $g(i,s),a=r.targetId;n=new el(a,o)}}return n}function _k(t,e){return{documents:[nb(t,e.path)]}}function wk(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nb(t,i);let s=function(u){if(u.length!==0)return sb(Ht.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Li(h.field),direction:Dk(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Wg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function Ik(t){let e=yk(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){De(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=ib(d);return h instanceof Ht&&F0(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(w){return new Ki(Vi(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,wl(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Wi(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new Wi(f,h)}(n.endAt)),Y1(e,i,o,s,a,"F",c,u)}function Ek(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ib(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Vi(n.unaryFilter.field);return Ee.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Vi(n.unaryFilter.field);return Ee.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Vi(n.unaryFilter.field);return Ee.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Vi(n.unaryFilter.field);return Ee.create(o,"!=",{nullValue:"NULL_VALUE"});default:return j()}}(t):t.fieldFilter!==void 0?function(n){return Ee.create(Vi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ht.create(n.compositeFilter.filters.map(r=>ib(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return j()}}(n.compositeFilter.op))}(t):j()}function Dk(t){return pk[t]}function bk(t){return gk[t]}function Ck(t){return mk[t]}function Li(t){return{fieldPath:t.canonicalString()}}function Vi(t){return Mt.fromServerFormat(t.fieldPath)}function sb(t){return t instanceof Ee?function(n){if(n.op==="=="){if(s0(n.value))return{unaryFilter:{field:Li(n.field),op:"IS_NAN"}};if(i0(n.value))return{unaryFilter:{field:Li(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s0(n.value))return{unaryFilter:{field:Li(n.field),op:"IS_NOT_NAN"}};if(i0(n.value))return{unaryFilter:{field:Li(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Li(n.field),op:bk(n.op),value:n.value}}}(t):t instanceof Ht?function(n){let r=n.getFilters().map(i=>sb(i));return r.length===1?r[0]:{compositeFilter:{op:Ck(n.op),filters:r}}}(t):j()}function ob(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var qo=class t{constructor(e,n,r,i,s=U.min(),o=U.min(),a=et.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Zg=class{constructor(e){this.ct=e}};function Tk(t){let e=Ik({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jg(e,e.limit,"L"):e}var rl=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(me(e.integerValue));else if("doubleValue"in e){let r=me(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Lo(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Zn(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?O0(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):j()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),R.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};rl.bt=new rl;var Yg=class{constructor(){this._n=new Jg}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Or.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},Jg=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(pe.comparator)).toArray()}};var M$=new Uint8Array(0);var ln=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var Go=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Xg=class{constructor(){this.changes=new Yn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var em=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var tm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fo(r.mutation,i,Mr.empty(),be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,X()).next(()=>r))}getLocalViewOfDocuments(e,n,r=X()){let i=Ar();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ro();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,X()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Jn(),o=Oo(),a=function(){return Oo()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Ji)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Fo(l.mutation,u,l.mutation.getFieldMask(),be.now())):o.set(u.key,Mr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new em(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Oo(),i=new ve((o,a)=>o-a),s=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Mr.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||X()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=H0();l.forEach(h=>{if(!s.has(h)){let f=Z0(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return R.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):B0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Ar()),a=-1,c=s;return o.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,X())).next(l=>({batchId:a,changes:nk(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=Ro();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Ro();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let u=function(d,h){return new Fr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,$t.newInvalidDocument(l)))});let a=Ro();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Fo(l.mutation,u,Mr.empty(),be.now()),El(n,u)&&(a=a.insert(c,u))}),a})}};var nm=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ui(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Tk(i.bundledQuery),readTime:Ui(i.readTime)}}(n)),y.resolve()}};var rm=class{constructor(){this.overlays=new ve(R.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ar();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=Ar(),s=n.length+1,o=new R(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ve((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Ar(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Ar(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zg(n,r));let s=this.hr.get(n);s===void 0&&(s=X(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Wo=class{constructor(){this.Pr=new Ye(Ie.Ir),this.Tr=new Ye(Ie.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ie(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ie(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new R(new pe([])),r=new Ie(n,e),i=new Ie(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new R(new pe([])),r=new Ie(n,e),i=new Ie(n,e+1),s=X();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ie(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ie=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return R.comparator(e.key,n.key)||ie(e.pr,n.pr)}static Er(e,n){return ie(e.pr,n.pr)||R.comparator(e.key,n.key)}};var im=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ye(Ie.Ir)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Ug(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Ie(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ie(n,0),i=new Ie(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(ie);return n.forEach(i=>{let s=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;R.isDocumentKey(s)||(s=s.child(""));let o=new Ie(new R(s),0),a=new Ye(ie);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),y.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return y.forEach(n.mutations,i=>{let s=new Ie(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ie(n,0),i=this.wr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var sm=class{constructor(e){this.vr=e,this.docs=function(){return new ve(R.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=Jn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$t.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Jn(),o=n.path,a=new R(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||z1(U1(l),r)<=0||(i.has(l.key)||El(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){j()}Fr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new om(this)}getSize(e){return y.resolve(this.size)}},om=class extends Xg{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var am=class{constructor(e){this.persistence=e,this.Mr=new Yn(n=>Jm(n),Xm),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Wo,this.targetCount=0,this.Lr=Go.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}};var cm=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new N0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new am(this),this.indexManager=new Yg,this.remoteDocumentCache=function(i){return new sm(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Zg(n),this.$r=new nm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new im(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);let i=new um(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return y.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},um=class extends Ig{constructor(e){super(),this.currentSequenceNumber=e}},lm=class t{constructor(e){this.persistence=e,this.zr=new Wo,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw j()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,r=>{let i=R.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var dm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=X(),i=X();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var hm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var fm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return YI()?8:Ku.v(to())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new hm;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(xo()<=J.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",Fi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(xo()<=J.DEBUG&&D("QueryEngine","Query:",Fi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(xo()<=J.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",Fi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hn(n))):y.resolve())}ji(e,n){if(u0(n))return y.resolve(null);let r=hn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jg(n,null,"F"),r=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=X(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,jg(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return u0(n)||i.isEqual(U.min())?y.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?y.resolve(null):(xo()<=J.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fi(n)),this.es(e,o,n,B1(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ye(z0(e));return n.forEach((i,s)=>{El(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return xo()<=J.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",Fi(n)),this.zi.getDocumentsMatchingQuery(e,n,Or.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var pm=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ve(ie),this.rs=new Yn(s=>Jm(s),Xm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function Sk(t,e,n,r){return new pm(t,e,n,r)}function ab(t,e){return _(this,null,function*(){let n=ee(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=X();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function cb(t){let e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Mk(t,e){let n=ee(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(et.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(T,b,P){return T.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=Jn(),u=X();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(Ak(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(U.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function Ak(t,e,n){let r=X(),i=X();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Jn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(U.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function xk(t,e){let n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new qo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function gm(t,e,n){return _(this,null,function*(){let r=ee(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Xo(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function w0(t,e,n){let r=ee(t),i=U.min(),s=X();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=ee(c),h=d.rs.get(l);return h!==void 0?y.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:X())).next(a=>(Rk(r,X1(e),a),{documents:a,hs:s})))}function Rk(t,e,n){let r=t.ss.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var il=class{constructor(){this.activeTargetIds=sk()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var mm=class{constructor(){this.no=new il,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new il,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ym=class{io(e){}shutdown(){}};var sl=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var $u=null;function lg(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}var Nk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var vm=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Ze="WebChannelConnection",_m=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=lg(),c=this.bo(n,r.toUriEncodedString());D("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(D("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw $i("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ns}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=Nk[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=lg();return new Promise((o,a)=>{let c=new YD;c.setWithCredentials(!0),c.listenOnce(QD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Uu.NO_ERROR:let l=c.getResponseJson();D(Ze,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Uu.TIMEOUT:D(Ze,`RPC '${e}' ${s} timed out`),a(new C(v.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:let d=c.getStatus();if(D(Ze,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let w=function(b){let P=b.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(P)>=0?P:v.UNKNOWN}(f.status);a(new C(w,f.message))}else a(new C(v.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new C(v.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{D(Ze,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);D(Ze,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=lg(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WD(),a=KD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");D(Ze,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,w=new vm({lo:b=>{f?D(Ze,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(D(Ze,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),D(Ze,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},ho:()=>d.close()}),T=(b,P,ae)=>{b.listen(P,$=>{try{ae($)}catch(H){setTimeout(()=>{throw H},0)}})};return T(d,Ao.EventType.OPEN,()=>{f||D(Ze,`RPC '${e}' stream ${i} transport opened.`)}),T(d,Ao.EventType.CLOSE,()=>{f||(f=!0,D(Ze,`RPC '${e}' stream ${i} transport closed`),w.Vo())}),T(d,Ao.EventType.ERROR,b=>{f||(f=!0,$i(Ze,`RPC '${e}' stream ${i} transport errored:`,b),w.Vo(new C(v.UNAVAILABLE,"The operation could not be completed")))}),T(d,Ao.EventType.MESSAGE,b=>{var P;if(!f){let ae=b.data[0];De(!!ae);let $=ae,H=$.error||((P=$[0])===null||P===void 0?void 0:P.error);if(H){D(Ze,`RPC '${e}' stream ${i} received error:`,H);let Ce=H.status,ne=function(Rl){let oa=we[Rl];if(oa!==void 0)return J0(oa)}(Ce),Je=H.message;ne===void 0&&(ne=v.INTERNAL,Je="Unknown error status: "+Ce+" with message "+H.message),f=!0,w.Vo(new C(ne,Je)),d.close()}else D(Ze,`RPC '${e}' stream ${i} received:`,ae),w.mo(ae)}}),T(a,ZD.STAT_EVENT,b=>{b.stat===ag.PROXY?D(Ze,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===ag.NOPROXY&&D(Ze,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}};function dg(){return typeof document<"u"?document:null}function Dl(t){return new Gg(t,!0)}var ol=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var wm=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new ol(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return _(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return _(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return _(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(fn(n.toString()),fn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===v.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new C(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>_(this,null,function*(){this.state=0,this.start()}))}__(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Im=class extends wm{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=vk(this.serializer,e),r=function(s){if(!("targetChange"in s))return U.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?U.min():o.readTime?Ui(o.readTime):U.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=_0(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Lg(c)?{documents:_k(s,c)}:{query:wk(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=X0(s,o.resumeToken);let u=Wg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(U.min())>0){a.readTime=Kg(s,o.snapshotVersion.toTimestamp());let u=Wg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=Ek(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=_0(this.serializer),n.removeTarget=e,this.t_(n)}};var Em=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new C(v.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Qg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(v.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Qg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new C(v.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Dm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(fn(n),this.g_=!1):D("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var bm=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>_(this,null,function*(){na(this)&&(D("RemoteStore","Restarting streams for network reachability change."),yield function(c){return _(this,null,function*(){let u=ee(c);u.v_.add(4),yield ta(u),u.x_.set("Unknown"),u.v_.delete(4),yield bl(u)})}(this))}))}),this.x_=new Dm(r,i)}};function bl(t){return _(this,null,function*(){if(na(t))for(let e of t.F_)yield e(!0)})}function ta(t){return _(this,null,function*(){for(let e of t.F_)yield e(!1)})}function ub(t,e){let n=ee(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),iy(n)?ry(n):rs(n).Jo()&&ny(n,e))}function ty(t,e){let n=ee(t),r=rs(n);n.C_.delete(e),r.Jo()&&lb(n,e),n.C_.size===0&&(r.Jo()?r.Xo():na(n)&&n.x_.set("Unknown"))}function ny(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(U.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rs(t).c_(e)}function lb(t,e){t.O_.Oe(e),rs(t).l_(e)}function ry(t){t.O_=new qg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),rs(t).start(),t.x_.p_()}function iy(t){return na(t)&&!rs(t).Ho()&&t.C_.size>0}function na(t){return ee(t).v_.size===0}function db(t){t.O_=void 0}function Pk(t){return _(this,null,function*(){t.C_.forEach((e,n)=>{ny(t,e)})})}function Ok(t,e){return _(this,null,function*(){db(t),iy(t)?(t.x_.S_(e),ry(t)):t.x_.set("Unknown")})}function kk(t,e,n){return _(this,null,function*(){if(t.x_.set("Online"),e instanceof tl&&e.state===2&&e.cause)try{yield function(i,s){return _(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield I0(t,r)}else if(e instanceof Bi?t.O_.$e(e):e instanceof el?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(U.min()))try{let r=yield cb(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(et.EMPTY_BYTE_STRING,l.snapshotVersion)),lb(s,c);let d=new qo(l.target,c,u,l.sequenceNumber);ny(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield I0(t,r)}})}function I0(t,e,n){return _(this,null,function*(){if(!Xo(e))throw e;t.v_.add(1),yield ta(t),t.x_.set("Offline"),n||(n=()=>cb(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){D("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield bl(t)}))})}function E0(t,e){return _(this,null,function*(){let n=ee(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");let r=na(n);n.v_.add(3),yield ta(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield bl(n)})}function Fk(t,e){return _(this,null,function*(){let n=ee(t);e?(n.v_.delete(2),yield bl(n)):e||(n.v_.add(2),yield ta(n),n.x_.set("Unknown"))})}function rs(t){return t.N_||(t.N_=function(n,r,i){let s=ee(n);return s.R_(),new Im(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Pk.bind(null,t),To:Ok.bind(null,t),u_:kk.bind(null,t)}),t.F_.push(e=>_(this,null,function*(){e?(t.N_.Zo(),iy(t)?ry(t):t.x_.set("Unknown")):(yield t.N_.stop(),db(t))}))),t.N_}var Cm=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function hb(t,e){if(fn("AsyncQueue",`${e}: ${t}`),Xo(t))return new C(v.UNAVAILABLE,`${e}: ${t}`);throw t}var al=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=Ro(),this.sortedSet=new ve(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var cl=class{constructor(){this.B_=new ve(R.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):j():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Xi=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,al.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Il(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Tm=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},Sm=class{constructor(){this.queries=new Yn(e=>U0(e),Il),this.onlineState="Unknown",this.W_=new Set}};function fb(t,e){return _(this,null,function*(){let n=ee(t),r=3,i=e.query,s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new Tm,r=e.U_()?0:1);try{switch(r){case 0:s.q_=yield n.onListen(i,!0);break;case 1:s.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=hb(o,`Initialization of query '${Fi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&sy(n)})}function pb(t,e){return _(this,null,function*(){let n=ee(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Lk(t,e){let n=ee(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&sy(n)}function Vk(t,e,n){let r=ee(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function sy(t){t.W_.forEach(e=>{e.next()})}var Mm,D0;(D0=Mm||(Mm={})).j_="default",D0.Cache="cache";var ul=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Xi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Xi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Mm.Cache}};var ll=class{constructor(e){this.key=e}},dl=class{constructor(e){this.key=e}},Am=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=X(),this.mutatedKeys=X(),this.ha=z0(e),this.Pa=new al(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new cl,i=n?n.Pa:this.Pa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=El(this.query,d)?d:null,w=!!h&&this.mutatedKeys.has(h.key),T=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),b=!1;h&&f?h.data.isEqual(f.data)?w!==T&&(r.track({type:3,doc:f}),b=!0):this.da(h,f)||(r.track({type:2,doc:f}),b=!0,(c&&this.ha(f,c)>0||u&&this.ha(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),b=!0):h&&!f&&(r.track({type:1,doc:h}),b=!0,(c||u)&&(a=!0)),b&&(f?(o=o.add(f),s=T?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let o=e.Ea.k_();o.sort((l,d)=>function(f,w){let T=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return T(f)-T(w)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,u=c!==this.ca;return this.ca=c,o.length!==0||u?{snapshot:new Xi(this.query,e.Pa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new cl,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=X(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new dl(r))}),this.la.forEach(r=>{e.has(r)||n.push(new ll(r))}),n}fa(e){this.ua=e.hs,this.la=X();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Xi.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},xm=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Rm=class{constructor(e){this.key=e,this.pa=!1}},Nm=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Yn(a=>U0(a),Il),this.Sa=new Map,this.ba=new Set,this.Da=new ve(R.comparator),this.Ca=new Map,this.va=new Wo,this.Fa={},this.Ma=new Map,this.xa=Go.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function jk(t,e,n=!0){return _(this,null,function*(){let r=_b(t),i,s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=yield gb(r,e,n,!0),i})}function Bk(t,e){return _(this,null,function*(){let n=_b(t);yield gb(n,e,!0,!1)})}function gb(t,e,n,r){return _(this,null,function*(){let i=yield xk(t.localStore,hn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield Uk(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ub(t.remoteStore,i),a})}function Uk(t,e,n,r,i){return _(this,null,function*(){t.Na=(d,h,f)=>function(T,b,P,ae){return _(this,null,function*(){let $=b.view.Ta(P);$.Xi&&($=yield w0(T.localStore,b.query,!1).then(({documents:Je})=>b.view.Ta(Je,$)));let H=ae&&ae.targetChanges.get(b.targetId),Ce=ae&&ae.targetMismatches.get(b.targetId)!=null,ne=b.view.applyChanges($,T.isPrimaryClient,H,Ce);return C0(T,b.targetId,ne.Va),ne.snapshot})}(t,d,h,f);let s=yield w0(t.localStore,e,!0),o=new Am(e,s.hs),a=o.Ta(s.documents),c=Ho.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);C0(t,n,u.Va);let l=new xm(e,n,o);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot})}function zk(t,e,n){return _(this,null,function*(){let r=ee(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!Il(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ty(r.remoteStore,i.targetId),Pm(r,i.targetId)}).catch(Wm))):(Pm(r,i.targetId),yield gm(r.localStore,i.targetId,!0))})}function $k(t,e){return _(this,null,function*(){let n=ee(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ty(n.remoteStore,r.targetId))})}function mb(t,e){return _(this,null,function*(){let n=ee(t);try{let r=yield Mk(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Ca.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?De(o.pa):i.removedDocuments.size>0&&(De(o.pa),o.pa=!1))}),yield vb(n,r,e)}catch(r){yield Wm(r)}})}function b0(t,e,n){let r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((s,o)=>{let a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=ee(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(u=!0)}),u&&sy(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Hk(t,e,n){return _(this,null,function*(){let r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),s=i&&i.key;if(s){let o=new ve(R.comparator);o=o.insert(s,$t.newNoDocument(s,U.min()));let a=X().add(s),c=new Xu(U.min(),new Map,new ve(ie),o,a);yield mb(r,c),r.Da=r.Da.remove(s),r.Ca.delete(e),oy(r)}else yield gm(r.localStore,e,!1).then(()=>Pm(r,e,n)).catch(Wm)})}function Pm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||yb(t,r)})}function yb(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(ty(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),oy(t))}function C0(t,e,n){for(let r of n)r instanceof ll?(t.va.addReference(r.key,e),qk(t,r)):r instanceof dl?(D("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||yb(t,r.key)):j()}function qk(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(D("SyncEngine","New document in limbo: "+n),t.ba.add(r),oy(t))}function oy(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new R(pe.fromString(e)),r=t.xa.next();t.Ca.set(r,new Rm(n)),t.Da=t.Da.insert(n,r),ub(t.remoteStore,new qo(hn(ey(n.path)),r,"TargetPurposeLimboResolution",N0._e))}}function vb(t,e,n){return _(this,null,function*(){let r=ee(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{o.push(r.Na(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=dm.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.ya.u_(i),yield function(c,u){return _(this,null,function*(){let l=ee(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,h=>y.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>y.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Xo(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),w=f.snapshotVersion,T=f.withLastLimboFreeSnapshotVersion(w);l.ns=l.ns.insert(h,T)}}})}(r.localStore,s))})}function Gk(t,e){return _(this,null,function*(){let n=ee(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());let r=yield ab(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(c=>{c.reject(new C(v.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vb(n,r.us)}})}function Wk(t,e){let n=ee(t),r=n.Ca.get(e);if(r&&r.pa)return X().add(r.key);{let i=X(),s=n.Sa.get(e);if(!s)return i;for(let o of s){let a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function _b(t){let e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hk.bind(null,e),e.ya.u_=Lk.bind(null,e.eventManager),e.ya.La=Vk.bind(null,e.eventManager),e}var hl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){this.serializer=Dl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Sk(this.persistence,new fm,e.initialUser,this.serializer)}createPersistence(e){return new cm(lm.Hr,this.serializer)}createSharedClientState(e){return new mm}terminate(){return _(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Om=class{initialize(e,n){return _(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gk.bind(null,this.syncEngine),yield Fk(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Sm}()}createDatastore(e){let n=Dl(e.databaseInfo.databaseId),r=function(s){return new _m(s)}(e.databaseInfo);return function(s,o,a,c){return new Em(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new bm(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>b0(this.syncEngine,n,0),function(){return sl.D()?new sl:new ym}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Nm(i,s,o,a,c,u);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return _(this,null,function*(){var e;yield function(r){return _(this,null,function*(){let i=ee(r);D("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield ta(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var fl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):fn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var km=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pe.UNAUTHENTICATED,this.clientId=Gu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>_(this,null,function*(){D("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=hb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function hg(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield ab(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function T0(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Qk(t);D("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>E0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>E0(e.remoteStore,i)),t._onlineComponents=e})}function Kk(t){return t.name==="FirebaseError"?t.code===v.FAILED_PRECONDITION||t.code===v.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Qk(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{yield hg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Kk(n))throw n;$i("Error using user provided cache. Falling back to memory cache: "+n),yield hg(t,new hl)}}else D("FirestoreClient","Using default OfflineComponentProvider"),yield hg(t,new hl);return t._offlineComponents})}function Zk(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),yield T0(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),yield T0(t,new Om))),t._onlineComponents})}function wb(t){return _(this,null,function*(){let e=yield Zk(t),n=e.eventManager;return n.onListen=jk.bind(null,e.syncEngine),n.onUnlisten=zk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$k.bind(null,e.syncEngine),n})}function Yk(t,e,n={}){let r=new zt;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(s,o,a,c,u){let l=new fl({next:h=>{o.enqueueAndForget(()=>pb(s,d));let f=h.docs.has(a);!f&&h.fromCache?u.reject(new C(v.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?u.reject(new C(v.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new ul(ey(a.path),l,{includeMetadataChanges:!0,ta:!0});return fb(s,d)}(yield wb(t),t.asyncQueue,e,n,r)})),r.promise}function Jk(t,e,n={}){let r=new zt;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(s,o,a,c,u){let l=new fl({next:h=>{o.enqueueAndForget(()=>pb(s,d)),h.fromCache&&c.source==="server"?u.reject(new C(v.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new ul(a,l,{includeMetadataChanges:!0,ta:!0});return fb(s,d)}(yield wb(t),t.asyncQueue,e,n,r)})),r.promise}function Ib(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var S0=new Map;function Eb(t,e,n){if(!n)throw new C(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Xk(t,e,n,r){if(e===!0&&r===!0)throw new C(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M0(t){if(!R.isDocumentKey(t))throw new C(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function A0(t){if(R.isDocumentKey(t))throw new C(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":j()}function Ko(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Cl(t);throw new C(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var pl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ib((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},es=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fg;switch(r.type){case"firstParty":return new yg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=S0.get(n);r&&(D("ComponentProvider","Removing Datastore"),S0.delete(n),r.terminate())}(this),Promise.resolve()}};function eF(t,e,n,r={}){var i;let s=(t=Ko(t,es))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&$i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Pe.MOCK_USER;else{a=ru(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(v.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Pe(u)}t._authCredentials=new pg(new qu(a,c))}}var ts=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ft=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Kn=class t extends ts{constructor(e,n,r){super(e,n,ey(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new R(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Tl(t,e,...n){if(t=Lt(t),Eb("collection","path",e),t instanceof es){let r=pe.fromString(e,...n);return A0(r),new Kn(t,null,r)}{if(!(t instanceof ft||t instanceof Kn))throw new C(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(pe.fromString(e,...n));return A0(r),new Kn(t.firestore,null,r)}}function ra(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=Gu.newId()),Eb("doc","path",e),t instanceof es){let r=pe.fromString(e,...n);return M0(r),new ft(t,null,new R(r))}{if(!(t instanceof ft||t instanceof Kn))throw new C(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(pe.fromString(e,...n));return M0(r),new ft(t.firestore,t instanceof Kn?t.converter:null,new R(r))}}var Fm=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new ol(this,"async_queue_retry"),this.cu=()=>{let n=dg();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=dg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new zt;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return _(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Xo(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw fn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=Cm.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&j()}verifyOperationInProgress(){}Tu(){return _(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var Qo=class extends es{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Fm}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Cb(this),this._firestoreClient.terminate()}};function Db(t,e){let n=typeof t=="object"?t:lu(),r=typeof t=="string"?t:e||"(default)",i=cu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=nu("firestore");s&&eF(i,...s)}return i}function bb(t){return t._firestoreClient||Cb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Cb(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new Cg(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Ib(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new km(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Zo=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(et.fromBase64String(e))}catch(n){throw new C(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var gl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ml=class{constructor(e){this._methodName=e}};var Yo=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}};var tF=/^__.*__$/;function Tb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}var Lm=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return jm(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(Tb(this.Vu)&&tF.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},Vm=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dl(e)}Cu(e,n,r,i=!1){return new Lm({Vu:e,methodName:n,Du:r,path:Mt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function nF(t){let e=t._freezeSettings(),n=Dl(t._databaseId);return new Vm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rF(t,e,n,r=!1){return ay(n,t.Cu(r?4:3,e))}function ay(t,e){if(Sb(t=Lt(t)))return sF("Unsupported field value:",e,t),iF(t,e);if(t instanceof ml)return function(r,i){if(!Tb(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=ay(a,i.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ok(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=be.fromDate(r);return{timestampValue:Kg(i.serializer,s)}}if(r instanceof be){let s=new be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kg(i.serializer,s)}}if(r instanceof Yo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zo)return{bytesValue:X0(i.serializer,r._byteString)};if(r instanceof ft){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:eb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Cl(r)}`)}(t,e)}function iF(t,e){let n={};return P0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,(r,i)=>{let s=ay(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Sb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof be||t instanceof Yo||t instanceof Zo||t instanceof ft||t instanceof ml)}function sF(t,e,n){if(!Sb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Cl(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}var oF=new RegExp("[~\\*/\\[\\]]");function aF(t,e,n){if(e.search(oF)>=0)throw jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gl(...e.split("."))._internalPath}catch{throw jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jm(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new C(v.INVALID_ARGUMENT,a+t+c)}var yl=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Bm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Mb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Bm=class extends yl{data(){return super.data()}};function Mb(t,e){return typeof e=="string"?aF(t,e):e instanceof gl?e._internalPath:e._delegate._internalPath}function cF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jo=class{},Um=class extends Jo{};function Sl(t,e,...n){let r=[];e instanceof Jo&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof $m).length,a=s.filter(c=>c instanceof zm).length;if(o>1||o>0&&a>0)throw new C(v.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var zm=class t extends Um{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Ab(e._query,n),new ts(e.firestore,e.converter,Vg(e._query,n))}_parse(e){let n=nF(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new C(v.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){R0(d,l);let f=[];for(let w of d)f.push(x0(c,s,w));h={arrayValue:{values:f}}}else h=x0(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||R0(d,l),h=rF(a,o,d,l==="in"||l==="not-in");return Ee.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var $m=class t extends Jo{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ht.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)Ab(o,c),o=Vg(o,c)}(e._query,n),new ts(e.firestore,e.converter,Vg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function x0(t,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new C(v.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B0(e)&&n.indexOf("/")!==-1)throw new C(v.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(pe.fromString(n));if(!R.isDocumentKey(r))throw new C(v.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return r0(t,new R(r))}if(n instanceof ft)return r0(t,n._key);throw new C(v.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cl(n)}.`)}function R0(t,e){if(!Array.isArray(t)||t.length===0)throw new C(v.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ab(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new C(v.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new C(v.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Hm=class{convertValue(e,n="none"){switch(kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ea(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Yo(me(e.latitude),me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Zm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vo(e));default:return null}}convertTimestamp(e){let n=Qn(e);return new be(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=pe.fromString(e);De(ob(r));let i=new Yu(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(n)||fn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var Rr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vl=class extends yl{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new zi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Mb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},zi=class extends vl{data(e={}){return super.data(e)}},qm=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zi(this._firestore,this._userDataWriter,r.key,r,new Rr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new zi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new zi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:uF(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function uF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}function ia(t){t=Ko(t,ft);let e=Ko(t.firestore,Qo);return Yk(bb(e),t._key).then(n=>lF(e,t,n))}var _l=class extends Hm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}};function Ml(t){t=Ko(t,ts);let e=Ko(t.firestore,Qo),n=bb(e),r=new _l(e);return cF(t._query),Jk(n,t._query).then(i=>new qm(e,r,t,i))}function lF(t,e,n){let r=n.docs.get(e._key),i=new _l(t);return new vl(t,i,e._key,r,new Rr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ns=i})(uu),wr(new Vt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Qo(new gg(r.getProvider("auth-internal")),new _g(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new C(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yu(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),jt(XD,"4.5.0",e),jt(XD,"4.5.0","esm2017")})();var dF={apiKey:"AIzaSyBMDG_5lDDr2YeB9GwJGP_C3XO5hdcltbk",authDomain:"trippbarker-31e6e.firebaseapp.com",projectId:"trippbarker-31e6e",storageBucket:"trippbarker-31e6e.appspot.com",messagingSenderId:"648512597814",appId:"1:648512597814:web:25016cb4a291e39ee4cd97"},hF=cp(dF),Mn=Db(hF);function fF(t,e){if(t&1&&(m(0,"a",4),g(1,"GitHub REPO"),p()),t&2){let n=Ss();ci("href",n.project.repo,oi)}}function pF(t,e){if(t&1&&(m(0,"a",5),g(1,"PROJECT LINK"),p()),t&2){let n=Ss();ci("href",n.project.liveSite,oi)}}function gF(t,e){if(t&1&&(m(0,"div",6)(1,"h2"),g(2),p(),m(3,"p"),g(4),p(),M(5,"div",7),p()),t&2){let n=e.$implicit;bt("id","",n.contentRef,"Cont"),Y(2),rt(n.header),Y(2),rt(n.text),Y(),bt("id","",n.contentRef,"Content")}}var xb=(()=>{let e=class e{constructor(r,i){this.route=r,this.router=i,this.project={id:"",ref:"",technologies:new Array,name:"",link:"null",liveSite:"null",repo:"null",description:""},this.details=new Array}ngOnInit(){return _(this,null,function*(){yield this.getProject()})}getProject(){return _(this,null,function*(){let r=this.route.snapshot.paramMap.get("ref");if(r){let i=yield ia(ra(Mn,"project",r)),s=yield ia(ra(Mn,"projectDetails",r));this.project.name=i.get("id"),this.project.ref=i.get("ref"),this.project.technologies=i.get("technologies"),this.project.name=i.get("name"),this.project.link=i.get("link"),this.project.liveSite=i.get("liveSite"),this.project.repo=i.get("repo"),this.project.description=i.get("desc");let o=1;for(console.log(this.project.repo);s.get("sect-"+o);){let a=s.get("sect-"+o).text;a=a.replaceAll("/n",`
`),a=a.replaceAll("/t","	");let c={header:s.get("sect-"+o).header,text:a,contentRef:s.get("sect-"+o).contentRef,contentType:s.get("sect-"+o).contentType,contentCaption:s.get("sect-"+o).contentCaption,contentExt:s.get("sect-"+o).contentExt};this.details.push(c),this.getContent(c.contentRef,c.contentType,c.contentCaption,c.contentExt),o++}}})}getContent(r,i,s,o){return _(this,null,function*(){if(i!="null"){let a=Ai(),c=Ir(a,"project/"+this.project.ref+"/"+r+o);Mi(c).then(u=>{if(i=="img"){let d=document.createElement("img");d.src=u,d.alt=s,d.style.setProperty("max-width","50rem"),d.style.setProperty("text-align","center"),document.getElementById(r+"Content")?.appendChild(d)}else if(i=="vid"){let d=document.createElement("video");d.src=u,d.controls=!0,document.getElementById(r+"Content")?.appendChild(d)}let l=document.createElement("p");l.textContent=s,l.style.setProperty("font-style","italic"),l.style.setProperty("font-size",".75rem"),l.style.setProperty("margin",".5rem"),l.style.setProperty("color","grey"),document.getElementById(r+"Content")?.appendChild(l)})}})}};e.\u0275fac=function(i){return new(i||e)(le(kt),le(Tt))},e.\u0275cmp=Se({type:e,selectors:[["app-project-detail"]],standalone:!0,features:[fr],decls:8,vars:5,consts:[["id","project"],["id","repo","class","link",3,"href",4,"ngIf"],["id","liveSite","class","link",3,"href",4,"ngIf"],["class","detailContainer",3,"id",4,"ngFor","ngForOf"],["id","repo",1,"link",3,"href"],["id","liveSite",1,"link",3,"href"],[1,"detailContainer",3,"id"],[1,"detailContent",3,"id"]],template:function(i,s){i&1&&(m(0,"div",0)(1,"h1"),g(2),p(),m(3,"h2"),g(4),p(),tn(5,fF,2,1,"a",1)(6,pF,2,1,"a",2)(7,gF,6,6,"div",3),p()),i&2&&(Y(2),rt(s.project.name),Y(2),rt(s.project.description),Y(),Dt("ngIf",s.project.repo!="null"),Y(),Dt("ngIf",s.project.liveSite!="null"),Y(),Dt("ngForOf",s.details))},dependencies:[Bn,Pc,pi],styles:["#project[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:60rem}.detailContainer[_ngcontent-%COMP%]{margin-left:1rem;height:100%;width:60rem}.detailContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.detailContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ee6c4d}.detailContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre-wrap;margin-left:1rem;margin-right:1rem}.link[_ngcontent-%COMP%]{font-weight:bolder;margin-right:2rem;font-size:1rem;text-decoration:none;color:#ee6c4d}.link[_ngcontent-%COMP%]:hover{color:#b64225}"]});let t=e;return t})();var sa=(()=>{let e=class e{constructor(){this.messages=[]}add(r){this.messages.push(r)}clear(){this.messages=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Al=(()=>{let e=class e{constructor(r){this.messageService=r}};e.\u0275fac=function(i){return new(i||e)(N(sa))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mF(t,e){if(t&1&&(m(0,"div",2)(1,"a",3),M(2,"img",4),m(3,"h2"),g(4),p()()()),t&2){let n=e.$implicit;Y(),bt("routerLink","/project/",n.ref,""),Y(),bt("id","",n.ref,"IMG"),Y(2),rt(n.name)}}var xl=(()=>{let e=class e{ngOnInit(){this.getProjects()}constructor(r,i){this.projectService=r,this.messageService=i,this.projects=new Array}getProjects(){return _(this,null,function*(){(yield Ml(Sl(Tl(Mn,"project")))).forEach(i=>{let s={id:i.id,ref:i.data().ref,technologies:i.data().technologies,name:i.data().name,link:i.data().link,liveSite:i.data().liveSite,repo:i.data().repo,description:i.data().description};this.projects.push(s)}),this.projects.forEach(i=>{this.getProjectImage(i.ref)})})}getProjectImage(r){return _(this,null,function*(){let i=Ai(),s=Ir(i,"project/"+r+"/main.png");Mi(s).then(o=>{let a=document.getElementById(r+"IMG");a.style.backgroundImage="url("+o+")"})})}};e.\u0275fac=function(i){return new(i||e)(le(Al),le(sa))},e.\u0275cmp=Se({type:e,selectors:[["app-projects"]],standalone:!0,features:[fr],decls:2,vars:1,consts:[["id","projects"],["class","projectCont",4,"ngFor","ngForOf"],[1,"projectCont"],[1,"project",3,"routerLink"],["src","","alt","",1,"projectImg",3,"id"]],template:function(i,s){i&1&&(m(0,"div",0),tn(1,mF,5,5,"div",1),p()),i&2&&(Y(),Dt("ngForOf",s.projects))},dependencies:[Bn,pi,st],styles:["*[_ngcontent-%COMP%]{font-family:Azeret Mono,monospace}body[_ngcontent-%COMP%]{background-color:#e0fbfc}#projects[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:flex;flex-wrap:wrap;justify-content:space-around;width:100%;align-items:center;max-width:125rem}.projectCont[_ngcontent-%COMP%]{margin:1rem;background-color:green;width:50%;max-width:35rem;height:25rem;display:flex;flex-direction:column;justify-content:center;align-items:center}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#293241;text-decoration:none}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ee6c4d}.project[_ngcontent-%COMP%]{background-color:#98c1d9;max-height:25rem;width:100%;min-width:25rem;max-width:35rem;display:flex;flex-direction:column;padding:1rem;border-radius:1rem;overflow:hidden}.projectImg[_ngcontent-%COMP%]{background-color:#293241;height:100rem;overflow-x:hidden;border-radius:.75rem .75rem 0 0;background-size:cover}"]});let t=e;return t})();var Nb=(()=>{let e=class e{constructor(r){this.projectService=r,this.projects=[]}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(le(Al))},e.\u0275cmp=Se({type:e,selectors:[["app-dashboard"]],decls:7,vars:0,consts:[["routerLink","/about-me"],["routerLink","/projects"],["routerLink","/bike"]],template:function(i,s){i&1&&(m(0,"nav")(1,"a",0),g(2,"ABOUT ME"),p(),m(3,"a",1),g(4,"PROJECTS"),p(),m(5,"a",2),g(6,"BIKE"),p()())},dependencies:[st],styles:["nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:0}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:.5rem 0rem .5rem 2rem;text-decoration:none;font-family:Azeret Mono,monospace;font-weight:bolder;font-size:2rem;color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff4500;padding-left:1rem;transition:.1s}"]});let t=e;return t})();function yF(t,e){if(t&1&&(m(0,"div",4)(1,"h2"),g(2),p(),m(3,"h3"),g(4),p()()),t&2){let n=e.$implicit;bt("routerLink","/brag/",n.year,""),Y(2),En("BRAG ",n.year,""),Y(2),Nh("",n.days[0].startLocation," to ",n.days[7].endLocation," (",n.distance," miles, ",n.elevation," feet climbed)")}}var Pb=(()=>{let e=class e{constructor(){this.brags=new Array}ngOnInit(){this.getBrags()}getBrags(){return _(this,null,function*(){let r=new Intl.NumberFormat("en-US");(yield Ml(Sl(Tl(Mn,"brag")))).forEach(s=>{let o=new Array,a=0,c=0;for(let l=0;l<8;l++){let h={date:new be(s.data()["day"+l].date.seconds,s.data()["day"+l].date.nanoseconds).toDate(),day:s.data()["day"+l].day,number:s.data()["day"+l].number,distance:s.data()["day"+l].distance,elevation:s.data()["day"+l].elevation,movingTime:s.data()["day"+l].movingTime,endLocation:s.data()["day"+l].endLocation,startLocation:s.data()["day"+l].startLocation,stravaLink:s.data()["day"+l].stravaLink};a+=s.data()["day"+l].distance,c+=s.data()["day"+l].elevation,console.log(c),o.push(h)}let u={year:s.data().year,days:o,distance:r.format(Math.round((a+Number.EPSILON)*100)/100),elevation:r.format(Math.round((c+Number.EPSILON)*100)/100)};this.brags.push(u)}),console.log(this.brags)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Se({type:e,selectors:[["app-bike"]],decls:12,vars:1,consts:[["id","brags",1,"bikeContainer"],["routerLink","/checklist",1,"bragContainer"],["class","bragContainer",3,"routerLink",4,"ngFor","ngForOf"],["id","gear",1,"gearContainer"],[1,"bragContainer",3,"routerLink"]],template:function(i,s){i&1&&(m(0,"div",0)(1,"h1"),g(2,"Bike Ride Across Georgia"),p(),m(3,"div",1)(4,"h2"),g(5,"BRAG CHECKLIST"),p(),m(6,"h3"),g(7,"A checklist for BRAG including everything I need for showering, camping, and riding."),p()(),tn(8,yF,5,7,"div",2),p(),m(9,"div",3)(10,"h1"),g(11,"GEAR"),p()()),i&2&&(Y(8),Dt("ngForOf",s.brags))},dependencies:[Bn,st],styles:[".bikeContainer[_ngcontent-%COMP%], .bragContainer[_ngcontent-%COMP%], .gearContainer[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 2rem}.bragContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#00008b}.bragContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:1rem}.bragContainer[_ngcontent-%COMP%]:hover{cursor:pointer;padding-left:1rem;transition:.1s}.bragContainer[_ngcontent-%COMP%]:hover   h2[_ngcontent-%COMP%]{color:#ff4500}"]});let t=e;return t})();function vF(t,e){if(t&1&&(m(0,"p",12),g(1,"see the ride "),m(2,"a",13),g(3,"here"),p()()),t&2){let n=Ss().$implicit;Y(2),ci("href",n.stravaLink,oi)}}function _F(t,e){if(t&1&&(m(0,"div",3)(1,"h2",4),g(2),m(3,"i"),g(4),p()(),m(5,"div",5)(6,"div",6)(7,"p"),g(8,"distance"),p(),m(9,"p")(10,"b",7),g(11),p(),g(12," mi"),p()(),m(13,"div",8)(14,"p"),g(15,"elevation gain"),p(),m(16,"p")(17,"b",7),g(18),p(),g(19," ft"),p()(),m(20,"div",9)(21,"p"),g(22,"moving time"),p(),m(23,"p")(24,"b",7),g(25),p()()()(),tn(26,vF,4,1,"p",10),M(27,"div",11),p()),t&2){let n=e.$implicit;Y(2),En("day ",n.day," "),Y(2),Rh("",n.startLocation," to ",n.endLocation,""),Y(7),rt(n.distance),Y(7),rt(n.elevation),Y(7),rt(n.movingTime),Y(),Dt("ngIf",n.stravaLink!=""),Y(),bt("id","day",n.number,"images")}}var Ob=(()=>{let e=class e{constructor(r,i){this.route=r,this.router=i,this.brag={year:0,days:new Array,distance:"",elevation:""},this.totalDist=0,this.totalElv=0}ngOnInit(){return _(this,null,function*(){yield this.getBrag(),this.brag.days.forEach(r=>{console.log("hello"),console.log(this.brag.year.toString()),this.getImages(this.brag.year.toString(),r.number)})})}getBrag(){return _(this,null,function*(){let r=this.route.snapshot.paramMap.get("year"),i=yield ia(ra(Mn,"brag","brag"+r)),s=new Intl.NumberFormat("en-US"),o=new Array,a=0,c=0;for(let l=0;l<8;l++){let h={date:new be(i.get("day"+l).date.seconds,i.get("day"+l).date.nanoseconds).toDate(),day:i.get("day"+l).day,number:i.get("day"+l).number,distance:i.get("day"+l).distance,movingTime:i.get("day"+l).movingTime,elevation:i.get("day"+l).elevation,endLocation:i.get("day"+l).endLocation,startLocation:i.get("day"+l).startLocation,stravaLink:i.get("day"+l).stravaLink};a+=i.get("day"+l).distance,c+=i.get("day"+l).elevation,o.push(h)}let u={year:i.get("year"),days:o,distance:s.format(Math.round((a+Number.EPSILON)*100)/100),elevation:s.format(Math.round((c+Number.EPSILON)*100)/100)};this.brag=u})}getImages(r,i){return _(this,null,function*(){let s=Ai(),o=Ir(s,"brag/"+r+"/day"+i+"/thumbnails");RE(o).then(a=>{a.items.forEach(c=>{Mi(Ir(s,c.fullPath)).then(u=>{let l=document.createElement("img");l.id=c.name,l.src=u,l.setAttribute("height","100%"),l.style.setProperty("margin-right",".5rem"),l.style.setProperty("border-radius",".25rem"),document.getElementById("day"+i+"images")?.appendChild(l)})})})})}};e.\u0275fac=function(i){return new(i||e)(le(kt),le(Tt))},e.\u0275cmp=Se({type:e,selectors:[["app-brag"]],decls:10,vars:4,consts:[["routerLink","/bike","id","back"],["id","bragContainer"],["class","dayContainer",4,"ngFor","ngForOf"],[1,"dayContainer"],[1,"header"],[1,"stats"],[1,"distance"],[1,"stat"],[1,"elevation"],[1,"time"],["class","rideLink",4,"ngIf"],[1,"bragImages",3,"id"],[1,"rideLink"],["target","_blank",3,"href"]],template:function(i,s){i&1&&(m(0,"a",0),g(1,"[BACK]"),p(),m(2,"div",1)(3,"h1"),g(4),p(),m(5,"h2"),g(6),p(),m(7,"h2"),g(8),p(),tn(9,_F,28,9,"div",2),p()),i&2&&(Y(4),En("BRAG ",s.brag.year,""),Y(2),En("distance: ",s.brag.distance," mi"),Y(2),En("elevation: ",s.brag.elevation," ft"),Y(),Dt("ngForOf",s.brag.days))},dependencies:[Bn,Pc,st],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ee6c4d}h1[_ngcontent-%COMP%]{color:#293241}#bragContainer[_ngcontent-%COMP%], .dayContainer[_ngcontent-%COMP%], #back[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:60rem}.dayContainer[_ngcontent-%COMP%]{padding:1rem;margin:1rem;border-radius:.5rem}.header[_ngcontent-%COMP%]{color:#293241}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:bolder;color:#293241}.stats[_ngcontent-%COMP%]{display:flex;margin-bottom:15px}.stat[_ngcontent-%COMP%]{font-size:2rem;color:#293241}.distance[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.rideLink[_ngcontent-%COMP%]{margin:0 0 15px;padding:0}p[_ngcontent-%COMP%]{font-size:1rem}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-top:.5rem;padding-right:1rem;padding-bottom:.5rem}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]{border-right:1px solid #EE6C4D}.elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-left:1rem}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ee6c4d}.bragImages[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:20rem;padding-bottom:1rem;overflow-x:scroll;overflow-y:hidden}google-map[_ngcontent-%COMP%]{margin-right:1rem}img[_ngcontent-%COMP%]{margin:1rem}@media only screen and (max-width: 768px){.stats[_ngcontent-%COMP%]{flex-direction:column}.elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-left:0}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]{border-right:none}}[_ngcontent-%COMP%]::-webkit-scrollbar{height:12px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ee6c4d;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#b64225;cursor:grab}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{cursor:grabbing}"]});let t=e;return t})();var kb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Se({type:e,selectors:[["app-checklist"]],decls:174,vars:0,consts:[["routerLink","/bike","id","back"],["id","checklist"],["id","checklists"],[1,"checklistCat"],["type","checkbox","name","camping","id","tent"],["for","tent",1,"notselctable"],["type","checkbox","name","camping","id","groundcloth"],["for","groundcloth"],["type","checkbox","name","camping","id","stakes"],["for","stakes"],["type","checkbox","name","camping","id","mallet"],["for","mallet"],["type","checkbox","name","camping","id","chair"],["for","chair"],["type","checkbox","name","camping","id","batterybank"],["for","batterybank"],["type","checkbox","name","camping","id","clothes"],["for","clothes"],["type","checkbox","name","camping","id","hat"],["for","hat"],["type","checkbox","name","camping","id","shoes"],["for","shoes"],["type","checkbox","name","camping","id","crocs"],["for","crocs"],["type","checkbox","name","camping","id","clothingline"],["for","clothingline"],["type","checkbox","name","camping","id","spork"],["for","spork"],["type","checkbox","name","camping","id","oatmeal"],["for","oatmeal"],["type","checkbox","name","sleeping","id","sleepingpad"],["for","sleepingpad"],["type","checkbox","name","sleeping","id","sleepingbag"],["for","sleepingbag"],["type","checkbox","name","sleeping","id","pillow"],["for","pillow"],["type","checkbox","name","sleeping","id","airpump"],["for","airpump"],["type","checkbox","name","sleeping","id","eyemask"],["for","eyemask"],["type","checkbox","name","sleeping","id","earplugs"],["for","earplugs"],["type","checkbox","name","sleeping","id","fans"],["for","fans"],["type","checkbox","name","sleeping","id","theragun"],["for","theragun"],["type","checkbox","name","shower","id","soap"],["for","soap"],["type","checkbox","name","shower","id","shampoo"],["for","shampoo"],["type","checkbox","name","shower","id","towel"],["for","towel"],["type","checkbox","name","shower","id","toothpaste"],["for","toothpaste"],["type","checkbox","name","shower","id","toothbrush"],["for","toothbrush"],["type","checkbox","name","shower","id","comb"],["for","comb"],["type","checkbox","name","shower","id","chamoiscream"],["for","chamoiscream"],["type","checkbox","name","camping","id","bugrepellent"],["for","bugrepellent"],["type","checkbox","name","camping","id","sunscreen"],["for","sunscreen"],["type","checkbox","name","bike","id","bike"],["for","bike"],["type","checkbox","name","bike","id","bottles"],["for","bottles"],["type","checkbox","name","bike","id","helmet"],["for","helmet"],["type","checkbox","name","bike","id","glasses"],["for","glasses"],["type","checkbox","name","bike","id","cyclingshoes"],["for","cyclingshoes"],["type","checkbox","name","bike","id","flashlight"],["for","flashlight"],["type","checkbox","name","bike","id","chainlube"],["for","chainlube"],["type","checkbox","name","bike","id","gopro"],["for","gopro"],["type","checkbox","name","bike","id","hollyland"],["for","hollyland"]],template:function(i,s){i&1&&(m(0,"a",0),g(1,"[BACK]"),p(),m(2,"div",1)(3,"h2"),g(4,"BRAG Checklist"),p(),m(5,"div",2)(6,"div",3)(7,"h3"),g(8,"Camping"),p(),M(9,"input",4),m(10,"label",5),g(11,"tent"),p(),M(12,"br")(13,"input",6),m(14,"label",7),g(15,"ground cloth"),p(),M(16,"br")(17,"input",8),m(18,"label",9),g(19,"stakes"),p(),M(20,"br")(21,"input",10),m(22,"label",11),g(23,"mallet"),p(),M(24,"br")(25,"input",12),m(26,"label",13),g(27,"camping chair"),p(),M(28,"br")(29,"input",14),m(30,"label",15),g(31,"battery bank"),p(),M(32,"br")(33,"input",16),m(34,"label",17),g(35,"clothes"),p(),M(36,"br")(37,"input",18),m(38,"label",19),g(39,"hat"),p(),M(40,"br")(41,"input",20),m(42,"label",21),g(43,"shoes"),p(),M(44,"br")(45,"input",22),m(46,"label",23),g(47,"crocs"),p(),M(48,"br")(49,"input",24),m(50,"label",25),g(51,"clothing line"),p(),M(52,"br")(53,"input",26),m(54,"label",27),g(55,"spork"),p(),M(56,"br")(57,"input",28),m(58,"label",29),g(59,"oatmeal"),p(),M(60,"br"),p(),m(61,"div",3)(62,"h3"),g(63,"Sleeping"),p(),M(64,"input",30),m(65,"label",31),g(66,"sleeping pad"),p(),M(67,"br")(68,"input",32),m(69,"label",33),g(70,"sleeping bag"),p(),M(71,"br")(72,"input",34),m(73,"label",35),g(74,"pillow"),p(),M(75,"br")(76,"input",36),m(77,"label",37),g(78,"air pump"),p(),M(79,"br")(80,"input",38),m(81,"label",39),g(82,"eyemask"),p(),M(83,"br")(84,"input",40),m(85,"label",41),g(86,"earplugs"),p(),M(87,"br")(88,"input",42),m(89,"label",43),g(90,"fans"),p(),M(91,"br")(92,"input",44),m(93,"label",45),g(94,"theragun"),p(),M(95,"br"),p(),m(96,"div",3)(97,"h3"),g(98,"Shower Bag"),p(),M(99,"input",46),m(100,"label",47),g(101,"soap"),p(),M(102,"br")(103,"input",48),m(104,"label",49),g(105,"shampoo"),p(),M(106,"br")(107,"input",50),m(108,"label",51),g(109,"towel"),p(),M(110,"br")(111,"input",52),m(112,"label",53),g(113,"toothpaste"),p(),M(114,"br")(115,"input",54),m(116,"label",55),g(117,"toothbrush"),p(),M(118,"br")(119,"input",56),m(120,"label",57),g(121,"comb"),p(),M(122,"br")(123,"input",58),m(124,"label",59),g(125,"chamois cream"),p(),M(126,"br")(127,"input",60),m(128,"label",61),g(129,"bug repellent"),p(),M(130,"br")(131,"input",62),m(132,"label",63),g(133,"sun sunscreen"),p(),M(134,"br"),p(),m(135,"div",3)(136,"h3"),g(137,"Bike"),p(),M(138,"input",64),m(139,"label",65),g(140,"bike"),p(),M(141,"br")(142,"input",66),m(143,"label",67),g(144,"water bottles"),p(),M(145,"br")(146,"input",68),m(147,"label",69),g(148,"helmet"),p(),M(149,"br")(150,"input",70),m(151,"label",71),g(152,"glasses"),p(),M(153,"br")(154,"input",72),m(155,"label",73),g(156,"cycling shoes"),p(),M(157,"br")(158,"input",74),m(159,"label",75),g(160,"flashlight"),p(),M(161,"br")(162,"input",76),m(163,"label",77),g(164,"chainlube"),p(),M(165,"br")(166,"input",78),m(167,"label",79),g(168,"gopro"),p(),M(169,"br")(170,"input",80),m(171,"label",81),g(172,"hollyland mic"),p(),M(173,"br"),p()()())},dependencies:[st],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ff4500}#checklist[_ngcontent-%COMP%]{max-width:60rem;margin-left:auto;margin-right:auto}#checklists[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.checklistCat[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ee6c4d}div[_ngcontent-%COMP%]{margin-left:1rem}h2[_ngcontent-%COMP%]{font-size:2rem;color:#293241}h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-left:2rem}label[_ngcontent-%COMP%]{font-size:1.5rem;-webkit-user-select:none;user-select:none}label[_ngcontent-%COMP%]:hover{color:#ee6c4d;cursor:pointer}input[_ngcontent-%COMP%]{height:1rem;width:1rem;margin-left:3rem}"]});let t=e;return t})();var Fb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Se({type:e,selectors:[["app-about-me"]],decls:103,vars:0,consts:[["routerLink","/dashboard","id","back"],["id","about"],["id","aboutMe"],["id","contact"],["href","https://github.com/TrippBarker","target","_blank"],["href","https://bsky.app/profile/caffeineowl.bsky.social","target","_blank"],["id","skills"],[1,"xpContainer"],[1,"xpTime"],[1,"xpDets"],[1,"xpContainer","dotted"]],template:function(i,s){i&1&&(m(0,"a",0),g(1,"[BACK]"),p(),m(2,"div",1)(3,"h2"),g(4,"About Me"),p(),m(5,"div",2)(6,"p"),g(7,"My name is Tripp Barker, and I am currently a Software Development major attending Georgia Gwinnett College. I am passionate about riding my bike and getting out doors, and love cooking for my wife."),p(),m(8,"p"),g(9,"On this site you can expect to find things that interest me, and some of the projects I am working on."),p()(),m(10,"h2"),g(11,"Contact"),p(),m(12,"div",3)(13,"p"),g(14,"GitHub...: "),m(15,"a",4),g(16,"TrippBarker"),p()(),m(17,"p"),g(18,"Bluesky..: "),m(19,"a",5),g(20,"caffeineowl"),p()()(),m(21,"h2"),g(22,"Skills and Technologies"),p(),m(23,"div",6)(24,"div")(25,"p"),g(26,"- Java"),p(),m(27,"p"),g(28,"- Python"),p(),m(29,"p"),g(30,"- JavaScript/HTML/CSS"),p()(),m(31,"div")(32,"p"),g(33,"- Microsoft Office Suite"),p(),m(34,"p"),g(35,"- Project Libre"),p(),m(36,"p"),g(37,"- Visual Paradigm"),p(),m(38,"p"),g(39,"- Firebase"),p()(),m(40,"div")(41,"p"),g(42,"- SQLite"),p(),m(43,"p"),g(44,"- Git"),p(),m(45,"p"),g(46,"- Angular"),p()()(),m(47,"h2"),g(48,"Education"),p(),m(49,"div",7)(50,"div",8)(51,"p"),g(52,"Aug. 2021-"),M(53,"br"),g(54,"Present"),p()(),m(55,"div",9)(56,"h3"),g(57,"Software Development, "),m(58,"em"),g(59,"Georgia Gwinnett College"),p()(),m(60,"p"),g(61,"GPA 3.7"),p()()(),m(62,"h2"),g(63,"Work Experience"),p(),m(64,"div",10)(65,"div",8)(66,"p"),g(67,"Jun. 2022-"),M(68,"br"),g(69,"Oct. 2023"),p()(),m(70,"div",9)(71,"h3"),g(72,"Alarm Handler, "),m(73,"em"),g(74,"INOC/ITSavvy"),p()(),m(75,"p"),g(76,"At ITSavvy I worked as an Alarm Handler monitoring incoming network alarms and associating them with known issues, maintenances, or otherwise open a new ticket to track new issues. I work as an intermediary between clients and carriers to ensure that tickets receive the most detailed up-to-date information regarding each step taken in the trouble shooting process."),p()()(),m(77,"div",10)(78,"div",8)(79,"p"),g(80,"Jan. 2020-"),M(81,"br"),g(82,"Jun. 2022"),p()(),m(83,"div",9)(84,"h3"),g(85,"Helpdesk Technician, "),m(86,"em"),g(87,"INOC"),p()(),m(88,"p"),g(89,"At INOC I worked as a Help Desk Technician assisting multiple clients facing various issues including account recovery, PC troubleshooting, RMA/Technician Dispatch coordination, and much more. In my role as Help Desk Technician, it was vital to my job that work processes be followed closely, tickets be worked quick and efficiently, and that I include clear and concise updates for all work done."),p()()(),m(90,"div",7)(91,"div",8)(92,"p"),g(93,"Oct. 2019-"),M(94,"br"),g(95,"Feb. 2020"),p()(),m(96,"div",9)(97,"h3"),g(98,"Level Two Computer Technician, "),m(99,"em"),g(100,"Wolf Pack Techies"),p()(),m(101,"p"),g(102,"At Wolf Pack Techies I worked as a Level 2 Computer Technician. My role was to receive/check in incoming customer computers, diagnose issues, research resolutions, and service the machines. Each step in the process required detailed documentation in our ticketing system. In this role I provided professional customer service to customers and worked to educate customers on how they may be able to prevent or resolve issues with their machines in the future."),p()()()())},dependencies:[st],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ee6c4d}#about[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:50rem;display:flex;flex-direction:column;justify-content:center;align-items:flex-start}#contact[_ngcontent-%COMP%]{display:flex;flex-direction:column}#contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:bolder;color:#00008b}a[_ngcontent-%COMP%]:hover{color:#ee6c4d}h2[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem;border-bottom:1px solid black}#skills[_ngcontent-%COMP%]{display:flex;flex-direction:row}#skills[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.xpContainer[_ngcontent-%COMP%]{justify-content:space-between;display:flex}.dotted[_ngcontent-%COMP%]{border-bottom:1px dashed lightslategray}.xpTime[_ngcontent-%COMP%]{width:8rem;margin-right:1rem}.xpDets[_ngcontent-%COMP%]{width:41rem}"]});let t=e;return t})();var wF=[{path:"about-me",component:Fb},{path:"projects",component:xl},{path:"dashboard",component:Nb},{path:"project/:ref",component:xb},{path:"bike",component:Pb},{path:"brag/:year",component:Ob},{path:"checklist",component:kb},{path:"",redirectTo:"/dashboard",pathMatch:"full"}],Lb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=We({type:e}),e.\u0275inj=Ge({imports:[Hf.forRoot(wF),Hf]});let t=e;return t})();var Vb=(()=>{let e=class e{constructor(){this.title="Tripp Barker"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Se({type:e,selectors:[["app-root"]],decls:7,vars:1,consts:[["rel","preconnect","href",gc`https://fonts.googleapis.com`],["rel","preconnect","href",gc`https://fonts.gstatic.com`,"crossorigin",""],["href",gc`https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100..900;1,100..900&display=swap`,"rel","stylesheet"],["routerLink","/dashboard","id","title"]],template:function(i,s){i&1&&(M(0,"link",0)(1,"link",1)(2,"link",2),m(3,"a",3)(4,"h1"),g(5),p()(),M(6,"router-outlet")),i&2&&(Y(5),rt(s.title))},dependencies:[Lf,st]});let t=e;return t})();var jb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=We({type:e}),e.\u0275inj=Ge({});let t=e;return t})();var Bb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=We({type:e,bootstrap:[Vb]}),e.\u0275inj=Ge({imports:[nI,Lb,pi,xl,jb]});let t=e;return t})();tI().bootstrapModule(Bb).catch(t=>console.error(t));
