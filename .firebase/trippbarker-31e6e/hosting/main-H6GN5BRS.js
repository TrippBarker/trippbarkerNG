var J0=Object.defineProperty,eT=Object.defineProperties;var tT=Object.getOwnPropertyDescriptors;var Jy=Object.getOwnPropertySymbols;var nT=Object.prototype.hasOwnProperty,rT=Object.prototype.propertyIsEnumerable;var ev=(t,e,n)=>e in t?J0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||={})nT.call(e,n)&&ev(t,n,e[n]);if(Jy)for(var n of Jy(e))rT.call(e,n)&&ev(t,n,e[n]);return t},oe=(t,e)=>eT(t,tT(e));var y=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var tv=null;var nd=1,rd=Symbol("SIGNAL");function te(t){let e=tv;return tv=t,e}var nv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function iT(t){if(!(od(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===nd)){if(!t.producerMustRecompute(t)&&!id(t)){t.dirty=!1,t.lastCleanEpoch=nd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=nd}}function rv(t){return t&&(t.nextProducerIndex=0),te(t)}function iv(t,e){if(te(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(od(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)sd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function id(t){va(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(iT(n),r!==n.version))return!0}return!1}function sv(t){if(va(t),od(t))for(let e=0;e<t.producerNode.length;e++)sd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function sd(t,e){if(sT(t),va(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)sd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];va(i),i.producerIndexOfThis[r]=e}}function od(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function va(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function sT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function oT(){throw new Error}var aT=oT;function ov(t){aT=t}function V(t){return typeof t=="function"}function $r(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _a=$r(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(V(r))try{r()}catch(s){e=s instanceof _a?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{av(s)}catch(o){e=e??[],o instanceof _a?e=[...e,...o.errors]:e.push(o)}}if(e)throw new _a(e)}}add(e){var n;if(e&&e!==this)if(this.closed)av(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hs(n,e)}remove(e){let{_finalizers:n}=this;n&&hs(n,e),e instanceof t&&e._removeParent(this)}};Me.EMPTY=(()=>{let t=new Me;return t.closed=!0,t})();var ad=Me.EMPTY;function wa(t){return t instanceof Me||t&&"closed"in t&&V(t.remove)&&V(t.add)&&V(t.unsubscribe)}function av(t){V(t)?t():t.unsubscribe()}var St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Hr={setTimeout(t,e,...n){let{delegate:r}=Hr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Hr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ia(t){Hr.setTimeout(()=>{let{onUnhandledError:e}=St;if(e)e(t);else throw t})}function fs(){}var cv=cd("C",void 0,void 0);function uv(t){return cd("E",void 0,t)}function lv(t){return cd("N",t,void 0)}function cd(t,e,n){return{kind:t,value:e,error:n}}var ir=null;function qr(t){if(St.useDeprecatedSynchronousErrorHandling){let e=!ir;if(e&&(ir={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ir;if(ir=null,n)throw r}}else t()}function dv(t){St.useDeprecatedSynchronousErrorHandling&&ir&&(ir.errorThrown=!0,ir.error=t)}var sr=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wa(e)&&e.add(this)):this.destination=lT}static create(e,n,r){return new Gr(e,n,r)}next(e){this.isStopped?ld(lv(e),this):this._next(e)}error(e){this.isStopped?ld(uv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ld(cv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cT=Function.prototype.bind;function ud(t,e){return cT.call(t,e)}var dd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ea(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ea(r)}else Ea(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ea(n)}}},Gr=class extends sr{constructor(e,n,r){super();let i;if(V(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&St.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ud(e.next,s),error:e.error&&ud(e.error,s),complete:e.complete&&ud(e.complete,s)}):i=e}this.destination=new dd(i)}};function Ea(t){St.useDeprecatedSynchronousErrorHandling?dv(t):Ia(t)}function uT(t){throw t}function ld(t,e){let{onStoppedNotification:n}=St;n&&Hr.setTimeout(()=>n(t,e))}var lT={closed:!0,next:fs,error:uT,complete:fs};var Wr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ct(t){return t}function hd(...t){return fd(t)}function fd(t){return t.length===0?ct:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=hT(n)?n:new Gr(n,r,i);return qr(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=hv(r),new r((i,s)=>{let o=new Gr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Wr](){return this}pipe(...n){return fd(n)(this)}toPromise(n){return n=hv(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function hv(t){var e;return(e=t??St.Promise)!==null&&e!==void 0?e:Promise}function dT(t){return t&&V(t.next)&&V(t.error)&&V(t.complete)}function hT(t){return t&&t instanceof sr||dT(t)&&wa(t)}function pd(t){return V(t?.lift)}function Z(t){return e=>{if(pd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(t,e,n,r,i){return new gd(t,e,n,r,i)}var gd=class extends sr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Kr(){return Z((t,e)=>{let n=null;t._refCount++;let r=q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Qr=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let n=this.getSubject();e.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return Kr()(this)}};var fv=$r(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $e=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Da(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new fv}next(n){qr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){qr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ad:(this.currentObservers=null,s.push(n),new Me(()=>{this.currentObservers=null,hs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new Da(e,n),t})(),Da=class extends $e{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ad}};var ke=class extends $e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ut=new re(t=>t.complete());function pv(t){return t&&V(t.schedule)}function gv(t){return t[t.length-1]}function ba(t){return V(gv(t))?t.pop():void 0}function Rn(t){return pv(gv(t))?t.pop():void 0}function yv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function mv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function or(t){return this instanceof or?(this.v=t,this):new or(t)}function vv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,C){s.push([h,f,p,C])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof or?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _v(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mv=="function"?mv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Ca=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ta(t){return V(t?.then)}function Sa(t){return V(t[Wr])}function Ma(t){return Symbol.asyncIterator&&V(t?.[Symbol.asyncIterator])}function Aa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xa=fT();function Ra(t){return V(t?.[xa])}function Na(t){return vv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield or(n.read());if(i)return yield or(void 0);yield yield or(r)}}finally{n.releaseLock()}})}function Pa(t){return V(t?.getReader)}function _e(t){if(t instanceof re)return t;if(t!=null){if(Sa(t))return pT(t);if(Ca(t))return gT(t);if(Ta(t))return mT(t);if(Ma(t))return wv(t);if(Ra(t))return yT(t);if(Pa(t))return vT(t)}throw Aa(t)}function pT(t){return new re(e=>{let n=t[Wr]();if(V(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gT(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function mT(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ia)})}function yT(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function wv(t){return new re(e=>{_T(t,e).catch(n=>e.error(n))})}function vT(t){return wv(Na(t))}function _T(t,e){var n,r,i,s;return yv(this,void 0,void 0,function*(){try{for(n=_v(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function it(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Oa(t,e=0){return Z((n,r)=>{n.subscribe(q(r,i=>it(r,t,()=>r.next(i),e),()=>it(r,t,()=>r.complete(),e),i=>it(r,t,()=>r.error(i),e)))})}function ka(t,e=0){return Z((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Iv(t,e){return _e(t).pipe(ka(e),Oa(e))}function Ev(t,e){return _e(t).pipe(ka(e),Oa(e))}function Dv(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function bv(t,e){return new re(n=>{let r;return it(n,e,()=>{r=t[xa](),it(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>V(r?.return)&&r.return()})}function Fa(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{it(n,e,()=>{let r=t[Symbol.asyncIterator]();it(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Cv(t,e){return Fa(Na(t),e)}function Tv(t,e){if(t!=null){if(Sa(t))return Iv(t,e);if(Ca(t))return Dv(t,e);if(Ta(t))return Ev(t,e);if(Ma(t))return Fa(t,e);if(Ra(t))return bv(t,e);if(Pa(t))return Cv(t,e)}throw Aa(t)}function pe(t,e){return e?Tv(t,e):_e(t)}function O(...t){let e=Rn(t);return pe(t,e)}function Zr(t,e){let n=V(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function md(t){return!!t&&(t instanceof re||V(t.lift)&&V(t.subscribe))}var mn=$r(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function G(t,e){return Z((n,r)=>{let i=0;n.subscribe(q(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:wT}=Array;function IT(t,e){return wT(e)?t(...e):t(e)}function La(t){return G(e=>IT(t,e))}var{isArray:ET}=Array,{getPrototypeOf:DT,prototype:bT,keys:CT}=Object;function Va(t){if(t.length===1){let e=t[0];if(ET(e))return{args:e,keys:null};if(TT(e)){let n=CT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function TT(t){return t&&typeof t=="object"&&DT(t)===bT}function ja(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ps(...t){let e=Rn(t),n=ba(t),{args:r,keys:i}=Va(t);if(r.length===0)return pe([],e);let s=new re(ST(r,e,i?o=>ja(i,o):ct));return n?s.pipe(La(n)):s}function ST(t,e,n=ct){return r=>{Sv(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)Sv(e,()=>{let u=pe(t[c],e),l=!1;u.subscribe(q(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Sv(t,e,n){t?it(n,t,e):e()}function Mv(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=C=>u<r?p(C):c.push(C),p=C=>{s&&e.next(C),u++;let D=!1;_e(n(C,l++)).subscribe(q(e,x=>{i?.(x),s?f(x):e.next(x)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;c.length&&u<r;){let x=c.shift();o?it(e,o,()=>p(x)):p(x)}h()}catch(x){e.error(x)}}))};return t.subscribe(q(e,f,()=>{d=!0,h()})),()=>{a?.()}}function we(t,e,n=1/0){return V(e)?we((r,i)=>G((s,o)=>e(r,s,i,o))(_e(t(r,i))),n):(typeof e=="number"&&(n=e),Z((r,i)=>Mv(r,i,t,n)))}function Yr(t=1/0){return we(ct,t)}function Av(){return Yr(1)}function Xr(...t){return Av()(pe(t,Rn(t)))}function Ba(t){return new re(e=>{_e(t()).subscribe(e)})}function yd(...t){let e=ba(t),{args:n,keys:r}=Va(t),i=new re(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;_e(n[l]).subscribe(q(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?ja(r,a):a),s.complete())}))}});return e?i.pipe(La(e)):i}function vt(t,e){return Z((n,r)=>{let i=0;n.subscribe(q(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Nn(t){return Z((e,n)=>{let r=null,i=!1,s;r=e.subscribe(q(n,void 0,void 0,o=>{s=_e(t(o,Nn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function xv(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(q(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function ar(t,e){return V(e)?we(t,e,1):we(t,1)}function Pn(t){return Z((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function yn(t){return t<=0?()=>ut:Z((e,n)=>{let r=0;e.subscribe(q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function vd(t){return G(()=>t)}function Ua(t=MT){return Z((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function MT(){return new mn}function gs(t){return Z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function qt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vt((i,s)=>t(i,s,r)):ct,yn(1),n?Pn(e):Ua(()=>new mn))}function Jr(t){return t<=0?()=>ut:Z((e,n)=>{let r=[];e.subscribe(q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function _d(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vt((i,s)=>t(i,s,r)):ct,Jr(1),n?Pn(e):Ua(()=>new mn))}function wd(t,e){return Z(xv(t,e,arguments.length>=2,!0))}function Id(...t){let e=Rn(t);return Z((n,r)=>{(e?Xr(t,n,e):Xr(t,n)).subscribe(r)})}function _t(t,e){return Z((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(q(r,c=>{i?.unsubscribe();let u=0,l=s++;_e(t(c,l)).subscribe(i=q(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ed(t){return Z((e,n)=>{_e(t).subscribe(q(n,()=>n.complete(),fs)),!n.closed&&e.subscribe(n)})}function Fe(t,e,n){let r=V(t)||e||n?{next:t,error:e,complete:n}:t;return r?Z((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(q(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ct}var m_="https://g.co/ng/security#xss",A=class extends Error{constructor(e,n){super(Ch(e,n)),this.code=e}};function Ch(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ms(t){return{toString:t}.toString()}var za="__parameters__";function AT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function y_(t,e,n){return Ms(()=>{let r=AT(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(za)?c[za]:Object.defineProperty(c,za,{value:[]})[za];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Le=globalThis;function de(t){for(let e in t)if(t[e]===de)return e;throw Error("Could not find renamed property on target object.")}function xT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function et(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Rv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var RT=de({__forward_ref__:de});function As(t){return t.__forward_ref__=As,t.toString=function(){return et(this())},t}function Je(t){return v_(t)?t():t}function v_(t){return typeof t=="function"&&t.hasOwnProperty(RT)&&t.__forward_ref__===As}function M(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qe(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ec(t){return Nv(t,w_)||Nv(t,I_)}function __(t){return Ec(t)!==null}function Nv(t,e){return t.hasOwnProperty(e)?t[e]:null}function NT(t){let e=t&&(t[w_]||t[I_]);return e||null}function Pv(t){return t&&(t.hasOwnProperty(Ov)||t.hasOwnProperty(PT))?t[Ov]:null}var w_=de({\u0275prov:de}),Ov=de({\u0275inj:de}),I_=de({ngInjectableDef:de}),PT=de({ngInjectorDef:de}),P=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function E_(t){return t&&!!t.\u0275providers}var OT=de({\u0275cmp:de}),kT=de({\u0275dir:de}),FT=de({\u0275pipe:de}),LT=de({\u0275mod:de}),Ja=de({\u0275fac:de}),ms=de({__NG_ELEMENT_ID__:de}),kv=de({__NG_ENV_ID__:de});function Gt(t){return typeof t=="string"?t:t==null?"":String(t)}function VT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Gt(t)}function jT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,t)}function Th(t,e){throw new A(-201,!1)}var $=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($||{}),Ld;function D_(){return Ld}function wt(t){let e=Ld;return Ld=t,e}function b_(t,e,n){let r=Ec(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&$.Optional)return null;if(e!==void 0)return e;Th(t,"Injector")}var BT={},vs=BT,Vd="__NG_DI_FLAG__",ec="ngTempTokenPath",UT="ngTokenPath",zT=/\n/gm,$T="\u0275",Fv="__source",ii;function HT(){return ii}function On(t){let e=ii;return ii=t,e}function qT(t,e=$.Default){if(ii===void 0)throw new A(-203,!1);return ii===null?b_(t,void 0,e):ii.get(t,e&$.Optional?null:void 0,e)}function N(t,e=$.Default){return(D_()||qT)(Je(t),e)}function I(t,e=$.Default){return N(t,Dc(e))}function Dc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jd(t){let e=[];for(let n=0;n<t.length;n++){let r=Je(t[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,s=$.Default;for(let o=0;o<r.length;o++){let a=r[o],c=GT(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(N(i,s))}else e.push(N(r))}return e}function C_(t,e){return t[Vd]=e,t.prototype[Vd]=e,t}function GT(t){return t[Vd]}function WT(t,e,n,r){let i=t[ec];throw e[Fv]&&i.unshift(e[Fv]),t.message=KT(`
`+t.message,i,n,r),t[UT]=i,t[ec]=null,t}function KT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==$T?t.slice(2):t;let i=et(e);if(Array.isArray(e))i=e.map(et).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):et(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zT,`
  `)}`}var bc=C_(y_("Optional"),8);var Sh=C_(y_("SkipSelf"),4);function oi(t,e){let n=t.hasOwnProperty(Ja);return n?t[Ja]:null}function Mh(t,e){t.forEach(n=>Array.isArray(n)?Mh(n,e):e(n))}function T_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function tc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function QT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function ZT(t,e,n){let r=xs(t,e);return r>=0?t[r|1]=n:(r=~r,QT(t,r,e,n)),r}function Dd(t,e){let n=xs(t,e);if(n>=0)return t[n|1]}function xs(t,e){return YT(t,e,1)}function YT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ai={},It=[],ci=new P(""),S_=new P("",-1),M_=new P(""),nc=class{get(e,n=vs){if(n===vs){let r=new Error(`NullInjectorError: No provider for ${et(e)}!`);throw r.name="NullInjectorError",r}return n}},A_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(A_||{}),Qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qt||{}),tt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(tt||{});function XT(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Bd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];JT(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function x_(t){return t===3||t===4||t===6}function JT(t){return t.charCodeAt(0)===64}function _s(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Lv(t,n,i,null,e[++r]):Lv(t,n,i,null,null))}}return t}function Lv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var R_="ng-template";function eS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&XT(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ah(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Ah(t){return t.type===4&&t.value!==R_}function tS(t,e,n){let r=t.type===4&&!n?R_:t.value;return e===r}function nS(t,e,n){let r=4,i=t.attrs,s=i!==null?sS(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Mt(r)&&!Mt(c))return!1;if(o&&Mt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!tS(t,c,n)||c===""&&e.length===1){if(Mt(r))return!1;o=!0}}else if(r&8){if(i===null||!eS(t,i,c,n)){if(Mt(r))return!1;o=!0}}else{let u=e[++a],l=rS(c,i,Ah(t),n);if(l===-1){if(Mt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Mt(r))return!1;o=!0}}}}return Mt(r)||o}function Mt(t){return(t&1)===0}function rS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return oS(e,t)}function iS(t,e,n=!1){for(let r=0;r<e.length;r++)if(nS(t,e[r],n))return!0;return!1}function sS(t){for(let e=0;e<t.length;e++){let n=t[e];if(x_(n))return e}return t.length}function oS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Vv(t,e){return t?":not("+e.trim()+")":e}function aS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Mt(o)&&(e+=Vv(s,i),i=""),r=o,s=s||!Mt(r);n++}return i!==""&&(e+=Vv(s,i)),e}function cS(t){return t.map(aS).join(",")}function uS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Mt(i))break;i=s}r++}return{attrs:e,classes:n}}function Ve(t){return Ms(()=>{let e=F_(t),n=oe(T({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===A_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qt.Emulated,styles:t.styles||It,_:null,schemas:t.schemas||null,tView:null,id:""});L_(n);let r=t.dependencies;return n.directiveDefs=Bv(r,!1),n.pipeDefs=Bv(r,!0),n.id=hS(n),n})}function lS(t){return Fn(t)||N_(t)}function dS(t){return t!==null}function Ge(t){return Ms(()=>({type:t.type,bootstrap:t.bootstrap||It,declarations:t.declarations||It,imports:t.imports||It,exports:t.exports||It,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jv(t,e){if(t==null)return ai;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=tt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==tt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function dt(t){return Ms(()=>{let e=F_(t);return L_(e),e})}function Fn(t){return t[OT]||null}function N_(t){return t[kT]||null}function P_(t){return t[FT]||null}function O_(t){let e=Fn(t)||N_(t)||P_(t);return e!==null?e.standalone:!1}function k_(t,e){let n=t[LT]||null;if(!n&&e===!0)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return n}function F_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ai,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||It,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jv(t.inputs,e),outputs:jv(t.outputs),debugInfo:null}}function L_(t){t.features?.forEach(e=>e(t))}function Bv(t,e){if(!t)return null;let n=e?P_:lS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(dS)}function hS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function fS(...t){return{\u0275providers:V_(!0,t),\u0275fromNgModule:!0}}function V_(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Mh(e,o=>{let a=o;Ud(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&j_(i,s),n}function j_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];xh(i,s=>{e(s,r)})}}function Ud(t,e,n,r){if(t=Je(t),!t)return!1;let i=null,s=Pv(t),o=!s&&Fn(t);if(!s&&!o){let c=t.ngModule;if(s=Pv(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Ud(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Mh(s.imports,l=>{Ud(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&j_(u,e)}if(!a){let u=oi(i)||(()=>new i);e({provide:i,useFactory:u,deps:It},i),e({provide:M_,useValue:i,multi:!0},i),e({provide:ci,useValue:()=>N(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;xh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function xh(t,e){for(let n of t)E_(n)&&(n=n.\u0275providers),Array.isArray(n)?xh(n,e):e(n)}var pS=de({provide:String,useValue:de});function B_(t){return t!==null&&typeof t=="object"&&pS in t}function gS(t){return!!(t&&t.useExisting)}function mS(t){return!!(t&&t.useFactory)}function ui(t){return typeof t=="function"}function yS(t){return!!t.useClass}var Cc=new P(""),Ka={},vS={},bd;function Rh(){return bd===void 0&&(bd=new nc),bd}var lt=class{},ws=class extends lt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$d(e,o=>this.processProvider(o)),this.records.set(S_,ei(void 0,this)),i.has("environment")&&this.records.set(lt,ei(void 0,this));let s=this.records.get(Cc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(M_,It,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=On(this),r=wt(void 0),i;try{return e()}finally{On(n),wt(r)}}get(e,n=vs,r=$.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(kv))return e[kv](this);r=Dc(r);let i,s=On(this),o=wt(void 0);try{if(!(r&$.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=DS(e)&&Ec(e);u&&this.injectableDefInScope(u)?c=ei(zd(e),Ka):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&$.Self?Rh():this.parent;return n=r&$.Optional&&n===vs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ec]=a[ec]||[]).unshift(et(e)),s)throw a;return WT(a,e,"R3InjectorError",this.source)}else throw a}finally{wt(o),On(s)}}resolveInjectorInitializers(){let e=te(null),n=On(this),r=wt(void 0),i;try{let s=this.get(ci,It,$.Self);for(let o of s)o()}finally{On(n),wt(r),te(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(et(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){e=Je(e);let n=ui(e)?e:Je(e&&e.provide),r=wS(e);if(!ui(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ei(void 0,Ka,!0),i.factory=()=>jd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=te(null);try{return n.value===Ka&&(n.value=vS,n.value=n.factory()),typeof n.value=="object"&&n.value&&ES(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{te(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Je(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function zd(t){let e=Ec(t),n=e!==null?e.factory:oi(t);if(n!==null)return n;if(t instanceof P)throw new A(204,!1);if(t instanceof Function)return _S(t);throw new A(204,!1)}function _S(t){if(t.length>0)throw new A(204,!1);let n=NT(t);return n!==null?()=>n.factory(t):()=>new t}function wS(t){if(B_(t))return ei(void 0,t.useValue);{let e=U_(t);return ei(e,Ka)}}function U_(t,e,n){let r;if(ui(t)){let i=Je(t);return oi(i)||zd(i)}else if(B_(t))r=()=>Je(t.useValue);else if(mS(t))r=()=>t.useFactory(...jd(t.deps||[]));else if(gS(t))r=()=>N(Je(t.useExisting));else{let i=Je(t&&(t.useClass||t.provide));if(IS(t))r=()=>new i(...jd(t.deps));else return oi(i)||zd(i)}return r}function ei(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function IS(t){return!!t.deps}function ES(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function DS(t){return typeof t=="function"||typeof t=="object"&&t instanceof P}function $d(t,e){for(let n of t)Array.isArray(n)?$d(n,e):n&&E_(n)?$d(n.\u0275providers,e):e(n)}function _n(t,e){t instanceof ws&&t.assertNotDestroyed();let n,r=On(t),i=wt(void 0);try{return e()}finally{On(r),wt(i)}}function z_(){return D_()!==void 0||HT()!=null}function bS(t){if(!z_())throw new A(-203,!1)}function CS(t){let e=Le.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function TS(t){return typeof t=="function"}var wn=0,Q=1,k=2,He=3,At=4,Nt=5,rc=6,Is=7,xt=8,li=9,Rt=10,Ie=11,Es=12,Uv=13,gi=14,Zt=15,Tc=16,ti=17,di=18,Sc=19,$_=20,kn=21,Cd=22,lr=23,Ln=25,H_=1;var dr=7,ic=8,sc=9,Et=10,Nh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Nh||{});function cr(t){return Array.isArray(t)&&typeof t[H_]=="object"}function In(t){return Array.isArray(t)&&t[H_]===!0}function q_(t){return(t.flags&4)!==0}function Mc(t){return t.componentOffset>-1}function Ph(t){return(t.flags&1)===1}function Vn(t){return!!t.template}function SS(t){return(t[k]&512)!==0}var Hd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function G_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Bn(){return W_}function W_(t){return t.type.prototype.ngOnChanges&&(t.setInput=AS),MS}Bn.ngInherit=!0;function MS(){let t=Q_(this),e=t?.current;if(e){let n=t.previous;if(n===ai)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function AS(t,e,n,r,i){let s=this.declaredInputs[r],o=Q_(t)||xS(t,{previous:ai,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Hd(u&&u.currentValue,n,c===ai),G_(t,e,i,n)}var K_="__ngSimpleChanges__";function Q_(t){return t[K_]||null}function xS(t,e){return t[K_]=e}var zv=null;var Wt=function(t,e,n){zv?.(t,e,n)},RS="svg",NS="math",PS=!1;function OS(){return PS}function Yt(t){for(;Array.isArray(t);)t=t[wn];return t}function Z_(t,e){return Yt(e[t])}function Dt(t,e){return Yt(e[t.index])}function Y_(t,e){return t.data[e]}function Un(t,e){let n=e[t];return cr(n)?n:n[wn]}function Oh(t){return(t[k]&128)===128}function kS(t){return In(t[He])}function oc(t,e){return e==null?null:t[e]}function X_(t){t[ti]=0}function FS(t){t[k]&1024||(t[k]|=1024,Oh(t)&&Ds(t))}function LS(t,e){for(;t>0;)e=e[gi],t--;return e}function kh(t){return!!(t[k]&9216||t[lr]?.dirty)}function qd(t){t[Rt].changeDetectionScheduler?.notify(1),kh(t)?Ds(t):t[k]&64&&(OS()?(t[k]|=1024,Ds(t)):t[Rt].changeDetectionScheduler?.notify())}function Ds(t){t[Rt].changeDetectionScheduler?.notify();let e=bs(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!Oh(e)));)e=bs(e)}function J_(t,e){if((t[k]&256)===256)throw new A(911,!1);t[kn]===null&&(t[kn]=[]),t[kn].push(e)}function VS(t,e){if(t[kn]===null)return;let n=t[kn].indexOf(e);n!==-1&&t[kn].splice(n,1)}function bs(t){let e=t[He];return In(e)?e[He]:e}var H={lFrame:uw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jS(){return H.lFrame.elementDepthCount}function BS(){H.lFrame.elementDepthCount++}function US(){H.lFrame.elementDepthCount--}function ew(){return H.bindingsEnabled}function zS(){return H.skipHydrationRootTNode!==null}function $S(t){return H.skipHydrationRootTNode===t}function HS(){H.skipHydrationRootTNode=null}function ce(){return H.lFrame.lView}function st(){return H.lFrame.tView}function tw(t){return H.lFrame.contextLView=t,t[xt]}function nw(t){return H.lFrame.contextLView=null,t}function ot(){let t=rw();for(;t!==null&&t.type===64;)t=t.parent;return t}function rw(){return H.lFrame.currentTNode}function qS(){let t=H.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Rs(t,e){let n=H.lFrame;n.currentTNode=t,n.isParent=e}function iw(){return H.lFrame.isParent}function GS(){H.lFrame.isParent=!1}function sw(){return H.lFrame.bindingIndex}function WS(t){return H.lFrame.bindingIndex=t}function Ac(){return H.lFrame.bindingIndex++}function Fh(t){let e=H.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function KS(){return H.lFrame.inI18n}function QS(t,e){let n=H.lFrame;n.bindingIndex=n.bindingRootIndex=t,Gd(e)}function ZS(){return H.lFrame.currentDirectiveIndex}function Gd(t){H.lFrame.currentDirectiveIndex=t}function YS(t){let e=H.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ow(t){H.lFrame.currentQueryIndex=t}function XS(t){let e=t[Q];return e.type===2?e.declTNode:e.type===1?t[Nt]:null}function aw(t,e,n){if(n&$.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&$.Host);)if(i=XS(s),i===null||(s=s[gi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=H.lFrame=cw();return r.currentTNode=e,r.lView=t,!0}function Lh(t){let e=cw(),n=t[Q];H.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function cw(){let t=H.lFrame,e=t===null?null:t.child;return e===null?uw(t):e}function uw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function lw(){let t=H.lFrame;return H.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var dw=lw;function Vh(){let t=lw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function JS(t){return(H.lFrame.contextLView=LS(t,H.lFrame.contextLView))[xt]}function zn(){return H.lFrame.selectedIndex}function hr(t){H.lFrame.selectedIndex=t}function xc(){let t=H.lFrame;return Y_(t.tView,t.selectedIndex)}function eM(){return H.lFrame.currentNamespace}var hw=!0;function jh(){return hw}function Bh(t){hw=t}function tM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=W_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Uh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Qa(t,e,n){fw(t,e,3,n)}function Za(t,e,n,r){(t[k]&3)===n&&fw(t,e,n,r)}function Td(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function fw(t,e,n,r){let i=r!==void 0?t[ti]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ti]+=65536),(a<s||s==-1)&&(nM(t,n,e,c),t[ti]=(t[ti]&4294901760)+c+2),c++}function $v(t,e){Wt(4,t,e);let n=te(null);try{e.call(t)}finally{te(n),Wt(5,t,e)}}function nM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[k]>>14<t[ti]>>16&&(t[k]&3)===e&&(t[k]+=16384,$v(a,s)):$v(a,s)}var si=-1,fr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function rM(t){return t instanceof fr}function iM(t){return(t.flags&8)!==0}function sM(t){return(t.flags&16)!==0}function pw(t){return t!==si}function ac(t){return t&32767}function oM(t){return t>>16}function cc(t,e){let n=oM(t),r=e;for(;n>0;)r=r[gi],n--;return r}var Wd=!0;function Hv(t){let e=Wd;return Wd=t,e}var aM=256,gw=aM-1,mw=5,cM=0,Kt={};function uM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ms)&&(r=n[ms]),r==null&&(r=n[ms]=cM++);let i=r&gw,s=1<<i;e.data[t+(i>>mw)]|=s}function uc(t,e){let n=yw(t,e);if(n!==-1)return n;let r=e[Q];r.firstCreatePass&&(t.injectorIndex=e.length,Sd(r.data,t),Sd(e,null),Sd(r.blueprint,null));let i=zh(t,e),s=t.injectorIndex;if(pw(i)){let o=ac(i),a=cc(i,e),c=a[Q].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Sd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function zh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Ew(i),r===null)return si;if(n++,i=i[gi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return si}function Kd(t,e,n){uM(t,e,n)}function lM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(x_(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function vw(t,e,n){if(n&$.Optional||t!==void 0)return t;Th(e,"NodeInjector")}function _w(t,e,n,r){if(n&$.Optional&&r===void 0&&(r=null),!(n&($.Self|$.Host))){let i=t[li],s=wt(void 0);try{return i?i.get(e,r,n&$.Optional):b_(e,r,n&$.Optional)}finally{wt(s)}}return vw(r,e,n)}function ww(t,e,n,r=$.Default,i){if(t!==null){if(e[k]&2048&&!(r&$.Self)){let o=gM(t,e,n,r,Kt);if(o!==Kt)return o}let s=Iw(t,e,n,r,Kt);if(s!==Kt)return s}return _w(e,n,r,i)}function Iw(t,e,n,r,i){let s=fM(n);if(typeof s=="function"){if(!aw(e,t,r))return r&$.Host?vw(i,n,r):_w(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&$.Optional))Th(n);else return o}finally{dw()}}else if(typeof s=="number"){let o=null,a=yw(t,e),c=si,u=r&$.Host?e[Zt][Nt]:null;for((a===-1||r&$.SkipSelf)&&(c=a===-1?zh(t,e):e[a+8],c===si||!Gv(r,!1)?a=-1:(o=e[Q],a=ac(c),e=cc(c,e)));a!==-1;){let l=e[Q];if(qv(s,a,l.data)){let d=dM(a,e,n,o,r,u);if(d!==Kt)return d}c=e[a+8],c!==si&&Gv(r,e[Q].data[a+8]===u)&&qv(s,a,e)?(o=l,a=ac(c),e=cc(c,e)):a=-1}}return i}function dM(t,e,n,r,i,s){let o=e[Q],a=o.data[t+8],c=r==null?Mc(a)&&Wd:r!=o&&(a.type&3)!==0,u=i&$.Host&&s===a,l=hM(a,o,n,c,u);return l!==null?hi(e,o,l,a):Kt}function hM(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let p=o[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){let f=o[c];if(f&&Vn(f)&&f.type===n)return c}return null}function hi(t,e,n,r){let i=t[n],s=e.data;if(rM(i)){let o=i;o.resolving&&jT(VT(s[n]));let a=Hv(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?wt(o.injectImpl):null,l=aw(t,r,$.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&tM(n,s[n],e)}finally{u!==null&&wt(u),Hv(a),o.resolving=!1,dw()}}return i}function fM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ms)?t[ms]:void 0;return typeof e=="number"?e>=0?e&gw:pM:e}function qv(t,e,n){let r=1<<t;return!!(n[e+(t>>mw)]&r)}function Gv(t,e){return!(t&$.Self)&&!(t&$.Host&&e)}var ur=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ww(this._tNode,this._lView,e,Dc(r),n)}};function pM(){return new ur(ot(),ce())}function Ns(t){return Ms(()=>{let e=t.prototype.constructor,n=e[Ja]||Qd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ja]||Qd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Qd(t){return v_(t)?()=>{let e=Qd(Je(t));return e&&e()}:oi(t)}function gM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[k]&2048&&!(o[k]&512);){let a=Iw(s,o,n,r|$.Self,Kt);if(a!==Kt)return a;let c=s.parent;if(!c){let u=o[$_];if(u){let l=u.get(n,Kt,r);if(l!==Kt)return l}c=Ew(o),o=o[gi]}s=c}return i}function Ew(t){let e=t[Q],n=e.type;return n===2?e.declTNode:n===1?t[Nt]:null}function $h(t){return lM(ot(),t)}function Wv(t,e=null,n=null,r){let i=Dw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Dw(t,e=null,n=null,r,i=new Set){let s=[n||It,fS(t)];return r=r||(typeof t=="object"?void 0:et(t)),new ws(s,e||Rh(),r||null,i)}var Pt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Wv({name:""},i,r,"");{let s=r.name??"";return Wv({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=vs,e.NULL=new nc,e.\u0275prov=M({token:e,providedIn:"any",factory:()=>N(S_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var mM="ngOriginalError";function Md(t){return t[mM]}var Xt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Md(e);for(;n&&Md(n);)n=Md(n);return n||null}},bw=new P("",{providedIn:"root",factory:()=>I(Xt).handleError.bind(void 0)}),Hh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Zd=class extends Hh{constructor(e){super(),this._lView=e}onDestroy(e){return J_(this._lView,e),()=>VS(this._lView,e)}};function yM(){return new Zd(ce())}function vM(){return Rc(ot(),ce())}function Rc(t,e){return new En(Dt(t,e))}var En=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=vM;let t=e;return t})();var Yd=class extends $e{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,z_()&&(this.destroyRef=I(Hh,{optional:!0})??void 0)}emit(e){let n=te(null);try{super.next(e)}finally{te(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Ad(s),i&&(i=Ad(i)),o&&(o=Ad(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Me&&e.add(a),a}};function Ad(t){return e=>{setTimeout(t,void 0,e)}}var Ae=Yd;function Cw(t){return(t.flags&128)===128}var Tw=new Map,_M=0;function wM(){return _M++}function IM(t){Tw.set(t[Sc],t)}function EM(t){Tw.delete(t[Sc])}var Kv="__ngContext__";function pr(t,e){cr(e)?(t[Kv]=e[Sc],IM(e)):t[Kv]=e}function Sw(t){return Aw(t[Es])}function Mw(t){return Aw(t[At])}function Aw(t){for(;t!==null&&!In(t);)t=t[At];return t}var Xd;function xw(t){Xd=t}function DM(){if(Xd!==void 0)return Xd;if(typeof document<"u")return document;throw new A(210,!1)}var Nc=new P("",{providedIn:"root",factory:()=>bM}),bM="ng",qh=new P(""),$n=new P("",{providedIn:"platform",factory:()=>"unknown"});var Gh=new P("",{providedIn:"root",factory:()=>DM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var CM="h",TM="b";var SM=()=>null;function Wh(t,e,n=!1){return SM(t,e,n)}var Rw=!1,MM=new P("",{providedIn:"root",factory:()=>Rw});var $a;function AM(){if($a===void 0&&($a=null,Le.trustedTypes))try{$a=Le.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $a}function xM(t){return AM()?.createScriptURL(t)||t}var Ha;function RM(){if(Ha===void 0&&(Ha=null,Le.trustedTypes))try{Ha=Le.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ha}function Qv(t){return RM()?.createScriptURL(t)||t}var lc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${m_})`}};function Ps(t){return t instanceof lc?t.changingThisBreaksApplicationSecurity:t}function Kh(t,e){let n=NM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${m_})`)}return n===e}function NM(t){return t instanceof lc&&t.getTypeName()||null}var PM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nw(t){return t=String(t),t.match(PM)?t:"unsafe:"+t}var Pc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Pc||{});function Os(t){let e=Ow();return e?e.sanitize(Pc.URL,t)||"":Kh(t,"URL")?Ps(t):Nw(Gt(t))}function OM(t){let e=Ow();if(e)return Qv(e.sanitize(Pc.RESOURCE_URL,t)||"");if(Kh(t,"ResourceURL"))return Qv(Ps(t));throw new A(904,!1)}function Oc(t){return xM(t[0])}function kM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?OM:Os}function Pw(t,e,n){return kM(e,n)(t)}function Ow(){let t=ce();return t&&t[Rt].sanitizer}function kw(t){return t instanceof Function?t():t}function FM(t){return(t??I(Pt)).get($n)==="browser"}var vn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(vn||{}),LM;function Qh(t,e){return LM(t,e)}function ni(t,e,n,r,i){if(r!=null){let s,o=!1;In(r)?s=r:cr(r)&&(o=!0,r=r[wn]);let a=Yt(r);t===0&&n!==null?i==null?Bw(e,n,a):dc(e,n,a,i||null,!0):t===1&&n!==null?dc(e,n,a,i||null,!0):t===2?eA(e,a,o):t===3&&e.destroyNode(a),s!=null&&nA(e,t,s,n,i)}}function VM(t,e){return t.createText(e)}function jM(t,e,n){t.setValue(e,n)}function Fw(t,e,n){return t.createElement(e,n)}function BM(t,e){Lw(t,e),e[wn]=null,e[Nt]=null}function UM(t,e,n,r,i,s){r[wn]=i,r[Nt]=e,kc(t,r,n,1,i,s)}function Lw(t,e){e[Rt].changeDetectionScheduler?.notify(1),kc(t,e,e[Ie],2,null,null)}function zM(t){let e=t[Es];if(!e)return xd(t[Q],t);for(;e;){let n=null;if(cr(e))n=e[Es];else{let r=e[Et];r&&(n=r)}if(!n){for(;e&&!e[At]&&e!==t;)cr(e)&&xd(e[Q],e),e=e[He];e===null&&(e=t),cr(e)&&xd(e[Q],e),n=e&&e[At]}e=n}}function $M(t,e,n,r){let i=Et+r,s=n.length;r>0&&(n[i-1][At]=e),r<s-Et?(e[At]=n[i],T_(n,Et+r,e)):(n.push(e),e[At]=null),e[He]=n;let o=e[Tc];o!==null&&n!==o&&HM(o,e);let a=e[di];a!==null&&a.insertView(t),qd(e),e[k]|=128}function HM(t,e){let n=t[sc],i=e[He][He][Zt];e[Zt]!==i&&(t[k]|=Nh.HasTransplantedViews),n===null?t[sc]=[e]:n.push(e)}function Vw(t,e){let n=t[sc],r=n.indexOf(e);n.splice(r,1)}function Jd(t,e){if(t.length<=Et)return;let n=Et+e,r=t[n];if(r){let i=r[Tc];i!==null&&i!==t&&Vw(i,r),e>0&&(t[n-1][At]=r[At]);let s=tc(t,Et+e);BM(r[Q],r);let o=s[di];o!==null&&o.detachView(s[Q]),r[He]=null,r[At]=null,r[k]&=-129}return r}function jw(t,e){if(!(e[k]&256)){let n=e[Ie];n.destroyNode&&kc(t,e,n,3,null,null),zM(e)}}function xd(t,e){if(e[k]&256)return;let n=te(null);try{e[k]&=-129,e[k]|=256,e[lr]&&sv(e[lr]),GM(t,e),qM(t,e),e[Q].type===1&&e[Ie].destroy();let r=e[Tc];if(r!==null&&In(e[He])){r!==e[He]&&Vw(r,e);let i=e[di];i!==null&&i.detachView(t)}EM(e)}finally{te(n)}}function qM(t,e){let n=t.cleanup,r=e[Is];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Is]=null);let i=e[kn];if(i!==null){e[kn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function GM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof fr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Wt(4,a,c);try{c.call(a)}finally{Wt(5,a,c)}}else{Wt(4,i,s);try{s.call(i)}finally{Wt(5,i,s)}}}}}function WM(t,e,n){return KM(t,e.parent,n)}function KM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[wn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Qt.None||s===Qt.Emulated)return null}return Dt(r,n)}}function dc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Bw(t,e,n){t.appendChild(e,n)}function Zv(t,e,n,r,i){r!==null?dc(t,e,n,r,i):Bw(t,e,n)}function QM(t,e,n,r){t.removeChild(e,n,r)}function Zh(t,e){return t.parentNode(e)}function ZM(t,e){return t.nextSibling(e)}function YM(t,e,n){return JM(t,e,n)}function XM(t,e,n){return t.type&40?Dt(t,n):null}var JM=XM,Yv;function Yh(t,e,n,r){let i=WM(t,r,e),s=e[Ie],o=r.parent||e[Nt],a=YM(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Zv(s,i,n[c],a,!1);else Zv(s,i,n,a,!1);Yv!==void 0&&Yv(s,r,e,n,i)}function Ya(t,e){if(e!==null){let n=e.type;if(n&3)return Dt(e,t);if(n&4)return eh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ya(t,r);{let i=t[e.index];return In(i)?eh(-1,i):Yt(i)}}else{if(n&32)return Qh(e,t)()||Yt(t[e.index]);{let r=Uw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=bs(t[Zt]);return Ya(i,r)}else return Ya(t,e.next)}}}return null}function Uw(t,e){if(e!==null){let r=t[Zt][Nt],i=e.projection;return r.projection[i]}return null}function eh(t,e){let n=Et+t+1;if(n<e.length){let r=e[n],i=r[Q].firstChild;if(i!==null)return Ya(r,i)}return e[dr]}function eA(t,e,n){let r=Zh(t,e);r&&QM(t,r,e,n)}function Xh(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&pr(Yt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Xh(t,e,n.child,r,i,s,!1),ni(e,t,i,a,s);else if(c&32){let u=Qh(n,r),l;for(;l=u();)ni(e,t,i,l,s);ni(e,t,i,a,s)}else c&16?tA(t,e,r,n,i,s):ni(e,t,i,a,s);n=o?n.projectionNext:n.next}}function kc(t,e,n,r,i,s){Xh(n,r,t.firstChild,e,i,s,!1)}function tA(t,e,n,r,i,s){let o=n[Zt],c=o[Nt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ni(e,t,i,l,s)}else{let u=c,l=o[He];Cw(r)&&(u.flags|=128),Xh(t,e,u,l,i,s,!0)}}function nA(t,e,n,r,i){let s=n[dr],o=Yt(n);s!==o&&ni(e,t,r,s,i);for(let a=Et;a<n.length;a++){let c=n[a];kc(c[Q],c,t,e,r,s)}}function rA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:vn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=vn.Important),t.setStyle(n,r,i,s))}}function iA(t,e,n){t.setAttribute(e,"style",n)}function zw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function $w(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Bd(t,e,r),i!==null&&zw(t,e,i),s!==null&&iA(t,e,s)}var Ot={};function he(t=1){Hw(st(),ce(),zn()+t,!1)}function Hw(t,e,n,r){if(!r)if((e[k]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Qa(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Za(e,s,0,n)}hr(n)}function B(t,e=$.Default){let n=ce();if(n===null)return N(t,e);let r=ot();return ww(r,n,Je(t),e)}function qw(){let t="invalid";throw new Error(t)}function Gw(t,e,n,r,i,s){let o=te(null);try{let a=null;i&tt.SignalBased&&(a=e[r][rd]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&tt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):G_(e,a,r,s)}finally{te(o)}}function sA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hr(~i);else{let s=i,o=n[++r],a=n[++r];QS(o,s);let c=e[s];a(2,c)}}}finally{hr(-1)}}function Fc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[wn]=i,d[k]=r|4|128|8|64,(u!==null||t&&t[k]&2048)&&(d[k]|=2048),X_(d),d[He]=d[gi]=t,d[xt]=n,d[Rt]=o||t&&t[Rt],d[Ie]=a||t&&t[Ie],d[li]=c||t&&t[li]||null,d[Nt]=s,d[Sc]=wM(),d[rc]=l,d[$_]=u,d[Zt]=e.type==2?t[Zt]:d,d}function Lc(t,e,n,r,i){let s=t.data[e];if(s===null)s=oA(t,e,n,r,i),KS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=qS();s.injectorIndex=o===null?-1:o.injectorIndex}return Rs(s,!0),s}function oA(t,e,n,r,i){let s=rw(),o=iw(),a=o?s:s&&s.parent,c=t.data[e]=dA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function Ww(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Kw(t,e,n,r,i){let s=zn(),o=r&2;try{hr(-1),o&&e.length>Ln&&Hw(t,e,Ln,!1),Wt(o?2:0,i),n(r,i)}finally{hr(s),Wt(o?3:1,i)}}function Qw(t,e,n){if(q_(e)){let r=te(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{te(r)}}}function Zw(t,e,n){ew()&&(yA(t,e,n,Dt(n,e)),(n.flags&64)===64&&tI(t,e,n))}function Yw(t,e,n=Dt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Xw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Jh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jh(t,e,n,r,i,s,o,a,c,u,l){let d=Ln+r,h=d+i,f=aA(d,h),p=typeof u=="function"?u():u;return f[Q]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function aA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ot);return n}function cA(t,e,n,r){let s=r.get(MM,Rw)||n===Qt.ShadowDom,o=t.selectRootElement(e,s);return uA(o),o}function uA(t){lA(t)}var lA=()=>null;function dA(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return zS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Xv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=tt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?Jv(r,n,u,a,c):Jv(r,n,u,a)}return r}function Jv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function hA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;c=Xv(0,d.inputs,l,c,f),u=Xv(1,d.outputs,l,u,p);let C=c!==null&&o!==null&&!Ah(e)?MA(c,l,o):null;a.push(C)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function fA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ef(t,e,n,r,i,s,o,a){let c=Dt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(tf(t,n,l,r,i),Mc(e)&&pA(n,e.index)):e.type&3?(r=fA(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function pA(t,e){let n=Un(e,t);n[k]&16||(n[k]|=64)}function Jw(t,e,n,r){if(ew()){let i=r===null?null:{"":-1},s=_A(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&eI(t,e,n,o,i,a),i&&wA(n,r,i)}n.mergedAttrs=_s(n.mergedAttrs,n.attrs)}function eI(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Kd(uc(n,e),t,r[u].type);EA(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=Ww(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=_s(n.mergedAttrs,l.hostAttrs),DA(t,n,e,c,l),IA(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}hA(t,n,s)}function gA(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;mA(o)!=a&&o.push(a),o.push(n,r,s)}}function mA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function yA(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Mc(n)&&bA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||uc(n,e),pr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=hi(e,t,a,n);if(pr(u,e),o!==null&&SA(e,a-i,u,c,n,o),Vn(c)){let l=Un(n.index,e);l[xt]=hi(e,t,a,n)}}}function tI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ZS();try{hr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Gd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&vA(c,u)}}finally{hr(-1),Gd(o)}}function vA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _A(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(iS(e,o.selectors,!1))if(r||(r=[]),Vn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;th(t,e,c)}else r.unshift(o),th(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function th(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function wA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new A(-301,!1);r.push(e[i],s)}}}function IA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Vn(e)&&(n[""]=t)}}function EA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function DA(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=oi(i.type,!0)),o=new fr(s,Vn(i),B);t.blueprint[r]=o,n[r]=o,gA(t,e,r,Ww(t,n,i.hostVars,Ot),i)}function bA(t,e,n){let r=Dt(e,t),i=Xw(n),s=t[Rt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Vc(t,Fc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function CA(t,e,n,r,i,s){let o=Dt(t,e);TA(e[Ie],o,s,t.value,n,r,i)}function TA(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Gt(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function SA(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];Gw(r,n,c,u,l,d)}}function MA(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function nI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function rI(t,e){let n=t.contentQueries;if(n!==null){let r=te(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];ow(s),a.contentQueries(2,e[o],o)}}}finally{te(r)}}}function Vc(t,e){return t[Es]?t[Uv][At]=e:t[Es]=e,t[Uv]=e,e}function nh(t,e,n){ow(0);let r=te(null);try{e(t,n)}finally{te(r)}}function AA(t){return t[Is]||(t[Is]=[])}function xA(t){return t.cleanup||(t.cleanup=[])}function iI(t,e){let n=t[li],r=n?n.get(Xt,null):null;r&&r.handleError(e)}function tf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];Gw(l,u,r,a,c,i)}}function nf(t,e,n){let r=Z_(e,t);jM(t[Ie],r,n)}function RA(t,e){let n=Un(e,t),r=n[Q];NA(r,n);let i=n[wn];i!==null&&n[rc]===null&&(n[rc]=Wh(i,n[li])),rf(r,n,n[xt])}function NA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function rf(t,e,n){Lh(e);try{let r=t.viewQuery;r!==null&&nh(1,r,n);let i=t.template;i!==null&&Kw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[di]?.finishViewCreation(t),t.staticContentQueries&&rI(t,e),t.staticViewQueries&&nh(2,t.viewQuery,n);let s=t.components;s!==null&&PA(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,Vh()}}function PA(t,e){for(let n=0;n<e.length;n++)RA(t,e[n])}function OA(t,e,n,r){let i=te(null);try{let s=e.tView,a=t[k]&4096?4096:16,c=Fc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Tc]=u;let l=t[di];return l!==null&&(c[di]=l.createEmbeddedView(s)),rf(s,c,n),c}finally{te(i)}}function e_(t,e){return!e||e.firstChild===null||Cw(t)}function kA(t,e,n,r=!0){let i=e[Q];if($M(i,e,t,n),r){let o=eh(n,t),a=e[Ie],c=Zh(a,t[dr]);c!==null&&UM(i,t[Nt],a,e,c,o)}let s=e[rc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function hc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Yt(s)),In(s)&&FA(s,r);let o=n.type;if(o&8)hc(t,e,n.child,r);else if(o&32){let a=Qh(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=Uw(e,n);if(Array.isArray(a))r.push(...a);else{let c=bs(e[Zt]);hc(c[Q],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function FA(t,e){for(let n=Et;n<t.length;n++){let r=t[n],i=r[Q].firstChild;i!==null&&hc(r[Q],r,i,e)}t[dr]!==t[wn]&&e.push(t[dr])}var sI=[];function LA(t){return t[lr]??VA(t)}function VA(t){let e=sI.pop()??Object.create(BA);return e.lView=t,e}function jA(t){t.lView[lr]!==t&&(t.lView=null,sI.push(t))}var BA=oe(T({},nv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ds(t.lView)},consumerOnSignalRead(){this.lView[lr]=this}}),oI=100;function aI(t,e=!0,n=0){let r=t[Rt],i=r.rendererFactory,s=!1;s||i.begin?.();try{UA(t,n)}catch(o){throw e&&iI(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function UA(t,e){rh(t,e);let n=0;for(;kh(t);){if(n===oI)throw new A(103,!1);n++,rh(t,1)}}function zA(t,e,n,r){let i=e[k];if((i&256)===256)return;let s=!1;!s&&e[Rt].inlineEffectRunner?.flush(),Lh(e);let o=null,a=null;!s&&$A(t)&&(a=LA(e),o=rv(a));try{X_(e),WS(t.bindingStartIndex),n!==null&&Kw(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Qa(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Za(e,d,0,null),Td(e,0)}if(HA(e),cI(e,0),t.contentQueries!==null&&rI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Qa(e,d)}else{let d=t.contentHooks;d!==null&&Za(e,d,1),Td(e,1)}sA(t,e);let u=t.components;u!==null&&lI(e,u,0);let l=t.viewQuery;if(l!==null&&nh(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Qa(e,d)}else{let d=t.viewHooks;d!==null&&Za(e,d,2),Td(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Cd]){for(let d of e[Cd])d();e[Cd]=null}s||(e[k]&=-73)}catch(c){throw Ds(e),c}finally{a!==null&&(iv(a,o),jA(a)),Vh()}}function $A(t){return t.type!==2}function cI(t,e){for(let n=Sw(t);n!==null;n=Mw(n))for(let r=Et;r<n.length;r++){let i=n[r];uI(i,e)}}function HA(t){for(let e=Sw(t);e!==null;e=Mw(e)){if(!(e[k]&Nh.HasTransplantedViews))continue;let n=e[sc];for(let r=0;r<n.length;r++){let i=n[r],s=i[He];FS(i)}}}function qA(t,e,n){let r=Un(e,t);uI(r,n)}function uI(t,e){Oh(t)&&rh(t,e)}function rh(t,e){let r=t[Q],i=t[k],s=t[lr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&id(s)),s&&(s.dirty=!1),t[k]&=-9217,o)zA(r,t,r.template,t[xt]);else if(i&8192){cI(t,1);let a=r.components;a!==null&&lI(t,a,1)}}function lI(t,e,n){for(let r=0;r<e.length;r++)qA(t,e[r],n)}function sf(t){for(t[Rt].changeDetectionScheduler?.notify();t;){t[k]|=64;let e=bs(t);if(SS(t)&&!e)return t;t=e}return null}var gr=class{get rootNodes(){let e=this._lView,n=e[Q];return hc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xt]}set context(e){this._lView[xt]=e}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[He];if(In(e)){let n=e[ic],r=n?n.indexOf(this):-1;r>-1&&(Jd(e,r),tc(n,r))}this._attachedToViewContainer=!1}jw(this._lView[Q],this._lView)}onDestroy(e){J_(this._lView,e)}markForCheck(){sf(this._cdRefInjectingView||this._lView)}detach(){this._lView[k]&=-129}reattach(){qd(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,aI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Lw(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e,qd(this._lView)}},jc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KA;let t=e;return t})(),GA=jc,WA=class extends GA{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=OA(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new gr(i)}};function KA(){return QA(ot(),ce())}function QA(t,e){return t.type&4?new WA(e,t,Rc(t,e)):null}var A$=new RegExp(`^(\\d+)*(${TM}|${CM})*(.*)`);var ZA=()=>null;function t_(t,e){return ZA(t,e)}var fc=class{},ih=class{},pc=class{};function YA(t){let e=Error(`No component factory found for ${et(t)}.`);return e[XA]=t,e}var XA="ngComponent";var sh=class{resolveComponentFactory(e){throw YA(e)}},Bc=(()=>{let e=class e{};e.NULL=new sh;let t=e;return t})(),Cs=class{},vr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>JA();let t=e;return t})();function JA(){let t=ce(),e=ot(),n=Un(e.index,t);return(cr(n)?n:t)[Ie]}var ex=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Rd={};var n_=new Set;function of(t){n_.has(t)||(n_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function r_(...t){}function tx(){let t=typeof Le.requestAnimationFrame=="function",e=Le[t?"requestAnimationFrame":"setTimeout"],n=Le[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var le=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=tx().nativeRequestAnimationFrame,ix(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,nx,r_,r_);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},nx={};function af(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Le,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,oh(t),t.isCheckStableRunning=!0,af(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),oh(t))}function ix(t){let e=()=>{rx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(sx(a))return n.invokeTask(i,s,o,a);try{return i_(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),s_(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return i_(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),s_(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,oh(t),af(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function oh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function i_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function s_(t){t._nesting--,af(t)}var ah=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function sx(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function ox(t="zone.js",e){return t==="noop"?new ah:t==="zone.js"?new le(e):t}var ri=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ri||{}),ax={destroy(){}};function cf(t,e){!e&&bS(cf);let n=e?.injector??I(Pt);if(!FM(n))return ax;of("NgAfterNextRender");let r=n.get(uf),i=r.handler??=new uh,s=e?.phase??ri.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(Hh).onDestroy(o),c=_n(n,()=>new ch(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var ch=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=I(le),this.errorHandler=I(Xt,{optional:!0}),I(fc,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},uh=class{constructor(){this.executingCallbacks=!1,this.buckets={[ri.EarlyRead]:new Set,[ri.Write]:new Set,[ri.MixedReadWrite]:new Set,[ri.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},uf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function lh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Rv(i,a);else if(s==2){let c=a,u=e[++o];r=Rv(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var gc=class extends Bc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Fn(e);return new fi(n,this.ngModule)}};function o_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function cx(t){let e=t.toLowerCase();return e==="svg"?RS:e==="math"?NS:null}var dh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Dc(r);let i=this.injector.get(e,Rd,r);return i!==Rd||n===Rd?i:this.parentInjector.get(e,n,r)}},fi=class extends pc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=o_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return o_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=cS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=te(null);try{i=i||this.ngModule;let o=i instanceof lt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new dh(e,o):e,c=a.get(Cs,null);if(c===null)throw new A(407,!1);let u=a.get(ex,null),l=a.get(uf,null),d=a.get(fc,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",C=r?cA(f,r,this.componentDef.encapsulation,a):Fw(f,p,cx(p)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let x=null;C!==null&&(x=Wh(C,a,!0));let ue=Jh(0,null,null,1,0,null,null,null,null,null,null),W=Fc(null,ue,null,D,null,null,h,f,a,null,x);Lh(W);let K,Se;try{let ne=this.componentDef,Xe,yt=null;ne.findHostDirectiveDefs?(Xe=[],yt=new Map,ne.findHostDirectiveDefs(ne,Xe,yt),Xe.push(ne)):Xe=[ne];let td=ux(W,C),ya=lx(td,C,ne,Xe,W,h,f);Se=Y_(ue,Ln),C&&fx(f,ne,C,r),n!==void 0&&px(Se,this.ngContentSelectors,n),K=hx(ya,ne,Xe,yt,W,[gx]),rf(ue,W,null)}finally{Vh()}return new hh(this.componentType,K,Rc(Se,W),W,Se)}finally{te(s)}}},hh=class extends ih{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new gr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;tf(s[Q],s,i,e,n),this.previousInputValues.set(e,n);let o=Un(this._tNode.index,s);sf(o)}}get injector(){return new ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ux(t,e){let n=t[Q],r=Ln;return t[r]=e,Lc(n,r,2,"#host",null)}function lx(t,e,n,r,i,s,o){let a=i[Q];dx(r,t,e,o);let c=null;e!==null&&(c=Wh(e,i[li]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Fc(i,Xw(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&th(a,t,r.length-1),Vc(i,d),i[t.index]=d}function dx(t,e,n,r){for(let i of t)e.mergedAttrs=_s(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(lh(e,e.mergedAttrs,!0),n!==null&&$w(r,n,e))}function hx(t,e,n,r,i,s){let o=ot(),a=i[Q],c=Dt(o,i);eI(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=hi(i,a,d,o);pr(h,i)}tI(a,i,o),c&&pr(c,i);let u=hi(i,a,o.directiveStart+o.componentOffset,o);if(t[xt]=i[xt]=u,s!==null)for(let l of s)l(u,e);return Qw(a,o,i),u}function fx(t,e,n,r){if(r)Bd(t,n,["ng-version","17.3.1"]);else{let{attrs:i,classes:s}=uS(e.selectors[0]);i&&Bd(t,n,i),s&&s.length>0&&zw(t,n,s.join(" "))}}function px(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function gx(){let t=ot();Uh(ce()[Q],t)}var mi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mx;let t=e;return t})();function mx(){let t=ot();return vx(t,ce())}var yx=mi,dI=class extends yx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Rc(this._hostTNode,this._hostLView)}get injector(){return new ur(this._hostTNode,this._hostLView)}get parentInjector(){let e=zh(this._hostTNode,this._hostLView);if(pw(e)){let n=cc(e,this._hostLView),r=ac(e),i=n[Q].data[r+8];return new ur(i,n)}else return new ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=a_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=t_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,e_(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!TS(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let c=o?e:new fi(Fn(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let C=(o?u:this.parentInjector).get(lt,null);C&&(s=C)}let l=Fn(c.componentType??{}),d=t_(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,e_(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(kS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[He],u=new dI(c,c[Nt],c[He]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return kA(o,i,s,r),e.attachToViewContainerRef(),T_(Nd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=a_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Jd(this._lContainer,n);r&&(tc(Nd(this._lContainer),n),jw(r[Q],r))}detach(e){let n=this._adjustIndex(e,-1),r=Jd(this._lContainer,n);return r&&tc(Nd(this._lContainer),n)!=null?new gr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function a_(t){return t[ic]}function Nd(t){return t[ic]||(t[ic]=[])}function vx(t,e){let n,r=e[t.index];return In(r)?n=r:(n=nI(r,e,null,t),e[t.index]=n,Vc(e,n)),wx(n,e,t,r),new dI(n,t,e)}function _x(t,e){let n=t[Ie],r=n.createComment(""),i=Dt(e,t),s=Zh(n,i);return dc(n,s,r,ZM(n,i),!1),r}var wx=Dx,Ix=()=>!1;function Ex(t,e,n){return Ix(t,e,n)}function Dx(t,e,n,r){if(t[dr])return;let i;n.type&8?i=Yt(r):i=_x(e,n),t[dr]=i}function bx(t){return typeof t=="function"&&t[rd]!==void 0}function hI(t){return bx(t)&&typeof t.set=="function"}function Cx(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(Ax))}return s}return mc.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),o.push(r(d).then(f=>{a[u+h]=f,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(o).then(()=>xx(s));e.push(c)}),Sx(),Promise.all(e).then(()=>{})}var mc=new Map,Tx=new Set;function Sx(){let t=mc;return mc=new Map,t}function Mx(){return mc.size===0}function Ax(t){return typeof t=="string"?t:t.text()}function xx(t){Tx.delete(t)}function Rx(t){return Object.getPrototypeOf(t.prototype).constructor}function yi(t){let e=Rx(t.type),n=!0,r=[t];for(;e;){let i;if(Vn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=qa(t.inputs),o.inputTransforms=qa(t.inputTransforms),o.declaredInputs=qa(t.declaredInputs),o.outputs=qa(t.outputs);let a=i.hostBindings;a&&Fx(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&Ox(t,c),u&&kx(t,u),Nx(t,i),xT(t.outputs,i.outputs),Vn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===yi&&(n=!1)}}e=Object.getPrototypeOf(e)}Px(r)}function Nx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Px(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_s(i.hostAttrs,n=_s(n,i.hostAttrs))}}function qa(t){return t===ai?{}:t===It?[]:t}function Ox(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function kx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Fx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function lf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var jn=class{},Ts=class{};var yc=class extends jn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gc(this);let i=k_(e);this._bootstrapComponents=kw(i.bootstrap),this._r3Injector=Dw(e,n,[{provide:jn,useValue:this},{provide:Bc,useValue:this.componentFactoryResolver},...r],et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vc=class extends Ts{constructor(e){super(),this.moduleType=e}create(e){return new yc(this.moduleType,e,[])}};function Lx(t,e,n){return new yc(t,e,n)}var fh=class extends jn{constructor(e){super(),this.componentFactoryResolver=new gc(this),this.instance=null;let n=new ws([...e.providers,{provide:jn,useValue:this},{provide:Bc,useValue:this.componentFactoryResolver}],e.parent||Rh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Uc(t,e,n=null){return new fh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var zc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fI(t){return jx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Vx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function jx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function mr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ph(t,e,n,r){let i=mr(t,e,n);return mr(t,e+1,r)||i}function Bx(t,e,n,r,i,s){let o=ph(t,e,n,r);return ph(t,e+2,i,s)||o}function Ux(t){return(t.flags&32)===32}function zx(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Lc(e,t,4,o||null,oc(u,a));Jw(e,n,l,oc(u,c)),Uh(e,l);let d=l.tView=Jh(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Dn(t,e,n,r,i,s,o,a){let c=ce(),u=st(),l=t+Ln,d=u.firstCreatePass?zx(l,u,c,e,n,r,i,s,o):u.data[l];Rs(d,!1);let h=$x(u,c,d,t);jh()&&Yh(u,c,h,d),pr(h,c);let f=nI(h,c,h,d);return c[l]=f,Vc(c,f),Ex(f,d,c),Ph(d)&&Zw(u,c,d),o!=null&&Yw(c,d,a),Dn}var $x=Hx;function Hx(t,e,n,r){return Bh(!0),e[Ie].createComment("")}function $c(t,e,n,r){let i=ce(),s=Ac();if(mr(i,s,e)){let o=st(),a=xc();CA(a,i,t,e,n,r)}return $c}function pI(t,e,n,r){return mr(t,Ac(),n)?e+Gt(n)+r:Ot}function qx(t,e,n,r,i,s){let o=sw(),a=ph(t,o,n,i);return Fh(2),a?e+Gt(n)+r+Gt(i)+s:Ot}function Gx(t,e,n,r,i,s,o,a,c,u){let l=sw(),d=Bx(t,l,n,i,o,c);return Fh(4),d?e+Gt(n)+r+Gt(i)+s+Gt(o)+a+Gt(c)+u:Ot}function Ga(t,e){return t<<17|e<<2}function yr(t){return t>>17&32767}function Wx(t){return(t&2)==2}function Kx(t,e){return t&131071|e<<17}function gh(t){return t|2}function pi(t){return(t&131068)>>2}function Pd(t,e){return t&-131069|e<<2}function Qx(t){return(t&1)===1}function mh(t){return t|1}function Zx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=yr(o),c=pi(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||xs(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=yr(t[a+1]);t[r+1]=Ga(h,a),h!==0&&(t[h+1]=Pd(t[h+1],r)),t[a+1]=Kx(t[a+1],r)}else t[r+1]=Ga(a,0),a!==0&&(t[a+1]=Pd(t[a+1],r)),a=r;else t[r+1]=Ga(c,0),a===0?a=r:t[c+1]=Pd(t[c+1],r),c=r;u&&(t[r+1]=gh(t[r+1])),c_(t,l,r,!0),c_(t,l,r,!1),Yx(e,l,t,r,s),o=Ga(a,c),s?e.classBindings=o:e.styleBindings=o}function Yx(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&xs(s,e)>=0&&(n[r+1]=mh(n[r+1]))}function c_(t,e,n,r){let i=t[n+1],s=e===null,o=r?yr(i):pi(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];Xx(c,e)&&(a=!0,t[o+1]=r?mh(u):gh(u)),o=r?yr(u):pi(u)}a&&(t[n+1]=r?gh(i):mh(i))}function Xx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?xs(t,e)>=0:!1}function bn(t,e,n){let r=ce(),i=Ac();if(mr(r,i,e)){let s=st(),o=xc();ef(s,o,r,t,e,r[Ie],n,!1)}return bn}function u_(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";tf(t,n,s[o],o,r)}function df(t,e){return Jx(t,e,null,!0),df}function Jx(t,e,n,r){let i=ce(),s=st(),o=Fh(2);if(s.firstUpdatePass&&tR(s,t,o,r),e!==Ot&&mr(i,o,e)){let a=s.data[zn()];oR(s,a,i,i[Ie],t,i[o+1]=aR(e,n),r,o)}}function eR(t,e){return e>=t.expandoStartIndex}function tR(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[zn()],o=eR(t,n);cR(s,r)&&e===null&&!o&&(e=!1),e=nR(i,s,e,r),Zx(i,s,e,n,o,r)}}function nR(t,e,n,r){let i=YS(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Od(null,t,e,n,r),n=Ss(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Od(i,t,e,n,r),s===null){let c=rR(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Od(null,t,e,c[1],r),c=Ss(c,e.attrs,r),iR(t,e,r,c))}else s=sR(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function rR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(pi(r)!==0)return t[yr(r)]}function iR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[yr(i)]=r}function sR(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ss(r,o,n)}return Ss(r,e.attrs,n)}function Od(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ss(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ss(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ZT(t,o,n?!0:e[++s]))}return t===void 0?null:t}function oR(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=Qx(u)?l_(c,e,n,i,pi(u),o):void 0;if(!_c(l)){_c(s)||Wx(u)&&(s=l_(c,null,n,i,a,o));let d=Z_(zn(),n);rA(r,o,d,i,s)}}function l_(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Ot&&(h=d?It:void 0);let f=d?Dd(h,r):l===r?h:void 0;if(u&&!_c(f)&&(f=Dd(c,r)),_c(f)&&(a=f,o))return a;let p=t[i+1];i=o?yr(p):pi(p)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Dd(c,r))}return a}function _c(t){return t!==void 0}function aR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=et(Ps(t)))),t}function cR(t,e){return(t.flags&(e?8:16))!==0}function uR(t,e,n,r,i,s){let o=e.consts,a=oc(o,i),c=Lc(e,t,2,r,a);return Jw(e,n,c,oc(o,s)),c.attrs!==null&&lh(c,c.attrs,!1),c.mergedAttrs!==null&&lh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function _(t,e,n,r){let i=ce(),s=st(),o=Ln+t,a=i[Ie],c=s.firstCreatePass?uR(o,s,i,e,n,r):s.data[o],u=lR(s,i,c,a,e,t);i[o]=u;let l=Ph(c);return Rs(c,!0),$w(a,u,c),!Ux(c)&&jh()&&Yh(s,i,u,c),jS()===0&&pr(u,i),BS(),l&&(Zw(s,i,c),Qw(s,c,i)),r!==null&&Yw(i,c),_}function v(){let t=ot();iw()?GS():(t=t.parent,Rs(t,!1));let e=t;$S(e)&&HS(),US();let n=st();return n.firstCreatePass&&(Uh(n,t),q_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&iM(e)&&u_(n,e,ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&sM(e)&&u_(n,e,ce(),e.stylesWithoutHost,!1),v}function F(t,e,n,r){return _(t,e,n,r),v(),F}var lR=(t,e,n,r,i,s)=>(Bh(!0),Fw(r,i,eM()));function gI(){return ce()}var wc="en-US";var dR=wc;function hR(t){typeof t=="string"&&(dR=t.toLowerCase().replace(/_/g,"-"))}function ks(t,e,n,r){let i=ce(),s=st(),o=ot();return mI(s,i,i[Ie],o,t,e,r),ks}function fR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Is],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function mI(t,e,n,r,i,s,o){let a=Ph(r),u=t.firstCreatePass&&xA(t),l=e[xt],d=AA(e),h=!0;if(r.type&3||o){let C=Dt(r,e),D=o?o(C):C,x=d.length,ue=o?K=>o(Yt(K[r.index])):r.index,W=null;if(!o&&a&&(W=fR(t,e,i,r.index)),W!==null){let K=W.__ngLastListenerFn__||W;K.__ngNextListenerFn__=s,W.__ngLastListenerFn__=s,h=!1}else{s=h_(r,e,l,s,!1);let K=n.listen(D,i,s);d.push(s,K),u&&u.push(i,ue,x,x+1)}}else s=h_(r,e,l,s,!1);let f=r.outputs,p;if(h&&f!==null&&(p=f[i])){let C=p.length;if(C)for(let D=0;D<C;D+=2){let x=p[D],ue=p[D+1],Se=e[x][ue].subscribe(s),ne=d.length;d.push(s,Se),u&&u.push(i,r.index,ne,-(ne+1))}}}function d_(t,e,n,r){let i=te(null);try{return Wt(6,e,n),n(r)!==!1}catch(s){return iI(t,s),!1}finally{Wt(7,e,n),te(i)}}function h_(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Un(t.index,e):e;sf(a);let c=d_(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=d_(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function hf(t=1){return JS(t)}function Fs(t,e,n){return Hn(t,"",e,"",n),Fs}function Hn(t,e,n,r,i){let s=ce(),o=pI(s,e,n,r);if(o!==Ot){let a=st(),c=xc();ef(a,c,s,t,o,s[Ie],i,!1)}return Hn}function b(t,e=""){let n=ce(),r=st(),i=t+Ln,s=r.firstCreatePass?Lc(r,i,1,e,null):r.data[i],o=pR(r,n,s,e,t);n[i]=o,jh()&&Yh(r,n,o,s),Rs(s,!1)}var pR=(t,e,n,r,i)=>(Bh(!0),VM(e[Ie],r));function Cn(t){return Jt("",t,""),Cn}function Jt(t,e,n){let r=ce(),i=pI(r,t,e,n);return i!==Ot&&nf(r,zn(),i),Jt}function ff(t,e,n,r,i){let s=ce(),o=qx(s,t,e,n,r,i);return o!==Ot&&nf(s,zn(),o),ff}function pf(t,e,n,r,i,s,o,a,c){let u=ce(),l=Gx(u,t,e,n,r,i,s,o,a,c);return l!==Ot&&nf(u,zn(),l),pf}function gf(t,e,n){hI(e)&&(e=e());let r=ce(),i=Ac();if(mr(r,i,e)){let s=st(),o=xc();ef(s,o,r,t,e,r[Ie],n,!1)}return gf}function yI(t,e){let n=hI(t);return n&&t.set(e),n}function mf(t,e){let n=ce(),r=st(),i=ot();return mI(r,n,n[Ie],i,t,e),mf}function gR(t,e,n){let r=st();if(r.firstCreatePass){let i=Vn(t);yh(n,r.data,r.blueprint,i,!0),yh(e,r.data,r.blueprint,i,!1)}}function yh(t,e,n,r,i){if(t=Je(t),Array.isArray(t))for(let s=0;s<t.length;s++)yh(t[s],e,n,r,i);else{let s=st(),o=ce(),a=ot(),c=ui(t)?t:Je(t.provide),u=U_(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ui(t)||!t.multi){let f=new fr(u,i,B),p=Fd(c,e,i?l:l+h,d);p===-1?(Kd(uc(a,o),s,c),kd(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=Fd(c,e,l+h,d),p=Fd(c,e,l,l+h),C=f>=0&&n[f],D=p>=0&&n[p];if(i&&!D||!i&&!C){Kd(uc(a,o),s,c);let x=vR(i?yR:mR,n.length,i,r,u);!i&&D&&(n[p].providerFactory=x),kd(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),o.push(x)}else{let x=vI(n[i?p:f],u,!i&&r);kd(s,t,f>-1?f:p,x)}!i&&r&&D&&n[p].componentProviders++}}}function kd(t,e,n,r){let i=ui(e),s=yS(e);if(i||s){let c=(s?Je(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function vI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Fd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function mR(t,e,n,r){return vh(this.multi,[])}function yR(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=hi(n,n[Q],this.providerFactory.index,r);s=a.slice(0,o),vh(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],vh(i,s);return s}function vh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function vR(t,e,n,r,i){let s=new fr(t,n,B);return s.multi=[],s.index=e,s.componentProviders=0,vI(s,i,r&&!n),s}function yf(t,e=[]){return n=>{n.providersResolver=(r,i)=>gR(r,i?i(t):t,e)}}var _R=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=V_(!1,r.type),s=i.length>0?Uc([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(N(lt))});let t=e;return t})();function _r(t){of("NgStandalone"),t.getStandaloneInjector=e=>e.get(_R).getOrCreateStandaloneInjector(t)}var Wa=null;function wR(t){Wa!==null&&(t.defaultEncapsulation!==Wa.defaultEncapsulation||t.preserveWhitespaces!==Wa.preserveWhitespaces)||(Wa=t)}var Hc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var vf=new P(""),Ls=new P(""),qc=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,_f||(IR(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(N(le),N(Gc),N(Ls))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Gc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return _f?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function IR(t){_f=t}var _f;function wr(t){return!!t&&typeof t.then=="function"}function _I(t){return!!t&&typeof t.subscribe=="function"}var Wc=new P(""),wI=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=I(Wc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(wr(o))r.push(o);else if(_I(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wf=new P("");function ER(){ov(()=>{throw new A(600,!1)})}function DR(t){return t.isBoundToModule}function bR(t,e,n){try{let r=n();return wr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function II(t,e){return Array.isArray(e)?e.reduce(II,t):T(T({},t),e)}var vi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(bw),this.afterRenderEffectManager=I(uf),this.externalTestViews=new Set,this.beforeRender=new $e,this.afterTick=new $e,this.componentTypes=[],this.components=[],this.isStable=I(zc).hasPendingTasks.pipe(G(r=>!r)),this._injector=I(lt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof pc;if(!this._injector.get(wI).done){let f=!s&&O_(r),p=!1;throw new A(405,p)}let a;s?a=r:a=this._injector.get(Bc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=DR(a)?void 0:this._injector.get(jn),u=i||a.selector,l=a.create(Pt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(vf,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Xa(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new A(101,!1);let i=te(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,te(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===oI)throw new A(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)CR(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>_h(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>_h(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Xa(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(wf,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Xa(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new A(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xa(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function CR(t,e,n){!e&&!_h(t)||TR(t,n,e)}function _h(t){return kh(t)}function TR(t,e,n){let r;n?(r=0,t[k]|=1024):t[k]&64?r=0:r=1,aI(t,e,r)}var wh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Kc=(()=>{let e=class e{compileModuleSync(r){return new vc(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=k_(r),o=kw(s.declarations).reduce((a,c)=>{let u=Fn(c);return u&&a.push(new fi(u)),a},[]);return new wh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),SR=new P("");function MR(t,e,n){let r=new vc(n);return Promise.resolve(r)}function f_(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var AR=(()=>{let e=class e{constructor(){this.zone=I(le),this.applicationRef=I(vi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xR(t){return[{provide:le,useFactory:t},{provide:ci,multi:!0,useFactory:()=>{let e=I(AR,{optional:!0});return()=>e.initialize()}},{provide:ci,multi:!0,useFactory:()=>{let e=I(PR);return()=>{e.initialize()}}},{provide:bw,useFactory:RR}]}function RR(){let t=I(le),e=I(Xt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function NR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var PR=(()=>{let e=class e{constructor(){this.subscription=new Me,this.initialized=!1,this.zone=I(le),this.pendingTasks=I(zc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{le.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OR(){return typeof $localize<"u"&&$localize.locale||wc}var If=new P("",{providedIn:"root",factory:()=>I(If,$.Optional|$.SkipSelf)||OR()});var EI=new P(""),DI=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=ox(i?.ngZone,NR({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let o=Lx(r.moduleType,this.injector,xR(()=>s)),a=o.injector.get(Xt,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{Xa(this._modules,o),c.unsubscribe()})}),bR(a,s,()=>{let c=o.injector.get(wI);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(If,wc);return hR(u||wc),this._moduleDoBootstrap(o),o})})})}bootstrapModule(r,i=[]){let s=II({},i);return MR(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){let i=r.injector.get(vi);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new A(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(EI,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(N(Pt))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ys=null,bI=new P("");function kR(t){if(ys&&!ys.get(bI,!1))throw new A(400,!1);ER(),ys=t;let e=t.get(DI);return VR(t),e}function Ef(t,e,n=[]){let r=`Platform: ${e}`,i=new P(r);return(s=[])=>{let o=CI();if(!o||o.injector.get(bI,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):kR(FR(a,r))}return LR(i)}}function FR(t=[],e){return Pt.create({name:e,providers:[{provide:Cc,useValue:"platform"},{provide:EI,useValue:new Set([()=>ys=null])},...t]})}function LR(t){let e=CI();if(!e)throw new A(401,!1);return e}function CI(){return ys?.get(DI)??null}function VR(t){t.get(qh,null)?.forEach(n=>n())}var Ir=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jR;let t=e;return t})();function jR(t){return BR(ot(),ce(),(t&16)===16)}function BR(t,e,n){if(Mc(t)&&!n){let r=Un(t.index,e);return new gr(r,r)}else if(t.type&47){let r=e[Zt];return new gr(r,e)}return null}var Ih=class{constructor(){}supports(e){return fI(e)}create(e){return new Eh(e)}},UR=(t,e)=>e,Eh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||UR}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<p_(r,i,s)?n:r,a=p_(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!fI(e))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,Vx(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Dh(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ic),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ic),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Dh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},bh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ic=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new bh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function p_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function g_(){return new Df([new Ih])}var Df=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||g_()),deps:[[e,new Sh,new bc]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new A(901,!1)}};e.\u0275prov=M({token:e,providedIn:"root",factory:g_});let t=e;return t})();var TI=Ef(null,"core",[]),SI=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(N(vi))},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})();function Er(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function MI(t){let e=Fn(t);if(!e)return null;let n=new fi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var PI=null;function en(){return PI}function OI(t){PI??=t}var Qc=class{};var at=new P(""),Af=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>I(zR),providedIn:"platform"});let t=e;return t})(),kI=new P(""),zR=(()=>{let e=class e extends Af{constructor(){super(),this._doc=I(at),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(r){let i=en().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=en().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function xf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function AI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Tn(t){return t&&t[0]!=="?"?"?"+t:t}var Sn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>I(Rf),providedIn:"root"});let t=e;return t})(),FI=new P(""),Rf=(()=>{let e=class e extends Sn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??I(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return xf(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Tn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Tn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Tn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(Af),N(FI,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LI=(()=>{let e=class e extends Sn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=xf(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Tn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Tn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(Af),N(FI,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),qn=(()=>{let e=class e{constructor(r){this._subject=new Ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=qR(AI(xI(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Tn(i))}normalize(r){return e.stripTrailingSlash(HR(this._basePath,xI(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Tn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Tn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Tn,e.joinWithSlash=xf,e.stripTrailingSlash=AI,e.\u0275fac=function(i){return new(i||e)(N(Sn))},e.\u0275prov=M({token:e,factory:()=>$R(),providedIn:"root"});let t=e;return t})();function $R(){return new qn(N(Sn))}function HR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function xI(t){return t.replace(/\/index.html$/,"")}function qR(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function VI(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var bf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},_i=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new bf(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),RI(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);RI(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(mi),B(jc),B(Df))},e.\u0275dir=dt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function RI(t,e){t.context.$implicit=e.item}var jI=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Cf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){NI("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){NI("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(mi),B(jc))},e.\u0275dir=dt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Cf=class{constructor(){this.$implicit=null,this.ngIf=null}};function NI(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${et(e)}'.`)}var BI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})(),Nf="browser",GR="server";function WR(t){return t===Nf}function Pf(t){return t===GR}var UI=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>WR(I($n))?new Tf(I(at),window):new Sf});let t=e;return t})(),Tf=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=KR(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function KR(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Sf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Zc=class{};var Ff=class extends Qc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Lf=class t extends Ff{static makeCurrent(){OI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ZR();return n==null?null:YR(n)}resetBaseElement(){Vs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return VI(document.cookie,e)}},Vs=null;function ZR(){return Vs=Vs||document.querySelector("base"),Vs?Vs.getAttribute("href"):null}function YR(t){return new URL(t,document.baseURI).pathname}var Vf=class{addToWindow(e){Le.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new A(5103,!1);return s},Le.getAllAngularTestabilities=()=>e.getAllTestabilities(),Le.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Le.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?en().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},XR=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),jf=new P(""),qI=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(N(jf),N(le))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Xc=class{constructor(e){this._doc=e}},Of="ng-app-id",GI=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Pf(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Of}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Of),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Of,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(N(at),N(Nc),N(Gh,8),N($n))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),kf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uf=/%COMP%/g,WI="%COMP%",JR=`_nghost-${WI}`,eN=`_ngcontent-${WI}`,tN=!0,nN=new P("",{providedIn:"root",factory:()=>tN});function rN(t){return eN.replace(Uf,t)}function iN(t){return JR.replace(Uf,t)}function KI(t,e){return e.map(n=>n.replace(Uf,t))}var zI=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Pf(c),this.defaultRenderer=new js(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Qt.ShadowDom&&(i=oe(T({},i),{encapsulation:Qt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Jc?s.applyToHost(r):s instanceof Bs&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Qt.Emulated:o=new Jc(u,l,i,this.appId,d,a,c,h);break;case Qt.ShadowDom:return new Bf(u,l,r,i,a,c,this.nonce,h);default:o=new Bs(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(N(qI),N(GI),N(Nc),N(nN),N(at),N($n),N(le),N(Gh))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),js=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(kf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($I(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($I(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=kf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=kf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(vn.DashCase|vn.Important)?e.style.setProperty(n,r,i&vn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&vn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=en().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function $I(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Bf=class extends js{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=KI(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bs=class extends js{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?KI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Jc=class extends Bs{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=rN(u),this.hostAttr=iN(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},sN=(()=>{let e=class e extends Xc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(N(at))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),HI=["alt","control","meta","shift"],oN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cN=(()=>{let e=class e extends Xc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),HI.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=oN[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),HI.forEach(a=>{if(a!==s){let c=aN[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(N(at))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function uN(){Lf.makeCurrent()}function lN(){return new Xt}function dN(){return xw(document),document}var hN=[{provide:$n,useValue:Nf},{provide:qh,useValue:uN,multi:!0},{provide:at,useFactory:dN,deps:[]}],QI=Ef(TI,"browser",hN),fN=new P(""),pN=[{provide:Ls,useClass:Vf,deps:[]},{provide:vf,useClass:qc,deps:[le,Gc,Ls]},{provide:qc,useClass:qc,deps:[le,Gc,Ls]}],gN=[{provide:Cc,useValue:"root"},{provide:Xt,useFactory:lN,deps:[]},{provide:jf,useClass:sN,multi:!0,deps:[at,le,$n]},{provide:jf,useClass:cN,multi:!0,deps:[at]},zI,GI,qI,{provide:Cs,useExisting:zI},{provide:Zc,useClass:XR,deps:[]},[]],ZI=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Nc,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(N(fN,12))},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({providers:[...gN,...pN],imports:[BI,SI]});let t=e;return t})();var YI=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(N(at))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oE=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(vr),B(En))},e.\u0275dir=dt({type:e});let t=e;return t})(),mN=(()=>{let e=class e extends oE{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ns(e)))(s||e)}})(),e.\u0275dir=dt({type:e,features:[yi]});let t=e;return t})(),aE=new P("");var yN={provide:aE,useExisting:As(()=>ru),multi:!0};function vN(){let t=en()?en().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var _N=new P(""),ru=(()=>{let e=class e extends oE{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!vN())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(vr),B(En),B(_N,8))},e.\u0275dir=dt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ks("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[yf([yN]),yi]});let t=e;return t})();var wN=new P(""),IN=new P("");function cE(t){return t!=null}function uE(t){return wr(t)?pe(t):t}function lE(t){let e={};return t.forEach(n=>{e=n!=null?T(T({},e),n):e}),Object.keys(e).length===0?null:e}function dE(t,e){return e.map(n=>n(t))}function EN(t){return!t.validate}function hE(t){return t.map(e=>EN(e)?e:n=>e.validate(n))}function DN(t){if(!t)return null;let e=t.filter(cE);return e.length==0?null:function(n){return lE(dE(n,e))}}function fE(t){return t!=null?DN(hE(t)):null}function bN(t){if(!t)return null;let e=t.filter(cE);return e.length==0?null:function(n){let r=dE(n,e).map(uE);return yd(r).pipe(G(lE))}}function pE(t){return t!=null?bN(hE(t)):null}function JI(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function CN(t){return t._rawValidators}function TN(t){return t._rawAsyncValidators}function zf(t){return t?Array.isArray(t)?t:[t]:[]}function tu(t,e){return Array.isArray(t)?t.includes(e):t===e}function eE(t,e){let n=zf(e);return zf(t).forEach(i=>{tu(n,i)||n.push(i)}),n}function tE(t,e){return zf(e).filter(n=>!tu(t,n))}var nu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},$f=class extends nu{get formDirective(){return null}get path(){return null}},$s=class extends nu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Hf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},SN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},LH=oe(T({},SN),{"[class.ng-submitted]":"isSubmitted"}),gE=(()=>{let e=class e extends Hf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B($s,2))},e.\u0275dir=dt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&df("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[yi]});let t=e;return t})();var Us="VALID",eu="INVALID",wi="PENDING",zs="DISABLED";function MN(t){return(iu(t)?t.validators:t)||null}function AN(t){return Array.isArray(t)?fE(t):t||null}function xN(t,e){return(iu(e)?e.asyncValidators:t)||null}function RN(t){return Array.isArray(t)?pE(t):t||null}function iu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var qf=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Us}get invalid(){return this.status===eu}get pending(){return this.status==wi}get disabled(){return this.status===zs}get enabled(){return this.status!==zs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(eE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tE(e,this._rawAsyncValidators))}hasValidator(e){return tu(this._rawValidators,e)}hasAsyncValidator(e){return tu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wi,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=zs,this.errors=null,this._forEachChild(r=>{r.disable(oe(T({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(T({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Us,this._forEachChild(r=>{r.enable(oe(T({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(T({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Us||this.status===wi)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zs:Us}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wi,this._hasOwnPendingAsyncValidator=!0;let n=uE(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?zs:this.errors?eu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wi)?wi:this._anyControlsHaveStatus(eu)?eu:Us}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){iu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=AN(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=RN(this._rawAsyncValidators)}};var mE=new P("CallSetDisabledState",{providedIn:"root",factory:()=>Gf}),Gf="always";function NN(t,e){return[...e.path,t]}function PN(t,e,n=Gf){kN(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),FN(t,e),VN(t,e),LN(t,e),ON(t,e)}function nE(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ON(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function kN(t,e){let n=CN(t);e.validator!==null?t.setValidators(JI(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=TN(t);e.asyncValidator!==null?t.setAsyncValidators(JI(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();nE(e._rawValidators,i),nE(e._rawAsyncValidators,i)}function FN(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&yE(t,e)})}function LN(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&yE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function yE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function VN(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function jN(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function BN(t){return Object.getPrototypeOf(t.constructor)===mN}function UN(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===ru?n=s:BN(s)?r=s:i=s}),i||r||n||null}function rE(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function iE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var zN=class extends qf{constructor(e=null,n,r){super(MN(n),xN(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),iu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(iE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){iE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var $N={provide:$s,useExisting:As(()=>Wf)},sE=Promise.resolve(),Wf=(()=>{let e=class e extends $s{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new zN,this._registered=!1,this.name="",this.update=new Ae,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=UN(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),jN(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){PN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){sE.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Er(i);sE.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?NN(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B($f,9),B(wN,10),B(IN,10),B(aE,10),B(Ir,8),B(mE,8))},e.\u0275dir=dt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[tt.None,"disabled","isDisabled"],model:[tt.None,"ngModel","model"],options:[tt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yf([$N]),yi,Bn]});let t=e;return t})();var HN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})();var Ii=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:mE,useValue:r.callSetDisabledState??Gf}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({imports:[HN]});let t=e;return t})();var U="primary",io=Symbol("RouteTitle"),Xf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ti(t){return new Xf(t)}function QN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ZN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!tn(t[n],e[n]))return!1;return!0}function tn(t,e){let n=t?Jf(t):void 0,r=e?Jf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!TE(t[i],e[i]))return!1;return!0}function Jf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function TE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function SE(t){return t.length>0?t[t.length-1]:null}function Qn(t){return md(t)?t:wr(t)?pe(Promise.resolve(t)):O(t)}var YN={exact:AE,subset:xE},ME={exact:XN,subset:JN,ignored:()=>!0};function vE(t,e,n){return YN[n.paths](t.root,e.root,n.matrixParams)&&ME[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function XN(t,e){return tn(t,e)}function AE(t,e,n){if(!br(t.segments,e.segments)||!au(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!AE(t.children[r],e.children[r],n))return!1;return!0}function JN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>TE(t[n],e[n]))}function xE(t,e,n){return RE(t,e,e.segments,n)}function RE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!br(i,n)||e.hasChildren()||!au(i,n,r))}else if(t.segments.length===n.length){if(!br(t.segments,n)||!au(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!xE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!br(t.segments,i)||!au(t.segments,i,r)||!t.children[U]?!1:RE(t.children[U],e,s,r)}}function au(t,e,n){return e.every((r,i)=>ME[n](t[i].parameters,r.parameters))}var Gn=class{constructor(e=new ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ti(this.queryParams),this._queryParamMap}toString(){return nP.serialize(this)}},ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cu(this)}},Dr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ti(this.parameters),this._parameterMap}toString(){return PE(this)}};function eP(t,e){return br(t,e)&&t.every((n,r)=>tn(n.parameters,e[r].parameters))}function br(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function tP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===U&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==U&&(n=n.concat(e(i,r)))}),n}var so=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>new Zs,providedIn:"root"});let t=e;return t})(),Zs=class{parse(e){let n=new tp(e);return new Gn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Hs(e.root,!0)}`,r=sP(e.queryParams),i=typeof e.fragment=="string"?`#${rP(e.fragment)}`:"";return`${n}${r}${i}`}},nP=new Zs;function cu(t){return t.segments.map(e=>PE(e)).join("/")}function Hs(t,e){if(!t.hasChildren())return cu(t);if(e){let n=t.children[U]?Hs(t.children[U],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==U&&r.push(`${i}:${Hs(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=tP(t,(r,i)=>i===U?[Hs(t.children[U],!1)]:[`${i}:${Hs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[U]!=null?`${cu(t)}/${n[0]}`:`${cu(t)}/(${n.join("//")})`}}function NE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function su(t){return NE(t).replace(/%3B/gi,";")}function rP(t){return encodeURI(t)}function ep(t){return NE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uu(t){return decodeURIComponent(t)}function _E(t){return uu(t.replace(/\+/g,"%20"))}function PE(t){return`${ep(t.path)}${iP(t.parameters)}`}function iP(t){return Object.entries(t).map(([e,n])=>`;${ep(e)}=${ep(n)}`).join("")}function sP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${su(n)}=${su(i)}`).join("&"):`${su(n)}=${su(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var oP=/^[^\/()?;#]+/;function Kf(t){let e=t.match(oP);return e?e[0]:""}var aP=/^[^\/()?;=#]+/;function cP(t){let e=t.match(aP);return e?e[0]:""}var uP=/^[^=?&#]+/;function lP(t){let e=t.match(uP);return e?e[0]:""}var dP=/^[^&#]+/;function hP(t){let e=t.match(dP);return e?e[0]:""}var tp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[U]=new ie(e,n)),r}parseSegment(){let e=Kf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new Dr(uu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=cP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Kf(this.remaining);i&&(r=i,this.capture(r))}e[uu(n)]=uu(r)}parseQueryParam(e){let n=lP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=hP(this.remaining);o&&(r=o,this.capture(r))}let i=_E(n),s=_E(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Kf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=U);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[U]:new ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};function OE(t){return t.segments.length>0?new ie([],{[U]:t}):t}function kE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=kE(i);if(r===U&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ie(t.segments,e);return fP(n)}function fP(t){if(t.numberOfChildren===1&&t.children[U]){let e=t.children[U];return new ie(t.segments.concat(e.segments),e.children)}return t}function Si(t){return t instanceof Gn}function pP(t,e,n=null,r=null){let i=FE(t);return LE(i,e,n,r)}function FE(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=OE(r);return e??i}function LE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Qf(i,i,i,n,r);let s=gP(e);if(s.toRoot())return Qf(i,i,new ie([],{}),n,r);let o=mP(s,i,t),a=o.processChildren?Ws(o.segmentGroup,o.index,s.commands):jE(o.segmentGroup,o.index,s.commands);return Qf(i,o.segmentGroup,a,n,r)}function lu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ys(t){return typeof t=="object"&&t!=null&&t.outlets}function Qf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=VE(t,e,n);let a=OE(kE(o));return new Gn(a,s,i)}function VE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=VE(s,e,n)}),new ie(t.segments,r)}var du=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&lu(r[0]))throw new A(4003,!1);let i=r.find(Ys);if(i&&i!==SE(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new du(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new du(n,e,r)}var bi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function mP(t,e,n){if(t.isAbsolute)return new bi(e,!0,0);if(!n)return new bi(e,!1,NaN);if(n.parent===null)return new bi(n,!0,0);let r=lu(t.commands[0])?0:1,i=n.segments.length-1+r;return yP(n,i,t.numberOfDoubleDots)}function yP(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new bi(r,!1,i-s)}function vP(t){return Ys(t[0])?t[0].outlets:{[U]:t}}function jE(t,e,n){if(t??=new ie([],{}),t.segments.length===0&&t.hasChildren())return Ws(t,e,n);let r=_P(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ie(t.segments.slice(0,r.pathIndex),{});return s.children[U]=new ie(t.segments.slice(r.pathIndex),t.children),Ws(s,0,i)}else return r.match&&i.length===0?new ie(t.segments,{}):r.match&&!t.hasChildren()?np(t,e,n):r.match?Ws(t,0,i):np(t,e,n)}function Ws(t,e,n){if(n.length===0)return new ie(t.segments,{});{let r=vP(n),i={};if(Object.keys(r).some(s=>s!==U)&&t.children[U]&&t.numberOfChildren===1&&t.children[U].segments.length===0){let s=Ws(t.children[U],e,n);return new ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=jE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ie(t.segments,i)}}function _P(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ys(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!IE(c,u,o))return s;r+=2}else{if(!IE(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function np(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ys(s)){let c=wP(s.outlets);return new ie(r,c)}if(i===0&&lu(n[0])){let c=t.segments[e];r.push(new Dr(c.path,wE(n[0]))),i++;continue}let o=Ys(s)?s.outlets[U]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&lu(a)?(r.push(new Dr(o,wE(a))),i+=2):(r.push(new Dr(o,{})),i++)}return new ie(r,{})}function wP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=np(new ie([],{}),0,r))}),e}function wE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function IE(t,e,n){return t==n.path&&tn(e,n.parameters)}var Ks="imperative",xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(xe||{}),bt=class{constructor(e,n){this.id=e,this.url=n}},Mi=class extends bt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nn=class extends bt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ft=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ft||{}),hu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(hu||{}),Wn=class extends bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Kn=class extends bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=xe.NavigationSkipped}},Xs=class extends bt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fu=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rp=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ip=class extends bt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sp=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},op=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ap=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cp=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},up=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lp=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dp=class{constructor(e){this.snapshot=e,this.type=xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hp=class{constructor(e){this.snapshot=e,this.type=xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pu=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=xe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Js=class{},eo=class{constructor(e){this.url=e}};var fp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new oo,this.attachRef=null}},oo=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new fp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=pp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=pp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=gp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return gp(e,this._root).map(n=>n.value)}};function pp(t,e){if(t===e.value)return e;for(let n of e.children){let r=pp(t,n);if(r)return r}return null}function gp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=gp(t,n);if(r.length)return r.unshift(e),r}return[]}var ht=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Di(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var mu=class extends gu{constructor(e,n){super(e),this.snapshot=n,Cp(this,e)}toString(){return this.snapshot.toString()}};function BE(t){let e=IP(t),n=new ke([new Dr("",{})]),r=new ke({}),i=new ke({}),s=new ke({}),o=new ke(""),a=new kt(n,r,s,o,i,U,t,e.root);return a.snapshot=e.root,new mu(new ht(a,[]),e)}function IP(t){let e={},n={},r={},i="",s=new to([],e,r,i,n,U,t,null,{});return new yu("",new ht(s,[]))}var kt=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(G(u=>u[io]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(e=>Ti(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(e=>Ti(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:T(T({},e.params),t.params),data:T(T({},e.data),t.data),resolve:T(T(T(T({},t.data),e.data),i?.data),t._resolvedData)}:r={params:T({},t.params),data:T({},t.data),resolve:T(T({},t.data),t._resolvedData??{})},i&&zE(i)&&(r.resolve[io]=i.title),r}var to=class{get title(){return this.data?.[io]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ti(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ti(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},yu=class extends gu{constructor(e,n){super(n),this.url=e,Cp(this,n)}toString(){return UE(this._root)}};function Cp(t,e){e.value._routerState=t,e.children.forEach(n=>Cp(t,n))}function UE(t){let e=t.children.length>0?` { ${t.children.map(UE).join(", ")} } `:"";return`${t.value}${e}`}function Zf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,tn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),tn(e.params,n.params)||t.paramsSubject.next(n.params),ZN(e.url,n.url)||t.urlSubject.next(n.url),tn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function mp(t,e){let n=tn(t.params,e.params)&&eP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||mp(t.parent,e.parent))}function zE(t){return typeof t.title=="string"||t.title===null}var Tp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=U,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=I(oo),this.location=I(mi),this.changeDetector=I(Ir),this.environmentInjector=I(lt),this.inputBinder=I(Eu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new yp(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=dt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bn]});let t=e;return t})(),yp=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===kt?this.route:e===oo?this.childContexts:this.parent.get(e,n)}},Eu=new P(""),EE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=ps([i.queryParams,i.params,i.data]).pipe(_t(([o,a,c],u)=>(c=T(T(T({},o),a),c),u===0?O(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=MI(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function EP(t,e,n){let r=no(t,e._root,n?n._root:void 0);return new mu(r,e)}function no(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=DP(t,e,n);return new ht(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>no(t,a)),o}}let r=bP(e.value),i=e.children.map(s=>no(t,s));return new ht(r,i)}}function DP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return no(t,r,i);return no(t,r)})}function bP(t){return new kt(new ke(t.url),new ke(t.params),new ke(t.queryParams),new ke(t.fragment),new ke(t.data),t.outlet,t.component,t)}var $E="ngNavigationCancelingError";function HE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Si(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=qE(!1,ft.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function qE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[$E]=!0,n.cancellationCode=e,n}function CP(t){return GE(t)&&Si(t.url)}function GE(t){return!!t&&t[$E]}var TP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ve({type:e,selectors:[["ng-component"]],standalone:!0,features:[_r],decls:1,vars:0,template:function(i,s){i&1&&F(0,"router-outlet")},dependencies:[Tp],encapsulation:2});let t=e;return t})();function SP(t,e){return t.providers&&!t._injector&&(t._injector=Uc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Sp(t){let e=t.children&&t.children.map(Sp),n=e?oe(T({},t),{children:e}):T({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=TP),n}function rn(t){return t.outlet||U}function MP(t,e){let n=t.filter(r=>rn(r)===e);return n.push(...t.filter(r=>rn(r)!==e)),n}function ao(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var AP=(t,e,n,r)=>G(i=>(new vp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),vp=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Zf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Di(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Di(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Di(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Di(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new hp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new lp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Zf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Zf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ao(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},vu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ci=class{constructor(e,n){this.component=e,this.route=n}};function xP(t,e,n){let r=t._root,i=e?e._root:null;return qs(r,i,n,[r.value])}function RP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!__(t)?t:e.get(t):r}function qs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Di(e);return t.children.forEach(o=>{NP(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Qs(a,n.getContext(o),i)),i}function NP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=PP(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new vu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?qs(t,e,a?a.children:null,r,i):qs(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ci(a.outlet.component,o))}else o&&Qs(e,a,i),i.canActivateChecks.push(new vu(r)),s.component?qs(t,null,a?a.children:null,r,i):qs(t,null,n,r,i);return i}function PP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!br(t.url,e.url);case"pathParamsOrQueryParamsChange":return!br(t.url,e.url)||!tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mp(t,e)||!tn(t.queryParams,e.queryParams);case"paramsChange":default:return!mp(t,e)}}function Qs(t,e,n){let r=Di(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Qs(o,e.children.getContext(s),n):Qs(o,null,n):Qs(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ci(e.outlet.component,i)):n.canDeactivateChecks.push(new Ci(null,i)):n.canDeactivateChecks.push(new Ci(null,i))}function co(t){return typeof t=="function"}function OP(t){return typeof t=="boolean"}function kP(t){return t&&co(t.canLoad)}function FP(t){return t&&co(t.canActivate)}function LP(t){return t&&co(t.canActivateChild)}function VP(t){return t&&co(t.canDeactivate)}function jP(t){return t&&co(t.canMatch)}function WE(t){return t instanceof mn||t?.name==="EmptyError"}var ou=Symbol("INITIAL_VALUE");function Ai(){return _t(t=>ps(t.map(e=>e.pipe(yn(1),Id(ou)))).pipe(G(e=>{for(let n of e)if(n!==!0){if(n===ou)return ou;if(n===!1||n instanceof Gn)return n}return!0}),vt(e=>e!==ou),yn(1)))}function BP(t,e){return we(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?O(oe(T({},n),{guardsResult:!0})):UP(o,r,i,t).pipe(we(a=>a&&OP(a)?zP(r,s,t,e):O(a)),G(a=>oe(T({},n),{guardsResult:a})))})}function UP(t,e,n,r){return pe(t).pipe(we(i=>WP(i.component,i.route,n,e,r)),qt(i=>i!==!0,!0))}function zP(t,e,n,r){return pe(e).pipe(ar(i=>Xr(HP(i.route.parent,r),$P(i.route,r),GP(t,i.path,n),qP(t,i.route,n))),qt(i=>i!==!0,!0))}function $P(t,e){return t!==null&&e&&e(new dp(t)),O(!0)}function HP(t,e){return t!==null&&e&&e(new up(t)),O(!0)}function qP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(s=>Ba(()=>{let o=ao(e)??n,a=xi(s,o),c=FP(a)?a.canActivate(e,t):_n(o,()=>a(e,t));return Qn(c).pipe(qt())}));return O(i).pipe(Ai())}function GP(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>RP(o)).filter(o=>o!==null).map(o=>Ba(()=>{let a=o.guards.map(c=>{let u=ao(o.node)??n,l=xi(c,u),d=LP(l)?l.canActivateChild(r,t):_n(u,()=>l(r,t));return Qn(d).pipe(qt())});return O(a).pipe(Ai())}));return O(s).pipe(Ai())}function WP(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return O(!0);let o=s.map(a=>{let c=ao(e)??i,u=xi(a,c),l=VP(u)?u.canDeactivate(t,e,n,r):_n(c,()=>u(t,e,n,r));return Qn(l).pipe(qt())});return O(o).pipe(Ai())}function KP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let s=i.map(o=>{let a=xi(o,t),c=kP(a)?a.canLoad(e,n):_n(t,()=>a(e,n));return Qn(c)});return O(s).pipe(Ai(),KE(r))}function KE(t){return hd(Fe(e=>{if(Si(e))throw HE(t,e)}),G(e=>e===!0))}function QP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let s=i.map(o=>{let a=xi(o,t),c=jP(a)?a.canMatch(e,n):_n(t,()=>a(e,n));return Qn(c)});return O(s).pipe(Ai(),KE(r))}var ro=class{constructor(e){this.segmentGroup=e||null}},_u=class extends Error{constructor(e){super(),this.urlTree=e}};function Ei(t){return Zr(new ro(t))}function ZP(t){return Zr(new A(4e3,!1))}function YP(t){return Zr(qE(!1,ft.GuardRejected))}var _p=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[U])return ZP(e.redirectTo);i=i.children[U]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new _u(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Gn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},wp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XP(t,e,n,r,i){let s=Mp(t,e,n);return s.matched?(r=SP(e,r),QP(r,e,n,i).pipe(G(o=>o===!0?s:T({},wp)))):O(s)}function Mp(t,e,n){if(e.path==="**")return JP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?T({},wp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||QN)(n,t,e);if(!i)return T({},wp);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?T(T({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function JP(t){return{matched:!0,parameters:t.length>0?SE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function DE(t,e,n,r){return n.length>0&&nO(t,n,r)?{segmentGroup:new ie(e,tO(r,new ie(n,t.children))),slicedSegments:[]}:n.length===0&&rO(t,n,r)?{segmentGroup:new ie(t.segments,eO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ie(t.segments,t.children),slicedSegments:n}}function eO(t,e,n,r){let i={};for(let s of n)if(Du(t,e,s)&&!r[rn(s)]){let o=new ie([],{});i[rn(s)]=o}return T(T({},r),i)}function tO(t,e){let n={};n[U]=e;for(let r of t)if(r.path===""&&rn(r)!==U){let i=new ie([],{});n[rn(r)]=i}return n}function nO(t,e,n){return n.some(r=>Du(t,e,r)&&rn(r)!==U)}function rO(t,e,n){return n.some(r=>Du(t,e,r))}function Du(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function iO(t,e,n,r){return rn(t)!==r&&(r===U||!Du(e,n,t))?!1:Mp(e,t,n).matched}function sO(t,e,n){return e.length===0&&!t.children[n]}var Ip=class{};function oO(t,e,n,r,i,s,o="emptyOnly"){return new Ep(t,e,n,r,i,o,s).recognize()}var aO=31,Ep=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new _p(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=DE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(G(n=>{let r=new to([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,{},U,this.rootComponentType,null,{}),i=new ht(r,n),s=new yu("",i),o=pP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,U).pipe(Nn(r=>{if(r instanceof _u)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ro?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=bp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(G(s=>s instanceof ht?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return pe(i).pipe(ar(s=>{let o=r.children[s],a=MP(n,s);return this.processSegmentGroup(e,a,o,s)}),wd((s,o)=>(s.push(...o),s)),Pn(null),_d(),we(s=>{if(s===null)return Ei(r);let o=QE(s);return cO(o),O(o)}))}processSegment(e,n,r,i,s,o){return pe(n).pipe(ar(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Nn(c=>{if(c instanceof ro)return O(null);throw c}))),qt(a=>!!a),Nn(a=>{if(WE(a))return sO(r,i,s)?O(new Ip):Ei(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return iO(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ei(i):Ei(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Mp(n,i,s);if(!a)return Ei(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aO&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(we(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=XP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(_t(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(_t(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new to(l,h,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,lO(r),rn(r),r.component??r._loadedComponent??null,r,dO(r)),{segmentGroup:p,slicedSegments:C}=DE(n,l,d,c);if(C.length===0&&p.hasChildren())return this.processChildren(u,c,p).pipe(G(x=>x===null?null:new ht(f,x)));if(c.length===0&&C.length===0)return O(new ht(f,[]));let D=rn(r)===s;return this.processSegment(u,c,p,C,D?U:s,!0).pipe(G(x=>new ht(f,x instanceof ht?[x]:[])))}))):Ei(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):KP(e,n,r,this.urlSerializer).pipe(we(i=>i?this.configLoader.loadChildren(e,n).pipe(Fe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):YP(n))):O({routes:[],injector:e})}};function cO(t){t.sort((e,n)=>e.value.outlet===U?-1:n.value.outlet===U?1:e.value.outlet.localeCompare(n.value.outlet))}function uO(t){let e=t.value.routeConfig;return e&&e.path===""}function QE(t){let e=[],n=new Set;for(let r of t){if(!uO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=QE(r.children);e.push(new ht(r.value,i))}return e.filter(r=>!n.has(r))}function lO(t){return t.data||{}}function dO(t){return t.resolve||{}}function hO(t,e,n,r,i,s){return we(o=>oO(t,e,n,r,o.extractedUrl,i,s).pipe(G(({state:a,tree:c})=>oe(T({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function fO(t,e){return we(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of ZE(c))o.add(u);let a=0;return pe(o).pipe(ar(c=>s.has(c)?pO(c,r,t,e):(c.data=bp(c,c.parent,t).resolve,O(void 0))),Fe(()=>a++),Jr(1),we(c=>a===o.size?O(n):ut))})}function ZE(t){let e=t.children.map(n=>ZE(n)).flat();return[t,...e]}function pO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!zE(i)&&(s[io]=i.title),gO(s,t,e,r).pipe(G(o=>(t._resolvedData=o,t.data=bp(t,t.parent,n).resolve,null)))}function gO(t,e,n,r){let i=Jf(t);if(i.length===0)return O({});let s={};return pe(i).pipe(we(o=>mO(t[o],e,n,r).pipe(qt(),Fe(a=>{s[o]=a}))),Jr(1),vd(s),Nn(o=>WE(o)?ut:Zr(o)))}function mO(t,e,n,r){let i=ao(e)??r,s=xi(t,i),o=s.resolve?s.resolve(e,n):_n(i,()=>s(e,n));return Qn(o)}function Yf(t){return _t(e=>{let n=t(e);return n?pe(n).pipe(G(()=>e)):O(e)})}var YE=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===U);return i}getResolvedTitleForRoute(r){return r.data[io]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>I(yO),providedIn:"root"});let t=e;return t})(),yO=(()=>{let e=class e extends YE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(N(YI))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uo=new P("",{providedIn:"root",factory:()=>({})}),wu=new P(""),Ap=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(Kc)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return O(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Qn(r.loadComponent()).pipe(G(XE),Fe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),gs(()=>{this.componentLoaders.delete(r)})),s=new Qr(i,()=>new $e).pipe(Kr());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=vO(i,this.compiler,r,this.onLoadEndListener).pipe(gs(()=>{this.childrenLoaders.delete(i)})),a=new Qr(o,()=>new $e).pipe(Kr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vO(t,e,n,r){return Qn(t.loadChildren()).pipe(G(XE),we(i=>i instanceof Ts||Array.isArray(i)?O(i):pe(e.compileModuleAsync(i))),G(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(wu,[],{optional:!0,self:!0}).flat()),{routes:o.map(Sp),injector:s}}))}function _O(t){return t&&typeof t=="object"&&"default"in t}function XE(t){return _O(t)?t.default:t}var xp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>I(wO),providedIn:"root"});let t=e;return t})(),wO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JE=new P(""),eD=new P("");function IO(t,e,n){let r=t.get(eD),i=t.get(at);return t.get(le).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),EO(t))),{onViewTransitionCreated:c}=r;return c&&_n(t,()=>c({transition:a,from:e,to:n})),o})}function EO(t){return new Promise(e=>{cf(e,{injector:t})})}var Rp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $e,this.transitionAbortSubject=new $e,this.configLoader=I(Ap),this.environmentInjector=I(lt),this.urlSerializer=I(so),this.rootContexts=I(oo),this.location=I(qn),this.inputBindingEnabled=I(Eu,{optional:!0})!==null,this.titleStrategy=I(YE),this.options=I(uo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(xp),this.createViewTransition=I(JE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let r=s=>this.events.next(new ap(s)),i=s=>this.events.next(new cp(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(oe(T(T({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ke({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ks,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vt(o=>o.id!==0),G(o=>oe(T({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),_t(o=>{let a=!1,c=!1;return O(o).pipe(_t(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ft.SupersededByNewNavigation),ut;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?oe(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Kn(u.id,this.urlSerializer.serialize(u.rawUrl),h,hu.IgnoredSameUrlNavigation)),u.resolve(null),ut}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return O(u).pipe(_t(h=>{let f=this.transitions?.getValue();return this.events.next(new Mi(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ut:Promise.resolve(h)}),hO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=oe(T({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new fu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:C,extras:D}=u,x=new Mi(h,this.urlSerializer.serialize(f),p,C);this.events.next(x);let ue=BE(this.rootComponentType).snapshot;return this.currentTransition=o=oe(T({},u),{targetSnapshot:ue,urlAfterRedirects:f,extras:oe(T({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(o)}else{let h="";return this.events.next(new Kn(u.id,this.urlSerializer.serialize(u.extractedUrl),h,hu.IgnoredByUrlHandlingStrategy)),u.resolve(null),ut}}),Fe(u=>{let l=new rp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),G(u=>(this.currentTransition=o=oe(T({},u),{guards:xP(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),BP(this.environmentInjector,u=>this.events.next(u)),Fe(u=>{if(o.guardsResult=u.guardsResult,Si(u.guardsResult))throw HE(this.urlSerializer,u.guardsResult);let l=new ip(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),vt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ft.GuardRejected),!1)),Yf(u=>{if(u.guards.canActivateChecks.length)return O(u).pipe(Fe(l=>{let d=new sp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),_t(l=>{let d=!1;return O(l).pipe(fO(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",ft.NoDataFromResolver)}}))}),Fe(l=>{let d=new op(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Yf(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Fe(f=>{d.component=f}),G(()=>{})));for(let f of d.children)h.push(...l(f));return h};return ps(l(u.targetSnapshot.root)).pipe(Pn(null),yn(1))}),Yf(()=>this.afterPreactivation()),_t(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?pe(d).pipe(G(()=>o)):O(o)}),G(u=>{let l=EP(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=oe(T({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Fe(()=>{this.events.next(new Js)}),AP(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),yn(1),Fe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Ed(this.transitionAbortSubject.pipe(Fe(u=>{throw u}))),gs(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",ft.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nn(u=>{if(c=!0,GE(u))this.events.next(new Wn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),CP(u)?this.events.next(new eo(u.url)):o.resolve(!1);else{this.events.next(new Xs(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return ut}))}))}cancelNavigationTransition(r,i,s){let o=new Wn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function DO(t){return t!==Ks}var bO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>I(CO),providedIn:"root"});let t=e;return t})(),Dp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},CO=(()=>{let e=class e extends Dp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ns(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>I(TO),providedIn:"root"});let t=e;return t})(),TO=(()=>{let e=class e extends tD{constructor(){super(...arguments),this.location=I(qn),this.urlSerializer=I(so),this.options=I(uo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(xp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=BE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Mi)this.stateMemento=this.createStateMemento();else if(r instanceof Kn)this.rawUrlTree=i.initialUrl;else if(r instanceof fu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Js?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Wn&&(r.code===ft.GuardRejected||r.code===ft.NoDataFromResolver)?this.restoreHistory(i):r instanceof Xs?this.restoreHistory(i,!0):r instanceof nn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=T(T({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=T(T({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ns(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Gs||{});function nD(t,e){t.events.pipe(vt(n=>n instanceof nn||n instanceof Wn||n instanceof Xs||n instanceof Kn),G(n=>n instanceof nn||n instanceof Kn?Gs.COMPLETE:(n instanceof Wn?n.code===ft.Redirect||n.code===ft.SupersededByNewNavigation:!1)?Gs.REDIRECTING:Gs.FAILED),vt(n=>n!==Gs.REDIRECTING),yn(1)).subscribe(()=>{e()})}function SO(t){throw t}var MO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},sn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(Hc),this.stateManager=I(tD),this.options=I(uo,{optional:!0})||{},this.pendingTasks=I(zc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(Rp),this.urlSerializer=I(so),this.location=I(qn),this.urlHandlingStrategy=I(xp),this._events=new $e,this.errorHandler=this.options.errorHandler||SO,this.navigated=!1,this.routeReuseStrategy=I(bO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(wu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(Eu,{optional:!0}),this.eventsSubscription=new Me,this.isNgZoneEnabled=I(le)instanceof le&&le.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Wn&&i.code!==ft.Redirect&&i.code!==ft.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof nn)this.navigated=!0;else if(i instanceof eo){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||DO(s.source)};this.scheduleNavigation(a,Ks,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}RO(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ks,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=T({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Sp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=T(T({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=FE(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return LE(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Si(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ks,null,i)}navigate(r,i={skipLocationChange:!1}){return xO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=T({},MO):i===!1?s=T({},AO):s=i,Si(r))return vE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return vE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return nD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function RO(t){return!(t instanceof Js)&&!(t instanceof eo)}var on=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new $e,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof nn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Pw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(B(sn),B(kt),$h("tabindex"),B(vr),B(En),B(Sn))},e.\u0275dir=dt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ks("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&$c("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[tt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Er],skipLocationChange:[tt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Er],replaceUrl:[tt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Er],routerLink:"routerLink"},standalone:!0,features:[lf,Bn]});let t=e;return t})();var Iu=class{};var NO=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(vt(r=>r instanceof nn),ar(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Uc(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return pe(s).pipe(Yr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=O(null);let o=s.pipe(we(a=>a===null?O(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return pe([o,a]).pipe(Yr())}else return o})}};e.\u0275fac=function(i){return new(i||e)(N(sn),N(Kc),N(lt),N(Iu),N(Ap))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rD=new P(""),PO=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Mi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof nn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Kn&&r.code===hu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof pu&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pu(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){qw()},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function OO(t){return t.routerState.root}function lo(t,e){return{\u0275kind:t,\u0275providers:e}}function kO(){let t=I(Pt);return e=>{let n=t.get(vi);if(e!==n.components[0])return;let r=t.get(sn),i=t.get(iD);t.get(Np)===1&&r.initialNavigation(),t.get(sD,null,$.Optional)?.setUpPreloading(),t.get(rD,null,$.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var iD=new P("",{factory:()=>new $e}),Np=new P("",{providedIn:"root",factory:()=>1});function FO(){return lo(2,[{provide:Np,useValue:0},{provide:Wc,multi:!0,deps:[Pt],useFactory:e=>{let n=e.get(kI,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(sn),s=e.get(iD);nD(i,()=>{r(!0)}),e.get(Rp).afterPreactivation=()=>(r(!0),s.closed?O(void 0):s),i.initialNavigation()}))}}])}function LO(){return lo(3,[{provide:Wc,multi:!0,useFactory:()=>{let e=I(sn);return()=>{e.setUpLocationChangeListener()}}},{provide:Np,useValue:2}])}var sD=new P("");function VO(t){return lo(0,[{provide:sD,useExisting:NO},{provide:Iu,useExisting:t}])}function jO(){return lo(8,[EE,{provide:Eu,useExisting:EE}])}function BO(t){let e=[{provide:JE,useValue:IO},{provide:eD,useValue:T({skipNextTransition:!!t?.skipInitialTransition},t)}];return lo(9,e)}var bE=new P("ROUTER_FORROOT_GUARD"),UO=[qn,{provide:so,useClass:Zs},sn,oo,{provide:kt,useFactory:OO,deps:[sn]},Ap,[]],Pp=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[UO,[],{provide:wu,multi:!0,useValue:r},{provide:bE,useFactory:qO,deps:[[sn,new bc,new Sh]]},{provide:uo,useValue:i||{}},i?.useHash?$O():HO(),zO(),i?.preloadingStrategy?VO(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?GO(i):[],i?.bindToComponentInputs?jO().\u0275providers:[],i?.enableViewTransitions?BO().\u0275providers:[],WO()]}}static forChild(r){return{ngModule:e,providers:[{provide:wu,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(N(bE,8))},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})();function zO(){return{provide:rD,useFactory:()=>{let t=I(UI),e=I(le),n=I(uo),r=I(Rp),i=I(so);return n.scrollOffset&&t.setOffset(n.scrollOffset),new PO(i,r,t,e,n)}}}function $O(){return{provide:Sn,useClass:LI}}function HO(){return{provide:Sn,useClass:Rf}}function qO(t){return"guarded"}function GO(t){return[t.initialNavigation==="disabled"?LO().\u0275providers:[],t.initialNavigation==="enabledBlocking"?FO().\u0275providers:[]]}var CE=new P("");function WO(){return[{provide:CE,useFactory:kO},{provide:wf,multi:!0,useExisting:CE}]}var ho=(()=>{let e=class e{constructor(){this.messages=[]}add(r){this.messages.push(r)}clear(){this.messages=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ni=(()=>{let e=class e{constructor(r){this.messageService=r}};e.\u0275fac=function(i){return new(i||e)(N(ho))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KO(t,e){if(t&1){let n=gI();_(0,"div")(1,"h2"),b(2),v(),_(3,"div"),b(4),v(),_(5,"div")(6,"label",1),b(7,"Project: "),v(),_(8,"input",2),mf("ngModelChange",function(i){tw(n);let s=hf();return yI(s.project.name,i)||(s.project.name=i),nw(i)}),v()()()}if(t&2){let n=hf();he(2),Jt("",n.project.name," Details:"),he(2),Jt("id: ",n.project.id,""),he(4),gf("ngModel",n.project.name)}}var oD=(()=>{let e=class e{constructor(r,i,s){this.route=r,this.projectService=i,this.location=s}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(B(kt),B(Ni),B(qn))},e.\u0275cmp=Ve({type:e,selectors:[["app-project-detail"]],inputs:{project:"project"},standalone:!0,features:[_r],decls:1,vars:1,consts:[[4,"ngIf"],["for","project-name"],["id","project-name","placeholder","name",3,"ngModelChange","ngModel"]],template:function(i,s){i&1&&Dn(0,KO,9,3,"div",0),i&2&&bn("ngIf",s.project)},dependencies:[jI,Ii,ru,gE,Wf]});let t=e;return t})();var cD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Fp;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Fp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ZO=function(t){let e=cD(t);return uD.encodeByteArray(e,!0)},fo=function(t){return ZO(t).replace(/\./g,"")},YO=function(t){try{return uD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var JO=()=>XO().__FIREBASE_DEFAULTS__,ek=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&YO(t[1]);return e&&JSON.parse(e)},Lp=()=>{try{return JO()||ek()||tk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nk=t=>{var e,n;return(n=(e=Lp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Cu=t=>{let e=nk(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Vp=()=>{var t;return(t=Lp())===null||t===void 0?void 0:t.config};var bu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Tu(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fo(JSON.stringify(n)),fo(JSON.stringify(o)),""].join(".")}function go(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rk(){var t;let e=(t=Lp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lD(){return!rk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Su(){try{return typeof indexedDB=="object"}catch{return!1}}function dD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var ik="FirebaseError",Ft=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ik,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,po.prototype.create)}},po=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?sk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ft(i,a,r)}};function sk(t,e){return t.replace(ok,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ok=/\{\$([^}]+)}/g;function mo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(aD(s)&&aD(o)){if(!mo(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function aD(t){return t!==null&&typeof t=="object"}var c4=4*60*60*1e3;function Lt(t){return t&&t._delegate?t._delegate:t}var Vt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Cr="[DEFAULT]";var jp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new bu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ck(e))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Cr){return this.instances.has(e)}getOptions(e=Cr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ak(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cr){return this.component?this.component.multipleInstances?e:Cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ak(t){return t===Cr?void 0:t}function ck(t){return t.instantiationMode==="EAGER"}var Mu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new jp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var uk=[],X=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(X||{}),lk={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},dk=X.INFO,hk={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},fk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=hk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Pi=class{constructor(e){this.name=e,this._logLevel=dk,this._logHandler=fk,this._userLogHandler=null,uk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}};var pk=(t,e)=>e.some(n=>t instanceof n),hD,fD;function gk(){return hD||(hD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mk(){return fD||(fD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var pD=new WeakMap,Up=new WeakMap,gD=new WeakMap,Bp=new WeakMap,$p=new WeakMap;function yk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(an(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pD.set(n,t)}).catch(()=>{}),$p.set(e,t),e}function vk(t){if(Up.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Up.set(t,e)}var zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Up.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return an(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mD(t){zp=t(zp)}function _k(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Au(this),e,...n);return gD.set(r,e.sort?e.sort():[e]),an(r)}:mk().includes(t)?function(...e){return t.apply(Au(this),e),an(pD.get(this))}:function(...e){return an(t.apply(Au(this),e))}}function wk(t){return typeof t=="function"?_k(t):(t instanceof IDBTransaction&&vk(t),pk(t,gk())?new Proxy(t,zp):t)}function an(t){if(t instanceof IDBRequest)return yk(t);if(Bp.has(t))return Bp.get(t);let e=wk(t);return e!==t&&(Bp.set(t,e),$p.set(e,t)),e}var Au=t=>$p.get(t);function vD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=an(o);return r&&o.addEventListener("upgradeneeded",c=>{r(an(o.result),c.oldVersion,c.newVersion,an(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Ik=["get","getKey","getAll","getAllKeys","count"],Ek=["put","add","delete","clear"],Hp=new Map;function yD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hp.get(e))return Hp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Ek.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ik.includes(n)))return;let s=function(o,...a){return y(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Hp.set(e,s),s}mD(t=>oe(T({},t),{get:(e,n,r)=>yD(e,n)||t.get(e,n,r),has:(e,n)=>!!yD(e,n)||t.has(e,n)}));var Gp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Dk(t){let e=t.getComponent();return e?.type==="VERSION"}var Wp="@firebase/app",_D="0.9.29";var Tr=new Pi("@firebase/app"),bk="@firebase/app-compat",Ck="@firebase/analytics-compat",Tk="@firebase/analytics",Sk="@firebase/app-check-compat",Mk="@firebase/app-check",Ak="@firebase/auth",xk="@firebase/auth-compat",Rk="@firebase/database",Nk="@firebase/database-compat",Pk="@firebase/functions",Ok="@firebase/functions-compat",kk="@firebase/installations",Fk="@firebase/installations-compat",Lk="@firebase/messaging",Vk="@firebase/messaging-compat",jk="@firebase/performance",Bk="@firebase/performance-compat",Uk="@firebase/remote-config",zk="@firebase/remote-config-compat",$k="@firebase/storage",Hk="@firebase/storage-compat",qk="@firebase/firestore",Gk="@firebase/firestore-compat",Wk="firebase",Kk="10.9.0";var Kp="[DEFAULT]",Qk={[Wp]:"fire-core",[bk]:"fire-core-compat",[Tk]:"fire-analytics",[Ck]:"fire-analytics-compat",[Mk]:"fire-app-check",[Sk]:"fire-app-check-compat",[Ak]:"fire-auth",[xk]:"fire-auth-compat",[Rk]:"fire-rtdb",[Nk]:"fire-rtdb-compat",[Pk]:"fire-fn",[Ok]:"fire-fn-compat",[kk]:"fire-iid",[Fk]:"fire-iid-compat",[Lk]:"fire-fcm",[Vk]:"fire-fcm-compat",[jk]:"fire-perf",[Bk]:"fire-perf-compat",[Uk]:"fire-rc",[zk]:"fire-rc-compat",[$k]:"fire-gcs",[Hk]:"fire-gcs-compat",[qk]:"fire-fst",[Gk]:"fire-fst-compat","fire-js":"fire-js",[Wk]:"fire-js-all"};var xu=new Map,Qp=new Map;function Zk(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){let e=t.name;if(Qp.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;Qp.set(e,t);for(let n of xu.values())Zk(n,t);return!0}function Ru(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Yk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Zn=new po("app","Firebase",Yk);var Zp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}};var Nu=Kk;function Jp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Kp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zn.create("bad-app-name",{appName:String(i)});if(n||(n=Vp()),!n)throw Zn.create("no-options");let s=xu.get(i);if(s){if(mo(n,s.options)&&mo(r,s.config))return s;throw Zn.create("duplicate-app",{appName:i})}let o=new Mu(i);for(let c of Qp.values())o.addComponent(c);let a=new Zp(n,r,o);return xu.set(i,a),a}function Pu(t=Kp){let e=xu.get(t);if(!e&&t===Kp&&Vp())return Jp();if(!e)throw Zn.create("no-app",{appName:t});return e}function jt(t,e,n){var r;let i=(r=Qk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(a.join(" "));return}Sr(new Vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Xk="firebase-heartbeat-database",Jk=1,yo="firebase-heartbeat-store",qp=null;function DD(){return qp||(qp=vD(Xk,Jk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zn.create("idb-open",{originalErrorMessage:t.message})})),qp}function e1(t){return y(this,null,function*(){try{let n=(yield DD()).transaction(yo),r=yield n.objectStore(yo).get(bD(t));return yield n.done,r}catch(e){if(e instanceof Ft)Tr.warn(e.message);else{let n=Zn.create("idb-get",{originalErrorMessage:e?.message});Tr.warn(n.message)}}})}function wD(t,e){return y(this,null,function*(){try{let r=(yield DD()).transaction(yo,"readwrite");yield r.objectStore(yo).put(e,bD(t)),yield r.done}catch(n){if(n instanceof Ft)Tr.warn(n.message);else{let r=Zn.create("idb-set",{originalErrorMessage:n?.message});Tr.warn(r.message)}}})}function bD(t){return`${t.name}!${t.options.appId}`}var t1=1024,n1=30*24*60*60*1e3,Yp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Xp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ID();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=n1}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return y(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ID(),{heartbeatsToSend:r,unsentEntries:i}=r1(this._heartbeatsCache.heartbeats),s=fo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function ID(){return new Date().toISOString().substring(0,10)}function r1(t,e=t1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ED(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ED(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Xp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return Su()?dD().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield e1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ED(t){return fo(JSON.stringify({version:2,heartbeats:t})).length}function i1(t){Sr(new Vt("platform-logger",e=>new Gp(e),"PRIVATE")),Sr(new Vt("heartbeat",e=>new Yp(e),"PRIVATE")),jt(Wp,_D,t),jt(Wp,_D,"esm2017"),jt("fire-js","")}i1("");var s1="firebase",o1="10.9.0";jt(s1,o1,"app");var a1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ut={},w,Ig=Ig||{},L=a1||self;function Wu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ro(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function c1(t){return Object.prototype.hasOwnProperty.call(t,eg)&&t[eg]||(t[eg]=++u1)}var eg="closure_uid_"+(1e9*Math.random()>>>0),u1=0;function l1(t,e,n){return t.call.apply(t.bind,arguments)}function d1(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ke(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ke=l1:Ke=d1,Ke.apply(null,arguments)}function Ou(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ne(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Yn(){this.s=this.s,this.o=this.o}var h1=0;Yn.prototype.s=!1;Yn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),h1!=0)&&c1(this)};Yn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var LD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Eg(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function CD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Wu(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Qe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var f1=function(){if(!L.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};L.addEventListener("test",n,e),L.removeEventListener("test",n,e)}catch{}return t}();function Do(t){return/^[\s\xa0]*$/.test(t)}function Ku(){var t=L.navigator;return t&&(t=t.userAgent)?t:""}function cn(t){return Ku().indexOf(t)!=-1}function Dg(t){return Dg[" "](t),t}Dg[" "]=function(){};function p1(t,e){var n=nF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var g1=cn("Opera"),Li=cn("Trident")||cn("MSIE"),VD=cn("Edge"),sg=VD||Li,jD=cn("Gecko")&&!(Ku().toLowerCase().indexOf("webkit")!=-1&&!cn("Edge"))&&!(cn("Trident")||cn("MSIE"))&&!cn("Edge"),m1=Ku().toLowerCase().indexOf("webkit")!=-1&&!cn("Edge");function BD(){var t=L.document;return t?t.documentMode:void 0}var og;e:{if(ku="",Fu=function(){var t=Ku();if(jD)return/rv:([^\);]+)(\)|;)/.exec(t);if(VD)return/Edge\/([\d\.]+)/.exec(t);if(Li)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(m1)return/WebKit\/(\S+)/.exec(t);if(g1)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Fu&&(ku=Fu?Fu[1]:""),Li&&(Lu=BD(),Lu!=null&&Lu>parseFloat(ku))){og=String(Lu);break e}og=ku}var ku,Fu,Lu,ag;L.document&&Li?(tg=BD(),ag=tg||parseInt(og,10)||void 0):ag=void 0;var tg,y1=ag;function bo(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(jD){e:{try{Dg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:v1[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bo.$.h.call(this)}}Ne(bo,Qe);var v1={2:"touch",3:"pen",4:"mouse"};bo.prototype.h=function(){bo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var No="closure_listenable_"+(1e6*Math.random()|0),_1=0;function w1(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++_1,this.fa=this.ia=!1}function Qu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function bg(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function I1(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function UD(t){let e={};for(let n in t)e[n]=t[n];return e}var TD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<TD.length;s++)n=TD[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zu(t){this.src=t,this.g={},this.h=0}Zu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ug(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new w1(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function cg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=LD(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Qu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ug(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Cg="closure_lm_"+(1e6*Math.random()|0),ng={};function $D(t,e,n,r,i){if(r&&r.once)return qD(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)$D(t,e[s],n,r,i);return null}return n=Mg(n),t&&t[No]?t.O(e,n,Ro(r)?!!r.capture:!!r,i):HD(t,e,n,!1,r,i)}function HD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ro(i)?!!i.capture:!!i,a=Sg(t);if(a||(t[Cg]=a=new Zu(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=E1(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)f1||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(WD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function E1(){function t(n){return e.call(t.src,t.listener,n)}let e=D1;return t}function qD(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qD(t,e[s],n,r,i);return null}return n=Mg(n),t&&t[No]?t.P(e,n,Ro(r)?!!r.capture:!!r,i):HD(t,e,n,!0,r,i)}function GD(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)GD(t,e[s],n,r,i);else r=Ro(r)?!!r.capture:!!r,n=Mg(n),t&&t[No]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ug(s,n,r,i),-1<n&&(Qu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Sg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ug(e,n,r,i)),(n=-1<t?e[t]:null)&&Tg(n))}function Tg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[No])cg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(WD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Sg(e))?(cg(n,t),n.h==0&&(n.src=null,e[Cg]=null)):Qu(t)}}}function WD(t){return t in ng?ng[t]:ng[t]="on"+t}function D1(t,e){if(t.fa)t=!0;else{e=new bo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Tg(t),t=n.call(r,e)}return t}function Sg(t){return t=t[Cg],t instanceof Zu?t:null}var rg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mg(t){return typeof t=="function"?t:(t[rg]||(t[rg]=function(e){return t.handleEvent(e)}),t[rg])}function Re(){Yn.call(this),this.i=new Zu(this),this.S=this,this.J=null}Ne(Re,Yn);Re.prototype[No]=!0;Re.prototype.removeEventListener=function(t,e,n,r){GD(this,t,e,n,r)};function Be(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Qe(e,t);else if(e instanceof Qe)e.target=e.target||t;else{var i=e;e=new Qe(r,t),zD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Vu(o,r,!0,e)&&i}if(o=e.g=t,i=Vu(o,r,!0,e)&&i,i=Vu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Vu(o,r,!1,e)&&i}Re.prototype.N=function(){if(Re.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qu(n[r]);delete t.g[e],t.h--}}this.J=null};Re.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Re.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Vu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&cg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ag=L.JSON.stringify,lg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function b1(){var t=xg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var dg=class{constructor(){this.h=this.g=null}add(e,n){let r=KD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},KD=new lg(()=>new hg,t=>t.reset()),hg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function C1(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function T1(t){L.setTimeout(()=>{throw t},0)}var Co,To=!1,xg=new dg,QD=()=>{let t=L.Promise.resolve(void 0);Co=()=>{t.then(S1)}},S1=()=>{for(var t;t=b1();){try{t.h.call(t.g)}catch(n){T1(n)}var e=KD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}To=!1};function Yu(t,e){Re.call(this),this.h=t||1,this.g=e||L,this.j=Ke(this.qb,this),this.l=Date.now()}Ne(Yu,Re);w=Yu.prototype;w.ga=!1;w.T=null;w.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Be(this,"tick"),this.ga&&(Rg(this),this.start()))}};w.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}w.N=function(){Yu.$.N.call(this),Rg(this),delete this.g};function Ng(t,e,n){if(typeof t=="function")n&&(t=Ke(t,n));else if(t&&typeof t.handleEvent=="function")t=Ke(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:L.setTimeout(t,e||0)}function ZD(t){t.g=Ng(()=>{t.g=null,t.i&&(t.i=!1,ZD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var fg=class extends Yn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ZD(this)}N(){super.N(),this.g&&(L.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function So(t){Yn.call(this),this.h=t,this.g={}}Ne(So,Yn);var SD=[];function YD(t,e,n,r){Array.isArray(n)||(n&&(SD[0]=n.toString()),n=SD);for(var i=0;i<n.length;i++){var s=$D(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function XD(t){bg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Tg(e)},t),t.g={}}So.prototype.N=function(){So.$.N.call(this),XD(this)};So.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Xu(){this.g=!0}Xu.prototype.Ea=function(){this.g=!1};function M1(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function A1(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ki(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+R1(t,n)+(r?" "+r:"")})}function x1(t,e){t.info(function(){return"TIMEOUT: "+e})}Xu.prototype.info=function(){};function R1(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ag(n)}catch{return e}}var Rr={},MD=null;function Ju(){return MD=MD||new Re}Rr.Ta="serverreachability";function JD(t){Qe.call(this,Rr.Ta,t)}Ne(JD,Qe);function Mo(t){let e=Ju();Be(e,new JD(e))}Rr.STAT_EVENT="statevent";function eb(t,e){Qe.call(this,Rr.STAT_EVENT,t),this.stat=e}Ne(eb,Qe);function nt(t){let e=Ju();Be(e,new eb(e,t))}Rr.Ua="timingevent";function tb(t,e){Qe.call(this,Rr.Ua,t),this.size=e}Ne(tb,Qe);function Po(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return L.setTimeout(function(){t()},e)}var el={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pg(){}Pg.prototype.h=null;function AD(t){return t.h||(t.h=t.i())}function rb(){}var Oo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Og(){Qe.call(this,"d")}Ne(Og,Qe);function kg(){Qe.call(this,"c")}Ne(kg,Qe);var pg;function tl(){}Ne(tl,Pg);tl.prototype.g=function(){return new XMLHttpRequest};tl.prototype.i=function(){return{}};pg=new tl;function ko(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new So(this),this.P=N1,t=sg?125:void 0,this.V=new Yu(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ib}function ib(){this.i=null,this.g="",this.h=!1}var N1=45e3,sb={},gg={};w=ko.prototype;w.setTimeout=function(t){this.P=t};function mg(t,e,n){t.L=1,t.A=rl(An(e)),t.u=n,t.S=!0,ob(t,null)}function ob(t,e){t.G=Date.now(),Fo(t),t.B=An(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),pb(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ib,t.g=kb(t.l,n?e:null,!t.u),0<t.O&&(t.M=new fg(Ke(t.Pa,t,t.g),t.O)),YD(t.U,t.g,"readystatechange",t.nb),e=t.I?UD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Mo(),M1(t.j,t.v,t.B,t.m,t.W,t.u)}w.nb=function(t){t=t.target;let e=this.M;e&&un(t)==3?e.l():this.Pa(t)};w.Pa=function(t){try{if(t==this.g)e:{let l=un(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||sg||this.g&&(this.h.h||this.g.ja()||PD(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Mo(3):Mo(2)),nl(this);var n=this.g.da();this.ca=n;t:if(ab(this)){var r=PD(this.g);t="";var i=r.length,s=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),Eo(this);var o="";break t}this.h.i=new L.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,A1(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Do(a)){var u=a;break t}}u=null}if(n=u)ki(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yg(this,n);else{this.i=!1,this.s=3,nt(12),Mr(this),Eo(this);break e}}this.S?(cb(this,l,o),sg&&this.i&&l==3&&(YD(this.U,this.V,"tick",this.mb),this.V.start())):(ki(this.j,this.m,o,null),yg(this,o)),l==4&&Mr(this),this.i&&!this.J&&(l==4?Rb(this.l,this):(this.i=!1,Fo(this)))}else J1(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Mr(this),Eo(this)}}}catch{}finally{}};function ab(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function cb(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=P1(t,n),i==gg){e==4&&(t.s=4,nt(14),r=!1),ki(t.j,t.m,null,"[Incomplete Response]");break}else if(i==sb){t.s=4,nt(15),ki(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ki(t.j,t.m,i,null),yg(t,i);ab(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,nt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ug(e),e.M=!0,nt(11))):(ki(t.j,t.m,n,"[Invalid Chunked Response]"),Mr(t),Eo(t))}w.mb=function(){if(this.g){var t=un(this.g),e=this.g.ja();this.o<e.length&&(nl(this),cb(this,t,e),this.i&&t!=4&&Fo(this))}};function P1(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?gg:(n=Number(e.substring(n,r)),isNaN(n)?sb:(r+=1,r+n>e.length?gg:(e=e.slice(r,r+n),t.o=r+n,e)))}w.cancel=function(){this.J=!0,Mr(this)};function Fo(t){t.Y=Date.now()+t.P,ub(t,t.P)}function ub(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Po(Ke(t.lb,t),e)}function nl(t){t.C&&(L.clearTimeout(t.C),t.C=null)}w.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(x1(this.j,this.B),this.L!=2&&(Mo(),nt(17)),Mr(this),this.s=2,Eo(this)):ub(this,this.Y-t)};function Eo(t){t.l.H==0||t.J||Rb(t.l,t)}function Mr(t){nl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Rg(t.V),XD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function yg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||vg(n.i,t))){if(!t.K&&vg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)$u(n),ol(n);else break e;Bg(n),nt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Po(Ke(n.ib,n),6e3));if(1>=yb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ar(n,11)}else if((t.K||n.g==t)&&$u(n),!Do(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Fg(s,s.h),s.h=null))}if(r.F){let C=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,fe(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Ob(r,r.J?r.pa:null,r.Y),o.K){vb(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(nl(a),Fo(a)),r.g=o}else Ab(r);0<n.j.length&&al(n)}else u[0]!="stop"&&u[0]!="close"||Ar(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ar(n,7):jg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Mo(4)}catch{}}function O1(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Wu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function k1(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function lb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Wu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=k1(t),r=O1(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var db=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function F1(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function xr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof xr){this.h=t.h,Uu(this,t.j),this.s=t.s,this.g=t.g,zu(this,t.m),this.l=t.l;var e=t.i,n=new Ao;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),xD(this,n),this.o=t.o}else t&&(e=String(t).match(db))?(this.h=!1,Uu(this,e[1]||"",!0),this.s=wo(e[2]||""),this.g=wo(e[3]||"",!0),zu(this,e[4]),this.l=wo(e[5]||"",!0),xD(this,e[6]||"",!0),this.o=wo(e[7]||"")):(this.h=!1,this.i=new Ao(null,this.h))}xr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Io(e,RD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Io(e,RD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Io(n,n.charAt(0)=="/"?j1:V1,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Io(n,U1)),t.join("")};function An(t){return new xr(t)}function Uu(t,e,n){t.j=n?wo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function xD(t,e,n){e instanceof Ao?(t.i=e,z1(t.i,t.h)):(n||(e=Io(e,B1)),t.i=new Ao(e,t.h))}function fe(t,e,n){t.i.set(e,n)}function rl(t){return fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function wo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Io(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,L1),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function L1(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var RD=/[#\/\?@]/g,V1=/[#\?:]/g,j1=/[#\?]/g,B1=/[#\?@]/g,U1=/#/g;function Ao(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xn(t){t.g||(t.g=new Map,t.h=0,t.i&&F1(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}w=Ao.prototype;w.add=function(t,e){Xn(this),this.i=null,t=Vi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function hb(t,e){Xn(t),e=Vi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function fb(t,e){return Xn(t),e=Vi(t,e),t.g.has(e)}w.forEach=function(t,e){Xn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};w.ta=function(){Xn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};w.Z=function(t){Xn(this);let e=[];if(typeof t=="string")fb(this,t)&&(e=e.concat(this.g.get(Vi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};w.set=function(t,e){return Xn(this),this.i=null,t=Vi(this,t),fb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};w.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function pb(t,e,n){hb(t,e),0<n.length&&(t.i=null,t.g.set(Vi(t,e),Eg(n)),t.h+=n.length)}w.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Vi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function z1(t,e){e&&!t.j&&(Xn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(hb(this,r),pb(this,i,n))},t)),t.j=e}var $1=class{constructor(t,e){this.g=t,this.map=e}};function gb(t){this.l=t||H1,L.PerformanceNavigationTiming?(t=L.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(L.g&&L.g.Ka&&L.g.Ka()&&L.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var H1=10;function mb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function yb(t){return t.h?1:t.g?t.g.size:0}function vg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Fg(t,e){t.g?t.g.add(e):t.h=e}function vb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}gb.prototype.cancel=function(){if(this.i=_b(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function _b(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Eg(t.i)}var q1=class{stringify(t){return L.JSON.stringify(t,void 0)}parse(t){return L.JSON.parse(t,void 0)}};function G1(){this.g=new q1}function W1(t,e,n){let r=n||"";try{lb(t,function(i,s){let o=i;Ro(i)&&(o=Ag(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function K1(t,e){let n=new Xu;if(L.Image){let r=new Image;r.onload=Ou(ju,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ou(ju,n,r,"TestLoadImage: error",!1,e),r.onabort=Ou(ju,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ou(ju,n,r,"TestLoadImage: timeout",!1,e),L.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ju(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Lo(t){this.l=t.ec||null,this.j=t.ob||!1}Ne(Lo,Pg);Lo.prototype.g=function(){return new il(this.l,this.j)};Lo.prototype.i=function(t){return function(){return t}}({});function il(t,e){Re.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Lg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ne(il,Re);var Lg=0;w=il.prototype;w.open=function(t,e){if(this.readyState!=Lg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xo(this)};w.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||L).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};w.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vo(this)),this.readyState=Lg};w.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xo(this)),this.g&&(this.readyState=3,xo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof L.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wb(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function wb(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}w.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vo(this):xo(this),this.readyState==3&&wb(this)}};w.Za=function(t){this.g&&(this.response=this.responseText=t,Vo(this))};w.Ya=function(t){this.g&&(this.response=t,Vo(this))};w.ka=function(){this.g&&Vo(this)};function Vo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xo(t)}w.setRequestHeader=function(t,e){this.v.append(t,e)};w.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};w.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function xo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Q1=L.JSON.parse;function me(t){Re.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ib,this.L=this.M=!1}Ne(me,Re);var Ib="",Z1=/^https?$/i,Y1=["POST","PUT"];w=me.prototype;w.Oa=function(t){this.M=t};w.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pg.g(),this.C=this.u?AD(this.u):AD(pg),this.g.onreadystatechange=Ke(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){ND(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=L.FormData&&t instanceof L.FormData,!(0<=LD(Y1,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{bb(this),0<this.B&&((this.L=X1(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ke(this.ua,this)):this.A=Ng(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ND(this,s)}};function X1(t){return Li&&typeof t.timeout=="number"&&t.ontimeout!==void 0}w.ua=function(){typeof Ig<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Be(this,"timeout"),this.abort(8))};function ND(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Eb(t),sl(t)}function Eb(t){t.F||(t.F=!0,Be(t,"complete"),Be(t,"error"))}w.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Be(this,"complete"),Be(this,"abort"),sl(this))};w.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sl(this,!0)),me.$.N.call(this)};w.La=function(){this.s||(this.G||this.v||this.l?Db(this):this.kb())};w.kb=function(){Db(this)};function Db(t){if(t.h&&typeof Ig<"u"&&(!t.C[1]||un(t)!=4||t.da()!=2)){if(t.v&&un(t)==4)Ng(t.La,0,t);else if(Be(t,"readystatechange"),un(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(db)[1]||null;!i&&L.self&&L.self.location&&(i=L.self.location.protocol.slice(0,-1)),r=!Z1.test(i?i.toLowerCase():"")}n=r}if(n)Be(t,"complete"),Be(t,"success");else{t.m=6;try{var s=2<un(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Eb(t)}}finally{sl(t)}}}}function sl(t,e){if(t.g){bb(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Be(t,"ready");try{n.onreadystatechange=r}catch{}}}function bb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(L.clearTimeout(t.A),t.A=null)}w.isActive=function(){return!!this.g};function un(t){return t.g?t.g.readyState:0}w.da=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}};w.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};w.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Q1(e)}};function PD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Ib:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function J1(t){let e={};t=(t.g&&2<=un(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Do(t[r]))continue;var n=C1(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}I1(e,function(r){return r.join(", ")})}w.Ia=function(){return this.m};w.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Cb(t){let e="";return bg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Vg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Cb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):fe(t,e,n))}function vo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Tb(t){this.Ga=0,this.j=[],this.l=new Xu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vo("baseRetryDelayMs",5e3,t),this.hb=vo("retryDelaySeedMs",1e4,t),this.eb=vo("forwardChannelMaxRetries",2,t),this.xa=vo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new gb(t&&t.concurrentRequestLimit),this.Ja=new G1,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}w=Tb.prototype;w.ra=8;w.H=1;function jg(t){if(Sb(t),t.H==3){var e=t.W++,n=An(t.I);if(fe(n,"SID",t.K),fe(n,"RID",e),fe(n,"TYPE","terminate"),jo(t,n),e=new ko(t,t.l,e),e.L=2,e.A=rl(An(n)),n=!1,L.navigator&&L.navigator.sendBeacon)try{n=L.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&L.Image&&(new Image().src=e.A,n=!0),n||(e.g=kb(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Fo(e)}Pb(t)}function ol(t){t.g&&(Ug(t),t.g.cancel(),t.g=null)}function Sb(t){ol(t),t.u&&(L.clearTimeout(t.u),t.u=null),$u(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&L.clearTimeout(t.m),t.m=null)}function al(t){if(!mb(t.i)&&!t.m){t.m=!0;var e=t.Na;Co||QD(),To||(Co(),To=!0),xg.add(e,t),t.C=0}}function eF(t,e){return yb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Po(Ke(t.Na,t,e),Nb(t,t.C)),t.C++,!0)}w.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new ko(this,this.l,t),s=this.s;if(this.U&&(s?(s=UD(s),zD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Mb(this,i,e),n=An(this.I),fe(n,"RID",t),fe(n,"CVER",22),this.F&&fe(n,"X-HTTP-Session-Id",this.F),jo(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Cb(s)))+"&"+e:this.o&&Vg(n,this.o,s)),Fg(this.i,i),this.bb&&fe(n,"TYPE","init"),this.P?(fe(n,"$req",e),fe(n,"SID","null"),i.aa=!0,mg(i,n,null)):mg(i,n,e),this.H=2}}else this.H==3&&(t?OD(this,t):this.j.length==0||mb(this.i)||OD(this))};function OD(t,e){var n;e?n=e.m:n=t.W++;let r=An(t.I);fe(r,"SID",t.K),fe(r,"RID",n),fe(r,"AID",t.V),jo(t,r),t.o&&t.s&&Vg(r,t.o,t.s),n=new ko(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Mb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Fg(t.i,n),mg(n,r,e)}function jo(t,e){t.na&&bg(t.na,function(n,r){fe(e,r,n)}),t.h&&lb({},function(n,r){fe(e,r,n)})}function Mb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ke(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{W1(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Ab(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Co||QD(),To||(Co(),To=!0),xg.add(e,t),t.A=0}}function Bg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Po(Ke(t.Ma,t),Nb(t,t.A)),t.A++,!0)}w.Ma=function(){if(this.u=null,xb(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Po(Ke(this.jb,this),t)}};w.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,nt(10),ol(this),xb(this))};function Ug(t){t.B!=null&&(L.clearTimeout(t.B),t.B=null)}function xb(t){t.g=new ko(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=An(t.wa);fe(e,"RID","rpc"),fe(e,"SID",t.K),fe(e,"AID",t.V),fe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&fe(e,"TO",t.qa),fe(e,"TYPE","xmlhttp"),jo(t,e),t.o&&t.s&&Vg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=rl(An(e)),n.u=null,n.S=!0,ob(n,t)}w.ib=function(){this.v!=null&&(this.v=null,ol(this),Bg(this),nt(19))};function $u(t){t.v!=null&&(L.clearTimeout(t.v),t.v=null)}function Rb(t,e){var n=null;if(t.g==e){$u(t),Ug(t),t.g=null;var r=2}else if(vg(t.i,e))n=e.F,vb(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Ju(),Be(r,new tb(r,n)),al(t)}else Ab(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&eF(t,e)||r==2&&Bg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ar(t,5);break;case 4:Ar(t,10);break;case 3:Ar(t,6);break;default:Ar(t,2)}}}function Nb(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ar(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ke(t.pb,t);n||(n=new xr("//www.google.com/images/cleardot.gif"),L.location&&L.location.protocol=="http"||Uu(n,"https"),rl(n)),K1(n.toString(),r)}else nt(2);t.H=0,t.h&&t.h.za(e),Pb(t),Sb(t)}w.pb=function(t){t?(this.l.info("Successfully pinged google.com"),nt(2)):(this.l.info("Failed to ping google.com"),nt(1))};function Pb(t){if(t.H=0,t.ma=[],t.h){let e=_b(t.i);(e.length!=0||t.j.length!=0)&&(CD(t.ma,e),CD(t.ma,t.j),t.i.i.length=0,Eg(t.j),t.j.length=0),t.h.ya()}}function Ob(t,e,n){var r=n instanceof xr?An(n):new xr(n);if(r.g!="")e&&(r.g=e+"."+r.g),zu(r,r.m);else{var i=L.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new xr(null);r&&Uu(s,r),e&&(s.g=e),i&&zu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&fe(r,n,e),fe(r,"VER",t.ra),jo(t,r),r}function kb(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new me(new Lo({ob:n})):new me(t.va),e.Oa(t.J),e}w.isActive=function(){return!!this.h&&this.h.isActive(this)};function Fb(){}w=Fb.prototype;w.Ba=function(){};w.Aa=function(){};w.za=function(){};w.ya=function(){};w.isActive=function(){return!0};w.Va=function(){};function Hu(){if(Li&&!(10<=Number(y1)))throw Error("Environmental error: no available transport.")}Hu.prototype.g=function(t,e){return new pt(t,e)};function pt(t,e){Re.call(this),this.g=new Tb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Do(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Do(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ji(this)}Ne(pt,Re);pt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;nt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Ob(t,null,t.Y),al(t)};pt.prototype.close=function(){jg(this.g)};pt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ag(t),t=n);e.j.push(new $1(e.fb++,t)),e.H==3&&al(e)};pt.prototype.N=function(){this.g.h=null,delete this.j,jg(this.g),delete this.g,pt.$.N.call(this)};function Lb(t){Og.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ne(Lb,Og);function Vb(){kg.call(this),this.status=1}Ne(Vb,kg);function ji(t){this.g=t}Ne(ji,Fb);ji.prototype.Ba=function(){Be(this.g,"a")};ji.prototype.Aa=function(t){Be(this.g,new Lb(t))};ji.prototype.za=function(t){Be(this.g,new Vb)};ji.prototype.ya=function(){Be(this.g,"b")};function tF(){this.blockSize=-1}function Bt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ne(Bt,tF);Bt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ig(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Bt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)ig(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){ig(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){ig(this,r),i=0;break}}this.h=i,this.i+=e};Bt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var nF={};function zg(t){return-128<=t&&128>t?p1(t,function(e){return new ae([e|0],0>e?-1:0)}):new ae([t|0],0>t?-1:0)}function ln(t){if(isNaN(t)||!isFinite(t))return Fi;if(0>t)return je(ln(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=_g;return new ae(e,0)}function jb(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return je(jb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ln(Math.pow(e,8)),r=Fi,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ln(Math.pow(e,s)),r=r.R(s).add(ln(o))):(r=r.R(n),r=r.add(ln(o)))}return r}var _g=4294967296,Fi=zg(0),wg=zg(1),kD=zg(16777216);w=ae.prototype;w.ea=function(){if(Ct(this))return-je(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:_g+r)*e,e*=_g}return t};w.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Mn(this))return"0";if(Ct(this))return"-"+je(this).toString(t);for(var e=ln(Math.pow(t,6)),n=this,r="";;){var i=Gu(n,e).g;n=qu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Mn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};w.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Mn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ct(t){return t.h==-1}w.X=function(t){return t=qu(this,t),Ct(t)?-1:Mn(t)?0:1};function je(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ae(n,~t.h).add(wg)}w.abs=function(){return Ct(this)?je(this):this};w.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ae(n,n[n.length-1]&-2147483648?-1:0)};function qu(t,e){return t.add(je(e))}w.R=function(t){if(Mn(this)||Mn(t))return Fi;if(Ct(this))return Ct(t)?je(this).R(je(t)):je(je(this).R(t));if(Ct(t))return je(this.R(je(t)));if(0>this.X(kD)&&0>t.X(kD))return ln(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Bu(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Bu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Bu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Bu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ae(n,0)};function Bu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _o(t,e){this.g=t,this.h=e}function Gu(t,e){if(Mn(e))throw Error("division by zero");if(Mn(t))return new _o(Fi,Fi);if(Ct(t))return e=Gu(je(t),e),new _o(je(e.g),je(e.h));if(Ct(e))return e=Gu(t,je(e)),new _o(je(e.g),e.h);if(30<t.g.length){if(Ct(t)||Ct(e))throw Error("slowDivide_ only works with positive integers.");for(var n=wg,r=e;0>=r.X(t);)n=FD(n),r=FD(r);var i=Oi(n,1),s=Oi(r,1);for(r=Oi(r,2),n=Oi(n,2);!Mn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Oi(r,1),n=Oi(n,1)}return e=qu(t,i.R(e)),new _o(i,e)}for(i=Fi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ln(n),o=s.R(e);Ct(o)||0<o.X(t);)n-=r,s=ln(n),o=s.R(e);Mn(s)&&(s=wg),i=i.add(s),t=qu(t,o)}return new _o(i,t)}w.gb=function(t){return Gu(this,t).h};w.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ae(n,this.h&t.h)};w.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ae(n,this.h|t.h)};w.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ae(n,this.h^t.h)};function FD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ae(n,t.h)}function Oi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ae(i,t.h)}Hu.prototype.createWebChannel=Hu.prototype.g;pt.prototype.send=pt.prototype.u;pt.prototype.open=pt.prototype.m;pt.prototype.close=pt.prototype.close;el.NO_ERROR=0;el.TIMEOUT=8;el.HTTP_ERROR=6;nb.COMPLETE="complete";rb.EventType=Oo;Oo.OPEN="a";Oo.CLOSE="b";Oo.ERROR="c";Oo.MESSAGE="d";Re.prototype.listen=Re.prototype.O;me.prototype.listenOnce=me.prototype.P;me.prototype.getLastError=me.prototype.Sa;me.prototype.getLastErrorCode=me.prototype.Ia;me.prototype.getStatus=me.prototype.da;me.prototype.getResponseJson=me.prototype.Wa;me.prototype.getResponseText=me.prototype.ja;me.prototype.send=me.prototype.ha;me.prototype.setWithCredentials=me.prototype.Oa;Bt.prototype.digest=Bt.prototype.l;Bt.prototype.reset=Bt.prototype.reset;Bt.prototype.update=Bt.prototype.j;ae.prototype.add=ae.prototype.add;ae.prototype.multiply=ae.prototype.R;ae.prototype.modulo=ae.prototype.gb;ae.prototype.compare=ae.prototype.X;ae.prototype.toNumber=ae.prototype.ea;ae.prototype.toString=ae.prototype.toString;ae.prototype.getBits=ae.prototype.D;ae.fromNumber=ln;ae.fromString=jb;var Bb=Ut.createWebChannelTransport=function(){return new Hu},Ub=Ut.getStatEventTarget=function(){return Ju()},cl=Ut.ErrorCode=el,zb=Ut.EventType=nb,$b=Ut.Event=Rr,$g=Ut.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},R4=Ut.FetchXmlHttpFactory=Lo,Bo=Ut.WebChannel=rb,Hb=Ut.XhrIo=me,qb=Ut.Md5=Bt,Nr=Ut.Integer=ae;var Gb="@firebase/firestore";var Pe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pe.UNAUTHENTICATED=new Pe(null),Pe.GOOGLE_CREDENTIALS=new Pe("google-credentials-uid"),Pe.FIRST_PARTY=new Pe("first-party-uid"),Pe.MOCK_USER=new Pe("mock-user");var os="10.9.0";var jr=new Pi("@firebase/firestore");function Uo(){return jr.logLevel}function E(t,...e){if(jr.logLevel<=X.DEBUG){let n=e.map(My);jr.debug(`Firestore (${os}): ${t}`,...n)}}function pn(t,...e){if(jr.logLevel<=X.ERROR){let n=e.map(My);jr.error(`Firestore (${os}): ${t}`,...n)}}function Wi(t,...e){if(jr.logLevel<=X.WARN){let n=e.map(My);jr.warn(`Firestore (${os}): ${t}`,...n)}}function My(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function j(t="Unexpected state"){let e=`FIRESTORE (${os}) INTERNAL ASSERTION FAILED: `+t;throw pn(e),new Error(e)}function Ce(t,e){t||j()}function ee(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=class extends Ft{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var zt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var hl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Qg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pe.UNAUTHENTICATED))}shutdown(){}},Zg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Yg=class{constructor(e){this.t=e,this.currentUser=Pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new zt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>y(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new hl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Pe(e)}},Xg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Jg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Xg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},em=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},tm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,E("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new em(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function rF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var fl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=rF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function se(t,e){return t<e?-1:t>e?1:0}function Ki(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Te=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var z=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Te(0,0))}static max(){return new t(new Te(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var pl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&j(),r===void 0?r=e.length-n:r>e.length-n&&j(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ge=class t extends pl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new S(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},iF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tt=class t extends pl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return iF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new S(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new S(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new S(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var R=class t{constructor(e){this.path=e}static fromPath(e){return new t(ge.fromString(e))}static fromName(e){return new t(ge.fromString(e).popFirst(5))}static empty(){return new t(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ge(e.slice()))}};var nm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};nm.UNKNOWN_ID=-1;function sF(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=z.fromTimestamp(r===1e9?new Te(n+1,0):new Te(n,r));return new Br(i,R.empty(),e)}function oF(t){return new Br(t.readTime,t.key,-1)}var Br=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(z.min(),R.empty(),-1)}static max(){return new t(z.max(),R.empty(),-1)}};function aF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=R.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}var cF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ay(t){return y(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==cF)throw t;E("LocalStore","Unexpectedly lost primary lease")})}var g=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var im=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new zt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Vr(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=xy(r.target.error);this.V.reject(new Vr(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Vr(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(E("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new om(n)}},gl=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(go())===12.2&&pn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return E("SimpleDb","Removing database:",e),Pr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Su())return!1;if(t.C())return!0;let e=go(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return y(this,null,function*(){return this.db||(E("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Vr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new S(m.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new S(m.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Vr(e,o))},i.onupgradeneeded=s=>{E("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{E("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return y(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=im.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),g.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(E("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},sm=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Pr(this.k.delete())}},Vr=class extends S{constructor(e,n){super(m.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function la(t){return t.name==="IndexedDbTransactionError"}var om=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(E("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(E("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Pr(r)}add(e){return E("SimpleDb","ADD",this.store.name,e,e),Pr(this.store.add(e))}get(e){return Pr(this.store.get(e)).next(n=>(n===void 0&&(n=null),E("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return E("SimpleDb","DELETE",this.store.name,e),Pr(this.store.delete(e))}count(){return E("SimpleDb","COUNT",this.store.name),Pr(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new g((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new g((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){E("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new g((r,i)=>{n.onerror=s=>{let o=xy(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new g((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new sm(a),u=n(a.primaryKey,a.value,c);if(u instanceof g){let l=u.catch(d=>(c.done(),g.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>g.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Pr(t){return new g((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=xy(r.target.error);n(i)}})}var Wb=!1;function xy(t){let e=gl.S(go());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new S("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Wb||(Wb=!0,setTimeout(()=>{throw r},0)),r}}return t}var CC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Ul(t){return t==null}function Ko(t){return t===0&&1/t==-1/0}function uF(t){return typeof t=="number"&&Number.isInteger(t)&&!Ko(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var lF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],z4=[...lF,"documentOverlays"],dF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hF=dF,$4=[...hF,"indexConfiguration","indexState","indexEntries"];function Kb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function da(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ve=class t{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $i(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $i(this.root,e,this.comparator,!1)}getReverseIterator(){return new $i(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $i(this.root,e,this.comparator,!0)}},$i=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},hn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();let e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}};hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(e,n,r,i,s){return this}insert(e,n,r){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ye=class t{constructor(e){this.comparator=e,this.data=new ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ml(this.data.getIterator())}getIteratorFrom(e){return new ml(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ml=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Or=class t{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ye(Tt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ki(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var yl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var rt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};rt.EMPTY_BYTE_STRING=new rt("");var fF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(t){if(Ce(!!t),typeof t=="string"){let e=0,n=fF.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ye(t.seconds),nanos:ye(t.nanos)}}function ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tr(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}function Ry(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ny(t){let e=t.mapValue.fields.__previous_value__;return Ry(e)?Ny(e):e}function Qo(t){let e=er(t.mapValue.fields.__local_write_time__.timestampValue);return new Te(e.seconds,e.nanos)}var am=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},vl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ur(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ry(t)?4:SC(t)?9007199254740991:10:j()}function gn(t,e){if(t===e)return!0;let n=Ur(t);if(n!==Ur(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qo(t).isEqual(Qo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=er(i.timestampValue),a=er(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return tr(i.bytesValue).isEqual(tr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ye(i.geoPointValue.latitude)===ye(s.geoPointValue.latitude)&&ye(i.geoPointValue.longitude)===ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ye(i.integerValue)===ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ye(i.doubleValue),a=ye(s.doubleValue);return o===a?Ko(o)===Ko(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ki(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Kb(o)!==Kb(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!gn(o[c],a[c])))return!1;return!0}(t,e);default:return j()}}function Zo(t,e){return(t.values||[]).find(n=>gn(n,e))!==void 0}function Qi(t,e){if(t===e)return 0;let n=Ur(t),r=Ur(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ye(s.integerValue||s.doubleValue),c=ye(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Qb(t.timestampValue,e.timestampValue);case 4:return Qb(Qo(t),Qo(e));case 5:return se(t.stringValue,e.stringValue);case 6:return function(s,o){let a=tr(s),c=tr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=se(a[u],c[u]);if(l!==0)return l}return se(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=se(ye(s.latitude),ye(o.latitude));return a!==0?a:se(ye(s.longitude),ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Qi(a[u],c[u]);if(l)return l}return se(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ul.mapValue&&o===ul.mapValue)return 0;if(s===ul.mapValue)return 1;if(o===ul.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=se(c[d],l[d]);if(h!==0)return h;let f=Qi(a[c[d]],u[l[d]]);if(f!==0)return f}return se(c.length,l.length)}(t.mapValue,e.mapValue);default:throw j()}}function Qb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);let n=er(t),r=er(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function Zi(t){return cm(t)}function cm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=er(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return tr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return R.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=cm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${cm(n.fields[o])}`;return i+"}"}(t.mapValue):j()}function Zb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function um(t){return!!t&&"integerValue"in t}function Py(t){return!!t&&"arrayValue"in t}function Yb(t){return!!t&&"nullValue"in t}function Xb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hg(t){return!!t&&"mapValue"in t}function $o(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return da(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$o(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$o(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var xn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$o(n)}setAll(e){let n=Tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$o(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Hg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){da(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t($o(this.value))}};var $t=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,z.min(),z.min(),z.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,z.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,z.min(),z.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,z.min(),z.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Yi=class{constructor(e,n){this.position=e,this.inclusive=n}};function Jb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=R.comparator(R.fromName(o.referenceValue),n.key):r=Qi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function eC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}var Xi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function pF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var _l=class{},be=class t extends _l{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dm(e,n,r):n==="array-contains"?new pm(e,r):n==="in"?new gm(e,r):n==="not-in"?new mm(e,r):n==="array-contains-any"?new ym(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hm(e,r):new fm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qi(n,this.value)):n!==null&&Ur(this.value)===Ur(n)&&this.matchesComparison(Qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return j()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ht=class t extends _l{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return MC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function MC(t){return t.op==="and"}function AC(t){return gF(t)&&MC(t)}function gF(t){for(let e of t.filters)if(e instanceof Ht)return!1;return!0}function lm(t){if(t instanceof be)return t.field.canonicalString()+t.op.toString()+Zi(t.value);if(AC(t))return t.filters.map(e=>lm(e)).join(",");{let e=t.filters.map(n=>lm(n)).join(",");return`${t.op}(${e})`}}function xC(t,e){return t instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.field.isEqual(i.field)&&gn(r.value,i.value)}(t,e):t instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&xC(o,i.filters[a]),!0):!1}(t,e):void j()}function RC(t){return t instanceof be?function(n){return`${n.field.canonicalString()} ${n.op} ${Zi(n.value)}`}(t):t instanceof Ht?function(n){return n.op.toString()+" {"+n.getFilters().map(RC).join(" ,")+"}"}(t):"Filter"}var dm=class extends be{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){let n=R.comparator(e.key,this.key);return this.matchesComparison(n)}},hm=class extends be{constructor(e,n){super(e,"in",n),this.keys=NC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},fm=class extends be{constructor(e,n){super(e,"not-in",n),this.keys=NC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function NC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}var pm=class extends be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Py(n)&&Zo(n.arrayValue,this.value)}},gm=class extends be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Zo(this.value.arrayValue,n)}},mm=class extends be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Zo(this.value.arrayValue,n)}},ym=class extends be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Py(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zo(this.value.arrayValue,r))}};var vm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function tC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new vm(t,e,n,r,i,s,o)}function Oy(t){let e=ee(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ul(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zi(r)).join(",")),e.ce=n}return e.ce}function ky(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eC(t.startAt,e.startAt)&&eC(t.endAt,e.endAt)}function _m(t){return R.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function mF(t,e,n,r,i,s,o,a){return new zr(t,e,n,r,i,s,o,a)}function Fy(t){return new zr(t)}function nC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PC(t){return t.collectionGroup!==null}function Ho(t){let e=ee(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ye(Tt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Xi(s,r))}),n.has(Tt.keyField().canonicalString())||e.le.push(new Xi(Tt.keyField(),r))}return e.le}function fn(t){let e=ee(t);return e.he||(e.he=yF(e,Ho(t))),e.he}function yF(t,e){if(t.limitType==="F")return tC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Xi(i.field,s)});let n=t.endAt?new Yi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yi(t.startAt.position,t.startAt.inclusive):null;return tC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wm(t,e){let n=t.filters.concat([e]);return new zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Im(t,e,n){return new zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zl(t,e){return ky(fn(t),fn(e))&&t.limitType===e.limitType}function OC(t){return`${Oy(fn(t))}|lt:${t.limitType}`}function Bi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>RC(i)).join(", ")}]`),Ul(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zi(i)).join(",")),`Target(${r})`}(fn(t))}; limitType=${t.limitType})`}function $l(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):R.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ho(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=Jb(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Ho(r),i)||r.endAt&&!function(o,a,c){let u=Jb(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Ho(r),i))}(t,e)}function vF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kC(t){return(e,n)=>{let r=!1;for(let i of Ho(t)){let s=_F(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _F(t,e,n){let r=t.field.isKeyField()?R.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Qi(c,u):j()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}var nr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return TC(this.inner)}size(){return this.innerSize}};var wF=new ve(R.comparator);function rr(){return wF}var FC=new ve(R.comparator);function zo(...t){let e=FC;for(let n of t)e=e.insert(n.key,n);return e}function IF(t){let e=FC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function kr(){return qo()}function LC(){return qo()}function qo(){return new nr(t=>t.toString(),(t,e)=>t.isEqual(e))}var q4=new ve(R.comparator),EF=new Ye(R.comparator);function J(...t){let e=EF;for(let n of t)e=e.add(n);return e}var DF=new Ye(se);function bF(){return DF}function VC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ko(e)?"-0":e}}function jC(t){return{integerValue:""+t}}function CF(t,e){return uF(e)?jC(e):VC(t,e)}var Ji=class{constructor(){this._=void 0}};function TF(t,e,n){return t instanceof Yo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ry(s)&&(s=Ny(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof es?BC(t,e):t instanceof ts?UC(t,e):function(i,s){let o=MF(i,s),a=rC(o)+rC(i.Ie);return um(o)&&um(i.Ie)?jC(a):VC(i.serializer,a)}(t,e)}function SF(t,e,n){return t instanceof es?BC(t,e):t instanceof ts?UC(t,e):n}function MF(t,e){return t instanceof Xo?function(r){return um(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Yo=class extends Ji{},es=class extends Ji{constructor(e){super(),this.elements=e}};function BC(t,e){let n=zC(e);for(let r of t.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}var ts=class extends Ji{constructor(e){super(),this.elements=e}};function UC(t,e){let n=zC(e);for(let r of t.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}var Xo=class extends Ji{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function rC(t){return ye(t.integerValue||t.doubleValue)}function zC(t){return Py(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof es&&i instanceof es||r instanceof ts&&i instanceof ts?Ki(r.elements,i.elements,gn):r instanceof Xo&&i instanceof Xo?gn(r.Ie,i.Ie):r instanceof Yo&&i instanceof Yo}(t.transform,e.transform)}var Go=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function dl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Jo=class{};function $C(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Em(t.key,Go.none()):new ea(t.key,t.data,Go.none());{let n=t.data,r=xn.empty(),i=new Ye(Tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ns(t.key,r,new Or(i.toArray()),Go.none())}}function xF(t,e,n){t instanceof ea?function(i,s,o){let a=i.value.clone(),c=sC(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ns?function(i,s,o){if(!dl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=sC(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(HC(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wo(t,e,n,r){return t instanceof ea?function(s,o,a,c){if(!dl(s.precondition,o))return a;let u=s.value.clone(),l=oC(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ns?function(s,o,a,c){if(!dl(s.precondition,o))return a;let u=oC(s.fieldTransforms,c,o),l=o.data;return l.setAll(HC(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return dl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ki(r,i,(s,o)=>AF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ea=class extends Jo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ns=class extends Jo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function HC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function sC(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,SF(o,a,n[i]))}return r}function oC(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,TF(s,o,e))}return r}var Em=class extends Jo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Dm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&xF(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=LC();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=$C(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),J())}isEqual(e){return this.batchId===e.batchId&&Ki(this.mutations,e.mutations,(n,r)=>iC(n,r))&&Ki(this.baseMutations,e.baseMutations,(n,r)=>iC(n,r))}};var bm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Cm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ee,Y;function qC(t){if(t===void 0)return pn("GRPC error has no .code"),m.UNKNOWN;switch(t){case Ee.OK:return m.OK;case Ee.CANCELLED:return m.CANCELLED;case Ee.UNKNOWN:return m.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return m.INTERNAL;case Ee.UNAVAILABLE:return m.UNAVAILABLE;case Ee.UNAUTHENTICATED:return m.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case Ee.NOT_FOUND:return m.NOT_FOUND;case Ee.ALREADY_EXISTS:return m.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return m.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case Ee.ABORTED:return m.ABORTED;case Ee.OUT_OF_RANGE:return m.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return m.UNIMPLEMENTED;case Ee.DATA_LOSS:return m.DATA_LOSS;default:return j()}}(Y=Ee||(Ee={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";var aC=null;function RF(){return new TextEncoder}var NF=new Nr([4294967295,4294967295],0);function cC(t){let e=RF().encode(t),n=new qb;return n.update(e),new Uint8Array(n.digest())}function uC(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Nr([n,r],0),new Nr([i,s],0)]}var Tm=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fr(`Invalid padding: ${n}`);if(r<0)throw new Fr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Nr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Nr.fromNumber(r)));return i.compare(NF)===1&&(i=new Nr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=cC(e),[r,i]=uC(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=cC(e),[r,i]=uC(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Fr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var wl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ta.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(z.min(),i,new ve(se),rr(),J())}},ta=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,J(),J(),J())}};var Hi=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Il=class{constructor(e,n){this.targetId=e,this.fe=n}},El=class{constructor(e,n,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Dl=class{constructor(){this.ge=0,this.pe=dC(),this.ye=rt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=J(),n=J(),r=J();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new ta(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=dC()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ce(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},Sm=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=rr(),this.Qe=lC(),this.Ke=new ve(se)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(_m(s))if(r===0){let o=new R(s.path);this.We(n,o,$t.newNoDocument(o,z.min()))}else Ce(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}aC?.tt(function(l,d,h,f,p){var C,D,x,ue,W,K;let Se={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ne=d.unchangedNames;return ne&&(Se.bloomFilter={applied:p===0,hashCount:(C=ne?.hashCount)!==null&&C!==void 0?C:0,bitmapLength:(ue=(x=(D=ne?.bits)===null||D===void 0?void 0:D.bitmap)===null||x===void 0?void 0:x.length)!==null&&ue!==void 0?ue:0,padding:(K=(W=ne?.bits)===null||W===void 0?void 0:W.padding)!==null&&K!==void 0?K:0,mightContain:Xe=>{var yt;return(yt=f?.mightContain(Xe))!==null&&yt!==void 0&&yt}}),Se}(o,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=tr(r).toUint8Array()}catch(c){if(c instanceof yl)return Wi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Tm(o,i,s)}catch(c){return Wi(c instanceof Fr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&_m(a.target)){let c=new R(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,$t.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=J();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new wl(e,n,this.Ke,this.qe,r);return this.qe=rr(),this.Qe=lC(),this.Ke=new ve(se),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Dl,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ye(se),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||E("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Dl),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function lC(){return new ve(R.comparator)}function dC(){return new ve(R.comparator)}var PF={asc:"ASCENDING",desc:"DESCENDING"},OF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kF={and:"AND",or:"OR"},Mm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Am(t,e){return t.useProto3Json||Ul(e)?e:{value:e}}function xm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qi(t){return Ce(!!t),z.fromTimestamp(function(n){let r=er(n);return new Te(r.seconds,r.nanos)}(t))}function WC(t,e){return Rm(t,e).canonicalString()}function Rm(t,e){let n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KC(t){let e=ge.fromString(t);return Ce(JC(e)),e}function qg(t,e){let n=KC(e);if(n.get(1)!==t.databaseId.projectId)throw new S(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(ZC(n))}function QC(t,e){return WC(t.databaseId,e)}function FF(t){let e=KC(t);return e.length===4?ge.emptyPath():ZC(e)}function hC(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZC(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LF(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:j()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(Ce(l===void 0||typeof l=="string"),rt.fromBase64String(l||"")):(Ce(l===void 0||l instanceof Uint8Array),rt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?m.UNKNOWN:qC(u.code);return new S(l,u.message||"")}(o);n=new El(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=qg(t,r.document.name),s=qi(r.document.updateTime),o=r.document.createTime?qi(r.document.createTime):z.min(),a=new xn({mapValue:{fields:r.document.fields}}),c=$t.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Hi(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=qg(t,r.document),s=r.readTime?qi(r.readTime):z.min(),o=$t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Hi([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=qg(t,r.document),s=r.removedTargetIds||[];n=new Hi([],s,i,null)}else{if(!("filter"in e))return j();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Cm(i,s),a=r.targetId;n=new Il(a,o)}}return n}function VF(t,e){return{documents:[QC(t,e.path)]}}function jF(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QC(t,i);let s=function(u){if(u.length!==0)return XC(Ht.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Ui(h.field),direction:zF(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Am(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function BF(t){let e=FF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=YC(d);return h instanceof Ht&&AC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new Xi(zi(p.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Ul(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Yi(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new Yi(f,h)}(n.endAt)),mF(e,i,o,s,a,"F",c,u)}function UF(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=zi(n.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=zi(n.unaryFilter.field);return be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=zi(n.unaryFilter.field);return be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=zi(n.unaryFilter.field);return be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return j()}}(t):t.fieldFilter!==void 0?function(n){return be.create(zi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ht.create(n.compositeFilter.filters.map(r=>YC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return j()}}(n.compositeFilter.op))}(t):j()}function zF(t){return PF[t]}function $F(t){return OF[t]}function HF(t){return kF[t]}function Ui(t){return{fieldPath:t.canonicalString()}}function zi(t){return Tt.fromServerFormat(t.fieldPath)}function XC(t){return t instanceof be?function(n){if(n.op==="=="){if(Xb(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NAN"}};if(Yb(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xb(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NOT_NAN"}};if(Yb(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ui(n.field),op:$F(n.op),value:n.value}}}(t):t instanceof Ht?function(n){let r=n.getFilters().map(i=>XC(i));return r.length===1?r[0]:{compositeFilter:{op:HF(n.op),filters:r}}}(t):j()}function JC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var na=class t{constructor(e,n,r,i,s=z.min(),o=z.min(),a=rt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Nm=class{constructor(e){this.ct=e}};function qF(t){let e=BF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Im(e,e.limit,"L"):e}var bl=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(ye(e.integerValue));else if("doubleValue"in e){let r=ye(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Ko(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(tr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?SC(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):j()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),R.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};bl.bt=new bl;var Pm=class{constructor(){this._n=new Om}addToCollectionParentIndex(e,n){return this._n.add(n),g.resolve()}getCollectionParents(e,n){return g.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return g.resolve()}deleteFieldIndex(e,n){return g.resolve()}deleteAllFieldIndexes(e){return g.resolve()}createTargetIndexes(e,n){return g.resolve()}getDocumentsMatchingTarget(e,n){return g.resolve(null)}getIndexType(e,n){return g.resolve(0)}getFieldIndexes(e,n){return g.resolve([])}getNextCollectionGroupToUpdate(e){return g.resolve(null)}getMinOffset(e,n){return g.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return g.resolve(Br.min())}updateCollectionGroup(e,n,r){return g.resolve()}updateIndexEntries(e,n){return g.resolve()}},Om=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(ge.comparator)).toArray()}};var G4=new Uint8Array(0);var dn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(41943040,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);var ra=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var km=class{constructor(){this.changes=new nr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?g.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Fm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Lm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wo(r.mutation,i,Or.empty(),Te.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,J()).next(()=>r))}getLocalViewOfDocuments(e,n,r=J()){let i=kr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=zo();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=kr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,J()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=rr(),o=qo(),a=function(){return qo()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof ns)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Wo(l.mutation,u,l.mutation.getFieldMask(),Te.now())):o.set(u.key,Or.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Fm(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=qo(),i=new ve((o,a)=>o-a),s=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Or.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||J()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=LC();l.forEach(h=>{if(!s.has(h)){let f=$C(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return g.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return R.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):g.resolve(kr()),a=-1,c=s;return o.next(u=>g.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?g.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,J())).next(l=>({batchId:a,changes:IF(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=zo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=zo();return this.indexManager.getCollectionParents(e,s).next(a=>g.forEach(a,c=>{let u=function(d,h){return new zr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,$t.newInvalidDocument(l)))});let a=zo();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Wo(l.mutation,u,Or.empty(),Te.now()),$l(n,u)&&(a=a.insert(c,u))}),a})}};var Vm=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return g.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qi(i.createTime)}}(n)),g.resolve()}getNamedQuery(e,n){return g.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:qF(i.bundledQuery),readTime:qi(i.readTime)}}(n)),g.resolve()}};var jm=class{constructor(){this.overlays=new ve(R.comparator),this.hr=new Map}getOverlay(e,n){return g.resolve(this.overlays.get(n))}getOverlays(e,n){let r=kr();return g.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),g.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),g.resolve()}getOverlaysForCollection(e,n,r){let i=kr(),s=n.length+1,o=new R(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return g.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ve((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=kr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=kr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return g.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bm(n,r));let s=this.hr.get(n);s===void 0&&(s=J(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var ia=class{constructor(){this.Pr=new Ye(De.Ir),this.Tr=new Ye(De.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new De(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new De(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new R(new ge([])),r=new De(n,e),i=new De(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new R(new ge([])),r=new De(n,e),i=new De(n,e+1),s=J();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new De(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},De=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return R.comparator(e.key,n.key)||se(e.pr,n.pr)}static Er(e,n){return se(e.pr,n.pr)||R.comparator(e.key,n.key)}};var Bm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ye(De.Ir)}checkEmpty(e){return g.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Dm(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new De(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return g.resolve(o)}lookupMutationBatch(e,n){return g.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return g.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return g.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return g.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new De(n,0),i=new De(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),g.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(se);return n.forEach(i=>{let s=new De(i,0),o=new De(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),g.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;R.isDocumentKey(s)||(s=s.child(""));let o=new De(new R(s),0),a=new Ye(se);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),g.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return g.forEach(n.mutations,i=>{let s=new De(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new De(n,0),i=this.wr.firstAfterOrEqual(r);return g.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,g.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Um=class{constructor(e){this.vr=e,this.docs=function(){return new ve(R.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return g.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=rr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$t.newInvalidDocument(i))}),g.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=rr(),o=n.path,a=new R(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||aF(oF(l),r)<=0||(i.has(l.key)||$l(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return g.resolve(s)}getAllFromCollectionGroup(e,n,r,i){j()}Fr(e,n){return g.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zm(this)}getSize(e){return g.resolve(this.size)}},zm=class extends km{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),g.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var $m=class{constructor(e){this.persistence=e,this.Mr=new nr(n=>Oy(n),ky),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ia,this.targetCount=0,this.Lr=ra.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),g.resolve()}getLastRemoteSnapshotVersion(e){return g.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return g.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),g.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),g.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new ra(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,g.resolve()}updateTargetData(e,n){return this.qn(n),g.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,g.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),g.waitFor(s).next(()=>i)}getTargetCount(e){return g.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return g.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),g.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),g.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),g.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return g.resolve(r)}containsKey(e,n){return g.resolve(this.Nr.containsKey(n))}};var Hm=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new CC(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new $m(this),this.indexManager=new Pm,this.remoteDocumentCache=function(i){return new Um(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Nm(n),this.$r=new Vm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Bm(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){E("MemoryPersistence","Starting transaction:",e);let i=new qm(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return g.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},qm=class extends rm{constructor(e){super(),this.currentSequenceNumber=e}},Gm=class t{constructor(e){this.persistence=e,this.zr=new ia,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw j()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),g.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),g.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),g.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return g.forEach(this.Jr,r=>{let i=R.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,z.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return g.or([()=>g.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Wm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=J(),i=J();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Km=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Qm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return lD()?8:gl.v(go())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Km;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Uo()<=X.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",Bi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),g.resolve()):(Uo()<=X.DEBUG&&E("QueryEngine","Query:",Bi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Uo()<=X.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",Bi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fn(n))):g.resolve())}ji(e,n){if(nC(n))return g.resolve(null);let r=fn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Im(n,null,"F"),r=fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=J(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,Im(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return nC(n)||i.isEqual(z.min())?g.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?g.resolve(null):(Uo()<=X.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bi(n)),this.es(e,o,n,sF(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ye(kC(e));return n.forEach((i,s)=>{$l(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Uo()<=X.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",Bi(n)),this.zi.getDocumentsMatchingQuery(e,n,Br.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Zm=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ve(se),this.rs=new nr(s=>Oy(s),ky),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function GF(t,e,n,r){return new Zm(t,e,n,r)}function e0(t,e){return y(this,null,function*(){let n=ee(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=J();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function t0(t){let e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function WF(t,e){let n=ee(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(rt.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(C,D,x){return C.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=rr(),u=J();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(KF(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(z.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return g.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function KF(t,e,n){let r=J(),i=J();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=rr();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(z.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):E("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function QF(t,e){let n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,g.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new na(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Ym(t,e,n){return y(this,null,function*(){let r=ee(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!la(o))throw o;E("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function fC(t,e,n){let r=ee(t),i=z.min(),s=J();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=ee(c),h=d.rs.get(l);return h!==void 0?g.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,fn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:z.min(),n?s:J())).next(a=>(ZF(r,vF(e),a),{documents:a,hs:s})))}function ZF(t,e,n){let r=t.ss.get(e)||z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Cl=class{constructor(){this.activeTargetIds=bF()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Xm=class{constructor(){this.no=new Cl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Cl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Jm=class{io(e){}shutdown(){}};var Tl=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ll=null;function Gg(){return ll===null?ll=function(){return 268435456+Math.round(2147483648*Math.random())}():ll++,"0x"+ll.toString(16)}var YF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ey=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Ze="WebChannelConnection",ty=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Gg(),c=this.bo(n,r.toUriEncodedString());E("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(E("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Wi("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+os}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=YF[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Gg();return new Promise((o,a)=>{let c=new Hb;c.setWithCredentials(!0),c.listenOnce(zb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cl.NO_ERROR:let l=c.getResponseJson();E(Ze,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case cl.TIMEOUT:E(Ze,`RPC '${e}' ${s} timed out`),a(new S(m.DEADLINE_EXCEEDED,"Request time out"));break;case cl.HTTP_ERROR:let d=c.getStatus();if(E(Ze,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let p=function(D){let x=D.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(x)>=0?x:m.UNKNOWN}(f.status);a(new S(p,f.message))}else a(new S(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new S(m.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{E(Ze,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);E(Ze,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Gg(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Bb(),a=Ub(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");E(Ze,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,p=new ey({lo:D=>{f?E(Ze,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(h||(E(Ze,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),E(Ze,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},ho:()=>d.close()}),C=(D,x,ue)=>{D.listen(x,W=>{try{ue(W)}catch(K){setTimeout(()=>{throw K},0)}})};return C(d,Bo.EventType.OPEN,()=>{f||E(Ze,`RPC '${e}' stream ${i} transport opened.`)}),C(d,Bo.EventType.CLOSE,()=>{f||(f=!0,E(Ze,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),C(d,Bo.EventType.ERROR,D=>{f||(f=!0,Wi(Ze,`RPC '${e}' stream ${i} transport errored:`,D),p.Vo(new S(m.UNAVAILABLE,"The operation could not be completed")))}),C(d,Bo.EventType.MESSAGE,D=>{var x;if(!f){let ue=D.data[0];Ce(!!ue);let W=ue,K=W.error||((x=W[0])===null||x===void 0?void 0:x.error);if(K){E(Ze,`RPC '${e}' stream ${i} received error:`,K);let Se=K.status,ne=function(td){let ya=Ee[td];if(ya!==void 0)return qC(ya)}(Se),Xe=K.message;ne===void 0&&(ne=m.INTERNAL,Xe="Unknown error status: "+Se+" with message "+K.message),f=!0,p.Vo(new S(ne,Xe)),d.close()}else E(Ze,`RPC '${e}' stream ${i} received:`,ue),p.mo(ue)}}),C(a,$b.STAT_EVENT,D=>{D.stat===$g.PROXY?E(Ze,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===$g.NOPROXY&&E(Ze,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}};function Wg(){return typeof document<"u"?document:null}function Hl(t){return new Mm(t,!0)}var Sl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var ny=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Sl(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return y(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return y(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return y(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(pn(n.toString()),pn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new S(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>y(this,null,function*(){this.state=0,this.start()}))}__(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ry=class extends ny{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=LF(this.serializer,e),r=function(s){if(!("targetChange"in s))return z.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?z.min():o.readTime?qi(o.readTime):z.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=hC(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=_m(c)?{documents:VF(s,c)}:{query:jF(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GC(s,o.resumeToken);let u=Am(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(z.min())>0){a.readTime=xm(s,o.snapshotVersion.toTimestamp());let u=Am(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=UF(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=hC(this.serializer),n.removeTarget=e,this.t_(n)}};var iy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new S(m.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Rm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(m.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Rm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new S(m.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var sy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(pn(n),this.g_=!1):E("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var oy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>y(this,null,function*(){fa(this)&&(E("RemoteStore","Restarting streams for network reachability change."),yield function(c){return y(this,null,function*(){let u=ee(c);u.v_.add(4),yield ha(u),u.x_.set("Unknown"),u.v_.delete(4),yield ql(u)})}(this))}))}),this.x_=new sy(r,i)}};function ql(t){return y(this,null,function*(){if(fa(t))for(let e of t.F_)yield e(!0)})}function ha(t){return y(this,null,function*(){for(let e of t.F_)yield e(!1)})}function n0(t,e){let n=ee(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),By(n)?jy(n):as(n).Jo()&&Vy(n,e))}function Ly(t,e){let n=ee(t),r=as(n);n.C_.delete(e),r.Jo()&&r0(n,e),n.C_.size===0&&(r.Jo()?r.Xo():fa(n)&&n.x_.set("Unknown"))}function Vy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(z.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}as(t).c_(e)}function r0(t,e){t.O_.Oe(e),as(t).l_(e)}function jy(t){t.O_=new Sm({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),as(t).start(),t.x_.p_()}function By(t){return fa(t)&&!as(t).Ho()&&t.C_.size>0}function fa(t){return ee(t).v_.size===0}function i0(t){t.O_=void 0}function XF(t){return y(this,null,function*(){t.C_.forEach((e,n)=>{Vy(t,e)})})}function JF(t,e){return y(this,null,function*(){i0(t),By(t)?(t.x_.S_(e),jy(t)):t.x_.set("Unknown")})}function eL(t,e,n){return y(this,null,function*(){if(t.x_.set("Online"),e instanceof El&&e.state===2&&e.cause)try{yield function(i,s){return y(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){E("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield pC(t,r)}else if(e instanceof Hi?t.O_.$e(e):e instanceof Il?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(z.min()))try{let r=yield t0(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(rt.EMPTY_BYTE_STRING,l.snapshotVersion)),r0(s,c);let d=new na(l.target,c,u,l.sequenceNumber);Vy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){E("RemoteStore","Failed to raise snapshot:",r),yield pC(t,r)}})}function pC(t,e,n){return y(this,null,function*(){if(!la(e))throw e;t.v_.add(1),yield ha(t),t.x_.set("Offline"),n||(n=()=>t0(t.localStore)),t.asyncQueue.enqueueRetryable(()=>y(this,null,function*(){E("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield ql(t)}))})}function gC(t,e){return y(this,null,function*(){let n=ee(t);n.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");let r=fa(n);n.v_.add(3),yield ha(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield ql(n)})}function tL(t,e){return y(this,null,function*(){let n=ee(t);e?(n.v_.delete(2),yield ql(n)):e||(n.v_.add(2),yield ha(n),n.x_.set("Unknown"))})}function as(t){return t.N_||(t.N_=function(n,r,i){let s=ee(n);return s.R_(),new ry(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:XF.bind(null,t),To:JF.bind(null,t),u_:eL.bind(null,t)}),t.F_.push(e=>y(this,null,function*(){e?(t.N_.Zo(),By(t)?jy(t):t.x_.set("Unknown")):(yield t.N_.stop(),i0(t))}))),t.N_}var ay=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new S(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function s0(t,e){if(pn("AsyncQueue",`${e}: ${t}`),la(t))return new S(m.UNAVAILABLE,`${e}: ${t}`);throw t}var Ml=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=zo(),this.sortedSet=new ve(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Al=class{constructor(){this.B_=new ve(R.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):j():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},rs=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Ml.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var cy=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},uy=class{constructor(){this.queries=new nr(e=>OC(e),zl),this.onlineState="Unknown",this.W_=new Set}};function o0(t,e){return y(this,null,function*(){let n=ee(t),r=3,i=e.query,s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new cy,r=e.U_()?0:1);try{switch(r){case 0:s.q_=yield n.onListen(i,!0);break;case 1:s.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=s0(o,`Initialization of query '${Bi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&Uy(n)})}function a0(t,e){return y(this,null,function*(){let n=ee(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function nL(t,e){let n=ee(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&Uy(n)}function rL(t,e,n){let r=ee(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function Uy(t){t.W_.forEach(e=>{e.next()})}var ly,mC;(mC=ly||(ly={})).j_="default",mC.Cache="cache";var xl=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==ly.Cache}};var Rl=class{constructor(e){this.key=e}},Nl=class{constructor(e){this.key=e}},dy=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=J(),this.mutatedKeys=J(),this.ha=kC(e),this.Pa=new Ml(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new Al,i=n?n.Pa:this.Pa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=$l(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),C=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),D=!1;h&&f?h.data.isEqual(f.data)?p!==C&&(r.track({type:3,doc:f}),D=!0):this.da(h,f)||(r.track({type:2,doc:f}),D=!0,(c&&this.ha(f,c)>0||u&&this.ha(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),D=!0):h&&!f&&(r.track({type:1,doc:h}),D=!0,(c||u)&&(a=!0)),D&&(f?(o=o.add(f),s=C?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let o=e.Ea.k_();o.sort((l,d)=>function(f,p){let C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return C(f)-C(p)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,u=c!==this.ca;return this.ca=c,o.length!==0||u?{snapshot:new rs(this.query,e.Pa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Al,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=J(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new Nl(r))}),this.la.forEach(r=>{e.has(r)||n.push(new Rl(r))}),n}fa(e){this.ua=e.hs,this.la=J();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return rs.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},hy=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},fy=class{constructor(e){this.key=e,this.pa=!1}},py=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new nr(a=>OC(a),zl),this.Sa=new Map,this.ba=new Set,this.Da=new ve(R.comparator),this.Ca=new Map,this.va=new ia,this.Fa={},this.Ma=new Map,this.xa=ra.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function iL(t,e,n=!0){return y(this,null,function*(){let r=h0(t),i,s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=yield c0(r,e,n,!0),i})}function sL(t,e){return y(this,null,function*(){let n=h0(t);yield c0(n,e,!0,!1)})}function c0(t,e,n,r){return y(this,null,function*(){let i=yield QF(t.localStore,fn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield oL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&n0(t.remoteStore,i),a})}function oL(t,e,n,r,i){return y(this,null,function*(){t.Na=(d,h,f)=>function(C,D,x,ue){return y(this,null,function*(){let W=D.view.Ta(x);W.Xi&&(W=yield fC(C.localStore,D.query,!1).then(({documents:Xe})=>D.view.Ta(Xe,W)));let K=ue&&ue.targetChanges.get(D.targetId),Se=ue&&ue.targetMismatches.get(D.targetId)!=null,ne=D.view.applyChanges(W,C.isPrimaryClient,K,Se);return vC(C,D.targetId,ne.Va),ne.snapshot})}(t,d,h,f);let s=yield fC(t.localStore,e,!0),o=new dy(e,s.hs),a=o.Ta(s.documents),c=ta.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);vC(t,n,u.Va);let l=new hy(e,n,o);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot})}function aL(t,e,n){return y(this,null,function*(){let r=ee(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!zl(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ym(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ly(r.remoteStore,i.targetId),gy(r,i.targetId)}).catch(Ay))):(gy(r,i.targetId),yield Ym(r.localStore,i.targetId,!0))})}function cL(t,e){return y(this,null,function*(){let n=ee(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ly(n.remoteStore,r.targetId))})}function u0(t,e){return y(this,null,function*(){let n=ee(t);try{let r=yield WF(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Ca.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?Ce(o.pa):i.removedDocuments.size>0&&(Ce(o.pa),o.pa=!1))}),yield d0(n,r,e)}catch(r){yield Ay(r)}})}function yC(t,e,n){let r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((s,o)=>{let a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=ee(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(u=!0)}),u&&Uy(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uL(t,e,n){return y(this,null,function*(){let r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),s=i&&i.key;if(s){let o=new ve(R.comparator);o=o.insert(s,$t.newNoDocument(s,z.min()));let a=J().add(s),c=new wl(z.min(),new Map,new ve(se),o,a);yield u0(r,c),r.Da=r.Da.remove(s),r.Ca.delete(e),zy(r)}else yield Ym(r.localStore,e,!1).then(()=>gy(r,e,n)).catch(Ay)})}function gy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||l0(t,r)})}function l0(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(Ly(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),zy(t))}function vC(t,e,n){for(let r of n)r instanceof Rl?(t.va.addReference(r.key,e),lL(t,r)):r instanceof Nl?(E("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||l0(t,r.key)):j()}function lL(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(E("SyncEngine","New document in limbo: "+n),t.ba.add(r),zy(t))}function zy(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new R(ge.fromString(e)),r=t.xa.next();t.Ca.set(r,new fy(n)),t.Da=t.Da.insert(n,r),n0(t.remoteStore,new na(fn(Fy(n.path)),r,"TargetPurposeLimboResolution",CC._e))}}function d0(t,e,n){return y(this,null,function*(){let r=ee(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{o.push(r.Na(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Wm.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.ya.u_(i),yield function(c,u){return y(this,null,function*(){let l=ee(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>g.forEach(u,h=>g.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>g.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!la(d))throw d;E("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),p=f.snapshotVersion,C=f.withLastLimboFreeSnapshotVersion(p);l.ns=l.ns.insert(h,C)}}})}(r.localStore,s))})}function dL(t,e){return y(this,null,function*(){let n=ee(t);if(!n.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());let r=yield e0(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(c=>{c.reject(new S(m.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield d0(n,r.us)}})}function hL(t,e){let n=ee(t),r=n.Ca.get(e);if(r&&r.pa)return J().add(r.key);{let i=J(),s=n.Sa.get(e);if(!s)return i;for(let o of s){let a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function h0(t){let e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=u0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uL.bind(null,e),e.ya.u_=nL.bind(null,e.eventManager),e.ya.La=rL.bind(null,e.eventManager),e}var Pl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return y(this,null,function*(){this.serializer=Hl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GF(this.persistence,new Qm,e.initialUser,this.serializer)}createPersistence(e){return new Hm(Gm.Hr,this.serializer)}createSharedClientState(e){return new Xm}terminate(){return y(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var my=class{initialize(e,n){return y(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dL.bind(null,this.syncEngine),yield tL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new uy}()}createDatastore(e){let n=Hl(e.databaseInfo.databaseId),r=function(s){return new ty(s)}(e.databaseInfo);return function(s,o,a,c){return new iy(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new oy(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>yC(this.syncEngine,n,0),function(){return Tl.D()?new Tl:new Jm}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new py(i,s,o,a,c,u);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return y(this,null,function*(){var e;yield function(r){return y(this,null,function*(){let i=ee(r);E("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield ha(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Ol=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):pn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var yy=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pe.UNAUTHENTICATED,this.clientId=fl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>y(this,null,function*(){E("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(E("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=s0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Kg(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>y(this,null,function*(){r.isEqual(i)||(yield e0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function _C(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield pL(t);E("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>gC(e.remoteStore,i)),t._onlineComponents=e})}function fL(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function pL(t){return y(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Kg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!fL(n))throw n;Wi("Error using user provided cache. Falling back to memory cache: "+n),yield Kg(t,new Pl)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield Kg(t,new Pl);return t._offlineComponents})}function gL(t){return y(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield _C(t,t._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield _C(t,new my))),t._onlineComponents})}function f0(t){return y(this,null,function*(){let e=yield gL(t),n=e.eventManager;return n.onListen=iL.bind(null,e.syncEngine),n.onUnlisten=aL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cL.bind(null,e.syncEngine),n})}function mL(t,e,n={}){let r=new zt;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(s,o,a,c,u){let l=new Ol({next:h=>{o.enqueueAndForget(()=>a0(s,d));let f=h.docs.has(a);!f&&h.fromCache?u.reject(new S(m.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?u.reject(new S(m.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new xl(Fy(a.path),l,{includeMetadataChanges:!0,ta:!0});return o0(s,d)}(yield f0(t),t.asyncQueue,e,n,r)})),r.promise}function yL(t,e,n={}){let r=new zt;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(s,o,a,c,u){let l=new Ol({next:h=>{o.enqueueAndForget(()=>a0(s,d)),h.fromCache&&c.source==="server"?u.reject(new S(m.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new xl(a,l,{includeMetadataChanges:!0,ta:!0});return o0(s,d)}(yield f0(t),t.asyncQueue,e,n,r)})),r.promise}function p0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var wC=new Map;function g0(t,e,n){if(!n)throw new S(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vL(t,e,n,r){if(e===!0&&r===!0)throw new S(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IC(t){if(!R.isDocumentKey(t))throw new S(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EC(t){if(R.isDocumentKey(t))throw new S(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":j()}function sa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Gl(t);throw new S(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var kl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new S(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new S(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new S(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new S(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new S(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},is=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new S(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Qg;switch(r.type){case"firstParty":return new Jg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new S(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=wC.get(n);r&&(E("ComponentProvider","Removing Datastore"),wC.delete(n),r.terminate())}(this),Promise.resolve()}};function _L(t,e,n,r={}){var i;let s=(t=sa(t,is))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Pe.MOCK_USER;else{a=Tu(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new S(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Pe(u)}t._authCredentials=new Zg(new hl(a,c))}}var ss=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},gt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Jn=class t extends ss{constructor(e,n,r){super(e,n,Fy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new R(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Wl(t,e,...n){if(t=Lt(t),g0("collection","path",e),t instanceof is){let r=ge.fromString(e,...n);return EC(r),new Jn(t,null,r)}{if(!(t instanceof gt||t instanceof Jn))throw new S(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ge.fromString(e,...n));return EC(r),new Jn(t.firestore,null,r)}}function m0(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=fl.newId()),g0("doc","path",e),t instanceof is){let r=ge.fromString(e,...n);return IC(r),new gt(t,null,new R(r))}{if(!(t instanceof gt||t instanceof Jn))throw new S(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ge.fromString(e,...n));return IC(r),new gt(t.firestore,t instanceof Jn?t.converter:null,new R(r))}}var vy=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Sl(this,"async_queue_retry"),this.cu=()=>{let n=Wg();n&&E("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Wg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Wg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new zt;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return y(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!la(e))throw e;E("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw pn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=ay.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&j()}verifyOperationInProgress(){}Tu(){return y(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var oa=class extends is{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new vy}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_0(this),this._firestoreClient.terminate()}};function y0(t,e){let n=typeof t=="object"?t:Pu(),r=typeof t=="string"?t:e||"(default)",i=Ru(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Cu("firestore");s&&_L(i,...s)}return i}function v0(t){return t._firestoreClient||_0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _0(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new am(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,p0(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new yy(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var aa=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(rt.fromBase64String(e))}catch(n){throw new S(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Fl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new S(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ll=class{constructor(e){this._methodName=e}};var ca=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}};var wL=/^__.*__$/;function w0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}var _y=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Iy(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(w0(this.Vu)&&wL.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},wy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hl(e)}Cu(e,n,r,i=!1){return new _y({Vu:e,methodName:n,Du:r,path:Tt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function IL(t){let e=t._freezeSettings(),n=Hl(t._databaseId);return new wy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EL(t,e,n,r=!1){return $y(n,t.Cu(r?4:3,e))}function $y(t,e){if(I0(t=Lt(t)))return bL("Unsupported field value:",e,t),DL(t,e);if(t instanceof Ll)return function(r,i){if(!w0(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=$y(a,i.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Te.fromDate(r);return{timestampValue:xm(i.serializer,s)}}if(r instanceof Te){let s=new Te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xm(i.serializer,s)}}if(r instanceof ca)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof aa)return{bytesValue:GC(i.serializer,r._byteString)};if(r instanceof gt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:WC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Gl(r)}`)}(t,e)}function DL(t,e){let n={};return TC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(t,(r,i)=>{let s=$y(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function I0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Te||t instanceof ca||t instanceof aa||t instanceof gt||t instanceof Ll)}function bL(t,e,n){if(!I0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Gl(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}var CL=new RegExp("[~\\*/\\[\\]]");function TL(t,e,n){if(e.search(CL)>=0)throw Iy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fl(...e.split("."))._internalPath}catch{throw Iy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Iy(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new S(m.INVALID_ARGUMENT,a+t+c)}var Vl=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ey(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(E0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Ey=class extends Vl{data(){return super.data()}};function E0(t,e){return typeof e=="string"?TL(t,e):e instanceof Fl?e._internalPath:e._delegate._internalPath}function SL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new S(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ua=class{},Dy=class extends ua{};function Kl(t,e,...n){let r=[];e instanceof ua&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof Cy).length,a=s.filter(c=>c instanceof by).length;if(o>1||o>0&&a>0)throw new S(m.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var by=class t extends Dy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return D0(e._query,n),new ss(e.firestore,e.converter,wm(e._query,n))}_parse(e){let n=IL(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new S(m.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){bC(d,l);let f=[];for(let p of d)f.push(DC(c,s,p));h={arrayValue:{values:f}}}else h=DC(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||bC(d,l),h=EL(a,o,d,l==="in"||l==="not-in");return be.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var Cy=class t extends ua{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ht.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)D0(o,c),o=wm(o,c)}(e._query,n),new ss(e.firestore,e.converter,wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function DC(t,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new S(m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PC(e)&&n.indexOf("/")!==-1)throw new S(m.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ge.fromString(n));if(!R.isDocumentKey(r))throw new S(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zb(t,new R(r))}if(n instanceof gt)return Zb(t,n._key);throw new S(m.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gl(n)}.`)}function bC(t,e){if(!Array.isArray(t)||t.length===0)throw new S(m.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D0(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new S(m.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new S(m.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Ty=class{convertValue(e,n="none"){switch(Ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return da(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ca(ye(e.latitude),ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Ny(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qo(e));default:return null}}convertTimestamp(e){let n=er(e);return new Te(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ge.fromString(e);Ce(JC(r));let i=new vl(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(n)||pn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var Lr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},jl=class extends Vl{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Gi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(E0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Gi=class extends jl{data(e={}){return super.data(e)}},Sy=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gi(this._firestore,this._userDataWriter,r.key,r,new Lr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Gi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Gi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:ML(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function ML(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}function b0(t){t=sa(t,gt);let e=sa(t.firestore,oa);return mL(v0(e),t._key).then(n=>AL(e,t,n))}var Bl=class extends Ty{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}};function Ql(t){t=sa(t,ss);let e=sa(t.firestore,oa),n=v0(e),r=new Bl(e);return SL(t._query),yL(n,t._query).then(i=>new Sy(e,r,t,i))}function AL(t,e,n){let r=n.docs.get(e._key),i=new Bl(t);return new jl(t,i,e._key,r,new Lr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){os=i})(Nu),Sr(new Vt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new oa(new Yg(r.getProvider("auth-internal")),new tm(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new S(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),jt(Gb,"4.5.0",e),jt(Gb,"4.5.0","esm2017")})();var xL={apiKey:"AIzaSyBMDG_5lDDr2YeB9GwJGP_C3XO5hdcltbk",authDomain:"trippbarker-31e6e.firebaseapp.com",projectId:"trippbarker-31e6e",storageBucket:"trippbarker-31e6e.appspot.com",messagingSenderId:"648512597814",appId:"1:648512597814:web:25016cb4a291e39ee4cd97"},RL=Jp(xL),cs=y0(RL);var R0="firebasestorage.googleapis.com",N0="storageBucket",NL=2*60*1e3,PL=10*60*1e3;var Oe=class t extends Ft{constructor(e,n,r=0){super(Hy(e),`Firebase Storage: ${n} (${Hy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ze=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(ze||{});function Hy(t){return"storage/"+t}function P0(){let t="An unknown error occurred, please check the error payload for server response.";return new Oe(ze.UNKNOWN,t)}function OL(t){return new Oe(ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function kL(t){return new Oe(ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function FL(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Oe(ze.UNAUTHENTICATED,t)}function LL(){return new Oe(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function VL(t){return new Oe(ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function jL(){return new Oe(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BL(){return new Oe(ze.CANCELED,"User canceled the upload/download.")}function UL(t){return new Oe(ze.INVALID_URL,"Invalid URL '"+t+"'.")}function zL(t){return new Oe(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $L(){return new Oe(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+N0+"' property when initializing the app?")}function HL(){return new Oe(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qy(t){return new Oe(ze.INVALID_ARGUMENT,t)}function O0(){return new Oe(ze.APP_DELETED,"The Firebase app was deleted.")}function qL(t){return new Oe(ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pa(t){throw new Oe(ze.INTERNAL_ERROR,"Internal error: "+t)}var mt=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw zL(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(K){K.path_=decodeURIComponent(K.path)}let l="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${l}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},C=n===R0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",x=new RegExp(`^https?://${C}/${i}/${D}`,"i"),W=[{regex:a,indices:c,postModify:s},{regex:f,indices:p,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let K=0;K<W.length;K++){let Se=W[K],ne=Se.regex.exec(e);if(ne){let Xe=ne[Se.indices.bucket],yt=ne[Se.indices.path];yt||(yt=""),r=new t(Xe,yt),Se.postModify(r);break}}if(r==null)throw UL(e);return r}},Gy=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function GL(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...D){u||(u=!0,e.apply(null,D))}function d(D){i=setTimeout(()=>{i=null,t(f,c())},D)}function h(){s&&clearTimeout(s)}function f(D,...x){if(u){h();return}if(D){h(),l.call(null,D,...x);return}if(c()||o){h(),l.call(null,D,...x);return}r<64&&(r*=2);let W;a===1?(a=2,W=0):W=(r+Math.random())*1e3,d(W)}let p=!1;function C(D){p||(p=!0,h(),!u&&(i!==null?(D||(a=2),clearTimeout(i),d(0)):D||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function WL(t){t(!1)}function KL(t){return t!==void 0}function QL(t){return typeof t=="object"&&!Array.isArray(t)}function k0(t){return typeof t=="string"||t instanceof String}function Wy(t,e,n,r){if(r<e)throw qy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw qy(`Invalid value for '${t}'. Expected ${n} or less.`)}function Yy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function F0(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ls=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(ls||{});function ZL(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var Ky=class{constructor(e,n,r,i,s,o,a,c,u,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new us(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===ls.NO_ERROR,c=s.getStatus();if(!a||ZL(c,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===ls.ABORT;r(!1,new us(!1,null,l));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new us(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());KL(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=P0();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?O0():BL();o(c)}else{let c=jL();o(c)}};this.canceled_?n(!1,new us(!1,null,!0)):this.backoffId_=GL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},us=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function YL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function XL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tV(t,e,n,r,i,s,o=!0){let a=F0(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return JL(u,e),YL(u,n),XL(u,s),eV(u,r),new Ky(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function Xy(t){let e;try{e=JSON.parse(t)}catch{return null}return QL(e)?e:null}function nV(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rV(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function L0(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function iV(t,e){return e}var Ue=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||iV}},Zl=null;function sV(t){return!k0(t)||t.length<2?t:L0(t)}function oV(){if(Zl)return Zl;let t=[];t.push(new Ue("bucket")),t.push(new Ue("generation")),t.push(new Ue("metageneration")),t.push(new Ue("name","fullPath",!0));function e(s,o){return sV(o)}let n=new Ue("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new Ue("size");return i.xform=r,t.push(i),t.push(new Ue("timeCreated")),t.push(new Ue("updated")),t.push(new Ue("md5Hash",null,!0)),t.push(new Ue("cacheControl",null,!0)),t.push(new Ue("contentDisposition",null,!0)),t.push(new Ue("contentEncoding",null,!0)),t.push(new Ue("contentLanguage",null,!0)),t.push(new Ue("contentType",null,!0)),t.push(new Ue("metadata","customMetadata",!0)),Zl=t,Zl}function aV(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new mt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function cV(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return aV(r,t),r}function uV(t,e,n){let r=Xy(e);return r===null?null:cV(t,r,n)}function lV(t,e,n,r){let i=Xy(e);if(i===null||!k0(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let l=t.bucket,d=t.fullPath,h="/b/"+o(l)+"/o/"+o(d),f=Yy(h,n,r),p=F0({alt:"media",token:u});return f+p})[0]}var C0="prefixes",T0="items";function dV(t,e,n){let r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[C0])for(let i of n[C0]){let s=i.replace(/\/$/,""),o=t._makeStorageReference(new mt(e,s));r.prefixes.push(o)}if(n[T0])for(let i of n[T0]){let s=t._makeStorageReference(new mt(e,i.name));r.items.push(s)}return r}function hV(t,e,n){let r=Xy(n);return r===null?null:dV(t,e,r)}var Yl=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function V0(t){if(!t)throw P0()}function fV(t,e){function n(r,i){let s=hV(t,e,i);return V0(s!==null),s}return n}function pV(t,e){function n(r,i){let s=uV(t,i,e);return V0(s!==null),lV(s,i,t.host,t._protocol)}return n}function j0(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=LL():i=FL():n.getStatus()===402?i=kL(t.bucket):n.getStatus()===403?i=VL(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function gV(t){let e=j0(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=OL(t.path)),s.serverResponse=i.serverResponse,s}return n}function mV(t,e,n,r,i){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);let o=e.bucketOnlyServerUrl(),a=Yy(o,t.host,t._protocol),c="GET",u=t.maxOperationRetryTime,l=new Yl(a,c,fV(t,e.bucket),u);return l.urlParams=s,l.errorHandler=j0(e),l}function yV(t,e,n){let r=e.fullServerUrl(),i=Yy(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Yl(i,s,pV(t,n),o);return a.errorHandler=gV(e),a}var sq=256*1024;var S0=null,Qy=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ls.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ls.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ls.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw pa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Zy=class extends Qy{initXhr(){this.xhr_.responseType="text"}};function B0(){return S0?S0():new Zy}var ds=class t{constructor(e,n){this._service=e,n instanceof mt?this._location=n:this._location=mt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new mt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L0(this._location.path)}get storage(){return this._service}get parent(){let e=nV(this._location.path);if(e===null)return null;let n=new mt(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw qL(e)}};function vV(t){let e={prefixes:[],items:[]};return U0(t,e).then(()=>e)}function U0(t,e,n){return y(this,null,function*(){let i=yield _V(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield U0(t,e,i.nextPageToken))})}function _V(t,e){e!=null&&typeof e.maxResults=="number"&&Wy("options.maxResults",1,1e3,e.maxResults);let n=e||{},r=mV(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,B0)}function wV(t){t._throwIfRoot("getDownloadURL");let e=yV(t.storage,t._location,oV());return t.storage.makeRequestWithTokens(e,B0).then(n=>{if(n===null)throw HL();return n})}function IV(t,e){let n=rV(t._location.path,e),r=new mt(t._location.bucket,n);return new ds(t.storage,r)}function EV(t){return/^[A-Za-z]+:\/\//.test(t)}function DV(t,e){return new ds(t,e)}function z0(t,e){if(t instanceof ga){let n=t;if(n._bucket==null)throw $L();let r=new ds(n,n._bucket);return e!=null?z0(r,e):r}else return e!==void 0?IV(t,e):t}function bV(t,e){if(e&&EV(e)){if(t instanceof ga)return DV(t,e);throw qy("To use ref(service, url), the first argument must be a Storage instance.")}else return z0(t,e)}function M0(t,e){let n=e?.[N0];return n==null?null:mt.makeFromBucketSpec(n,t)}function CV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Tu(i,t.app.options.projectId))}var ga=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=R0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NL,this._maxUploadRetryTime=PL,this._requests=new Set,i!=null?this._bucket=mt.makeFromBucketSpec(i,this._host):this._bucket=M0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mt.makeFromBucketSpec(this._url,e):this._bucket=M0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Wy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Wy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return y(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return y(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ds(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Gy(O0());{let o=tV(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return y(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},A0="@firebase/storage",x0="0.12.2";var $0="storage";function H0(t){return t=Lt(t),vV(t)}function Xl(t){return t=Lt(t),wV(t)}function ma(t,e){return t=Lt(t),bV(t,e)}function Jl(t=Pu(),e){t=Lt(t);let r=Ru(t,$0).getImmediate({identifier:e}),i=Cu("storage");return i&&TV(r,...i),r}function TV(t,e,n,r={}){CV(t,e,n,r)}function SV(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ga(n,r,i,e,Nu)}function MV(){Sr(new Vt($0,SV,"PUBLIC").setMultipleInstances(!0)),jt(A0,x0,""),jt(A0,x0,"esm2017")}MV();function AV(t,e){if(t&1&&(_(0,"div",2)(1,"a",3),F(2,"img",4),_(3,"h2"),b(4),v()()()),t&2){let n=e.$implicit;he(),Fs("href",n.link,Os),he(),Hn("id","",n.ref,"IMG"),he(2),Cn(n.name)}}var ed=(()=>{let e=class e{ngOnInit(){this.getProjects()}constructor(r,i){this.projectService=r,this.messageService=i,this.projects=new Array}getProjects(){return y(this,null,function*(){(yield Ql(Kl(Wl(cs,"project")))).forEach(i=>{let s={id:i.id,ref:i.data().ref,images:i.data().images,technologies:i.data().technologies,name:i.data().name,link:i.data().link,description:i.data().description};this.projects.push(s)}),this.projects.forEach(i=>{this.getProjectImage(i.ref)})})}getProjectImage(r){return y(this,null,function*(){let i=Jl(),s=ma(i,"project/"+r+"/main.png");Xl(s).then(o=>{let a=document.getElementById(r+"IMG");a.src=o})})}};e.\u0275fac=function(i){return new(i||e)(B(Ni),B(ho))},e.\u0275cmp=Ve({type:e,selectors:[["app-projects"]],standalone:!0,features:[_r],decls:2,vars:1,consts:[["id","projects"],["class","projectCont",4,"ngFor","ngForOf"],[1,"projectCont"],["target","_blank",1,"project",3,"href"],["src","","alt","",1,"projectImg",3,"id"]],template:function(i,s){i&1&&(_(0,"div",0),Dn(1,AV,5,4,"div",1),v()),i&2&&(he(),bn("ngForOf",s.projects))},dependencies:[_i,Ii],styles:["*[_ngcontent-%COMP%]{font-family:Azeret Mono,monospace}body[_ngcontent-%COMP%]{background-color:#e0fbfc}#projects[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;width:100%;max-width:500rem}.projectCont[_ngcontent-%COMP%]{margin:1rem;background-color:green;width:50%;max-width:35rem;height:25rem;display:flex;flex-direction:column;justify-content:center;align-items:center}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#293241;text-decoration:none}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ee6c4d}.project[_ngcontent-%COMP%]{background-color:#98c1d9;height:100%;width:100%;min-width:25rem;max-width:35rem;display:flex;flex-direction:column;padding:1rem;border-radius:1rem}.projectImg[_ngcontent-%COMP%]{background-color:#293241;height:90%;border-radius:.75rem .75rem 0 0}"]});let t=e;return t})();var q0=(()=>{let e=class e{constructor(r){this.projectService=r,this.projects=[]}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(B(Ni))},e.\u0275cmp=Ve({type:e,selectors:[["app-dashboard"]],decls:9,vars:0,consts:[["routerLink","/dashboard"],["routerLink","/projects"],["routerLink","/bike"]],template:function(i,s){i&1&&(_(0,"nav")(1,"a",0),b(2,"ABOUT ME"),v(),_(3,"a",1),b(4,"PROJECTS"),v(),_(5,"a",2),b(6,"BIKE"),v(),_(7,"a"),b(8,"COOKING"),v()())},dependencies:[on],styles:["nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:0}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:.5rem 0rem .5rem 2rem;text-decoration:none;font-family:Azeret Mono,monospace;font-weight:bolder;font-size:2rem;color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff4500;margin-left:3rem;transition:.1s}"]});let t=e;return t})();function xV(t,e){if(t&1&&(_(0,"div",4)(1,"h2"),b(2),v(),_(3,"h3"),b(4),v()()),t&2){let n=e.$implicit;Hn("routerLink","/brag/",n.year,""),he(2),Jt("BRAG ",n.year,""),he(2),pf("",n.days[0].startLocation," to ",n.days[7].endLocation," (",n.distance," miles, ",n.elevation," feet climbed)")}}var G0=(()=>{let e=class e{constructor(){this.brags=new Array}ngOnInit(){this.getBrags()}getBrags(){return y(this,null,function*(){let r=new Intl.NumberFormat("en-US");(yield Ql(Kl(Wl(cs,"brag")))).forEach(s=>{let o=new Array,a=0,c=0;for(let l=0;l<8;l++){let h={date:new Te(s.data()["day"+l].date.seconds,s.data()["day"+l].date.nanoseconds).toDate(),day:s.data()["day"+l].day,number:s.data()["day"+l].number,distance:s.data()["day"+l].distance,elevation:s.data()["day"+l].elevation,movingTime:s.data()["day"+l].movingTime,endLocation:s.data()["day"+l].endLocation,startLocation:s.data()["day"+l].startLocation,stravaLink:s.data()["day"+l].stravaLink};a+=s.data()["day"+l].distance,c+=s.data()["day"+l].elevation,console.log(c),o.push(h)}let u={year:s.data().year,days:o,distance:r.format(Math.round((a+Number.EPSILON)*100)/100),elevation:r.format(Math.round((c+Number.EPSILON)*100)/100)};this.brags.push(u)}),console.log(this.brags)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ve({type:e,selectors:[["app-bike"]],decls:12,vars:1,consts:[["id","brags",1,"bikeContainer"],["routerLink","/checklist",1,"bragContainer"],["class","bragContainer",3,"routerLink",4,"ngFor","ngForOf"],["id","gear",1,"gearContainer"],[1,"bragContainer",3,"routerLink"]],template:function(i,s){i&1&&(_(0,"div",0)(1,"h1"),b(2,"Bike Ride Across Georgia"),v(),_(3,"div",1)(4,"h2"),b(5,"BRAG CHECKLIST"),v(),_(6,"h3"),b(7,"A checklist for BRAG including everything I need for showering, camping, and riding."),v()(),Dn(8,xV,5,7,"div",2),v(),_(9,"div",3)(10,"h1"),b(11,"GEAR"),v()()),i&2&&(he(8),bn("ngForOf",s.brags))},dependencies:[_i,on],styles:[".bikeContainer[_ngcontent-%COMP%], .bragContainer[_ngcontent-%COMP%], .gearContainer[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 2rem}.bragContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#00008b}.bragContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:1rem}.bragContainer[_ngcontent-%COMP%]:hover{cursor:pointer;margin-left:3rem;transition:.1s}.bragContainer[_ngcontent-%COMP%]:hover   h2[_ngcontent-%COMP%]{color:#ff4500}"]});let t=e;return t})();function RV(t,e){if(t&1&&(_(0,"div",3)(1,"h2",4),b(2),_(3,"i"),b(4),v()(),_(5,"div",5)(6,"div",6)(7,"p"),b(8,"distance"),v(),_(9,"p")(10,"b",7),b(11),v(),b(12," mi"),v()(),_(13,"div",8)(14,"p"),b(15,"elevation gain"),v(),_(16,"p")(17,"b",7),b(18),v(),b(19," ft"),v()(),_(20,"div",9)(21,"p"),b(22,"moving time"),v(),_(23,"p")(24,"b",7),b(25),v()()()(),_(26,"p"),b(27,"see the ride "),_(28,"a",10),b(29,"here"),v()(),F(30,"div",11),v()),t&2){let n=e.$implicit;he(2),Jt("day ",n.day," "),he(2),ff("",n.startLocation," to ",n.endLocation,""),he(7),Cn(n.distance),he(7),Cn(n.elevation),he(7),Cn(n.movingTime),he(3),Fs("href",n.stravaLink,Os),he(2),Hn("id","day",n.number,"images")}}var W0=(()=>{let e=class e{constructor(r,i){this.route=r,this.router=i,this.brag={year:0,days:new Array,distance:"",elevation:""}}ngOnInit(){return y(this,null,function*(){yield this.getBrag(),this.brag.days.forEach(r=>{console.log("hello"),console.log(this.brag.year.toString()),this.getImages(this.brag.year.toString(),r.number)})})}getBrag(){return y(this,null,function*(){let r=this.route.snapshot.paramMap.get("year"),i=yield b0(m0(cs,"brag","brag"+r)),s=new Intl.NumberFormat("en-US"),o=new Array,a=0,c=0;for(let l=0;l<8;l++){let h={date:new Te(i.get("day"+l).date.seconds,i.get("day"+l).date.nanoseconds).toDate(),day:i.get("day"+l).day,number:i.get("day"+l).number,distance:i.get("day"+l).distance,movingTime:i.get("day"+l).movingTime,elevation:i.get("day"+l).elevation,endLocation:i.get("day"+l).endLocation,startLocation:i.get("day"+l).startLocation,stravaLink:i.get("day"+l).stravaLink};a+=i.get("day"+l).distance,c+=i.get("day"+l).elevation,o.push(h)}let u={year:i.get("year"),days:o,distance:s.format(Math.round((a+Number.EPSILON)*100)/100),elevation:s.format(Math.round((c+Number.EPSILON)*100)/100)};this.brag=u})}getImages(r,i){return y(this,null,function*(){let s=Jl(),o=ma(s,"brag/"+r+"/day"+i+"/thumbnails");H0(o).then(a=>{a.items.forEach(c=>{Xl(ma(s,c.fullPath)).then(u=>{let l=document.createElement("img");l.id=c.name,l.src=u,l.setAttribute("height","100%"),l.style.setProperty("margin-right",".5rem"),l.style.setProperty("border-radius",".25rem"),document.getElementById("day"+i+"images")?.appendChild(l)})})})})}};e.\u0275fac=function(i){return new(i||e)(B(kt),B(sn))},e.\u0275cmp=Ve({type:e,selectors:[["app-brag"]],decls:6,vars:2,consts:[["routerLink","/bike","id","back"],["id","bragContainer"],["class","dayContainer",4,"ngFor","ngForOf"],[1,"dayContainer"],[1,"header"],[1,"stats"],[1,"distance"],[1,"stat"],[1,"elevation"],[1,"time"],["target","_blank",3,"href"],[1,"bragImages",3,"id"]],template:function(i,s){i&1&&(_(0,"a",0),b(1,"[BACK]"),v(),_(2,"div",1)(3,"h1"),b(4),v(),Dn(5,RV,31,9,"div",2),v()),i&2&&(he(4),Jt("BRAG ",s.brag.year,""),he(),bn("ngForOf",s.brag.days))},dependencies:[_i,on],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ee6c4d}#bragContainer[_ngcontent-%COMP%], .dayContainer[_ngcontent-%COMP%], #back[_ngcontent-%COMP%]{margin-left:1rem}.dayContainer[_ngcontent-%COMP%]{padding:1rem;margin:1rem;border-radius:.5rem;background-color:#eff5fe;box-shadow:0 25px 50px gray}.header[_ngcontent-%COMP%]{color:#293241}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:bolder;color:#293241}.stats[_ngcontent-%COMP%]{display:flex}.stat[_ngcontent-%COMP%]{font-size:2rem;color:#293241}.distance[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{font-size:1rem}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-top:.5rem;padding-right:1rem;padding-bottom:.5rem}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]{border-right:1px solid #EE6C4D}.elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-left:1rem}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ee6c4d}.bragImages[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:20rem;padding-bottom:1rem;overflow-x:scroll;overflow-y:hidden}google-map[_ngcontent-%COMP%]{margin-right:1rem}img[_ngcontent-%COMP%]{margin:1rem}@media only screen and (max-width: 768px){.stats[_ngcontent-%COMP%]{flex-direction:column}.elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-left:0}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]{border-right:none}}[_ngcontent-%COMP%]::-webkit-scrollbar{height:12px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ee6c4d;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#b64225;cursor:grab}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{cursor:grabbing}"]});let t=e;return t})();var K0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ve({type:e,selectors:[["app-checklist"]],decls:133,vars:0,consts:[["routerLink","/bike","id","back"],["type","checkbox","name","camping","id","tent"],["for","tent"],["type","checkbox","name","camping","id","groundcloth"],["for","groundcloth"],["type","checkbox","name","camping","id","stakes"],["for","stakes"],["type","checkbox","name","camping","id","mallet"],["for","mallet"],["type","checkbox","name","camping","id","chair"],["for","chair"],["type","checkbox","name","camping","id","bugrepellent"],["for","bugrepellent"],["type","checkbox","name","camping","id","sunscreen"],["for","sunscreen"],["type","checkbox","name","camping","id","batterybank"],["for","batterybank"],["type","checkbox","name","camping","id","clothes"],["for","clothes"],["type","checkbox","name","camping","id","shoes"],["for","shoes"],["type","checkbox","name","camping","id","clothingline"],["for","clothingline"],["type","checkbox","name","sleeping","id","sleepingpad"],["for","sleepingpad"],["type","checkbox","name","sleeping","id","sleepingbag"],["for","sleepingbag"],["type","checkbox","name","sleeping","id","pillow"],["for","pillow"],["type","checkbox","name","sleeping","id","airpump"],["for","airpump"],["type","checkbox","name","sleeping","id","eyemask"],["for","eyemask"],["type","checkbox","name","sleeping","id","earplugs"],["for","earplugs"],["type","checkbox","name","sleeping","id","fans"],["for","fans"],["type","checkbox","name","shower","id","soap"],["for","soap"],["type","checkbox","name","shower","id","shampoo"],["for","shampoo"],["type","checkbox","name","shower","id","towel"],["for","towel"],["type","checkbox","name","shower","id","toothpaste"],["for","toothpaste"],["type","checkbox","name","shower","id","toothbrush"],["for","toothbrush"],["type","checkbox","name","shower","id","comb"],["for","comb"],["type","checkbox","name","shower","id","chamoiscream"],["for","chamoiscream"],["type","checkbox","name","bike","id","bike"],["for","bike"],["type","checkbox","name","bike","id","bottles"],["for","bottles"],["type","checkbox","name","bike","id","helmet"],["for","helmet"],["for","glasses"],["type","checkbox","name","bike","id","cyclingshoes"],["for","cyclingshoes"]],template:function(i,s){i&1&&(_(0,"a",0),b(1,"[BACK]"),v(),_(2,"div")(3,"h2"),b(4,"BRAG Checklist"),v(),_(5,"h3"),b(6,"Camping"),v(),F(7,"input",1),_(8,"label",2),b(9,"tent"),v(),F(10,"br")(11,"input",3),_(12,"label",4),b(13,"ground cloth"),v(),F(14,"br")(15,"input",5),_(16,"label",6),b(17,"stakes"),v(),F(18,"br")(19,"input",7),_(20,"label",8),b(21,"mallet"),v(),F(22,"br")(23,"input",9),_(24,"label",10),b(25,"camping chair"),v(),F(26,"br")(27,"input",11),_(28,"label",12),b(29,"bug repellent"),v(),F(30,"br")(31,"input",13),_(32,"label",14),b(33,"sun sunscreen"),v(),F(34,"br")(35,"input",15),_(36,"label",16),b(37,"battery bank"),v(),F(38,"br")(39,"input",17),_(40,"label",18),b(41,"clothes"),v(),F(42,"br")(43,"input",19),_(44,"label",20),b(45,"shoes"),v(),F(46,"br")(47,"input",21),_(48,"label",22),b(49,"clothing line"),v(),F(50,"br"),_(51,"h3"),b(52,"Sleeping"),v(),F(53,"input",23),_(54,"label",24),b(55,"sleeping pad"),v(),F(56,"br")(57,"input",25),_(58,"label",26),b(59,"sleeping bag"),v(),F(60,"br")(61,"input",27),_(62,"label",28),b(63,"pillow"),v(),F(64,"br")(65,"input",29),_(66,"label",30),b(67,"air pump"),v(),F(68,"br")(69,"input",31),_(70,"label",32),b(71,"eyemask"),v(),F(72,"br")(73,"input",33),_(74,"label",34),b(75,"earplugs"),v(),F(76,"br")(77,"input",35),_(78,"label",36),b(79,"fans"),v(),F(80,"br"),_(81,"h3"),b(82,"Shower Bag"),v(),F(83,"input",37),_(84,"label",38),b(85,"soap"),v(),F(86,"br")(87,"input",39),_(88,"label",40),b(89,"shampoo"),v(),F(90,"br")(91,"input",41),_(92,"label",42),b(93,"towel"),v(),F(94,"br")(95,"input",43),_(96,"label",44),b(97,"toothpaste"),v(),F(98,"br")(99,"input",45),_(100,"label",46),b(101,"toothbrush"),v(),F(102,"br")(103,"input",47),_(104,"label",48),b(105,"comb"),v(),F(106,"br")(107,"input",49),_(108,"label",50),b(109,"chamois cream"),v(),F(110,"br"),_(111,"h3"),b(112,"Bike"),v(),F(113,"input",51),_(114,"label",52),b(115,"bike"),v(),F(116,"br")(117,"input",53),_(118,"label",54),b(119,"water bottles"),v(),F(120,"br")(121,"input",55),_(122,"label",56),b(123,"helmet"),v(),F(124,"br")(125,"input",55),_(126,"label",57),b(127,"glasses"),v(),F(128,"br")(129,"input",58),_(130,"label",59),b(131,"cycling shoes"),v(),F(132,"br"),v())},dependencies:[on],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ff4500}div[_ngcontent-%COMP%]{margin-left:1rem}h2[_ngcontent-%COMP%]{font-size:2rem}h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-left:2rem}input[_ngcontent-%COMP%]{margin-left:3rem}"]});let t=e;return t})();var NV=[{path:"projects",component:ed},{path:"dashboard",component:q0},{path:"project/:ref",component:oD},{path:"bike",component:G0},{path:"brag/:year",component:W0},{path:"checklist",component:K0},{path:"",redirectTo:"/dashboard",pathMatch:"full"}],Q0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({imports:[Pp.forRoot(NV),Pp]});let t=e;return t})();var Z0=(()=>{let e=class e{constructor(){this.title="Tripp Barker"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ve({type:e,selectors:[["app-root"]],decls:7,vars:1,consts:[["rel","preconnect","href",Oc`https://fonts.googleapis.com`],["rel","preconnect","href",Oc`https://fonts.gstatic.com`,"crossorigin",""],["href",Oc`https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100..900;1,100..900&display=swap`,"rel","stylesheet"],["routerLink","/dashboard","id","title"]],template:function(i,s){i&1&&(F(0,"link",0)(1,"link",1)(2,"link",2),_(3,"a",3)(4,"h1"),b(5),v()(),F(6,"router-outlet")),i&2&&(he(5),Cn(s.title))},dependencies:[Tp,on]});let t=e;return t})();var Y0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})();var X0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e,bootstrap:[Z0]}),e.\u0275inj=qe({imports:[ZI,Q0,Ii,ed,Y0]});let t=e;return t})();QI().bootstrapModule(X0).catch(t=>console.error(t));
