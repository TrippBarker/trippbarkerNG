var ub=Object.defineProperty,cb=Object.defineProperties;var lb=Object.getOwnPropertyDescriptors;var by=Object.getOwnPropertySymbols;var db=Object.prototype.hasOwnProperty,hb=Object.prototype.propertyIsEnumerable;var Ty=(t,e,n)=>e in t?ub(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})db.call(e,n)&&Ty(t,n,e[n]);if(by)for(var n of by(e))hb.call(e,n)&&Ty(t,n,e[n]);return t},re=(t,e)=>cb(t,lb(e));var y=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(c){i(c)}},s=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var Sy=null;var Ll=1,jl=Symbol("SIGNAL");function Q(t){let e=Sy;return Sy=t,e}var Ay={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fb(t){if(!($l(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ll)){if(!t.producerMustRecompute(t)&&!Bl(t)){t.dirty=!1,t.lastCleanEpoch=Ll;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ll}}function My(t){return t&&(t.nextProducerIndex=0),Q(t)}function xy(t,e){if(Q(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($l(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ul(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Bl(t){aa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(fb(n),r!==n.version))return!0}return!1}function Ry(t){if(aa(t),$l(t))for(let e=0;e<t.producerNode.length;e++)Ul(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ul(t,e){if(pb(t),aa(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Ul(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];aa(i),i.producerIndexOfThis[r]=e}}function $l(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function aa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function pb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function gb(){throw new Error}var mb=gb;function Ny(t){mb=t}function O(t){return typeof t=="function"}function Or(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ua=Or(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function to(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(o){e=o instanceof ua?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Py(o)}catch(s){e=e??[],s instanceof ua?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ua(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Py(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&to(n,e)}remove(e){let{_finalizers:n}=this;n&&to(n,e),e instanceof t&&e._removeParent(this)}};Te.EMPTY=(()=>{let t=new Te;return t.closed=!0,t})();var Hl=Te.EMPTY;function ca(t){return t instanceof Te||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function Py(t){O(t)?t():t.unsubscribe()}var Et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fr={setTimeout(t,e,...n){let{delegate:r}=Fr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function la(t){Fr.setTimeout(()=>{let{onUnhandledError:e}=Et;if(e)e(t);else throw t})}function no(){}var Oy=ql("C",void 0,void 0);function Fy(t){return ql("E",void 0,t)}function ky(t){return ql("N",t,void 0)}function ql(t,e,n){return{kind:t,value:e,error:n}}var Yn=null;function kr(t){if(Et.useDeprecatedSynchronousErrorHandling){let e=!Yn;if(e&&(Yn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Yn;if(Yn=null,n)throw r}}else t()}function Vy(t){Et.useDeprecatedSynchronousErrorHandling&&Yn&&(Yn.errorThrown=!0,Yn.error=t)}var Zn=class extends Te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ca(e)&&e.add(this)):this.destination=_b}static create(e,n,r){return new Vr(e,n,r)}next(e){this.isStopped?Gl(ky(e),this):this._next(e)}error(e){this.isStopped?Gl(Fy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gl(Oy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yb=Function.prototype.bind;function zl(t,e){return yb.call(t,e)}var Wl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){da(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){da(r)}else da(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){da(n)}}},Vr=class extends Zn{constructor(e,n,r){super();let i;if(O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Et.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zl(e.next,o),error:e.error&&zl(e.error,o),complete:e.complete&&zl(e.complete,o)}):i=e}this.destination=new Wl(i)}};function da(t){Et.useDeprecatedSynchronousErrorHandling?Vy(t):la(t)}function vb(t){throw t}function Gl(t,e){let{onStoppedNotification:n}=Et;n&&Fr.setTimeout(()=>n(t,e))}var _b={closed:!0,next:no,error:vb,complete:no};var Lr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function it(t){return t}function Kl(...t){return Ql(t)}function Ql(t){return t.length===0?it:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Eb(n)?n:new Vr(n,r,i);return kr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ly(r),new r((i,o)=>{let s=new Vr({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Lr](){return this}pipe(...n){return Ql(n)(this)}toPromise(n){return n=Ly(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Ly(t){var e;return(e=t??Et.Promise)!==null&&e!==void 0?e:Promise}function wb(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}function Eb(t){return t&&t instanceof Zn||wb(t)&&ca(t)}function Yl(t){return O(t?.lift)}function q(t){return e=>{if(Yl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function U(t,e,n,r,i){return new Zl(t,e,n,r,i)}var Zl=class extends Zn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function jr(){return q((t,e)=>{let n=null;t._refCount++;let r=U(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Br=class extends Z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Te;let n=this.getSubject();e.add(this.source.subscribe(U(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Te.EMPTY)}return e}refCount(){return jr()(this)}};var jy=Or(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=(()=>{class t extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ha(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jy}next(n){kr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){kr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){kr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Hl:(this.currentObservers=null,o.push(n),new Te(()=>{this.currentObservers=null,to(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Z;return n.source=this,n}}return t.create=(e,n)=>new ha(e,n),t})(),ha=class extends Ve{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Hl}};var Ne=class extends Ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ot=new Z(t=>t.complete());function By(t){return t&&O(t.schedule)}function Uy(t){return t[t.length-1]}function fa(t){return O(Uy(t))?t.pop():void 0}function En(t){return By(Uy(t))?t.pop():void 0}function Hy(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function $y(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jn(t){return this instanceof Jn?(this.v=t,this):new Jn(t)}function qy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(m,D){o.push([h,f,m,D])>1||a(h,f)})})}function a(h,f){try{u(r[h](f))}catch(m){d(o[0][3],m)}}function u(h){h.value instanceof Jn?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function zy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $y=="function"?$y(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}}var pa=t=>t&&typeof t.length=="number"&&typeof t!="function";function ga(t){return O(t?.then)}function ma(t){return O(t[Lr])}function ya(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function va(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ib(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _a=Ib();function wa(t){return O(t?.[_a])}function Ea(t){return qy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Jn(n.read());if(i)return yield Jn(void 0);yield yield Jn(r)}}finally{n.releaseLock()}})}function Ia(t){return O(t?.getReader)}function ve(t){if(t instanceof Z)return t;if(t!=null){if(ma(t))return Db(t);if(pa(t))return Cb(t);if(ga(t))return bb(t);if(ya(t))return Gy(t);if(wa(t))return Tb(t);if(Ia(t))return Sb(t)}throw va(t)}function Db(t){return new Z(e=>{let n=t[Lr]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Cb(t){return new Z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function bb(t){return new Z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,la)})}function Tb(t){return new Z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Gy(t){return new Z(e=>{Ab(t,e).catch(n=>e.error(n))})}function Sb(t){return Gy(Ea(t))}function Ab(t,e){var n,r,i,o;return Hy(this,void 0,void 0,function*(){try{for(n=zy(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Qe(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Da(t,e=0){return q((n,r)=>{n.subscribe(U(r,i=>Qe(r,t,()=>r.next(i),e),()=>Qe(r,t,()=>r.complete(),e),i=>Qe(r,t,()=>r.error(i),e)))})}function Ca(t,e=0){return q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Wy(t,e){return ve(t).pipe(Ca(e),Da(e))}function Ky(t,e){return ve(t).pipe(Ca(e),Da(e))}function Qy(t,e){return new Z(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Yy(t,e){return new Z(n=>{let r;return Qe(n,e,()=>{r=t[_a](),Qe(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function ba(t,e){if(!t)throw new Error("Iterable cannot be null");return new Z(n=>{Qe(n,e,()=>{let r=t[Symbol.asyncIterator]();Qe(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Zy(t,e){return ba(Ea(t),e)}function Jy(t,e){if(t!=null){if(ma(t))return Wy(t,e);if(pa(t))return Qy(t,e);if(ga(t))return Ky(t,e);if(ya(t))return ba(t,e);if(wa(t))return Yy(t,e);if(Ia(t))return Zy(t,e)}throw va(t)}function he(t,e){return e?Jy(t,e):ve(t)}function R(...t){let e=En(t);return he(t,e)}function Ur(t,e){let n=O(t)?t:()=>t,r=i=>i.error(n());return new Z(e?i=>e.schedule(r,0,i):r)}function Jl(t){return!!t&&(t instanceof Z||O(t.lift)&&O(t.subscribe))}var on=Or(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $(t,e){return q((n,r)=>{let i=0;n.subscribe(U(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Mb}=Array;function xb(t,e){return Mb(e)?t(...e):t(e)}function Ta(t){return $(e=>xb(t,e))}var{isArray:Rb}=Array,{getPrototypeOf:Nb,prototype:Pb,keys:Ob}=Object;function Sa(t){if(t.length===1){let e=t[0];if(Rb(e))return{args:e,keys:null};if(Fb(e)){let n=Ob(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Fb(t){return t&&typeof t=="object"&&Nb(t)===Pb}function Aa(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ro(...t){let e=En(t),n=fa(t),{args:r,keys:i}=Sa(t);if(r.length===0)return he([],e);let o=new Z(kb(r,e,i?s=>Aa(i,s):it));return n?o.pipe(Ta(n)):o}function kb(t,e,n=it){return r=>{Xy(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Xy(e,()=>{let c=he(t[u],e),l=!1;c.subscribe(U(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Xy(t,e,n){t?Qe(n,t,e):e()}function ev(t,e,n,r,i,o,s,a){let u=[],c=0,l=0,d=!1,h=()=>{d&&!u.length&&!c&&e.complete()},f=D=>c<r?m(D):u.push(D),m=D=>{o&&e.next(D),c++;let C=!1;ve(n(D,l++)).subscribe(U(e,M=>{i?.(M),o?f(M):e.next(M)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;u.length&&c<r;){let M=u.shift();s?Qe(e,s,()=>m(M)):m(M)}h()}catch(M){e.error(M)}}))};return t.subscribe(U(e,f,()=>{d=!0,h()})),()=>{a?.()}}function _e(t,e,n=1/0){return O(e)?_e((r,i)=>$((o,s)=>e(r,o,i,s))(ve(t(r,i))),n):(typeof e=="number"&&(n=e),q((r,i)=>ev(r,i,t,n)))}function $r(t=1/0){return _e(it,t)}function tv(){return $r(1)}function Hr(...t){return tv()(he(t,En(t)))}function Ma(t){return new Z(e=>{ve(t()).subscribe(e)})}function Xl(...t){let e=fa(t),{args:n,keys:r}=Sa(t),i=new Z(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,c=s;for(let l=0;l<s;l++){let d=!1;ve(n[l]).subscribe(U(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?Aa(r,a):a),o.complete())}))}});return e?i.pipe(Ta(e)):i}function dt(t,e){return q((n,r)=>{let i=0;n.subscribe(U(r,o=>t.call(e,o,i++)&&r.next(o)))})}function In(t){return q((e,n)=>{let r=null,i=!1,o;r=e.subscribe(U(n,void 0,void 0,s=>{o=ve(t(s,In(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function nv(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(U(s,l=>{let d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Xn(t,e){return O(e)?_e(t,e,1):_e(t,1)}function Dn(t){return q((e,n)=>{let r=!1;e.subscribe(U(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function sn(t){return t<=0?()=>ot:q((e,n)=>{let r=0;e.subscribe(U(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ed(t){return $(()=>t)}function xa(t=Vb){return q((e,n)=>{let r=!1;e.subscribe(U(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Vb(){return new on}function io(t){return q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ft(t,e){let n=arguments.length>=2;return r=>r.pipe(t?dt((i,o)=>t(i,o,r)):it,sn(1),n?Dn(e):xa(()=>new on))}function qr(t){return t<=0?()=>ot:q((e,n)=>{let r=[];e.subscribe(U(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function td(t,e){let n=arguments.length>=2;return r=>r.pipe(t?dt((i,o)=>t(i,o,r)):it,qr(1),n?Dn(e):xa(()=>new on))}function nd(t,e){return q(nv(t,e,arguments.length>=2,!0))}function rd(...t){let e=En(t);return q((n,r)=>{(e?Hr(t,n,e):Hr(t,n)).subscribe(r)})}function ht(t,e){return q((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(U(r,u=>{i?.unsubscribe();let c=0,l=o++;ve(t(u,l)).subscribe(i=U(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function id(t){return q((e,n)=>{ve(t).subscribe(U(n,()=>n.complete(),no)),!n.closed&&e.subscribe(n)})}function Pe(t,e,n){let r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?q((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(U(o,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),o.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):it}var $v="https://g.co/ng/security#xss",b=class extends Error{constructor(e,n){super(ah(e,n)),this.code=e}};function ah(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function vo(t){return{toString:t}.toString()}var Ra="__parameters__";function Lb(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Hv(t,e,n){return vo(()=>{let r=Lb(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,c,l){let d=u.hasOwnProperty(Ra)?u[Ra]:Object.defineProperty(u,Ra,{value:[]})[Ra];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Oe=globalThis;function oe(t){for(let e in t)if(t[e]===oe)return e;throw Error("Could not find renamed property on target object.")}function jb(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function qe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(qe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function rv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Bb=oe({__forward_ref__:oe});function _o(t){return t.__forward_ref__=_o,t.toString=function(){return qe(this())},t}function He(t){return qv(t)?t():t}function qv(t){return typeof t=="function"&&t.hasOwnProperty(Bb)&&t.__forward_ref__===_o}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ye(t){return{providers:t.providers||[],imports:t.imports||[]}}function du(t){return iv(t,Gv)||iv(t,Wv)}function zv(t){return du(t)!==null}function iv(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ub(t){let e=t&&(t[Gv]||t[Wv]);return e||null}function ov(t){return t&&(t.hasOwnProperty(sv)||t.hasOwnProperty($b))?t[sv]:null}var Gv=oe({\u0275prov:oe}),sv=oe({\u0275inj:oe}),Wv=oe({ngInjectableDef:oe}),$b=oe({ngInjectorDef:oe}),x=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Kv(t){return t&&!!t.\u0275providers}var Hb=oe({\u0275cmp:oe}),qb=oe({\u0275dir:oe}),zb=oe({\u0275pipe:oe}),Gb=oe({\u0275mod:oe}),$a=oe({\u0275fac:oe}),oo=oe({__NG_ELEMENT_ID__:oe}),av=oe({__NG_ENV_ID__:oe});function kt(t){return typeof t=="string"?t:t==null?"":String(t)}function Wb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():kt(t)}function Kb(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,t)}function uh(t,e){throw new b(-201,!1)}var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(j||{}),_d;function Qv(){return _d}function ft(t){let e=_d;return _d=t,e}function Yv(t,e,n){let r=du(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&j.Optional)return null;if(e!==void 0)return e;uh(t,"Injector")}var Qb={},ao=Qb,wd="__NG_DI_FLAG__",Ha="ngTempTokenPath",Yb="ngTokenPath",Zb=/\n/gm,Jb="\u0275",uv="__source",Qr;function Xb(){return Qr}function Cn(t){let e=Qr;return Qr=t,e}function eT(t,e=j.Default){if(Qr===void 0)throw new b(-203,!1);return Qr===null?Yv(t,void 0,e):Qr.get(t,e&j.Optional?null:void 0,e)}function A(t,e=j.Default){return(Qv()||eT)(He(t),e)}function _(t,e=j.Default){return A(t,hu(e))}function hu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ed(t){let e=[];for(let n=0;n<t.length;n++){let r=He(t[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,o=j.Default;for(let s=0;s<r.length;s++){let a=r[s],u=tT(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(A(i,o))}else e.push(A(r))}return e}function Zv(t,e){return t[wd]=e,t.prototype[wd]=e,t}function tT(t){return t[wd]}function nT(t,e,n,r){let i=t[Ha];throw e[uv]&&i.unshift(e[uv]),t.message=rT(`
`+t.message,i,n,r),t[Yb]=i,t[Ha]=null,t}function rT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Jb?t.slice(2):t;let i=qe(e);if(Array.isArray(e))i=e.map(qe).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):qe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Zb,`
  `)}`}var fu=Zv(Hv("Optional"),8);var ch=Zv(Hv("SkipSelf"),4);function Zr(t,e){let n=t.hasOwnProperty($a);return n?t[$a]:null}function lh(t,e){t.forEach(n=>Array.isArray(n)?lh(n,e):e(n))}function Jv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function iT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function oT(t,e,n){let r=wo(t,e);return r>=0?t[r|1]=n:(r=~r,iT(t,r,e,n)),r}function od(t,e){let n=wo(t,e);if(n>=0)return t[n|1]}function wo(t,e){return sT(t,e,1)}function sT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Jr={},pt=[],Xr=new x(""),Xv=new x("",-1),e_=new x(""),za=class{get(e,n=ao){if(n===ao){let r=new Error(`NullInjectorError: No provider for ${qe(e)}!`);throw r.name="NullInjectorError",r}return n}},t_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(t_||{}),jt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(jt||{}),ze=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ze||{});function aT(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Id(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];uT(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function n_(t){return t===3||t===4||t===6}function uT(t){return t.charCodeAt(0)===64}function uo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?cv(t,n,i,null,e[++r]):cv(t,n,i,null,null))}}return t}function cv(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var r_="ng-template";function cT(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&aT(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(dh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function dh(t){return t.type===4&&t.value!==r_}function lT(t,e,n){let r=t.type===4&&!n?r_:t.value;return e===r}function dT(t,e,n){let r=4,i=t.attrs,o=i!==null?pT(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!It(r)&&!It(u))return!1;if(s&&It(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!lT(t,u,n)||u===""&&e.length===1){if(It(r))return!1;s=!0}}else if(r&8){if(i===null||!cT(t,i,u,n)){if(It(r))return!1;s=!0}}else{let c=e[++a],l=hT(u,i,dh(t),n);if(l===-1){if(It(r))return!1;s=!0;continue}if(c!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&c!==d){if(It(r))return!1;s=!0}}}}return It(r)||s}function It(t){return(t&1)===0}function hT(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return gT(e,t)}function fT(t,e,n=!1){for(let r=0;r<e.length;r++)if(dT(t,e[r],n))return!0;return!1}function pT(t){for(let e=0;e<t.length;e++){let n=t[e];if(n_(n))return e}return t.length}function gT(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function lv(t,e){return t?":not("+e.trim()+")":e}function mT(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!It(s)&&(e+=lv(o,i),i=""),r=s,o=o||!It(r);n++}return i!==""&&(e+=lv(o,i)),e}function yT(t){return t.map(mT).join(",")}function vT(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!It(i))break;i=o}r++}return{attrs:e,classes:n}}function Ze(t){return vo(()=>{let e=u_(t),n=re(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===t_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||jt.Emulated,styles:t.styles||pt,_:null,schemas:t.schemas||null,tView:null,id:""});c_(n);let r=t.dependencies;return n.directiveDefs=hv(r,!1),n.pipeDefs=hv(r,!0),n.id=ET(n),n})}function _T(t){return Tn(t)||i_(t)}function wT(t){return t!==null}function Je(t){return vo(()=>({type:t.type,bootstrap:t.bootstrap||pt,declarations:t.declarations||pt,imports:t.imports||pt,exports:t.exports||pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function dv(t,e){if(t==null)return Jr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ze.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ze.None?[r,a]:r,e[o]=s):n[o]=r}return n}function mt(t){return vo(()=>{let e=u_(t);return c_(e),e})}function Tn(t){return t[Hb]||null}function i_(t){return t[qb]||null}function o_(t){return t[zb]||null}function s_(t){let e=Tn(t)||i_(t)||o_(t);return e!==null?e.standalone:!1}function a_(t,e){let n=t[Gb]||null;if(!n&&e===!0)throw new Error(`Type ${qe(t)} does not have '\u0275mod' property.`);return n}function u_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Jr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||pt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dv(t.inputs,e),outputs:dv(t.outputs),debugInfo:null}}function c_(t){t.features?.forEach(e=>e(t))}function hv(t,e){if(!t)return null;let n=e?o_:_T;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(wT)}function ET(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function IT(...t){return{\u0275providers:l_(!0,t),\u0275fromNgModule:!0}}function l_(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return lh(e,s=>{let a=s;Dd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&d_(i,o),n}function d_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];hh(i,o=>{e(o,r)})}}function Dd(t,e,n,r){if(t=He(t),!t)return!1;let i=null,o=ov(t),s=!o&&Tn(t);if(!o&&!s){let u=t.ngModule;if(o=ov(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of u)Dd(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{lh(o.imports,l=>{Dd(l,e,n,r)&&(c||=[],c.push(l))})}finally{}c!==void 0&&d_(c,e)}if(!a){let c=Zr(i)||(()=>new i);e({provide:i,useFactory:c,deps:pt},i),e({provide:e_,useValue:i,multi:!0},i),e({provide:Xr,useValue:()=>A(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let c=t;hh(u,l=>{e(l,c)})}}else return!1;return i!==t&&t.providers!==void 0}function hh(t,e){for(let n of t)Kv(n)&&(n=n.\u0275providers),Array.isArray(n)?hh(n,e):e(n)}var DT=oe({provide:String,useValue:oe});function h_(t){return t!==null&&typeof t=="object"&&DT in t}function CT(t){return!!(t&&t.useExisting)}function bT(t){return!!(t&&t.useFactory)}function ei(t){return typeof t=="function"}function TT(t){return!!t.useClass}var pu=new x(""),Va={},ST={},sd;function fh(){return sd===void 0&&(sd=new za),sd}var st=class{},co=class extends st{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bd(e,s=>this.processProvider(s)),this.records.set(Xv,zr(void 0,this)),i.has("environment")&&this.records.set(st,zr(void 0,this));let o=this.records.get(pu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(e_,pt,j.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Cn(this),r=ft(void 0),i;try{return e()}finally{Cn(n),ft(r)}}get(e,n=ao,r=j.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(av))return e[av](this);r=hu(r);let i,o=Cn(this),s=ft(void 0);try{if(!(r&j.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=NT(e)&&du(e);c&&this.injectableDefInScope(c)?u=zr(Cd(e),Va):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&j.Self?fh():this.parent;return n=r&j.Optional&&n===ao?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ha]=a[Ha]||[]).unshift(qe(e)),o)throw a;return nT(a,e,"R3InjectorError",this.source)}else throw a}finally{ft(s),Cn(o)}}resolveInjectorInitializers(){let e=Q(null),n=Cn(this),r=ft(void 0),i;try{let o=this.get(Xr,pt,j.Self);for(let s of o)s()}finally{Cn(n),ft(r),Q(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(qe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){e=He(e);let n=ei(e)?e:He(e&&e.provide),r=MT(e);if(!ei(e)&&e.multi===!0){let i=this.records.get(n);i||(i=zr(void 0,Va,!0),i.factory=()=>Ed(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Q(null);try{return n.value===Va&&(n.value=ST,n.value=n.factory()),typeof n.value=="object"&&n.value&&RT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Q(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=He(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Cd(t){let e=du(t),n=e!==null?e.factory:Zr(t);if(n!==null)return n;if(t instanceof x)throw new b(204,!1);if(t instanceof Function)return AT(t);throw new b(204,!1)}function AT(t){if(t.length>0)throw new b(204,!1);let n=Ub(t);return n!==null?()=>n.factory(t):()=>new t}function MT(t){if(h_(t))return zr(void 0,t.useValue);{let e=f_(t);return zr(e,Va)}}function f_(t,e,n){let r;if(ei(t)){let i=He(t);return Zr(i)||Cd(i)}else if(h_(t))r=()=>He(t.useValue);else if(bT(t))r=()=>t.useFactory(...Ed(t.deps||[]));else if(CT(t))r=()=>A(He(t.useExisting));else{let i=He(t&&(t.useClass||t.provide));if(xT(t))r=()=>new i(...Ed(t.deps));else return Zr(i)||Cd(i)}return r}function zr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xT(t){return!!t.deps}function RT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function NT(t){return typeof t=="function"||typeof t=="object"&&t instanceof x}function bd(t,e){for(let n of t)Array.isArray(n)?bd(n,e):n&&Kv(n)?bd(n.\u0275providers,e):e(n)}function un(t,e){t instanceof co&&t.assertNotDestroyed();let n,r=Cn(t),i=ft(void 0);try{return e()}finally{Cn(r),ft(i)}}function p_(){return Qv()!==void 0||Xb()!=null}function PT(t){if(!p_())throw new b(-203,!1)}function OT(t){let e=Oe.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function FT(t){return typeof t=="function"}var cn=0,H=1,N=2,Le=3,Dt=4,Tt=5,Ga=6,lo=7,Ct=8,ti=9,bt=10,we=11,ho=12,fv=13,si=14,Bt=15,gu=16,Gr=17,ni=18,mu=19,g_=20,bn=21,ad=22,nr=23,Sn=25,m_=1;var rr=7,Wa=8,Ka=9,gt=10,ph=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ph||{});function er(t){return Array.isArray(t)&&typeof t[m_]=="object"}function ln(t){return Array.isArray(t)&&t[m_]===!0}function y_(t){return(t.flags&4)!==0}function yu(t){return t.componentOffset>-1}function gh(t){return(t.flags&1)===1}function An(t){return!!t.template}function kT(t){return(t[N]&512)!==0}var Td=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function v_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function lr(){return __}function __(t){return t.type.prototype.ngOnChanges&&(t.setInput=LT),VT}lr.ngInherit=!0;function VT(){let t=E_(this),e=t?.current;if(e){let n=t.previous;if(n===Jr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function LT(t,e,n,r,i){let o=this.declaredInputs[r],s=E_(t)||jT(t,{previous:Jr,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new Td(c&&c.currentValue,n,u===Jr),v_(t,e,i,n)}var w_="__ngSimpleChanges__";function E_(t){return t[w_]||null}function jT(t,e){return t[w_]=e}var pv=null;var Vt=function(t,e,n){pv?.(t,e,n)},BT="svg",UT="math",$T=!1;function HT(){return $T}function Ut(t){for(;Array.isArray(t);)t=t[cn];return t}function I_(t,e){return Ut(e[t])}function yt(t,e){return Ut(e[t.index])}function D_(t,e){return t.data[e]}function xn(t,e){let n=e[t];return er(n)?n:n[cn]}function mh(t){return(t[N]&128)===128}function qT(t){return ln(t[Le])}function Qa(t,e){return e==null?null:t[e]}function C_(t){t[Gr]=0}function zT(t){t[N]&1024||(t[N]|=1024,mh(t)&&fo(t))}function GT(t,e){for(;t>0;)e=e[si],t--;return e}function yh(t){return!!(t[N]&9216||t[nr]?.dirty)}function Sd(t){t[bt].changeDetectionScheduler?.notify(1),yh(t)?fo(t):t[N]&64&&(HT()?(t[N]|=1024,fo(t)):t[bt].changeDetectionScheduler?.notify())}function fo(t){t[bt].changeDetectionScheduler?.notify();let e=po(t);for(;e!==null&&!(e[N]&8192||(e[N]|=8192,!mh(e)));)e=po(e)}function b_(t,e){if((t[N]&256)===256)throw new b(911,!1);t[bn]===null&&(t[bn]=[]),t[bn].push(e)}function WT(t,e){if(t[bn]===null)return;let n=t[bn].indexOf(e);n!==-1&&t[bn].splice(n,1)}function po(t){let e=t[Le];return ln(e)?e[Le]:e}var B={lFrame:F_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function KT(){return B.lFrame.elementDepthCount}function QT(){B.lFrame.elementDepthCount++}function YT(){B.lFrame.elementDepthCount--}function T_(){return B.bindingsEnabled}function ZT(){return B.skipHydrationRootTNode!==null}function JT(t){return B.skipHydrationRootTNode===t}function XT(){B.skipHydrationRootTNode=null}function ie(){return B.lFrame.lView}function Xe(){return B.lFrame.tView}function S_(t){return B.lFrame.contextLView=t,t[Ct]}function A_(t){return B.lFrame.contextLView=null,t}function et(){let t=M_();for(;t!==null&&t.type===64;)t=t.parent;return t}function M_(){return B.lFrame.currentTNode}function eS(){let t=B.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Eo(t,e){let n=B.lFrame;n.currentTNode=t,n.isParent=e}function x_(){return B.lFrame.isParent}function tS(){B.lFrame.isParent=!1}function R_(){return B.lFrame.bindingIndex}function nS(t){return B.lFrame.bindingIndex=t}function vu(){return B.lFrame.bindingIndex++}function vh(t){let e=B.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function rS(){return B.lFrame.inI18n}function iS(t,e){let n=B.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ad(e)}function oS(){return B.lFrame.currentDirectiveIndex}function Ad(t){B.lFrame.currentDirectiveIndex=t}function sS(t){let e=B.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function N_(t){B.lFrame.currentQueryIndex=t}function aS(t){let e=t[H];return e.type===2?e.declTNode:e.type===1?t[Tt]:null}function P_(t,e,n){if(n&j.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&j.Host);)if(i=aS(o),i===null||(o=o[si],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=B.lFrame=O_();return r.currentTNode=e,r.lView=t,!0}function _h(t){let e=O_(),n=t[H];B.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function O_(){let t=B.lFrame,e=t===null?null:t.child;return e===null?F_(t):e}function F_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function k_(){let t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var V_=k_;function wh(){let t=k_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function uS(t){return(B.lFrame.contextLView=GT(t,B.lFrame.contextLView))[Ct]}function Rn(){return B.lFrame.selectedIndex}function ir(t){B.lFrame.selectedIndex=t}function _u(){let t=B.lFrame;return D_(t.tView,t.selectedIndex)}function cS(){return B.lFrame.currentNamespace}var L_=!0;function Eh(){return L_}function Ih(t){L_=t}function lS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=__(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Dh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function La(t,e,n){j_(t,e,3,n)}function ja(t,e,n,r){(t[N]&3)===n&&j_(t,e,n,r)}function ud(t,e){let n=t[N];(n&3)===e&&(n&=16383,n+=1,t[N]=n)}function j_(t,e,n,r){let i=r!==void 0?t[Gr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Gr]+=65536),(a<o||o==-1)&&(dS(t,n,e,u),t[Gr]=(t[Gr]&4294901760)+u+2),u++}function gv(t,e){Vt(4,t,e);let n=Q(null);try{e.call(t)}finally{Q(n),Vt(5,t,e)}}function dS(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[N]>>14<t[Gr]>>16&&(t[N]&3)===e&&(t[N]+=16384,gv(a,o)):gv(a,o)}var Yr=-1,or=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function hS(t){return t instanceof or}function fS(t){return(t.flags&8)!==0}function pS(t){return(t.flags&16)!==0}function B_(t){return t!==Yr}function Ya(t){return t&32767}function gS(t){return t>>16}function Za(t,e){let n=gS(t),r=e;for(;n>0;)r=r[si],n--;return r}var Md=!0;function mv(t){let e=Md;return Md=t,e}var mS=256,U_=mS-1,$_=5,yS=0,Lt={};function vS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(oo)&&(r=n[oo]),r==null&&(r=n[oo]=yS++);let i=r&U_,o=1<<i;e.data[t+(i>>$_)]|=o}function Ja(t,e){let n=H_(t,e);if(n!==-1)return n;let r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,cd(r.data,t),cd(e,null),cd(r.blueprint,null));let i=Ch(t,e),o=t.injectorIndex;if(B_(i)){let s=Ya(i),a=Za(i,e),u=a[H].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function cd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function H_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ch(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=K_(i),r===null)return Yr;if(n++,i=i[si],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Yr}function xd(t,e,n){vS(t,e,n)}function _S(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(n_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function q_(t,e,n){if(n&j.Optional||t!==void 0)return t;uh(e,"NodeInjector")}function z_(t,e,n,r){if(n&j.Optional&&r===void 0&&(r=null),!(n&(j.Self|j.Host))){let i=t[ti],o=ft(void 0);try{return i?i.get(e,r,n&j.Optional):Yv(e,r,n&j.Optional)}finally{ft(o)}}return q_(r,e,n)}function G_(t,e,n,r=j.Default,i){if(t!==null){if(e[N]&2048&&!(r&j.Self)){let s=CS(t,e,n,r,Lt);if(s!==Lt)return s}let o=W_(t,e,n,r,Lt);if(o!==Lt)return o}return z_(e,n,r,i)}function W_(t,e,n,r,i){let o=IS(n);if(typeof o=="function"){if(!P_(e,t,r))return r&j.Host?q_(i,n,r):z_(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&j.Optional))uh(n);else return s}finally{V_()}}else if(typeof o=="number"){let s=null,a=H_(t,e),u=Yr,c=r&j.Host?e[Bt][Tt]:null;for((a===-1||r&j.SkipSelf)&&(u=a===-1?Ch(t,e):e[a+8],u===Yr||!vv(r,!1)?a=-1:(s=e[H],a=Ya(u),e=Za(u,e)));a!==-1;){let l=e[H];if(yv(o,a,l.data)){let d=wS(a,e,n,s,r,c);if(d!==Lt)return d}u=e[a+8],u!==Yr&&vv(r,e[H].data[a+8]===c)&&yv(o,a,e)?(s=l,a=Ya(u),e=Za(u,e)):a=-1}}return i}function wS(t,e,n,r,i,o){let s=e[H],a=s.data[t+8],u=r==null?yu(a)&&Md:r!=s&&(a.type&3)!==0,c=i&j.Host&&o===a,l=ES(a,s,n,u,c);return l!==null?ri(e,s,l,a):Lt}function ES(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,c=t.directiveEnd,l=o>>20,d=r?a:a+l,h=i?a+l:c;for(let f=d;f<h;f++){let m=s[f];if(f<u&&n===m||f>=u&&m.type===n)return f}if(i){let f=s[u];if(f&&An(f)&&f.type===n)return u}return null}function ri(t,e,n,r){let i=t[n],o=e.data;if(hS(i)){let s=i;s.resolving&&Kb(Wb(o[n]));let a=mv(s.canSeeViewProviders);s.resolving=!0;let u,c=s.injectImpl?ft(s.injectImpl):null,l=P_(t,r,j.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&lS(n,o[n],e)}finally{c!==null&&ft(c),mv(a),s.resolving=!1,V_()}}return i}function IS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(oo)?t[oo]:void 0;return typeof e=="number"?e>=0?e&U_:DS:e}function yv(t,e,n){let r=1<<t;return!!(n[e+(t>>$_)]&r)}function vv(t,e){return!(t&j.Self)&&!(t&j.Host&&e)}var tr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return G_(this._tNode,this._lView,e,hu(r),n)}};function DS(){return new tr(et(),ie())}function Io(t){return vo(()=>{let e=t.prototype.constructor,n=e[$a]||Rd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[$a]||Rd(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Rd(t){return qv(t)?()=>{let e=Rd(He(t));return e&&e()}:Zr(t)}function CS(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[N]&2048&&!(s[N]&512);){let a=W_(o,s,n,r|j.Self,Lt);if(a!==Lt)return a;let u=o.parent;if(!u){let c=s[g_];if(c){let l=c.get(n,Lt,r);if(l!==Lt)return l}u=K_(s),s=s[si]}o=u}return i}function K_(t){let e=t[H],n=e.type;return n===2?e.declTNode:n===1?t[Tt]:null}function bh(t){return _S(et(),t)}function _v(t,e=null,n=null,r){let i=Q_(t,e,n,r);return i.resolveInjectorInitializers(),i}function Q_(t,e=null,n=null,r,i=new Set){let o=[n||pt,IT(t)];return r=r||(typeof t=="object"?void 0:qe(t)),new co(o,e||fh(),r||null,i)}var St=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return _v({name:""},i,r,"");{let o=r.name??"";return _v({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=ao,e.NULL=new za,e.\u0275prov=T({token:e,providedIn:"any",factory:()=>A(Xv)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var bS="ngOriginalError";function ld(t){return t[bS]}var $t=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ld(e);for(;n&&ld(n);)n=ld(n);return n||null}},Y_=new x("",{providedIn:"root",factory:()=>_($t).handleError.bind(void 0)}),Th=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=TS,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Nd=class extends Th{constructor(e){super(),this._lView=e}onDestroy(e){return b_(this._lView,e),()=>WT(this._lView,e)}};function TS(){return new Nd(ie())}function SS(){return wu(et(),ie())}function wu(t,e){return new Nn(yt(t,e))}var Nn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=SS;let t=e;return t})();var Pd=class extends Ve{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,p_()&&(this.destroyRef=_(Th,{optional:!0})??void 0)}emit(e){let n=Q(null);try{super.next(e)}finally{Q(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=dd(o),i&&(i=dd(i)),s&&(s=dd(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Te&&e.add(a),a}};function dd(t){return e=>{setTimeout(t,void 0,e)}}var Se=Pd;function Z_(t){return(t.flags&128)===128}var J_=new Map,AS=0;function MS(){return AS++}function xS(t){J_.set(t[mu],t)}function RS(t){J_.delete(t[mu])}var wv="__ngContext__";function sr(t,e){er(e)?(t[wv]=e[mu],xS(e)):t[wv]=e}function X_(t){return tw(t[ho])}function ew(t){return tw(t[Dt])}function tw(t){for(;t!==null&&!ln(t);)t=t[Dt];return t}var Od;function nw(t){Od=t}function NS(){if(Od!==void 0)return Od;if(typeof document<"u")return document;throw new b(210,!1)}var Eu=new x("",{providedIn:"root",factory:()=>PS}),PS="ng",Sh=new x(""),Pn=new x("",{providedIn:"platform",factory:()=>"unknown"});var Ah=new x("",{providedIn:"root",factory:()=>NS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var OS="h",FS="b";var kS=()=>null;function Mh(t,e,n=!1){return kS(t,e,n)}var rw=!1,VS=new x("",{providedIn:"root",factory:()=>rw});var Na;function LS(){if(Na===void 0&&(Na=null,Oe.trustedTypes))try{Na=Oe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Na}function jS(t){return LS()?.createScriptURL(t)||t}var Pa;function BS(){if(Pa===void 0&&(Pa=null,Oe.trustedTypes))try{Pa=Oe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pa}function Ev(t){return BS()?.createScriptURL(t)||t}var Xa=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$v})`}};function Do(t){return t instanceof Xa?t.changingThisBreaksApplicationSecurity:t}function xh(t,e){let n=US(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${$v})`)}return n===e}function US(t){return t instanceof Xa&&t.getTypeName()||null}var $S=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iw(t){return t=String(t),t.match($S)?t:"unsafe:"+t}var Iu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Iu||{});function Co(t){let e=sw();return e?e.sanitize(Iu.URL,t)||"":xh(t,"URL")?Do(t):iw(kt(t))}function HS(t){let e=sw();if(e)return Ev(e.sanitize(Iu.RESOURCE_URL,t)||"");if(xh(t,"ResourceURL"))return Ev(Do(t));throw new b(904,!1)}function Du(t){return jS(t[0])}function qS(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?HS:Co}function ow(t,e,n){return qS(e,n)(t)}function sw(){let t=ie();return t&&t[bt].sanitizer}function aw(t){return t instanceof Function?t():t}function zS(t){return(t??_(St)).get(Pn)==="browser"}var an=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(an||{}),GS;function Rh(t,e){return GS(t,e)}function Wr(t,e,n,r,i){if(r!=null){let o,s=!1;ln(r)?o=r:er(r)&&(s=!0,r=r[cn]);let a=Ut(r);t===0&&n!==null?i==null?hw(e,n,a):eu(e,n,a,i||null,!0):t===1&&n!==null?eu(e,n,a,i||null,!0):t===2?cA(e,a,s):t===3&&e.destroyNode(a),o!=null&&dA(e,t,o,n,i)}}function WS(t,e){return t.createText(e)}function KS(t,e,n){t.setValue(e,n)}function uw(t,e,n){return t.createElement(e,n)}function QS(t,e){cw(t,e),e[cn]=null,e[Tt]=null}function YS(t,e,n,r,i,o){r[cn]=i,r[Tt]=e,Cu(t,r,n,1,i,o)}function cw(t,e){e[bt].changeDetectionScheduler?.notify(1),Cu(t,e,e[we],2,null,null)}function ZS(t){let e=t[ho];if(!e)return hd(t[H],t);for(;e;){let n=null;if(er(e))n=e[ho];else{let r=e[gt];r&&(n=r)}if(!n){for(;e&&!e[Dt]&&e!==t;)er(e)&&hd(e[H],e),e=e[Le];e===null&&(e=t),er(e)&&hd(e[H],e),n=e&&e[Dt]}e=n}}function JS(t,e,n,r){let i=gt+r,o=n.length;r>0&&(n[i-1][Dt]=e),r<o-gt?(e[Dt]=n[i],Jv(n,gt+r,e)):(n.push(e),e[Dt]=null),e[Le]=n;let s=e[gu];s!==null&&n!==s&&XS(s,e);let a=e[ni];a!==null&&a.insertView(t),Sd(e),e[N]|=128}function XS(t,e){let n=t[Ka],i=e[Le][Le][Bt];e[Bt]!==i&&(t[N]|=ph.HasTransplantedViews),n===null?t[Ka]=[e]:n.push(e)}function lw(t,e){let n=t[Ka],r=n.indexOf(e);n.splice(r,1)}function Fd(t,e){if(t.length<=gt)return;let n=gt+e,r=t[n];if(r){let i=r[gu];i!==null&&i!==t&&lw(i,r),e>0&&(t[n-1][Dt]=r[Dt]);let o=qa(t,gt+e);QS(r[H],r);let s=o[ni];s!==null&&s.detachView(o[H]),r[Le]=null,r[Dt]=null,r[N]&=-129}return r}function dw(t,e){if(!(e[N]&256)){let n=e[we];n.destroyNode&&Cu(t,e,n,3,null,null),ZS(e)}}function hd(t,e){if(e[N]&256)return;let n=Q(null);try{e[N]&=-129,e[N]|=256,e[nr]&&Ry(e[nr]),tA(t,e),eA(t,e),e[H].type===1&&e[we].destroy();let r=e[gu];if(r!==null&&ln(e[Le])){r!==e[Le]&&lw(r,e);let i=e[ni];i!==null&&i.detachView(t)}RS(e)}finally{Q(n)}}function eA(t,e){let n=t.cleanup,r=e[lo];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[lo]=null);let i=e[bn];if(i!==null){e[bn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function tA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof or)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Vt(4,a,u);try{u.call(a)}finally{Vt(5,a,u)}}else{Vt(4,i,o);try{o.call(i)}finally{Vt(5,i,o)}}}}}function nA(t,e,n){return rA(t,e.parent,n)}function rA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[cn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===jt.None||o===jt.Emulated)return null}return yt(r,n)}}function eu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function hw(t,e,n){t.appendChild(e,n)}function Iv(t,e,n,r,i){r!==null?eu(t,e,n,r,i):hw(t,e,n)}function iA(t,e,n,r){t.removeChild(e,n,r)}function Nh(t,e){return t.parentNode(e)}function oA(t,e){return t.nextSibling(e)}function sA(t,e,n){return uA(t,e,n)}function aA(t,e,n){return t.type&40?yt(t,n):null}var uA=aA,Dv;function Ph(t,e,n,r){let i=nA(t,r,e),o=e[we],s=r.parent||e[Tt],a=sA(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Iv(o,i,n[u],a,!1);else Iv(o,i,n,a,!1);Dv!==void 0&&Dv(o,r,e,n,i)}function Ba(t,e){if(e!==null){let n=e.type;if(n&3)return yt(e,t);if(n&4)return kd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ba(t,r);{let i=t[e.index];return ln(i)?kd(-1,i):Ut(i)}}else{if(n&32)return Rh(e,t)()||Ut(t[e.index]);{let r=fw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=po(t[Bt]);return Ba(i,r)}else return Ba(t,e.next)}}}return null}function fw(t,e){if(e!==null){let r=t[Bt][Tt],i=e.projection;return r.projection[i]}return null}function kd(t,e){let n=gt+t+1;if(n<e.length){let r=e[n],i=r[H].firstChild;if(i!==null)return Ba(r,i)}return e[rr]}function cA(t,e,n){let r=Nh(t,e);r&&iA(t,r,e,n)}function Oh(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&sr(Ut(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Oh(t,e,n.child,r,i,o,!1),Wr(e,t,i,a,o);else if(u&32){let c=Rh(n,r),l;for(;l=c();)Wr(e,t,i,l,o);Wr(e,t,i,a,o)}else u&16?lA(t,e,r,n,i,o):Wr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Cu(t,e,n,r,i,o){Oh(n,r,t.firstChild,e,i,o,!1)}function lA(t,e,n,r,i,o){let s=n[Bt],u=s[Tt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let l=u[c];Wr(e,t,i,l,o)}else{let c=u,l=s[Le];Z_(r)&&(c.flags|=128),Oh(t,e,c,l,i,o,!0)}}function dA(t,e,n,r,i){let o=n[rr],s=Ut(n);o!==s&&Wr(e,t,r,o,i);for(let a=gt;a<n.length;a++){let u=n[a];Cu(u[H],u,t,e,r,o)}}function hA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:an.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=an.Important),t.setStyle(n,r,i,o))}}function fA(t,e,n){t.setAttribute(e,"style",n)}function pw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function gw(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Id(t,e,r),i!==null&&pw(t,e,i),o!==null&&fA(t,e,o)}var At={};function me(t=1){mw(Xe(),ie(),Rn()+t,!1)}function mw(t,e,n,r){if(!r)if((e[N]&3)===3){let o=t.preOrderCheckHooks;o!==null&&La(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ja(e,o,0,n)}ir(n)}function L(t,e=j.Default){let n=ie();if(n===null)return A(t,e);let r=et();return G_(r,n,He(t),e)}function yw(){let t="invalid";throw new Error(t)}function vw(t,e,n,r,i,o){let s=Q(null);try{let a=null;i&ze.SignalBased&&(a=e[r][jl]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ze.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):v_(e,a,r,o)}finally{Q(s)}}function pA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ir(~i);else{let o=i,s=n[++r],a=n[++r];iS(s,o);let u=e[o];a(2,u)}}}finally{ir(-1)}}function bu(t,e,n,r,i,o,s,a,u,c,l){let d=e.blueprint.slice();return d[cn]=i,d[N]=r|4|128|8|64,(c!==null||t&&t[N]&2048)&&(d[N]|=2048),C_(d),d[Le]=d[si]=t,d[Ct]=n,d[bt]=s||t&&t[bt],d[we]=a||t&&t[we],d[ti]=u||t&&t[ti]||null,d[Tt]=o,d[mu]=MS(),d[Ga]=l,d[g_]=c,d[Bt]=e.type==2?t[Bt]:d,d}function Tu(t,e,n,r,i){let o=t.data[e];if(o===null)o=gA(t,e,n,r,i),rS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=eS();o.injectorIndex=s===null?-1:s.injectorIndex}return Eo(o,!0),o}function gA(t,e,n,r,i){let o=M_(),s=x_(),a=s?o:o&&o.parent,u=t.data[e]=wA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function _w(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ww(t,e,n,r,i){let o=Rn(),s=r&2;try{ir(-1),s&&e.length>Sn&&mw(t,e,Sn,!1),Vt(s?2:0,i),n(r,i)}finally{ir(o),Vt(s?3:1,i)}}function Ew(t,e,n){if(y_(e)){let r=Q(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Q(r)}}}function Iw(t,e,n){T_()&&(TA(t,e,n,yt(n,e)),(n.flags&64)===64&&Sw(t,e,n))}function Dw(t,e,n=yt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Cw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Fh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Fh(t,e,n,r,i,o,s,a,u,c,l){let d=Sn+r,h=d+i,f=mA(d,h),m=typeof c=="function"?c():c;return f[H]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:m,incompleteFirstPass:!1,ssrId:l}}function mA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:At);return n}function yA(t,e,n,r){let o=r.get(VS,rw)||n===jt.ShadowDom,s=t.selectRootElement(e,o);return vA(s),s}function vA(t){_A(t)}var _A=()=>null;function wA(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ZT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Cv(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=ze.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?bv(r,n,c,a,u):bv(r,n,c,a)}return r}function bv(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function EA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,c=null;for(let l=r;l<i;l++){let d=o[l],h=n?n.get(d):null,f=h?h.inputs:null,m=h?h.outputs:null;u=Cv(0,d.inputs,l,u,f),c=Cv(1,d.outputs,l,c,m);let D=u!==null&&s!==null&&!dh(e)?VA(u,l,s):null;a.push(D)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}function IA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function kh(t,e,n,r,i,o,s,a){let u=yt(e,n),c=e.inputs,l;!a&&c!=null&&(l=c[r])?(Vh(t,n,l,r,i),yu(e)&&DA(n,e.index)):e.type&3?(r=IA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function DA(t,e){let n=xn(e,t);n[N]&16||(n[N]|=64)}function bw(t,e,n,r){if(T_()){let i=r===null?null:{"":-1},o=AA(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Tw(t,e,n,s,i,a),i&&MA(n,r,i)}n.mergedAttrs=uo(n.mergedAttrs,n.attrs)}function Tw(t,e,n,r,i,o){for(let c=0;c<r.length;c++)xd(Ja(n,e),t,r[c].type);RA(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=_w(t,e,r.length,null);for(let c=0;c<r.length;c++){let l=r[c];n.mergedAttrs=uo(n.mergedAttrs,l.hostAttrs),NA(t,n,e,u,l),xA(u,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}EA(t,n,o)}function CA(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;bA(s)!=a&&s.push(a),s.push(n,r,o)}}function bA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function TA(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;yu(n)&&PA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ja(n,e),sr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],c=ri(e,t,a,n);if(sr(c,e),s!==null&&kA(e,a-i,c,u,n,s),An(u)){let l=xn(n.index,e);l[Ct]=ri(e,t,a,n)}}}function Sw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=oS();try{ir(o);for(let a=r;a<i;a++){let u=t.data[a],c=e[a];Ad(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&SA(u,c)}}finally{ir(-1),Ad(s)}}function SA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function AA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(fT(e,s.selectors,!1))if(r||(r=[]),An(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Vd(t,e,u)}else r.unshift(s),Vd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Vd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function MA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new b(-301,!1);r.push(e[i],o)}}}function xA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;An(e)&&(n[""]=t)}}function RA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function NA(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Zr(i.type,!0)),s=new or(o,An(i),L);t.blueprint[r]=s,n[r]=s,CA(t,e,r,_w(t,n,i.hostVars,At),i)}function PA(t,e,n){let r=yt(e,t),i=Cw(n),o=t[bt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Su(t,bu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function OA(t,e,n,r,i,o){let s=yt(t,e);FA(e[we],s,o,t.value,n,r,i)}function FA(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?kt(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function kA(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],c=s[a++],l=s[a++],d=s[a++];vw(r,n,u,c,l,d)}}function VA(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Aw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Mw(t,e){let n=t.contentQueries;if(n!==null){let r=Q(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];N_(o),a.contentQueries(2,e[s],s)}}}finally{Q(r)}}}function Su(t,e){return t[ho]?t[fv][Dt]=e:t[ho]=e,t[fv]=e,e}function Ld(t,e,n){N_(0);let r=Q(null);try{e(t,n)}finally{Q(r)}}function LA(t){return t[lo]||(t[lo]=[])}function jA(t){return t.cleanup||(t.cleanup=[])}function xw(t,e){let n=t[ti],r=n?n.get($t,null):null;r&&r.handleError(e)}function Vh(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],c=e[s],l=t.data[s];vw(l,c,r,a,u,i)}}function Lh(t,e,n){let r=I_(e,t);KS(t[we],r,n)}function BA(t,e){let n=xn(e,t),r=n[H];UA(r,n);let i=n[cn];i!==null&&n[Ga]===null&&(n[Ga]=Mh(i,n[ti])),jh(r,n,n[Ct])}function UA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function jh(t,e,n){_h(e);try{let r=t.viewQuery;r!==null&&Ld(1,r,n);let i=t.template;i!==null&&ww(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ni]?.finishViewCreation(t),t.staticContentQueries&&Mw(t,e),t.staticViewQueries&&Ld(2,t.viewQuery,n);let o=t.components;o!==null&&$A(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[N]&=-5,wh()}}function $A(t,e){for(let n=0;n<e.length;n++)BA(t,e[n])}function HA(t,e,n,r){let i=Q(null);try{let o=e.tView,a=t[N]&4096?4096:16,u=bu(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];u[gu]=c;let l=t[ni];return l!==null&&(u[ni]=l.createEmbeddedView(o)),jh(o,u,n),u}finally{Q(i)}}function Tv(t,e){return!e||e.firstChild===null||Z_(t)}function qA(t,e,n,r=!0){let i=e[H];if(JS(i,e,t,n),r){let s=kd(n,t),a=e[we],u=Nh(a,t[rr]);u!==null&&YS(i,t[Tt],a,e,u,s)}let o=e[Ga];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function tu(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Ut(o)),ln(o)&&zA(o,r);let s=n.type;if(s&8)tu(t,e,n.child,r);else if(s&32){let a=Rh(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=fw(e,n);if(Array.isArray(a))r.push(...a);else{let u=po(e[Bt]);tu(u[H],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function zA(t,e){for(let n=gt;n<t.length;n++){let r=t[n],i=r[H].firstChild;i!==null&&tu(r[H],r,i,e)}t[rr]!==t[cn]&&e.push(t[rr])}var Rw=[];function GA(t){return t[nr]??WA(t)}function WA(t){let e=Rw.pop()??Object.create(QA);return e.lView=t,e}function KA(t){t.lView[nr]!==t&&(t.lView=null,Rw.push(t))}var QA=re(I({},Ay),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{fo(t.lView)},consumerOnSignalRead(){this.lView[nr]=this}}),Nw=100;function Pw(t,e=!0,n=0){let r=t[bt],i=r.rendererFactory,o=!1;o||i.begin?.();try{YA(t,n)}catch(s){throw e&&xw(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function YA(t,e){jd(t,e);let n=0;for(;yh(t);){if(n===Nw)throw new b(103,!1);n++,jd(t,1)}}function ZA(t,e,n,r){let i=e[N];if((i&256)===256)return;let o=!1;!o&&e[bt].inlineEffectRunner?.flush(),_h(e);let s=null,a=null;!o&&JA(t)&&(a=GA(e),s=My(a));try{C_(e),nS(t.bindingStartIndex),n!==null&&ww(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let d=t.preOrderCheckHooks;d!==null&&La(e,d,null)}else{let d=t.preOrderHooks;d!==null&&ja(e,d,0,null),ud(e,0)}if(XA(e),Ow(e,0),t.contentQueries!==null&&Mw(t,e),!o)if(u){let d=t.contentCheckHooks;d!==null&&La(e,d)}else{let d=t.contentHooks;d!==null&&ja(e,d,1),ud(e,1)}pA(t,e);let c=t.components;c!==null&&kw(e,c,0);let l=t.viewQuery;if(l!==null&&Ld(2,l,r),!o)if(u){let d=t.viewCheckHooks;d!==null&&La(e,d)}else{let d=t.viewHooks;d!==null&&ja(e,d,2),ud(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ad]){for(let d of e[ad])d();e[ad]=null}o||(e[N]&=-73)}catch(u){throw fo(e),u}finally{a!==null&&(xy(a,s),KA(a)),wh()}}function JA(t){return t.type!==2}function Ow(t,e){for(let n=X_(t);n!==null;n=ew(n))for(let r=gt;r<n.length;r++){let i=n[r];Fw(i,e)}}function XA(t){for(let e=X_(t);e!==null;e=ew(e)){if(!(e[N]&ph.HasTransplantedViews))continue;let n=e[Ka];for(let r=0;r<n.length;r++){let i=n[r],o=i[Le];zT(i)}}}function eM(t,e,n){let r=xn(e,t);Fw(r,n)}function Fw(t,e){mh(t)&&jd(t,e)}function jd(t,e){let r=t[H],i=t[N],o=t[nr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Bl(o)),o&&(o.dirty=!1),t[N]&=-9217,s)ZA(r,t,r.template,t[Ct]);else if(i&8192){Ow(t,1);let a=r.components;a!==null&&kw(t,a,1)}}function kw(t,e,n){for(let r=0;r<e.length;r++)eM(t,e[r],n)}function Bh(t){for(t[bt].changeDetectionScheduler?.notify();t;){t[N]|=64;let e=po(t);if(kT(t)&&!e)return t;t=e}return null}var ar=class{get rootNodes(){let e=this._lView,n=e[H];return tu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ct]}set context(e){this._lView[Ct]=e}get destroyed(){return(this._lView[N]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Le];if(ln(e)){let n=e[Wa],r=n?n.indexOf(this):-1;r>-1&&(Fd(e,r),qa(n,r))}this._attachedToViewContainer=!1}dw(this._lView[H],this._lView)}onDestroy(e){b_(this._lView,e)}markForCheck(){Bh(this._cdRefInjectingView||this._lView)}detach(){this._lView[N]&=-129}reattach(){Sd(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,Pw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,cw(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e,Sd(this._lView)}},Au=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rM;let t=e;return t})(),tM=Au,nM=class extends tM{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=HA(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ar(i)}};function rM(){return iM(et(),ie())}function iM(t,e){return t.type&4?new nM(e,t,wu(t,e)):null}var LU=new RegExp(`^(\\d+)*(${FS}|${OS})*(.*)`);var oM=()=>null;function Sv(t,e){return oM(t,e)}var nu=class{},Bd=class{},ru=class{};function sM(t){let e=Error(`No component factory found for ${qe(t)}.`);return e[aM]=t,e}var aM="ngComponent";var Ud=class{resolveComponentFactory(e){throw sM(e)}},Mu=(()=>{let e=class e{};e.NULL=new Ud;let t=e;return t})(),go=class{},dr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>uM();let t=e;return t})();function uM(){let t=ie(),e=et(),n=xn(e.index,t);return(er(n)?n:t)[we]}var cM=(()=>{let e=class e{};e.\u0275prov=T({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),fd={};var Av=new Set;function Uh(t){Av.has(t)||(Av.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Mv(...t){}function lM(){let t=typeof Oe.requestAnimationFrame=="function",e=Oe[t?"requestAnimationFrame":"setTimeout"],n=Oe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ae=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=lM().nativeRequestAnimationFrame,fM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,dM,Mv,Mv);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},dM={};function $h(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Oe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$d(t),t.isCheckStableRunning=!0,$h(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$d(t))}function fM(t){let e=()=>{hM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(pM(a))return n.invokeTask(i,o,s,a);try{return xv(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Rv(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return xv(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Rv(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,$d(t),$h(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function $d(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function xv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Rv(t){t._nesting--,$h(t)}var Hd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function pM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function gM(t="zone.js",e){return t==="noop"?new Hd:t==="zone.js"?new ae(e):t}var Kr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Kr||{}),mM={destroy(){}};function Hh(t,e){!e&&PT(Hh);let n=e?.injector??_(St);if(!zS(n))return mM;Uh("NgAfterNextRender");let r=n.get(qh),i=r.handler??=new zd,o=e?.phase??Kr.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(Th).onDestroy(s),u=un(n,()=>new qd(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var qd=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=_(ae),this.errorHandler=_($t,{optional:!0}),_(nu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},zd=class{constructor(){this.executingCallbacks=!1,this.buckets={[Kr.EarlyRead]:new Set,[Kr.Write]:new Set,[Kr.MixedReadWrite]:new Set,[Kr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},qh=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=T({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Gd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=rv(i,a);else if(o==2){let u=a,c=e[++s];r=rv(r,u+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var iu=class extends Mu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Tn(e);return new ii(n,this.ngModule)}};function Nv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function yM(t){let e=t.toLowerCase();return e==="svg"?BT:e==="math"?UT:null}var Wd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=hu(r);let i=this.injector.get(e,fd,r);return i!==fd||n===fd?i:this.parentInjector.get(e,n,r)}},ii=class extends ru{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Nv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Nv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yT(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Q(null);try{i=i||this.ngModule;let s=i instanceof st?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Wd(e,s):e,u=a.get(go,null);if(u===null)throw new b(407,!1);let c=a.get(cM,null),l=a.get(qh,null),d=a.get(nu,null),h={rendererFactory:u,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=u.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",D=r?yA(f,r,this.componentDef.encapsulation,a):uw(f,m,yM(m)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let M=null;D!==null&&(M=Mh(D,a,!0));let ce=Fh(0,null,null,1,0,null,null,null,null,null,null),ne=bu(null,ce,null,C,null,null,h,f,a,null,M);_h(ne);let de,Ke;try{let se=this.componentDef,rt,wn=null;se.findHostDirectiveDefs?(rt=[],wn=new Map,se.findHostDirectiveDefs(se,rt,wn),rt.push(se)):rt=[se];let Vl=vM(ne,D),sa=_M(Vl,D,se,rt,ne,h,f);Ke=D_(ce,Sn),D&&IM(f,se,D,r),n!==void 0&&DM(Ke,this.ngContentSelectors,n),de=EM(sa,se,rt,wn,ne,[CM]),jh(ce,ne,null)}finally{wh()}return new Kd(this.componentType,de,wu(Ke,ne),ne,Ke)}finally{Q(o)}}},Kd=class extends Bd{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ar(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Vh(o[H],o,i,e,n),this.previousInputValues.set(e,n);let s=xn(this._tNode.index,o);Bh(s)}}get injector(){return new tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vM(t,e){let n=t[H],r=Sn;return t[r]=e,Tu(n,r,2,"#host",null)}function _M(t,e,n,r,i,o,s){let a=i[H];wM(r,t,e,s);let u=null;e!==null&&(u=Mh(e,i[ti]));let c=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=bu(i,Cw(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&Vd(a,t,r.length-1),Su(i,d),i[t.index]=d}function wM(t,e,n,r){for(let i of t)e.mergedAttrs=uo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Gd(e,e.mergedAttrs,!0),n!==null&&gw(r,n,e))}function EM(t,e,n,r,i,o){let s=et(),a=i[H],u=yt(s,i);Tw(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=ri(i,a,d,s);sr(h,i)}Sw(a,i,s),u&&sr(u,i);let c=ri(i,a,s.directiveStart+s.componentOffset,s);if(t[Ct]=i[Ct]=c,o!==null)for(let l of o)l(c,e);return Ew(a,s,i),c}function IM(t,e,n,r){if(r)Id(t,n,["ng-version","17.3.1"]);else{let{attrs:i,classes:o}=vT(e.selectors[0]);i&&Id(t,n,i),o&&o.length>0&&pw(t,n,o.join(" "))}}function DM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function CM(){let t=et();Dh(ie()[H],t)}var ai=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=bM;let t=e;return t})();function bM(){let t=et();return SM(t,ie())}var TM=ai,Vw=class extends TM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return wu(this._hostTNode,this._hostLView)}get injector(){return new tr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ch(this._hostTNode,this._hostLView);if(B_(e)){let n=Za(e,this._hostLView),r=Ya(e),i=n[H].data[r+8];return new tr(i,n)}else return new tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Pv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Sv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Tv(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!FT(e),a;if(s)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let u=s?e:new ii(Tn(e)),c=r||this.parentInjector;if(!o&&u.ngModule==null){let D=(s?c:this.parentInjector).get(st,null);D&&(o=D)}let l=Tn(u.componentType??{}),d=Sv(this._lContainer,l?.id??null),h=d?.firstChild??null,f=u.create(c,i,h,o);return this.insertImpl(f.hostView,a,Tv(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(qT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Le],c=new Vw(u,u[Tt],u[Le]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return qA(s,i,o,r),e.attachToViewContainerRef(),Jv(pd(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Pv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Fd(this._lContainer,n);r&&(qa(pd(this._lContainer),n),dw(r[H],r))}detach(e){let n=this._adjustIndex(e,-1),r=Fd(this._lContainer,n);return r&&qa(pd(this._lContainer),n)!=null?new ar(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Pv(t){return t[Wa]}function pd(t){return t[Wa]||(t[Wa]=[])}function SM(t,e){let n,r=e[t.index];return ln(r)?n=r:(n=Aw(r,e,null,t),e[t.index]=n,Su(e,n)),MM(n,e,t,r),new Vw(n,t,e)}function AM(t,e){let n=t[we],r=n.createComment(""),i=yt(e,t),o=Nh(n,i);return eu(n,o,r,oA(n,i),!1),r}var MM=NM,xM=()=>!1;function RM(t,e,n){return xM(t,e,n)}function NM(t,e,n,r){if(t[rr])return;let i;n.type&8?i=Ut(r):i=AM(e,n),t[rr]=i}function PM(t){return typeof t=="function"&&t[jl]!==void 0}function Lw(t){return PM(t)&&typeof t.set=="function"}function OM(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(LM))}return o}return ou.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),s.push(r(d).then(f=>{a[c+h]=f,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let u=Promise.all(s).then(()=>jM(o));e.push(u)}),kM(),Promise.all(e).then(()=>{})}var ou=new Map,FM=new Set;function kM(){let t=ou;return ou=new Map,t}function VM(){return ou.size===0}function LM(t){return typeof t=="string"?t:t.text()}function jM(t){FM.delete(t)}function BM(t){return Object.getPrototypeOf(t.prototype).constructor}function ui(t){let e=BM(t.type),n=!0,r=[t];for(;e;){let i;if(An(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Oa(t.inputs),s.inputTransforms=Oa(t.inputTransforms),s.declaredInputs=Oa(t.declaredInputs),s.outputs=Oa(t.outputs);let a=i.hostBindings;a&&zM(t,a);let u=i.viewQuery,c=i.contentQueries;if(u&&HM(t,u),c&&qM(t,c),UM(t,i),jb(t.outputs,i.outputs),An(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ui&&(n=!1)}}e=Object.getPrototypeOf(e)}$M(r)}function UM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function $M(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=uo(i.hostAttrs,n=uo(n,i.hostAttrs))}}function Oa(t){return t===Jr?{}:t===pt?[]:t}function HM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function qM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function zM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function zh(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Mn=class{},mo=class{};var su=class extends Mn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new iu(this);let i=a_(e);this._bootstrapComponents=aw(i.bootstrap),this._r3Injector=Q_(e,n,[{provide:Mn,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver},...r],qe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},au=class extends mo{constructor(e){super(),this.moduleType=e}create(e){return new su(this.moduleType,e,[])}};function GM(t,e,n){return new su(t,e,n)}var Qd=class extends Mn{constructor(e){super(),this.componentFactoryResolver=new iu(this),this.instance=null;let n=new co([...e.providers,{provide:Mn,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver}],e.parent||fh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function xu(t,e,n=null){return new Qd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ru=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ne(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jw(t){return KM(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function WM(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function KM(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ur(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Yd(t,e,n,r){let i=ur(t,e,n);return ur(t,e+1,r)||i}function QM(t,e,n,r,i,o){let s=Yd(t,e,n,r);return Yd(t,e+2,i,o)||s}function YM(t){return(t.flags&32)===32}function ZM(t,e,n,r,i,o,s,a,u){let c=e.consts,l=Tu(e,t,4,s||null,Qa(c,a));bw(e,n,l,Qa(c,u)),Dh(e,l);let d=l.tView=Fh(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function dn(t,e,n,r,i,o,s,a){let u=ie(),c=Xe(),l=t+Sn,d=c.firstCreatePass?ZM(l,c,u,e,n,r,i,o,s):c.data[l];Eo(d,!1);let h=JM(c,u,d,t);Eh()&&Ph(c,u,h,d),sr(h,u);let f=Aw(h,u,h,d);return u[l]=f,Su(u,f),RM(f,d,u),gh(d)&&Iw(c,u,d),s!=null&&Dw(u,d,a),dn}var JM=XM;function XM(t,e,n,r){return Ih(!0),e[we].createComment("")}function Nu(t,e,n,r){let i=ie(),o=vu();if(ur(i,o,e)){let s=Xe(),a=_u();OA(a,i,t,e,n,r)}return Nu}function Bw(t,e,n,r){return ur(t,vu(),n)?e+kt(n)+r:At}function ex(t,e,n,r,i,o){let s=R_(),a=Yd(t,s,n,i);return vh(2),a?e+kt(n)+r+kt(i)+o:At}function tx(t,e,n,r,i,o,s,a,u,c){let l=R_(),d=QM(t,l,n,i,s,u);return vh(4),d?e+kt(n)+r+kt(i)+o+kt(s)+a+kt(u)+c:At}function Fa(t,e){return t<<17|e<<2}function cr(t){return t>>17&32767}function nx(t){return(t&2)==2}function rx(t,e){return t&131071|e<<17}function Zd(t){return t|2}function oi(t){return(t&131068)>>2}function gd(t,e){return t&-131069|e<<2}function ix(t){return(t&1)===1}function Jd(t){return t|1}function ox(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=cr(s),u=oi(s);t[r]=n;let c=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||wo(d,l)>0)&&(c=!0)}else l=n;if(i)if(u!==0){let h=cr(t[a+1]);t[r+1]=Fa(h,a),h!==0&&(t[h+1]=gd(t[h+1],r)),t[a+1]=rx(t[a+1],r)}else t[r+1]=Fa(a,0),a!==0&&(t[a+1]=gd(t[a+1],r)),a=r;else t[r+1]=Fa(u,0),a===0?a=r:t[u+1]=gd(t[u+1],r),u=r;c&&(t[r+1]=Zd(t[r+1])),Ov(t,l,r,!0),Ov(t,l,r,!1),sx(e,l,t,r,o),s=Fa(a,u),o?e.classBindings=s:e.styleBindings=s}function sx(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&wo(o,e)>=0&&(n[r+1]=Jd(n[r+1]))}function Ov(t,e,n,r){let i=t[n+1],o=e===null,s=r?cr(i):oi(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],c=t[s+1];ax(u,e)&&(a=!0,t[s+1]=r?Jd(c):Zd(c)),s=r?cr(c):oi(c)}a&&(t[n+1]=r?Zd(i):Jd(i))}function ax(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?wo(t,e)>=0:!1}function hn(t,e,n){let r=ie(),i=vu();if(ur(r,i,e)){let o=Xe(),s=_u();kh(o,s,r,t,e,r[we],n,!1)}return hn}function Fv(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Vh(t,n,o[s],s,r)}function Gh(t,e){return ux(t,e,null,!0),Gh}function ux(t,e,n,r){let i=ie(),o=Xe(),s=vh(2);if(o.firstUpdatePass&&lx(o,t,s,r),e!==At&&ur(i,s,e)){let a=o.data[Rn()];gx(o,a,i,i[we],t,i[s+1]=mx(e,n),r,s)}}function cx(t,e){return e>=t.expandoStartIndex}function lx(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Rn()],s=cx(t,n);yx(o,r)&&e===null&&!s&&(e=!1),e=dx(i,o,e,r),ox(i,o,e,n,s,r)}}function dx(t,e,n,r){let i=sS(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=md(null,t,e,n,r),n=yo(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=md(i,t,e,n,r),o===null){let u=hx(t,e,r);u!==void 0&&Array.isArray(u)&&(u=md(null,t,e,u[1],r),u=yo(u,e.attrs,r),fx(t,e,r,u))}else o=px(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function hx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(oi(r)!==0)return t[cr(r)]}function fx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[cr(i)]=r}function px(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=yo(r,s,n)}return yo(r,e.attrs,n)}function md(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=yo(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function yo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),oT(t,s,n?!0:e[++o]))}return t===void 0?null:t}function gx(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,c=u[a+1],l=ix(c)?kv(u,e,n,i,oi(c),s):void 0;if(!uu(l)){uu(o)||nx(c)&&(o=kv(u,null,n,i,a,s));let d=I_(Rn(),n);hA(r,s,d,i,o)}}function kv(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=l===null,h=n[i+1];h===At&&(h=d?pt:void 0);let f=d?od(h,r):l===r?h:void 0;if(c&&!uu(f)&&(f=od(u,r)),uu(f)&&(a=f,s))return a;let m=t[i+1];i=s?cr(m):oi(m)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=od(u,r))}return a}function uu(t){return t!==void 0}function mx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=qe(Do(t)))),t}function yx(t,e){return(t.flags&(e?8:16))!==0}function vx(t,e,n,r,i,o){let s=e.consts,a=Qa(s,i),u=Tu(e,t,2,r,a);return bw(e,n,u,Qa(s,o)),u.attrs!==null&&Gd(u,u.attrs,!1),u.mergedAttrs!==null&&Gd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Y(t,e,n,r){let i=ie(),o=Xe(),s=Sn+t,a=i[we],u=o.firstCreatePass?vx(s,o,i,e,n,r):o.data[s],c=_x(o,i,u,a,e,t);i[s]=c;let l=gh(u);return Eo(u,!0),gw(a,c,u),!YM(u)&&Eh()&&Ph(o,i,c,u),KT()===0&&sr(c,i),QT(),l&&(Iw(o,i,u),Ew(o,u,i)),r!==null&&Dw(i,u),Y}function J(){let t=et();x_()?tS():(t=t.parent,Eo(t,!1));let e=t;JT(e)&&XT(),YT();let n=Xe();return n.firstCreatePass&&(Dh(n,t),y_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&fS(e)&&Fv(n,e,ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&pS(e)&&Fv(n,e,ie(),e.stylesWithoutHost,!1),J}function On(t,e,n,r){return Y(t,e,n,r),J(),On}var _x=(t,e,n,r,i,o)=>(Ih(!0),uw(r,i,cS()));function Uw(){return ie()}var cu="en-US";var wx=cu;function Ex(t){typeof t=="string"&&(wx=t.toLowerCase().replace(/_/g,"-"))}function bo(t,e,n,r){let i=ie(),o=Xe(),s=et();return $w(o,i,i[we],s,t,e,r),bo}function Ix(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[lo],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function $w(t,e,n,r,i,o,s){let a=gh(r),c=t.firstCreatePass&&jA(t),l=e[Ct],d=LA(e),h=!0;if(r.type&3||s){let D=yt(r,e),C=s?s(D):D,M=d.length,ce=s?de=>s(Ut(de[r.index])):r.index,ne=null;if(!s&&a&&(ne=Ix(t,e,i,r.index)),ne!==null){let de=ne.__ngLastListenerFn__||ne;de.__ngNextListenerFn__=o,ne.__ngLastListenerFn__=o,h=!1}else{o=Lv(r,e,l,o,!1);let de=n.listen(C,i,o);d.push(o,de),c&&c.push(i,ce,M,M+1)}}else o=Lv(r,e,l,o,!1);let f=r.outputs,m;if(h&&f!==null&&(m=f[i])){let D=m.length;if(D)for(let C=0;C<D;C+=2){let M=m[C],ce=m[C+1],Ke=e[M][ce].subscribe(o),se=d.length;d.push(o,Ke),c&&c.push(i,r.index,se,-(se+1))}}}function Vv(t,e,n,r){let i=Q(null);try{return Vt(6,e,n),n(r)!==!1}catch(o){return xw(t,o),!1}finally{Vt(7,e,n),Q(i)}}function Lv(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?xn(t.index,e):e;Bh(a);let u=Vv(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Vv(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function Wh(t=1){return uS(t)}function To(t,e,n){return Pu(t,"",e,"",n),To}function Pu(t,e,n,r,i){let o=ie(),s=Bw(o,e,n,r);if(s!==At){let a=Xe(),u=_u();kh(a,u,o,t,s,o[we],i,!1)}return Pu}function ue(t,e=""){let n=ie(),r=Xe(),i=t+Sn,o=r.firstCreatePass?Tu(r,i,1,e,null):r.data[i],s=Dx(r,n,o,e,t);n[i]=s,Eh()&&Ph(r,n,s,o),Eo(o,!1)}var Dx=(t,e,n,r,i)=>(Ih(!0),WS(e[we],r));function So(t){return Ht("",t,""),So}function Ht(t,e,n){let r=ie(),i=Bw(r,t,e,n);return i!==At&&Lh(r,Rn(),i),Ht}function Ou(t,e,n,r,i){let o=ie(),s=ex(o,t,e,n,r,i);return s!==At&&Lh(o,Rn(),s),Ou}function Kh(t,e,n,r,i,o,s,a,u){let c=ie(),l=tx(c,t,e,n,r,i,o,s,a,u);return l!==At&&Lh(c,Rn(),l),Kh}function Qh(t,e,n){Lw(e)&&(e=e());let r=ie(),i=vu();if(ur(r,i,e)){let o=Xe(),s=_u();kh(o,s,r,t,e,r[we],n,!1)}return Qh}function Hw(t,e){let n=Lw(t);return n&&t.set(e),n}function Yh(t,e){let n=ie(),r=Xe(),i=et();return $w(r,n,n[we],i,t,e),Yh}function Cx(t,e,n){let r=Xe();if(r.firstCreatePass){let i=An(t);Xd(n,r.data,r.blueprint,i,!0),Xd(e,r.data,r.blueprint,i,!1)}}function Xd(t,e,n,r,i){if(t=He(t),Array.isArray(t))for(let o=0;o<t.length;o++)Xd(t[o],e,n,r,i);else{let o=Xe(),s=ie(),a=et(),u=ei(t)?t:He(t.provide),c=f_(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ei(t)||!t.multi){let f=new or(c,i,L),m=vd(u,e,i?l:l+h,d);m===-1?(xd(Ja(a,s),o,u),yd(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[m]=f,s[m]=f)}else{let f=vd(u,e,l+h,d),m=vd(u,e,l,l+h),D=f>=0&&n[f],C=m>=0&&n[m];if(i&&!C||!i&&!D){xd(Ja(a,s),o,u);let M=Sx(i?Tx:bx,n.length,i,r,c);!i&&C&&(n[m].providerFactory=M),yd(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(M),s.push(M)}else{let M=qw(n[i?m:f],c,!i&&r);yd(o,t,f>-1?f:m,M)}!i&&r&&C&&n[m].componentProviders++}}}function yd(t,e,n,r){let i=ei(e),o=TT(e);if(i||o){let u=(o?He(e.useClass):e).prototype.ngOnDestroy;if(u){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=c.indexOf(n);l===-1?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function qw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bx(t,e,n,r){return eh(this.multi,[])}function Tx(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ri(n,n[H],this.providerFactory.index,r);o=a.slice(0,s),eh(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],eh(i,o);return o}function eh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Sx(t,e,n,r,i){let o=new or(t,n,L);return o.multi=[],o.index=e,o.componentProviders=0,qw(o,i,r&&!n),o}function Zh(t,e=[]){return n=>{n.providersResolver=(r,i)=>Cx(r,i?i(t):t,e)}}var Ax=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=l_(!1,r.type),o=i.length>0?xu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=T({token:e,providedIn:"environment",factory:()=>new e(A(st))});let t=e;return t})();function ci(t){Uh("NgStandalone"),t.getStandaloneInjector=e=>e.get(Ax).getOrCreateStandaloneInjector(t)}var ka=null;function Mx(t){ka!==null&&(t.defaultEncapsulation!==ka.defaultEncapsulation||t.preserveWhitespaces!==ka.preserveWhitespaces)||(ka=t)}var Fu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Jh=new x(""),Ao=new x(""),ku=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Xh||(xx(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(A(ae),A(Vu),A(Ao))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Vu=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Xh?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function xx(t){Xh=t}var Xh;function hr(t){return!!t&&typeof t.then=="function"}function zw(t){return!!t&&typeof t.subscribe=="function"}var Lu=new x(""),Gw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=_(Lu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(hr(s))r.push(s);else if(zw(s)){let a=new Promise((u,c)=>{s.subscribe({complete:u,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ef=new x("");function Rx(){Ny(()=>{throw new b(600,!1)})}function Nx(t){return t.isBoundToModule}function Px(t,e,n){try{let r=n();return hr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function Ww(t,e){return Array.isArray(e)?e.reduce(Ww,t):I(I({},t),e)}var li=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(Y_),this.afterRenderEffectManager=_(qh),this.externalTestViews=new Set,this.beforeRender=new Ve,this.afterTick=new Ve,this.componentTypes=[],this.components=[],this.isStable=_(Ru).hasPendingTasks.pipe($(r=>!r)),this._injector=_(st)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof ru;if(!this._injector.get(Gw).done){let f=!o&&s_(r),m=!1;throw new b(405,m)}let a;o?a=r:a=this._injector.get(Mu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=Nx(a)?void 0:this._injector.get(Mn),c=i||a.selector,l=a.create(St.NULL,[],c,u),d=l.location.nativeElement,h=l.injector.get(Jh,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Ua(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new b(101,!1);let i=Q(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Q(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===Nw)throw new b(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)Ox(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>th(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>th(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ua(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(ef,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ua(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new b(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ua(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ox(t,e,n){!e&&!th(t)||Fx(t,n,e)}function th(t){return yh(t)}function Fx(t,e,n){let r;n?(r=0,t[N]|=1024):t[N]&64?r=0:r=1,Pw(t,e,r)}var nh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ju=(()=>{let e=class e{compileModuleSync(r){return new au(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=a_(r),s=aw(o.declarations).reduce((a,u)=>{let c=Tn(u);return c&&a.push(new ii(c)),a},[]);return new nh(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kx=new x("");function Vx(t,e,n){let r=new au(n);return Promise.resolve(r)}function jv(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Lx=(()=>{let e=class e{constructor(){this.zone=_(ae),this.applicationRef=_(li)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jx(t){return[{provide:ae,useFactory:t},{provide:Xr,multi:!0,useFactory:()=>{let e=_(Lx,{optional:!0});return()=>e.initialize()}},{provide:Xr,multi:!0,useFactory:()=>{let e=_($x);return()=>{e.initialize()}}},{provide:Y_,useFactory:Bx}]}function Bx(){let t=_(ae),e=_($t);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Ux(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var $x=(()=>{let e=class e{constructor(){this.subscription=new Te,this.initialized=!1,this.zone=_(ae),this.pendingTasks=_(Ru)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hx(){return typeof $localize<"u"&&$localize.locale||cu}var tf=new x("",{providedIn:"root",factory:()=>_(tf,j.Optional|j.SkipSelf)||Hx()});var Kw=new x(""),Qw=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=gM(i?.ngZone,Ux({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=GM(r.moduleType,this.injector,jx(()=>o)),a=s.injector.get($t,null);return o.runOutsideAngular(()=>{let u=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{Ua(this._modules,s),u.unsubscribe()})}),Px(a,o,()=>{let u=s.injector.get(Gw);return u.runInitializers(),u.donePromise.then(()=>{let c=s.injector.get(tf,cu);return Ex(c||cu),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=Ww({},i);return Vx(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(li);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new b(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(Kw,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(A(St))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),so=null,Yw=new x("");function qx(t){if(so&&!so.get(Yw,!1))throw new b(400,!1);Rx(),so=t;let e=t.get(Qw);return Wx(t),e}function nf(t,e,n=[]){let r=`Platform: ${e}`,i=new x(r);return(o=[])=>{let s=Zw();if(!s||s.injector.get(Yw,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):qx(zx(a,r))}return Gx(i)}}function zx(t=[],e){return St.create({name:e,providers:[{provide:pu,useValue:"platform"},{provide:Kw,useValue:new Set([()=>so=null])},...t]})}function Gx(t){let e=Zw();if(!e)throw new b(401,!1);return e}function Zw(){return so?.get(Qw)??null}function Wx(t){t.get(Sh,null)?.forEach(n=>n())}var fr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Kx;let t=e;return t})();function Kx(t){return Qx(et(),ie(),(t&16)===16)}function Qx(t,e,n){if(yu(t)&&!n){let r=xn(t.index,e);return new ar(r,r)}else if(t.type&47){let r=e[Bt];return new ar(r,e)}return null}var rh=class{constructor(){}supports(e){return jw(e)}create(e){return new ih(e)}},Yx=(t,e)=>e,ih=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Yx}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Bv(r,i,o)?n:r,a=Bv(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,m=f+h;l<=m&&m<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!jw(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,WM(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new oh(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new lu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new lu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},oh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},sh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},lu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new sh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Bv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Uv(){return new rf([new rh])}var rf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Uv()),deps:[[e,new ch,new fu]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new b(901,!1)}};e.\u0275prov=T({token:e,providedIn:"root",factory:Uv});let t=e;return t})();var Jw=nf(null,"core",[]),Xw=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(A(li))},e.\u0275mod=Je({type:e}),e.\u0275inj=Ye({});let t=e;return t})();function pr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function eE(t){let e=Tn(t);if(!e)return null;let n=new ii(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var oE=null;function qt(){return oE}function sE(t){oE??=t}var Bu=class{};var nt=new x(""),lf=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>_(Zx),providedIn:"platform"});let t=e;return t})(),aE=new x(""),Zx=(()=>{let e=class e extends lf{constructor(){super(),this._doc=_(nt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qt().getBaseHref(this._doc)}onPopState(r){let i=qt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=qt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function df(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function tE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function fn(t){return t&&t[0]!=="?"?"?"+t:t}var pn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>_(hf),providedIn:"root"});let t=e;return t})(),uE=new x(""),hf=(()=>{let e=class e extends pn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??_(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return df(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+fn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+fn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+fn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(A(lf),A(uE,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cE=(()=>{let e=class e extends pn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=df(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+fn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+fn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(A(lf),A(uE,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Fn=(()=>{let e=class e{constructor(r){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=eR(tE(nE(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+fn(i))}normalize(r){return e.stripTrailingSlash(Xx(this._basePath,nE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+fn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+fn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=fn,e.joinWithSlash=df,e.stripTrailingSlash=tE,e.\u0275fac=function(i){return new(i||e)(A(pn))},e.\u0275prov=T({token:e,factory:()=>Jx(),providedIn:"root"});let t=e;return t})();function Jx(){return new Fn(A(pn))}function Xx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function nE(t){return t.replace(/\/index.html$/,"")}function eR(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function lE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var of=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},di=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new of(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),rE(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);rE(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(L(ai),L(Au),L(rf))},e.\u0275dir=mt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function rE(t,e){t.context.$implicit=e.item}var dE=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new sf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){iE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){iE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(L(ai),L(Au))},e.\u0275dir=mt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),sf=class{constructor(){this.$implicit=null,this.ngIf=null}};function iE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${qe(e)}'.`)}var hE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Je({type:e}),e.\u0275inj=Ye({});let t=e;return t})(),ff="browser",tR="server";function nR(t){return t===ff}function pf(t){return t===tR}var fE=(()=>{let e=class e{};e.\u0275prov=T({token:e,providedIn:"root",factory:()=>nR(_(Pn))?new af(_(nt),window):new uf});let t=e;return t})(),af=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=rR(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function rR(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var uf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Uu=class{};var yf=class extends Bu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},vf=class t extends yf{static makeCurrent(){sE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=oR();return n==null?null:sR(n)}resetBaseElement(){Mo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lE(document.cookie,e)}},Mo=null;function oR(){return Mo=Mo||document.querySelector("base"),Mo?Mo.getAttribute("href"):null}function sR(t){return new URL(t,document.baseURI).pathname}var _f=class{addToWindow(e){Oe.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new b(5103,!1);return o},Oe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Oe.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Oe.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?qt().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},aR=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),wf=new x(""),yE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new b(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(A(wf),A(ae))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Hu=class{constructor(e){this._doc=e}},gf="ng-app-id",vE=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pf(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${gf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(gf),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(gf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(A(nt),A(Eu),A(Ah,8),A(Pn))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),mf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},If=/%COMP%/g,_E="%COMP%",uR=`_nghost-${_E}`,cR=`_ngcontent-${_E}`,lR=!0,dR=new x("",{providedIn:"root",factory:()=>lR});function hR(t){return cR.replace(If,t)}function fR(t){return uR.replace(If,t)}function wE(t,e){return e.map(n=>n.replace(If,t))}var pE=(()=>{let e=class e{constructor(r,i,o,s,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=pf(u),this.defaultRenderer=new xo(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===jt.ShadowDom&&(i=re(I({},i),{encapsulation:jt.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof qu?o.applyToHost(r):o instanceof Ro&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case jt.Emulated:s=new qu(c,l,i,this.appId,d,a,u,h);break;case jt.ShadowDom:return new Ef(c,l,r,i,a,u,this.nonce,h);default:s=new Ro(c,l,i,d,a,u,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(A(yE),A(vE),A(Eu),A(dR),A(nt),A(Pn),A(ae),A(Ah))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),xo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(mf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(gE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(gE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=mf[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=mf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(an.DashCase|an.Important)?e.style.setProperty(n,r,i&an.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&an.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=qt().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function gE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ef=class extends xo{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=wE(i.id,i.styles);for(let l of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ro=class extends xo{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?wE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},qu=class extends Ro{constructor(e,n,r,i,o,s,a,u){let c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=hR(c),this.hostAttr=fR(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},pR=(()=>{let e=class e extends Hu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(A(nt))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),mE=["alt","control","meta","shift"],gR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},yR=(()=>{let e=class e extends Hu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qt().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),mE.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=gR[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),mE.forEach(a=>{if(a!==o){let u=mR[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(A(nt))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function vR(){vf.makeCurrent()}function _R(){return new $t}function wR(){return nw(document),document}var ER=[{provide:Pn,useValue:ff},{provide:Sh,useValue:vR,multi:!0},{provide:nt,useFactory:wR,deps:[]}],EE=nf(Jw,"browser",ER),IR=new x(""),DR=[{provide:Ao,useClass:_f,deps:[]},{provide:Jh,useClass:ku,deps:[ae,Vu,Ao]},{provide:ku,useClass:ku,deps:[ae,Vu,Ao]}],CR=[{provide:pu,useValue:"root"},{provide:$t,useFactory:_R,deps:[]},{provide:wf,useClass:pR,multi:!0,deps:[nt,ae,Pn]},{provide:wf,useClass:yR,multi:!0,deps:[nt]},pE,vE,yE,{provide:go,useExisting:pE},{provide:Uu,useClass:aR,deps:[]},[]],IE=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Eu,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(A(IR,12))},e.\u0275mod=Je({type:e}),e.\u0275inj=Ye({providers:[...CR,...DR],imports:[hE,Xw]});let t=e;return t})();var DE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(A(nt))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var NE=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(L(dr),L(Nn))},e.\u0275dir=mt({type:e});let t=e;return t})(),bR=(()=>{let e=class e extends NE{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Io(e)))(o||e)}})(),e.\u0275dir=mt({type:e,features:[ui]});let t=e;return t})(),PE=new x("");var TR={provide:PE,useExisting:_o(()=>Ku),multi:!0};function SR(){let t=qt()?qt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var AR=new x(""),Ku=(()=>{let e=class e extends NE{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!SR())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(L(dr),L(Nn),L(AR,8))},e.\u0275dir=mt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&bo("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Zh([TR]),ui]});let t=e;return t})();var MR=new x(""),xR=new x("");function OE(t){return t!=null}function FE(t){return hr(t)?he(t):t}function kE(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function VE(t,e){return e.map(n=>n(t))}function RR(t){return!t.validate}function LE(t){return t.map(e=>RR(e)?e:n=>e.validate(n))}function NR(t){if(!t)return null;let e=t.filter(OE);return e.length==0?null:function(n){return kE(VE(n,e))}}function jE(t){return t!=null?NR(LE(t)):null}function PR(t){if(!t)return null;let e=t.filter(OE);return e.length==0?null:function(n){let r=VE(n,e).map(FE);return Xl(r).pipe($(kE))}}function BE(t){return t!=null?PR(LE(t)):null}function bE(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function OR(t){return t._rawValidators}function FR(t){return t._rawAsyncValidators}function Df(t){return t?Array.isArray(t)?t:[t]:[]}function Gu(t,e){return Array.isArray(t)?t.includes(e):t===e}function TE(t,e){let n=Df(e);return Df(t).forEach(i=>{Gu(n,i)||n.push(i)}),n}function SE(t,e){return Df(e).filter(n=>!Gu(t,n))}var Wu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=BE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Cf=class extends Wu{get formDirective(){return null}get path(){return null}},Oo=class extends Wu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},bf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},kR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},G$=re(I({},kR),{"[class.ng-submitted]":"isSubmitted"}),UE=(()=>{let e=class e extends bf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(L(Oo,2))},e.\u0275dir=mt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Gh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ui]});let t=e;return t})();var No="VALID",zu="INVALID",hi="PENDING",Po="DISABLED";function VR(t){return(Qu(t)?t.validators:t)||null}function LR(t){return Array.isArray(t)?jE(t):t||null}function jR(t,e){return(Qu(e)?e.asyncValidators:t)||null}function BR(t){return Array.isArray(t)?BE(t):t||null}function Qu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Tf=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===No}get invalid(){return this.status===zu}get pending(){return this.status==hi}get disabled(){return this.status===Po}get enabled(){return this.status!==Po}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SE(e,this._rawAsyncValidators))}hasValidator(e){return Gu(this._rawValidators,e)}hasAsyncValidator(e){return Gu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hi,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Po,this.errors=null,this._forEachChild(r=>{r.disable(re(I({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=No,this._forEachChild(r=>{r.enable(re(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===No||this.status===hi)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Po:No}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hi,this._hasOwnPendingAsyncValidator=!0;let n=FE(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?Po:this.errors?zu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hi)?hi:this._anyControlsHaveStatus(zu)?zu:No}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=LR(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=BR(this._rawAsyncValidators)}};var $E=new x("CallSetDisabledState",{providedIn:"root",factory:()=>Sf}),Sf="always";function UR(t,e){return[...e.path,t]}function $R(t,e,n=Sf){qR(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),zR(t,e),WR(t,e),GR(t,e),HR(t,e)}function AE(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function HR(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function qR(t,e){let n=OR(t);e.validator!==null?t.setValidators(bE(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=FR(t);e.asyncValidator!==null?t.setAsyncValidators(bE(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();AE(e._rawValidators,i),AE(e._rawAsyncValidators,i)}function zR(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&HE(t,e)})}function GR(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&HE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function HE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function WR(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function KR(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function QR(t){return Object.getPrototypeOf(t.constructor)===bR}function YR(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ku?n=o:QR(o)?r=o:i=o}),i||r||n||null}function ME(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ZR=class extends Tf{constructor(e=null,n,r){super(VR(n),jR(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(xE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ME(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ME(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){xE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var JR={provide:Oo,useExisting:_o(()=>Af)},RE=Promise.resolve(),Af=(()=>{let e=class e extends Oo{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new ZR,this._registered=!1,this.name="",this.update=new Se,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=YR(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),KR(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$R(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){RE.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&pr(i);RE.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?UR(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(L(Cf,9),L(MR,10),L(xR,10),L(PE,10),L(fr,8),L($E,8))},e.\u0275dir=mt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ze.None,"disabled","isDisabled"],model:[ze.None,"ngModel","model"],options:[ze.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zh([JR]),ui,lr]});let t=e;return t})();var XR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Je({type:e}),e.\u0275inj=Ye({});let t=e;return t})();var fi=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:$E,useValue:r.callSetDisabledState??Sf}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Je({type:e}),e.\u0275inj=Ye({imports:[XR]});let t=e;return t})();var k="primary",Qo=Symbol("RouteTitle"),Pf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vi(t){return new Pf(t)}function tN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function nN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!zt(t[n],e[n]))return!1;return!0}function zt(t,e){let n=t?Of(t):void 0,r=e?Of(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!JE(t[i],e[i]))return!1;return!0}function Of(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function JE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function XE(t){return t.length>0?t[t.length-1]:null}function jn(t){return Jl(t)?t:hr(t)?he(Promise.resolve(t)):R(t)}var rN={exact:tI,subset:nI},eI={exact:iN,subset:oN,ignored:()=>!0};function qE(t,e,n){return rN[n.paths](t.root,e.root,n.matrixParams)&&eI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function iN(t,e){return zt(t,e)}function tI(t,e,n){if(!mr(t.segments,e.segments)||!Ju(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!tI(t.children[r],e.children[r],n))return!1;return!0}function oN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>JE(t[n],e[n]))}function nI(t,e,n){return rI(t,e,e.segments,n)}function rI(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!mr(i,n)||e.hasChildren()||!Ju(i,n,r))}else if(t.segments.length===n.length){if(!mr(t.segments,n)||!Ju(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!nI(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!mr(t.segments,i)||!Ju(t.segments,i,r)||!t.children[k]?!1:rI(t.children[k],e,o,r)}}function Ju(t,e,n){return e.every((r,i)=>eI[n](t[i].parameters,r.parameters))}var kn=class{constructor(e=new X([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vi(this.queryParams),this._queryParamMap}toString(){return uN.serialize(this)}},X=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xu(this)}},gr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vi(this.parameters),this._parameterMap}toString(){return oI(this)}};function sN(t,e){return mr(t,e)&&t.every((n,r)=>zt(n.parameters,e[r].parameters))}function mr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function aN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===k&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==k&&(n=n.concat(e(i,r)))}),n}var Yo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>new Uo,providedIn:"root"});let t=e;return t})(),Uo=class{parse(e){let n=new kf(e);return new kn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Fo(e.root,!0)}`,r=dN(e.queryParams),i=typeof e.fragment=="string"?`#${cN(e.fragment)}`:"";return`${n}${r}${i}`}},uN=new Uo;function Xu(t){return t.segments.map(e=>oI(e)).join("/")}function Fo(t,e){if(!t.hasChildren())return Xu(t);if(e){let n=t.children[k]?Fo(t.children[k],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==k&&r.push(`${i}:${Fo(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=aN(t,(r,i)=>i===k?[Fo(t.children[k],!1)]:[`${i}:${Fo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[k]!=null?`${Xu(t)}/${n[0]}`:`${Xu(t)}/(${n.join("//")})`}}function iI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yu(t){return iI(t).replace(/%3B/gi,";")}function cN(t){return encodeURI(t)}function Ff(t){return iI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ec(t){return decodeURIComponent(t)}function zE(t){return ec(t.replace(/\+/g,"%20"))}function oI(t){return`${Ff(t.path)}${lN(t.parameters)}`}function lN(t){return Object.entries(t).map(([e,n])=>`;${Ff(e)}=${Ff(n)}`).join("")}function dN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Yu(n)}=${Yu(i)}`).join("&"):`${Yu(n)}=${Yu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var hN=/^[^\/()?;#]+/;function Mf(t){let e=t.match(hN);return e?e[0]:""}var fN=/^[^\/()?;=#]+/;function pN(t){let e=t.match(fN);return e?e[0]:""}var gN=/^[^=?&#]+/;function mN(t){let e=t.match(gN);return e?e[0]:""}var yN=/^[^&#]+/;function vN(t){let e=t.match(yN);return e?e[0]:""}var kf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[k]=new X(e,n)),r}parseSegment(){let e=Mf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new gr(ec(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=pN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Mf(this.remaining);i&&(r=i,this.capture(r))}e[ec(n)]=ec(r)}parseQueryParam(e){let n=mN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=vN(this.remaining);s&&(r=s,this.capture(r))}let i=zE(n),o=zE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Mf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=k);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[k]:new X([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}};function sI(t){return t.segments.length>0?new X([],{[k]:t}):t}function aI(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=aI(i);if(r===k&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new X(t.segments,e);return _N(n)}function _N(t){if(t.numberOfChildren===1&&t.children[k]){let e=t.children[k];return new X(t.segments.concat(e.segments),e.children)}return t}function _i(t){return t instanceof kn}function wN(t,e,n=null,r=null){let i=uI(t);return cI(i,e,n,r)}function uI(t){let e;function n(o){let s={};for(let u of o.children){let c=n(u);s[u.outlet]=c}let a=new X(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=sI(r);return e??i}function cI(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return xf(i,i,i,n,r);let o=EN(e);if(o.toRoot())return xf(i,i,new X([],{}),n,r);let s=IN(o,i,t),a=s.processChildren?Lo(s.segmentGroup,s.index,o.commands):dI(s.segmentGroup,s.index,o.commands);return xf(i,s.segmentGroup,a,n,r)}function tc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function $o(t){return typeof t=="object"&&t!=null&&t.outlets}function xf(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`});let s;t===e?s=n:s=lI(t,e,n);let a=sI(aI(s));return new kn(a,o,i)}function lI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=lI(o,e,n)}),new X(t.segments,r)}var nc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&tc(r[0]))throw new b(4003,!1);let i=r.find($o);if(i&&i!==XE(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function EN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new nc(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new nc(n,e,r)}var mi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function IN(t,e,n){if(t.isAbsolute)return new mi(e,!0,0);if(!n)return new mi(e,!1,NaN);if(n.parent===null)return new mi(n,!0,0);let r=tc(t.commands[0])?0:1,i=n.segments.length-1+r;return DN(n,i,t.numberOfDoubleDots)}function DN(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new mi(r,!1,i-o)}function CN(t){return $o(t[0])?t[0].outlets:{[k]:t}}function dI(t,e,n){if(t??=new X([],{}),t.segments.length===0&&t.hasChildren())return Lo(t,e,n);let r=bN(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new X(t.segments.slice(0,r.pathIndex),{});return o.children[k]=new X(t.segments.slice(r.pathIndex),t.children),Lo(o,0,i)}else return r.match&&i.length===0?new X(t.segments,{}):r.match&&!t.hasChildren()?Vf(t,e,n):r.match?Lo(t,0,i):Vf(t,e,n)}function Lo(t,e,n){if(n.length===0)return new X(t.segments,{});{let r=CN(n),i={};if(Object.keys(r).some(o=>o!==k)&&t.children[k]&&t.numberOfChildren===1&&t.children[k].segments.length===0){let o=Lo(t.children[k],e,n);return new X(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=dI(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new X(t.segments,i)}}function bN(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if($o(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!WE(u,c,s))return o;r+=2}else{if(!WE(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Vf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if($o(o)){let u=TN(o.outlets);return new X(r,u)}if(i===0&&tc(n[0])){let u=t.segments[e];r.push(new gr(u.path,GE(n[0]))),i++;continue}let s=$o(o)?o.outlets[k]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&tc(a)?(r.push(new gr(s,GE(a))),i+=2):(r.push(new gr(s,{})),i++)}return new X(r,{})}function TN(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Vf(new X([],{}),0,r))}),e}function GE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function WE(t,e,n){return t==n.path&&zt(e,n.parameters)}var jo="imperative",Ae=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ae||{}),vt=class{constructor(e,n){this.id=e,this.url=n}},wi=class extends vt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ae.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gt=class extends vt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ae.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ut=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ut||{}),rc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(rc||{}),Vn=class extends vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ae.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ln=class extends vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ae.NavigationSkipped}},Ho=class extends vt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ae.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ic=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ae.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lf=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ae.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jf=class extends vt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ae.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bf=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ae.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uf=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ae.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class{constructor(e){this.route=e,this.type=Ae.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hf=class{constructor(e){this.route=e,this.type=Ae.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},qf=class{constructor(e){this.snapshot=e,this.type=Ae.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zf=class{constructor(e){this.snapshot=e,this.type=Ae.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gf=class{constructor(e){this.snapshot=e,this.type=Ae.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wf=class{constructor(e){this.snapshot=e,this.type=Ae.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},oc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ae.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},qo=class{},zo=class{constructor(e){this.url=e}};var Kf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zo,this.attachRef=null}},Zo=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Kf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Qf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Qf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Yf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yf(e,this._root).map(n=>n.value)}};function Qf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Qf(t,n);if(r)return r}return null}function Yf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Yf(t,n);if(r.length)return r.unshift(e),r}return[]}var at=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function gi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ac=class extends sc{constructor(e,n){super(e),this.snapshot=n,sp(this,e)}toString(){return this.snapshot.toString()}};function hI(t){let e=SN(t),n=new Ne([new gr("",{})]),r=new Ne({}),i=new Ne({}),o=new Ne({}),s=new Ne(""),a=new Mt(n,r,o,s,i,k,t,e.root);return a.snapshot=e.root,new ac(new at(a,[]),e)}function SN(t){let e={},n={},r={},i="",o=new Go([],e,r,i,n,k,t,null,{});return new uc("",new at(o,[]))}var Mt=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe($(c=>c[Qo]))??R(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(e=>vi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(e=>vi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function op(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&pI(i)&&(r.resolve[Qo]=i.title),r}var Go=class{get title(){return this.data?.[Qo]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},uc=class extends sc{constructor(e,n){super(n),this.url=e,sp(this,n)}toString(){return fI(this._root)}};function sp(t,e){e.value._routerState=t,e.children.forEach(n=>sp(t,n))}function fI(t){let e=t.children.length>0?` { ${t.children.map(fI).join(", ")} } `:"";return`${t.value}${e}`}function Rf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,zt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),zt(e.params,n.params)||t.paramsSubject.next(n.params),nN(e.url,n.url)||t.urlSubject.next(n.url),zt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Zf(t,e){let n=zt(t.params,e.params)&&sN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Zf(t.parent,e.parent))}function pI(t){return typeof t.title=="string"||t.title===null}var ap=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=k,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.parentContexts=_(Zo),this.location=_(ai),this.changeDetector=_(fr),this.environmentInjector=_(st),this.inputBinder=_(fc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new Jf(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=mt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[lr]});let t=e;return t})(),Jf=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Mt?this.route:e===Zo?this.childContexts:this.parent.get(e,n)}},fc=new x(""),KE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=ro([i.queryParams,i.params,i.data]).pipe(ht(([s,a,u],c)=>(u=I(I(I({},s),a),u),c===0?R(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=eE(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function AN(t,e,n){let r=Wo(t,e._root,n?n._root:void 0);return new ac(r,e)}function Wo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=MN(t,e,n);return new at(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Wo(t,a)),s}}let r=xN(e.value),i=e.children.map(o=>Wo(t,o));return new at(r,i)}}function MN(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Wo(t,r,i);return Wo(t,r)})}function xN(t){return new Mt(new Ne(t.url),new Ne(t.params),new Ne(t.queryParams),new Ne(t.fragment),new Ne(t.data),t.outlet,t.component,t)}var gI="ngNavigationCancelingError";function mI(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=_i(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=yI(!1,ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function yI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[gI]=!0,n.cancellationCode=e,n}function RN(t){return vI(t)&&_i(t.url)}function vI(t){return!!t&&t[gI]}var NN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ze({type:e,selectors:[["ng-component"]],standalone:!0,features:[ci],decls:1,vars:0,template:function(i,o){i&1&&On(0,"router-outlet")},dependencies:[ap],encapsulation:2});let t=e;return t})();function PN(t,e){return t.providers&&!t._injector&&(t._injector=xu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function up(t){let e=t.children&&t.children.map(up),n=e?re(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==k&&(n.component=NN),n}function Wt(t){return t.outlet||k}function ON(t,e){let n=t.filter(r=>Wt(r)===e);return n.push(...t.filter(r=>Wt(r)!==e)),n}function Jo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var FN=(t,e,n,r)=>$(i=>(new Xf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Xf=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Rf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Wf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new zf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Rf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Rf(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Jo(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},cc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},yi=class{constructor(e,n){this.component=e,this.route=n}};function kN(t,e,n){let r=t._root,i=e?e._root:null;return ko(r,i,n,[r.value])}function VN(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ii(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!zv(t)?t:e.get(t):r}function ko(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=gi(e);return t.children.forEach(s=>{LN(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Bo(a,n.getContext(s),i)),i}function LN(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=jN(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new cc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ko(t,e,a?a.children:null,r,i):ko(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yi(a.outlet.component,s))}else s&&Bo(e,a,i),i.canActivateChecks.push(new cc(r)),o.component?ko(t,null,a?a.children:null,r,i):ko(t,null,n,r,i);return i}function jN(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!mr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mr(t.url,e.url)||!zt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zf(t,e)||!zt(t.queryParams,e.queryParams);case"paramsChange":default:return!Zf(t,e)}}function Bo(t,e,n){let r=gi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Bo(s,e.children.getContext(o),n):Bo(s,null,n):Bo(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new yi(e.outlet.component,i)):n.canDeactivateChecks.push(new yi(null,i)):n.canDeactivateChecks.push(new yi(null,i))}function Xo(t){return typeof t=="function"}function BN(t){return typeof t=="boolean"}function UN(t){return t&&Xo(t.canLoad)}function $N(t){return t&&Xo(t.canActivate)}function HN(t){return t&&Xo(t.canActivateChild)}function qN(t){return t&&Xo(t.canDeactivate)}function zN(t){return t&&Xo(t.canMatch)}function _I(t){return t instanceof on||t?.name==="EmptyError"}var Zu=Symbol("INITIAL_VALUE");function Ei(){return ht(t=>ro(t.map(e=>e.pipe(sn(1),rd(Zu)))).pipe($(e=>{for(let n of e)if(n!==!0){if(n===Zu)return Zu;if(n===!1||n instanceof kn)return n}return!0}),dt(e=>e!==Zu),sn(1)))}function GN(t,e){return _e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?R(re(I({},n),{guardsResult:!0})):WN(s,r,i,t).pipe(_e(a=>a&&BN(a)?KN(r,o,t,e):R(a)),$(a=>re(I({},n),{guardsResult:a})))})}function WN(t,e,n,r){return he(t).pipe(_e(i=>XN(i.component,i.route,n,e,r)),Ft(i=>i!==!0,!0))}function KN(t,e,n,r){return he(e).pipe(Xn(i=>Hr(YN(i.route.parent,r),QN(i.route,r),JN(t,i.path,n),ZN(t,i.route,n))),Ft(i=>i!==!0,!0))}function QN(t,e){return t!==null&&e&&e(new Gf(t)),R(!0)}function YN(t,e){return t!==null&&e&&e(new qf(t)),R(!0)}function ZN(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(o=>Ma(()=>{let s=Jo(e)??n,a=Ii(o,s),u=$N(a)?a.canActivate(e,t):un(s,()=>a(e,t));return jn(u).pipe(Ft())}));return R(i).pipe(Ei())}function JN(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>VN(s)).filter(s=>s!==null).map(s=>Ma(()=>{let a=s.guards.map(u=>{let c=Jo(s.node)??n,l=Ii(u,c),d=HN(l)?l.canActivateChild(r,t):un(c,()=>l(r,t));return jn(d).pipe(Ft())});return R(a).pipe(Ei())}));return R(o).pipe(Ei())}function XN(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return R(!0);let s=o.map(a=>{let u=Jo(e)??i,c=Ii(a,u),l=qN(c)?c.canDeactivate(t,e,n,r):un(u,()=>c(t,e,n,r));return jn(l).pipe(Ft())});return R(s).pipe(Ei())}function eP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return R(!0);let o=i.map(s=>{let a=Ii(s,t),u=UN(a)?a.canLoad(e,n):un(t,()=>a(e,n));return jn(u)});return R(o).pipe(Ei(),wI(r))}function wI(t){return Kl(Pe(e=>{if(_i(e))throw mI(t,e)}),$(e=>e===!0))}function tP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return R(!0);let o=i.map(s=>{let a=Ii(s,t),u=zN(a)?a.canMatch(e,n):un(t,()=>a(e,n));return jn(u)});return R(o).pipe(Ei(),wI(r))}var Ko=class{constructor(e){this.segmentGroup=e||null}},lc=class extends Error{constructor(e){super(),this.urlTree=e}};function pi(t){return Ur(new Ko(t))}function nP(t){return Ur(new b(4e3,!1))}function rP(t){return Ur(yI(!1,ut.GuardRejected))}var ep=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[k])return nP(e.redirectTo);i=i.children[k]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new lc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new kn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new X(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},tp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iP(t,e,n,r,i){let o=cp(t,e,n);return o.matched?(r=PN(e,r),tP(r,e,n,i).pipe($(s=>s===!0?o:I({},tp)))):R(o)}function cp(t,e,n){if(e.path==="**")return oP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},tp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||tN)(n,t,e);if(!i)return I({},tp);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function oP(t){return{matched:!0,parameters:t.length>0?XE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function QE(t,e,n,r){return n.length>0&&uP(t,n,r)?{segmentGroup:new X(e,aP(r,new X(n,t.children))),slicedSegments:[]}:n.length===0&&cP(t,n,r)?{segmentGroup:new X(t.segments,sP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new X(t.segments,t.children),slicedSegments:n}}function sP(t,e,n,r){let i={};for(let o of n)if(pc(t,e,o)&&!r[Wt(o)]){let s=new X([],{});i[Wt(o)]=s}return I(I({},r),i)}function aP(t,e){let n={};n[k]=e;for(let r of t)if(r.path===""&&Wt(r)!==k){let i=new X([],{});n[Wt(r)]=i}return n}function uP(t,e,n){return n.some(r=>pc(t,e,r)&&Wt(r)!==k)}function cP(t,e,n){return n.some(r=>pc(t,e,r))}function pc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function lP(t,e,n,r){return Wt(t)!==r&&(r===k||!pc(e,n,t))?!1:cp(e,t,n).matched}function dP(t,e,n){return e.length===0&&!t.children[n]}var np=class{};function hP(t,e,n,r,i,o,s="emptyOnly"){return new rp(t,e,n,r,i,s,o).recognize()}var fP=31,rp=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ep(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,`'${e.segmentGroup}'`)}recognize(){let e=QE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe($(n=>{let r=new Go([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,{},k,this.rootComponentType,null,{}),i=new at(r,n),o=new uc("",i),s=wN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,k).pipe(In(r=>{if(r instanceof lc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ko?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=op(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe($(o=>o instanceof at?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return he(i).pipe(Xn(o=>{let s=r.children[o],a=ON(n,o);return this.processSegmentGroup(e,a,s,o)}),nd((o,s)=>(o.push(...s),o)),Dn(null),td(),_e(o=>{if(o===null)return pi(r);let s=EI(o);return pP(s),R(s)}))}processSegment(e,n,r,i,o,s){return he(n).pipe(Xn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(In(u=>{if(u instanceof Ko)return R(null);throw u}))),Ft(a=>!!a),In(a=>{if(_I(a))return dP(r,i,o)?R(new np):pi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return lP(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):pi(i):pi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:l}=cp(n,i,o);if(!a)return pi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>fP&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(_e(h=>this.processSegment(e,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=iP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(ht(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ht(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Go(l,h,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,mP(r),Wt(r),r.component??r._loadedComponent??null,r,yP(r)),{segmentGroup:m,slicedSegments:D}=QE(n,l,d,u);if(D.length===0&&m.hasChildren())return this.processChildren(c,u,m).pipe($(M=>M===null?null:new at(f,M)));if(u.length===0&&D.length===0)return R(new at(f,[]));let C=Wt(r)===o;return this.processSegment(c,u,m,D,C?k:o,!0).pipe($(M=>new at(f,M instanceof at?[M]:[])))}))):pi(n)))}getChildConfig(e,n,r){return n.children?R({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):eP(e,n,r,this.urlSerializer).pipe(_e(i=>i?this.configLoader.loadChildren(e,n).pipe(Pe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):rP(n))):R({routes:[],injector:e})}};function pP(t){t.sort((e,n)=>e.value.outlet===k?-1:n.value.outlet===k?1:e.value.outlet.localeCompare(n.value.outlet))}function gP(t){let e=t.value.routeConfig;return e&&e.path===""}function EI(t){let e=[],n=new Set;for(let r of t){if(!gP(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=EI(r.children);e.push(new at(r.value,i))}return e.filter(r=>!n.has(r))}function mP(t){return t.data||{}}function yP(t){return t.resolve||{}}function vP(t,e,n,r,i,o){return _e(s=>hP(t,e,n,r,s.extractedUrl,i,o).pipe($(({state:a,tree:u})=>re(I({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function _P(t,e){return _e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let c of II(u))s.add(c);let a=0;return he(s).pipe(Xn(u=>o.has(u)?wP(u,r,t,e):(u.data=op(u,u.parent,t).resolve,R(void 0))),Pe(()=>a++),qr(1),_e(u=>a===s.size?R(n):ot))})}function II(t){let e=t.children.map(n=>II(n)).flat();return[t,...e]}function wP(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!pI(i)&&(o[Qo]=i.title),EP(o,t,e,r).pipe($(s=>(t._resolvedData=s,t.data=op(t,t.parent,n).resolve,null)))}function EP(t,e,n,r){let i=Of(t);if(i.length===0)return R({});let o={};return he(i).pipe(_e(s=>IP(t[s],e,n,r).pipe(Ft(),Pe(a=>{o[s]=a}))),qr(1),ed(o),In(s=>_I(s)?ot:Ur(s)))}function IP(t,e,n,r){let i=Jo(e)??r,o=Ii(t,i),s=o.resolve?o.resolve(e,n):un(i,()=>o(e,n));return jn(s)}function Nf(t){return ht(e=>{let n=t(e);return n?he(n).pipe($(()=>e)):R(e)})}var DI=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===k);return i}getResolvedTitleForRoute(r){return r.data[Qo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>_(DP),providedIn:"root"});let t=e;return t})(),DP=(()=>{let e=class e extends DI{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(A(DE))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),es=new x("",{providedIn:"root",factory:()=>({})}),dc=new x(""),lp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(ju)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return R(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=jn(r.loadComponent()).pipe($(CI),Pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),io(()=>{this.componentLoaders.delete(r)})),o=new Br(i,()=>new Ve).pipe(jr());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return R({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=CP(i,this.compiler,r,this.onLoadEndListener).pipe(io(()=>{this.childrenLoaders.delete(i)})),a=new Br(s,()=>new Ve).pipe(jr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CP(t,e,n,r){return jn(t.loadChildren()).pipe($(CI),_e(i=>i instanceof mo||Array.isArray(i)?R(i):he(e.compileModuleAsync(i))),$(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(dc,[],{optional:!0,self:!0}).flat()),{routes:s.map(up),injector:o}}))}function bP(t){return t&&typeof t=="object"&&"default"in t}function CI(t){return bP(t)?t.default:t}var dp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>_(TP),providedIn:"root"});let t=e;return t})(),TP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bI=new x(""),TI=new x("");function SP(t,e,n){let r=t.get(TI),i=t.get(nt);return t.get(ae).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),AP(t))),{onViewTransitionCreated:u}=r;return u&&un(t,()=>u({transition:a,from:e,to:n})),s})}function AP(t){return new Promise(e=>{Hh(e,{injector:t})})}var hp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ve,this.transitionAbortSubject=new Ve,this.configLoader=_(lp),this.environmentInjector=_(st),this.urlSerializer=_(Yo),this.rootContexts=_(Zo),this.location=_(Fn),this.inputBindingEnabled=_(fc,{optional:!0})!==null,this.titleStrategy=_(DI),this.options=_(es,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(dp),this.createViewTransition=_(bI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let r=o=>this.events.next(new $f(o)),i=o=>this.events.next(new Hf(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(re(I(I({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ne({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:jo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(dt(s=>s.id!==0),$(s=>re(I({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ht(s=>{let a=!1,u=!1;return R(s).pipe(ht(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ut.SupersededByNewNavigation),ot;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?re(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Ln(c.id,this.urlSerializer.serialize(c.rawUrl),h,rc.IgnoredSameUrlNavigation)),c.resolve(null),ot}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return R(c).pipe(ht(h=>{let f=this.transitions?.getValue();return this.events.next(new wi(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ot:Promise.resolve(h)}),vP(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Pe(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=re(I({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new ic(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:m,restoredState:D,extras:C}=c,M=new wi(h,this.urlSerializer.serialize(f),m,D);this.events.next(M);let ce=hI(this.rootComponentType).snapshot;return this.currentTransition=s=re(I({},c),{targetSnapshot:ce,urlAfterRedirects:f,extras:re(I({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,R(s)}else{let h="";return this.events.next(new Ln(c.id,this.urlSerializer.serialize(c.extractedUrl),h,rc.IgnoredByUrlHandlingStrategy)),c.resolve(null),ot}}),Pe(c=>{let l=new Lf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),$(c=>(this.currentTransition=s=re(I({},c),{guards:kN(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),GN(this.environmentInjector,c=>this.events.next(c)),Pe(c=>{if(s.guardsResult=c.guardsResult,_i(c.guardsResult))throw mI(this.urlSerializer,c.guardsResult);let l=new jf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),dt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ut.GuardRejected),!1)),Nf(c=>{if(c.guards.canActivateChecks.length)return R(c).pipe(Pe(l=>{let d=new Bf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ht(l=>{let d=!1;return R(l).pipe(_P(this.paramsInheritanceStrategy,this.environmentInjector),Pe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",ut.NoDataFromResolver)}}))}),Pe(l=>{let d=new Uf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Nf(c=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Pe(f=>{d.component=f}),$(()=>{})));for(let f of d.children)h.push(...l(f));return h};return ro(l(c.targetSnapshot.root)).pipe(Dn(null),sn(1))}),Nf(()=>this.afterPreactivation()),ht(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?he(d).pipe($(()=>s)):R(s)}),$(c=>{let l=AN(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=re(I({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Pe(()=>{this.events.next(new qo)}),FN(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),sn(1),Pe({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gt(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),id(this.transitionAbortSubject.pipe(Pe(c=>{throw c}))),io(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",ut.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),In(c=>{if(u=!0,vI(c))this.events.next(new Vn(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),RN(c)?this.events.next(new zo(c.url)):s.resolve(!1);else{this.events.next(new Ho(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return ot}))}))}cancelNavigationTransition(r,i,o){let s=new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function MP(t){return t!==jo}var xP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>_(RP),providedIn:"root"});let t=e;return t})(),ip=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},RP=(()=>{let e=class e extends ip{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Io(e)))(o||e)}})(),e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),SI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>_(NP),providedIn:"root"});let t=e;return t})(),NP=(()=>{let e=class e extends SI{constructor(){super(...arguments),this.location=_(Fn),this.urlSerializer=_(Yo),this.options=_(es,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(dp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=hI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof wi)this.stateMemento=this.createStateMemento();else if(r instanceof Ln)this.rawUrlTree=i.initialUrl;else if(r instanceof ic){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof qo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Vn&&(r.code===ut.GuardRejected||r.code===ut.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ho?this.restoreHistory(i,!0):r instanceof Gt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=I(I({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=I(I({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Io(e)))(o||e)}})(),e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Vo||{});function AI(t,e){t.events.pipe(dt(n=>n instanceof Gt||n instanceof Vn||n instanceof Ho||n instanceof Ln),$(n=>n instanceof Gt||n instanceof Ln?Vo.COMPLETE:(n instanceof Vn?n.code===ut.Redirect||n.code===ut.SupersededByNewNavigation:!1)?Vo.REDIRECTING:Vo.FAILED),dt(n=>n!==Vo.REDIRECTING),sn(1)).subscribe(()=>{e()})}function PP(t){throw t}var OP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=_(Fu),this.stateManager=_(SI),this.options=_(es,{optional:!0})||{},this.pendingTasks=_(Ru),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(hp),this.urlSerializer=_(Yo),this.location=_(Fn),this.urlHandlingStrategy=_(dp),this._events=new Ve,this.errorHandler=this.options.errorHandler||PP,this.navigated=!1,this.routeReuseStrategy=_(xP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(dc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(fc,{optional:!0}),this.eventsSubscription=new Te,this.isNgZoneEnabled=_(ae)instanceof ae&&ae.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Vn&&i.code!==ut.Redirect&&i.code!==ut.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Gt)this.navigated=!0;else if(i instanceof zo){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||MP(o.source)};this.scheduleNavigation(a,jo,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}VP(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),jo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=I({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(up),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a,d=null;switch(u){case"merge":d=I(I({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=uI(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return cI(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=_i(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,jo,null,i)}navigate(r,i={skipLocationChange:!1}){return kP(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=I({},OP):i===!1?o=I({},FP):o=i,_i(r))return qE(this.currentUrlTree,r,o);let s=this.parseUrl(r);return qE(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,f)=>{u=h,c=f});let d=this.pendingTasks.add();return AI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new b(4008,!1)}function VP(t){return!(t instanceof qo)&&!(t instanceof zo)}var Bn=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new Ve,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Gt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:ow(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(L(Kt),L(Mt),bh("tabindex"),L(dr),L(Nn),L(pn))},e.\u0275dir=mt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&bo("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Nu("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ze.HasDecoratorInputTransform,"preserveFragment","preserveFragment",pr],skipLocationChange:[ze.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",pr],replaceUrl:[ze.HasDecoratorInputTransform,"replaceUrl","replaceUrl",pr],routerLink:"routerLink"},standalone:!0,features:[zh,lr]});let t=e;return t})();var hc=class{};var LP=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(dt(r=>r instanceof Gt),Xn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=xu(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return he(o).pipe($r())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=R(null);let s=o.pipe(_e(a=>a===null?R(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return he([s,a]).pipe($r())}else return s})}};e.\u0275fac=function(i){return new(i||e)(A(Kt),A(ju),A(st),A(hc),A(lp))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MI=new x(""),jP=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof wi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Gt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Ln&&r.code===rc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof oc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new oc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){yw()},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function BP(t){return t.routerState.root}function ts(t,e){return{\u0275kind:t,\u0275providers:e}}function UP(){let t=_(St);return e=>{let n=t.get(li);if(e!==n.components[0])return;let r=t.get(Kt),i=t.get(xI);t.get(fp)===1&&r.initialNavigation(),t.get(RI,null,j.Optional)?.setUpPreloading(),t.get(MI,null,j.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var xI=new x("",{factory:()=>new Ve}),fp=new x("",{providedIn:"root",factory:()=>1});function $P(){return ts(2,[{provide:fp,useValue:0},{provide:Lu,multi:!0,deps:[St],useFactory:e=>{let n=e.get(aE,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Kt),o=e.get(xI);AI(i,()=>{r(!0)}),e.get(hp).afterPreactivation=()=>(r(!0),o.closed?R(void 0):o),i.initialNavigation()}))}}])}function HP(){return ts(3,[{provide:Lu,multi:!0,useFactory:()=>{let e=_(Kt);return()=>{e.setUpLocationChangeListener()}}},{provide:fp,useValue:2}])}var RI=new x("");function qP(t){return ts(0,[{provide:RI,useExisting:LP},{provide:hc,useExisting:t}])}function zP(){return ts(8,[KE,{provide:fc,useExisting:KE}])}function GP(t){let e=[{provide:bI,useValue:SP},{provide:TI,useValue:I({skipNextTransition:!!t?.skipInitialTransition},t)}];return ts(9,e)}var YE=new x("ROUTER_FORROOT_GUARD"),WP=[Fn,{provide:Yo,useClass:Uo},Kt,Zo,{provide:Mt,useFactory:BP,deps:[Kt]},lp,[]],pp=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[WP,[],{provide:dc,multi:!0,useValue:r},{provide:YE,useFactory:ZP,deps:[[Kt,new fu,new ch]]},{provide:es,useValue:i||{}},i?.useHash?QP():YP(),KP(),i?.preloadingStrategy?qP(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?JP(i):[],i?.bindToComponentInputs?zP().\u0275providers:[],i?.enableViewTransitions?GP().\u0275providers:[],XP()]}}static forChild(r){return{ngModule:e,providers:[{provide:dc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(A(YE,8))},e.\u0275mod=Je({type:e}),e.\u0275inj=Ye({});let t=e;return t})();function KP(){return{provide:MI,useFactory:()=>{let t=_(fE),e=_(ae),n=_(es),r=_(hp),i=_(Yo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new jP(i,r,t,e,n)}}}function QP(){return{provide:pn,useClass:cE}}function YP(){return{provide:pn,useClass:hf}}function ZP(t){return"guarded"}function JP(t){return[t.initialNavigation==="disabled"?HP().\u0275providers:[],t.initialNavigation==="enabledBlocking"?$P().\u0275providers:[]]}var ZE=new x("");function XP(){return[{provide:ZE,useFactory:UP},{provide:ef,multi:!0,useExisting:ZE}]}var rs=(()=>{let e=class e{constructor(){this.messages=[]}add(r){this.messages.push(r)}clear(){this.messages=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Di=(()=>{let e=class e{constructor(r){this.messageService=r}};e.\u0275fac=function(i){return new(i||e)(A(rs))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function e1(t,e){if(t&1){let n=Uw();Y(0,"div")(1,"h2"),ue(2),J(),Y(3,"div"),ue(4),J(),Y(5,"div")(6,"label",1),ue(7,"Project: "),J(),Y(8,"input",2),Yh("ngModelChange",function(i){S_(n);let o=Wh();return Hw(o.project.name,i)||(o.project.name=i),A_(i)}),J()()()}if(t&2){let n=Wh();me(2),Ht("",n.project.name," Details:"),me(2),Ht("id: ",n.project.id,""),me(4),Qh("ngModel",n.project.name)}}var NI=(()=>{let e=class e{constructor(r,i,o){this.route=r,this.projectService=i,this.location=o}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(L(Mt),L(Di),L(Fn))},e.\u0275cmp=Ze({type:e,selectors:[["app-project-detail"]],inputs:{project:"project"},standalone:!0,features:[ci],decls:1,vars:1,consts:[[4,"ngIf"],["for","project-name"],["id","project-name","placeholder","name",3,"ngModelChange","ngModel"]],template:function(i,o){i&1&&dn(0,e1,9,3,"div",0),i&2&&hn("ngIf",o.project)},dependencies:[dE,fi,Ku,UE,Af]});let t=e;return t})();var OI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},t1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},FI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;u||(f=64,s||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new yp;let h=o<<2|a>>4;if(r.push(h),c!==64){let f=a<<4&240|c>>2;if(r.push(f),d!==64){let m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},yp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},n1=function(t){let e=OI(t);return FI.encodeByteArray(e,!0)},is=function(t){return n1(t).replace(/\./g,"")},r1=function(t){try{return FI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function i1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var o1=()=>i1().__FIREBASE_DEFAULTS__,s1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&r1(t[1]);return e&&JSON.parse(e)},vp=()=>{try{return o1()||s1()||a1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u1=t=>{var e,n;return(n=(e=vp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kI=t=>{let e=u1(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_p=()=>{var t;return(t=vp())===null||t===void 0?void 0:t.config};var gc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function VI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[is(JSON.stringify(n)),is(JSON.stringify(s)),""].join(".")}function ss(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c1(){var t;let e=(t=vp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LI(){return!c1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mc(){try{return typeof indexedDB=="object"}catch{return!1}}function jI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var l1="FirebaseError",gn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=l1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,os.prototype.create)}},os=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?d1(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new gn(i,a,r)}};function d1(t,e){return t.replace(h1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var h1=/\{\$([^}]+)}/g;function as(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(PI(o)&&PI(s)){if(!as(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function PI(t){return t!==null&&typeof t=="object"}var wH=4*60*60*1e3;function Ci(t){return t&&t._delegate?t._delegate:t}var mn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var yr="[DEFAULT]";var wp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new gc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p1(e))try{this.getOrInitializeService({instanceIdentifier:yr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=yr){return this.instances.has(e)}getOptions(e=yr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yr){return this.component?this.component.multipleInstances?e:yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function f1(t){return t===yr?void 0:t}function p1(t){return t.instantiationMode==="EAGER"}var yc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new wp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var g1=[],G=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(G||{}),m1={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},y1=G.INFO,v1={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},_1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=v1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},bi=class{constructor(e){this.name=e,this._logLevel=y1,this._logHandler=_1,this._userLogHandler=null,g1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...e),this._logHandler(this,G.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...e),this._logHandler(this,G.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,G.INFO,...e),this._logHandler(this,G.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,G.WARN,...e),this._logHandler(this,G.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...e),this._logHandler(this,G.ERROR,...e)}};var w1=(t,e)=>e.some(n=>t instanceof n),BI,UI;function E1(){return BI||(BI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I1(){return UI||(UI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var $I=new WeakMap,Ip=new WeakMap,HI=new WeakMap,Ep=new WeakMap,Cp=new WeakMap;function D1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Qt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&$I.set(n,t)}).catch(()=>{}),Cp.set(e,t),e}function C1(t){if(Ip.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ip.set(t,e)}var Dp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ip.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qI(t){Dp=t(Dp)}function b1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(vc(this),e,...n);return HI.set(r,e.sort?e.sort():[e]),Qt(r)}:I1().includes(t)?function(...e){return t.apply(vc(this),e),Qt($I.get(this))}:function(...e){return Qt(t.apply(vc(this),e))}}function T1(t){return typeof t=="function"?b1(t):(t instanceof IDBTransaction&&C1(t),w1(t,E1())?new Proxy(t,Dp):t)}function Qt(t){if(t instanceof IDBRequest)return D1(t);if(Ep.has(t))return Ep.get(t);let e=T1(t);return e!==t&&(Ep.set(t,e),Cp.set(e,t)),e}var vc=t=>Cp.get(t);function GI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Qt(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Qt(s.result),u.oldVersion,u.newVersion,Qt(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var S1=["get","getKey","getAll","getAllKeys","count"],A1=["put","add","delete","clear"],bp=new Map;function zI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=A1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S1.includes(n)))return;let o=function(s,...a){return y(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&u.done]))[0]})};return bp.set(e,o),o}qI(t=>re(I({},t),{get:(e,n,r)=>zI(e,n)||t.get(e,n,r),has:(e,n)=>!!zI(e,n)||t.has(e,n)}));var Sp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(M1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function M1(t){let e=t.getComponent();return e?.type==="VERSION"}var Ap="@firebase/app",WI="0.9.29";var vr=new bi("@firebase/app"),x1="@firebase/app-compat",R1="@firebase/analytics-compat",N1="@firebase/analytics",P1="@firebase/app-check-compat",O1="@firebase/app-check",F1="@firebase/auth",k1="@firebase/auth-compat",V1="@firebase/database",L1="@firebase/database-compat",j1="@firebase/functions",B1="@firebase/functions-compat",U1="@firebase/installations",$1="@firebase/installations-compat",H1="@firebase/messaging",q1="@firebase/messaging-compat",z1="@firebase/performance",G1="@firebase/performance-compat",W1="@firebase/remote-config",K1="@firebase/remote-config-compat",Q1="@firebase/storage",Y1="@firebase/storage-compat",Z1="@firebase/firestore",J1="@firebase/firestore-compat",X1="firebase",eO="10.9.0";var Mp="[DEFAULT]",tO={[Ap]:"fire-core",[x1]:"fire-core-compat",[N1]:"fire-analytics",[R1]:"fire-analytics-compat",[O1]:"fire-app-check",[P1]:"fire-app-check-compat",[F1]:"fire-auth",[k1]:"fire-auth-compat",[V1]:"fire-rtdb",[L1]:"fire-rtdb-compat",[j1]:"fire-fn",[B1]:"fire-fn-compat",[U1]:"fire-iid",[$1]:"fire-iid-compat",[H1]:"fire-fcm",[q1]:"fire-fcm-compat",[z1]:"fire-perf",[G1]:"fire-perf-compat",[W1]:"fire-rc",[K1]:"fire-rc-compat",[Q1]:"fire-gcs",[Y1]:"fire-gcs-compat",[Z1]:"fire-fst",[J1]:"fire-fst-compat","fire-js":"fire-js",[X1]:"fire-js-all"};var _c=new Map,xp=new Map;function nO(t,e){try{t.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function us(t){let e=t.name;if(xp.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;xp.set(e,t);for(let n of _c.values())nO(n,t);return!0}function ZI(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var rO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Un=new os("app","Firebase",rO);var Rp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}};var JI=eO;function Op(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Mp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Un.create("bad-app-name",{appName:String(i)});if(n||(n=_p()),!n)throw Un.create("no-options");let o=_c.get(i);if(o){if(as(n,o.options)&&as(r,o.config))return o;throw Un.create("duplicate-app",{appName:i})}let s=new yc(i);for(let u of xp.values())s.addComponent(u);let a=new Rp(n,r,s);return _c.set(i,a),a}function XI(t=Mp){let e=_c.get(t);if(!e&&t===Mp&&_p())return Op();if(!e)throw Un.create("no-app",{appName:t});return e}function $n(t,e,n){var r;let i=(r=tO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(a.join(" "));return}us(new mn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var iO="firebase-heartbeat-database",oO=1,cs="firebase-heartbeat-store",Tp=null;function eD(){return Tp||(Tp=GI(iO,oO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Un.create("idb-open",{originalErrorMessage:t.message})})),Tp}function sO(t){return y(this,null,function*(){try{let n=(yield eD()).transaction(cs),r=yield n.objectStore(cs).get(tD(t));return yield n.done,r}catch(e){if(e instanceof gn)vr.warn(e.message);else{let n=Un.create("idb-get",{originalErrorMessage:e?.message});vr.warn(n.message)}}})}function KI(t,e){return y(this,null,function*(){try{let r=(yield eD()).transaction(cs,"readwrite");yield r.objectStore(cs).put(e,tD(t)),yield r.done}catch(n){if(n instanceof gn)vr.warn(n.message);else{let r=Un.create("idb-set",{originalErrorMessage:n?.message});vr.warn(r.message)}}})}function tD(t){return`${t.name}!${t.options.appId}`}var aO=1024,uO=30*24*60*60*1e3,Np=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Pp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=QI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=uO}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return y(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=QI(),{heartbeatsToSend:r,unsentEntries:i}=cO(this._heartbeatsCache.heartbeats),o=is(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function QI(){return new Date().toISOString().substring(0,10)}function cO(t,e=aO){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),YI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Pp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return mc()?jI().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield sO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function YI(t){return is(JSON.stringify({version:2,heartbeats:t})).length}function lO(t){us(new mn("platform-logger",e=>new Sp(e),"PRIVATE")),us(new mn("heartbeat",e=>new Np(e),"PRIVATE")),$n(Ap,WI,t),$n(Ap,WI,"esm2017"),$n("fire-js","")}lO("");var dO="firebase",hO="10.9.0";$n(dO,hO,"app");var fO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rt={},v,ng=ng||{},P=fO||self;function Pc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ds(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function pO(t){return Object.prototype.hasOwnProperty.call(t,Fp)&&t[Fp]||(t[Fp]=++gO)}var Fp="closure_uid_"+(1e9*Math.random()>>>0),gO=0;function mO(t,e,n){return t.call.apply(t.bind,arguments)}function yO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function je(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?je=mO:je=yO,je.apply(null,arguments)}function wc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Hn(){this.s=this.s,this.o=this.o}var vO=0;Hn.prototype.s=!1;Hn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),vO!=0)&&pO(this)};Hn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var pD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function rg(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function nD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Pc(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Be(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var _O=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};P.addEventListener("test",n,e),P.removeEventListener("test",n,e)}catch{}return t}();function gs(t){return/^[\s\xa0]*$/.test(t)}function Oc(){var t=P.navigator;return t&&(t=t.userAgent)?t:""}function Yt(t){return Oc().indexOf(t)!=-1}function ig(t){return ig[" "](t),t}ig[" "]=function(){};function wO(t,e){var n=uF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var EO=Yt("Opera"),Mi=Yt("Trident")||Yt("MSIE"),gD=Yt("Edge"),Bp=gD||Mi,mD=Yt("Gecko")&&!(Oc().toLowerCase().indexOf("webkit")!=-1&&!Yt("Edge"))&&!(Yt("Trident")||Yt("MSIE"))&&!Yt("Edge"),IO=Oc().toLowerCase().indexOf("webkit")!=-1&&!Yt("Edge");function yD(){var t=P.document;return t?t.documentMode:void 0}var Up;e:{if(Ec="",Ic=function(){var t=Oc();if(mD)return/rv:([^\);]+)(\)|;)/.exec(t);if(gD)return/Edge\/([\d\.]+)/.exec(t);if(Mi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(IO)return/WebKit\/(\S+)/.exec(t);if(EO)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Ic&&(Ec=Ic?Ic[1]:""),Mi&&(Dc=yD(),Dc!=null&&Dc>parseFloat(Ec))){Up=String(Dc);break e}Up=Ec}var Ec,Ic,Dc,$p;P.document&&Mi?(kp=yD(),$p=kp||parseInt(Up,10)||void 0):$p=void 0;var kp,DO=$p;function ms(t,e){if(Be.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(mD){e:{try{ig(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:CO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ms.$.h.call(this)}}xe(ms,Be);var CO={2:"touch",3:"pen",4:"mouse"};ms.prototype.h=function(){ms.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cs="closure_listenable_"+(1e6*Math.random()|0),bO=0;function TO(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++bO,this.fa=this.ia=!1}function Fc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function og(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function SO(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function vD(t){let e={};for(let n in t)e[n]=t[n];return e}var rD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _D(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<rD.length;o++)n=rD[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kc(t){this.src=t,this.g={},this.h=0}kc.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=qp(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new TO(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Hp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=pD(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Fc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function qp(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var sg="closure_lm_"+(1e6*Math.random()|0),Vp={};function wD(t,e,n,r,i){if(r&&r.once)return ID(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)wD(t,e[o],n,r,i);return null}return n=cg(n),t&&t[Cs]?t.O(e,n,Ds(r)?!!r.capture:!!r,i):ED(t,e,n,!1,r,i)}function ED(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ds(i)?!!i.capture:!!i,a=ug(t);if(a||(t[sg]=a=new kc(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=AO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_O||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(CD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function AO(){function t(n){return e.call(t.src,t.listener,n)}let e=MO;return t}function ID(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ID(t,e[o],n,r,i);return null}return n=cg(n),t&&t[Cs]?t.P(e,n,Ds(r)?!!r.capture:!!r,i):ED(t,e,n,!0,r,i)}function DD(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)DD(t,e[o],n,r,i);else r=Ds(r)?!!r.capture:!!r,n=cg(n),t&&t[Cs]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=qp(o,n,r,i),-1<n&&(Fc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=ug(t))&&(e=t.g[e.toString()],t=-1,e&&(t=qp(e,n,r,i)),(n=-1<t?e[t]:null)&&ag(n))}function ag(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Cs])Hp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(CD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ug(e))?(Hp(n,t),n.h==0&&(n.src=null,e[sg]=null)):Fc(t)}}}function CD(t){return t in Vp?Vp[t]:Vp[t]="on"+t}function MO(t,e){if(t.fa)t=!0;else{e=new ms(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ag(t),t=n.call(r,e)}return t}function ug(t){return t=t[sg],t instanceof kc?t:null}var Lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function cg(t){return typeof t=="function"?t:(t[Lp]||(t[Lp]=function(e){return t.handleEvent(e)}),t[Lp])}function Me(){Hn.call(this),this.i=new kc(this),this.S=this,this.J=null}xe(Me,Hn);Me.prototype[Cs]=!0;Me.prototype.removeEventListener=function(t,e,n,r){DD(this,t,e,n,r)};function ke(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Be(e,t);else if(e instanceof Be)e.target=e.target||t;else{var i=e;e=new Be(r,t),_D(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Cc(s,r,!0,e)&&i}if(s=e.g=t,i=Cc(s,r,!0,e)&&i,i=Cc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Cc(s,r,!1,e)&&i}Me.prototype.N=function(){if(Me.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Fc(n[r]);delete t.g[e],t.h--}}this.J=null};Me.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Me.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Cc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&Hp(t.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var lg=P.JSON.stringify,zp=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function xO(){var t=dg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Gp=class{constructor(){this.h=this.g=null}add(e,n){let r=bD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},bD=new zp(()=>new Wp,t=>t.reset()),Wp=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function RO(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function NO(t){P.setTimeout(()=>{throw t},0)}var ys,vs=!1,dg=new Gp,TD=()=>{let t=P.Promise.resolve(void 0);ys=()=>{t.then(PO)}},PO=()=>{for(var t;t=xO();){try{t.h.call(t.g)}catch(n){NO(n)}var e=bD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}vs=!1};function Vc(t,e){Me.call(this),this.h=t||1,this.g=e||P,this.j=je(this.qb,this),this.l=Date.now()}xe(Vc,Me);v=Vc.prototype;v.ga=!1;v.T=null;v.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ke(this,"tick"),this.ga&&(hg(this),this.start()))}};v.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function hg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}v.N=function(){Vc.$.N.call(this),hg(this),delete this.g};function fg(t,e,n){if(typeof t=="function")n&&(t=je(t,n));else if(t&&typeof t.handleEvent=="function")t=je(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:P.setTimeout(t,e||0)}function SD(t){t.g=fg(()=>{t.g=null,t.i&&(t.i=!1,SD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Kp=class extends Hn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:SD(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function _s(t){Hn.call(this),this.h=t,this.g={}}xe(_s,Hn);var iD=[];function AD(t,e,n,r){Array.isArray(n)||(n&&(iD[0]=n.toString()),n=iD);for(var i=0;i<n.length;i++){var o=wD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function MD(t){og(t.g,function(e,n){this.g.hasOwnProperty(n)&&ag(e)},t),t.g={}}_s.prototype.N=function(){_s.$.N.call(this),MD(this)};_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lc(){this.g=!0}Lc.prototype.Ea=function(){this.g=!1};function OO(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&d[1]=="type"?s+(l+"="+c+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function FO(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Si(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+VO(t,n)+(r?" "+r:"")})}function kO(t,e){t.info(function(){return"TIMEOUT: "+e})}Lc.prototype.info=function(){};function VO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return lg(n)}catch{return e}}var Ir={},oD=null;function jc(){return oD=oD||new Me}Ir.Ta="serverreachability";function xD(t){Be.call(this,Ir.Ta,t)}xe(xD,Be);function ws(t){let e=jc();ke(e,new xD(e))}Ir.STAT_EVENT="statevent";function RD(t,e){Be.call(this,Ir.STAT_EVENT,t),this.stat=e}xe(RD,Be);function Ge(t){let e=jc();ke(e,new RD(e,t))}Ir.Ua="timingevent";function ND(t,e){Be.call(this,Ir.Ua,t),this.size=e}xe(ND,Be);function bs(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){t()},e)}var Bc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},PD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pg(){}pg.prototype.h=null;function sD(t){return t.h||(t.h=t.i())}function OD(){}var Ts={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gg(){Be.call(this,"d")}xe(gg,Be);function mg(){Be.call(this,"c")}xe(mg,Be);var Qp;function Uc(){}xe(Uc,pg);Uc.prototype.g=function(){return new XMLHttpRequest};Uc.prototype.i=function(){return{}};Qp=new Uc;function Ss(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new _s(this),this.P=LO,t=Bp?125:void 0,this.V=new Vc(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new FD}function FD(){this.i=null,this.g="",this.h=!1}var LO=45e3,kD={},Yp={};v=Ss.prototype;v.setTimeout=function(t){this.P=t};function Zp(t,e,n){t.L=1,t.A=Hc(vn(e)),t.u=n,t.S=!0,VD(t,null)}function VD(t,e){t.G=Date.now(),As(t),t.B=vn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),zD(n.i,"t",r),t.o=0,n=t.l.J,t.h=new FD,t.g=h0(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Kp(je(t.Pa,t,t.g),t.O)),AD(t.U,t.g,"readystatechange",t.nb),e=t.I?vD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ws(),OO(t.j,t.v,t.B,t.m,t.W,t.u)}v.nb=function(t){t=t.target;let e=this.M;e&&Zt(t)==3?e.l():this.Pa(t)};v.Pa=function(t){try{if(t==this.g)e:{let l=Zt(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Bp||this.g&&(this.h.h||this.g.ja()||lD(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?ws(3):ws(2)),$c(this);var n=this.g.da();this.ca=n;t:if(LD(this)){var r=lD(this.g);t="";var i=r.length,o=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_r(this),ps(this);var s="";break t}this.h.i=new P.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,FO(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gs(a)){var c=a;break t}}c=null}if(n=c)Si(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jp(this,n);else{this.i=!1,this.s=3,Ge(12),_r(this),ps(this);break e}}this.S?(jD(this,l,s),Bp&&this.i&&l==3&&(AD(this.U,this.V,"tick",this.mb),this.V.start())):(Si(this.j,this.m,s,null),Jp(this,s)),l==4&&_r(this),this.i&&!this.J&&(l==4?u0(this.l,this):(this.i=!1,As(this)))}else oF(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),_r(this),ps(this)}}}catch{}finally{}};function LD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function jD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=jO(t,n),i==Yp){e==4&&(t.s=4,Ge(14),r=!1),Si(t.j,t.m,null,"[Incomplete Response]");break}else if(i==kD){t.s=4,Ge(15),Si(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Si(t.j,t.m,i,null),Jp(t,i);LD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ge(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ig(e),e.M=!0,Ge(11))):(Si(t.j,t.m,n,"[Invalid Chunked Response]"),_r(t),ps(t))}v.mb=function(){if(this.g){var t=Zt(this.g),e=this.g.ja();this.o<e.length&&($c(this),jD(this,t,e),this.i&&t!=4&&As(this))}};function jO(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Yp:(n=Number(e.substring(n,r)),isNaN(n)?kD:(r+=1,r+n>e.length?Yp:(e=e.slice(r,r+n),t.o=r+n,e)))}v.cancel=function(){this.J=!0,_r(this)};function As(t){t.Y=Date.now()+t.P,BD(t,t.P)}function BD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=bs(je(t.lb,t),e)}function $c(t){t.C&&(P.clearTimeout(t.C),t.C=null)}v.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(kO(this.j,this.B),this.L!=2&&(ws(),Ge(17)),_r(this),this.s=2,ps(this)):BD(this,this.Y-t)};function ps(t){t.l.H==0||t.J||u0(t.l,t)}function _r(t){$c(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,hg(t.V),MD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Jp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Xp(n.i,t))){if(!t.K&&Xp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Mc(n),Gc(n);else break e;Eg(n),Ge(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=bs(je(n.ib,n),6e3));if(1>=KD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else wr(n,11)}else if((t.K||n.g==t)&&Mc(n),!gs(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];let l=c[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(yg(o,o.h),o.h=null))}if(r.F){let D=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(r.Da=D,le(r.I,r.F,D))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=d0(r,r.J?r.pa:null,r.Y),s.K){QD(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&($c(a),As(a)),r.g=s}else s0(r);0<n.j.length&&Wc(n)}else c[0]!="stop"&&c[0]!="close"||wr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?wr(n,7):wg(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}ws(4)}catch{}}function BO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Pc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function UO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Pc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function UD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Pc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=UO(t),r=BO(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var $D=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $O(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Er(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Er){this.h=t.h,Sc(this,t.j),this.s=t.s,this.g=t.g,Ac(this,t.m),this.l=t.l;var e=t.i,n=new Es;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),aD(this,n),this.o=t.o}else t&&(e=String(t).match($D))?(this.h=!1,Sc(this,e[1]||"",!0),this.s=hs(e[2]||""),this.g=hs(e[3]||"",!0),Ac(this,e[4]),this.l=hs(e[5]||"",!0),aD(this,e[6]||"",!0),this.o=hs(e[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}Er.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fs(e,uD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fs(e,uD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fs(n,n.charAt(0)=="/"?zO:qO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fs(n,WO)),t.join("")};function vn(t){return new Er(t)}function Sc(t,e,n){t.j=n?hs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ac(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function aD(t,e,n){e instanceof Es?(t.i=e,KO(t.i,t.h)):(n||(e=fs(e,GO)),t.i=new Es(e,t.h))}function le(t,e,n){t.i.set(e,n)}function Hc(t){return le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,HO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function HO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var uD=/[#\/\?@]/g,qO=/[#\?:]/g,zO=/[#\?]/g,GO=/[#\?@]/g,WO=/#/g;function Es(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qn(t){t.g||(t.g=new Map,t.h=0,t.i&&$O(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}v=Es.prototype;v.add=function(t,e){qn(this),this.i=null,t=xi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function HD(t,e){qn(t),e=xi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function qD(t,e){return qn(t),e=xi(t,e),t.g.has(e)}v.forEach=function(t,e){qn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};v.ta=function(){qn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};v.Z=function(t){qn(this);let e=[];if(typeof t=="string")qD(this,t)&&(e=e.concat(this.g.get(xi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};v.set=function(t,e){return qn(this),this.i=null,t=xi(this,t),qD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};v.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function zD(t,e,n){HD(t,e),0<n.length&&(t.i=null,t.g.set(xi(t,e),rg(n)),t.h+=n.length)}v.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function xi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function KO(t,e){e&&!t.j&&(qn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(HD(this,r),zD(this,i,n))},t)),t.j=e}var QO=class{constructor(t,e){this.g=t,this.map=e}};function GD(t){this.l=t||YO,P.PerformanceNavigationTiming?(t=P.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(P.g&&P.g.Ka&&P.g.Ka()&&P.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var YO=10;function WD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function KD(t){return t.h?1:t.g?t.g.size:0}function Xp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function yg(t,e){t.g?t.g.add(e):t.h=e}function QD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}GD.prototype.cancel=function(){if(this.i=YD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function YD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return rg(t.i)}var ZO=class{stringify(t){return P.JSON.stringify(t,void 0)}parse(t){return P.JSON.parse(t,void 0)}};function JO(){this.g=new ZO}function XO(t,e,n){let r=n||"";try{UD(t,function(i,o){let s=i;Ds(i)&&(s=lg(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function eF(t,e){let n=new Lc;if(P.Image){let r=new Image;r.onload=wc(bc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wc(bc,n,r,"TestLoadImage: error",!1,e),r.onabort=wc(bc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wc(bc,n,r,"TestLoadImage: timeout",!1,e),P.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function bc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ms(t){this.l=t.ec||null,this.j=t.ob||!1}xe(Ms,pg);Ms.prototype.g=function(){return new qc(this.l,this.j)};Ms.prototype.i=function(t){return function(){return t}}({});function qc(t,e){Me.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=vg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xe(qc,Me);var vg=0;v=qc.prototype;v.open=function(t,e){if(this.readyState!=vg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Is(this)};v.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||P).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};v.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=vg};v.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ZD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}v.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?xs(this):Is(this),this.readyState==3&&ZD(this)}};v.Za=function(t){this.g&&(this.response=this.responseText=t,xs(this))};v.Ya=function(t){this.g&&(this.response=t,xs(this))};v.ka=function(){this.g&&xs(this)};function xs(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Is(t)}v.setRequestHeader=function(t,e){this.v.append(t,e)};v.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};v.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Is(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var tF=P.JSON.parse;function pe(t){Me.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JD,this.L=this.M=!1}xe(pe,Me);var JD="",nF=/^https?$/i,rF=["POST","PUT"];v=pe.prototype;v.Oa=function(t){this.M=t};v.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qp.g(),this.C=this.u?sD(this.u):sD(Qp),this.g.onreadystatechange=je(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){cD(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=P.FormData&&t instanceof P.FormData,!(0<=pD(rF,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{t0(this),0<this.B&&((this.L=iF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=je(this.ua,this)):this.A=fg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){cD(this,o)}};function iF(t){return Mi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}v.ua=function(){typeof ng<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ke(this,"timeout"),this.abort(8))};function cD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,XD(t),zc(t)}function XD(t){t.F||(t.F=!0,ke(t,"complete"),ke(t,"error"))}v.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ke(this,"complete"),ke(this,"abort"),zc(this))};v.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zc(this,!0)),pe.$.N.call(this)};v.La=function(){this.s||(this.G||this.v||this.l?e0(this):this.kb())};v.kb=function(){e0(this)};function e0(t){if(t.h&&typeof ng<"u"&&(!t.C[1]||Zt(t)!=4||t.da()!=2)){if(t.v&&Zt(t)==4)fg(t.La,0,t);else if(ke(t,"readystatechange"),Zt(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match($D)[1]||null;!i&&P.self&&P.self.location&&(i=P.self.location.protocol.slice(0,-1)),r=!nF.test(i?i.toLowerCase():"")}n=r}if(n)ke(t,"complete"),ke(t,"success");else{t.m=6;try{var o=2<Zt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",XD(t)}}finally{zc(t)}}}}function zc(t,e){if(t.g){t0(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ke(t,"ready");try{n.onreadystatechange=r}catch{}}}function t0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(P.clearTimeout(t.A),t.A=null)}v.isActive=function(){return!!this.g};function Zt(t){return t.g?t.g.readyState:0}v.da=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}};v.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};v.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),tF(e)}};function lD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case JD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function oF(t){let e={};t=(t.g&&2<=Zt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(gs(t[r]))continue;var n=RO(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}SO(e,function(r){return r.join(", ")})}v.Ia=function(){return this.m};v.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function n0(t){let e="";return og(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function _g(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=n0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):le(t,e,n))}function ls(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function r0(t){this.Ga=0,this.j=[],this.l=new Lc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ls("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ls("baseRetryDelayMs",5e3,t),this.hb=ls("retryDelaySeedMs",1e4,t),this.eb=ls("forwardChannelMaxRetries",2,t),this.xa=ls("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new GD(t&&t.concurrentRequestLimit),this.Ja=new JO,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}v=r0.prototype;v.ra=8;v.H=1;function wg(t){if(i0(t),t.H==3){var e=t.W++,n=vn(t.I);if(le(n,"SID",t.K),le(n,"RID",e),le(n,"TYPE","terminate"),Rs(t,n),e=new Ss(t,t.l,e),e.L=2,e.A=Hc(vn(n)),n=!1,P.navigator&&P.navigator.sendBeacon)try{n=P.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&P.Image&&(new Image().src=e.A,n=!0),n||(e.g=h0(e.l,null),e.g.ha(e.A)),e.G=Date.now(),As(e)}l0(t)}function Gc(t){t.g&&(Ig(t),t.g.cancel(),t.g=null)}function i0(t){Gc(t),t.u&&(P.clearTimeout(t.u),t.u=null),Mc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&P.clearTimeout(t.m),t.m=null)}function Wc(t){if(!WD(t.i)&&!t.m){t.m=!0;var e=t.Na;ys||TD(),vs||(ys(),vs=!0),dg.add(e,t),t.C=0}}function sF(t,e){return KD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=bs(je(t.Na,t,e),c0(t,t.C)),t.C++,!0)}v.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Ss(this,this.l,t),o=this.s;if(this.U&&(o?(o=vD(o),_D(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=o0(this,i,e),n=vn(this.I),le(n,"RID",t),le(n,"CVER",22),this.F&&le(n,"X-HTTP-Session-Id",this.F),Rs(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(n0(o)))+"&"+e:this.o&&_g(n,this.o,o)),yg(this.i,i),this.bb&&le(n,"TYPE","init"),this.P?(le(n,"$req",e),le(n,"SID","null"),i.aa=!0,Zp(i,n,null)):Zp(i,n,e),this.H=2}}else this.H==3&&(t?dD(this,t):this.j.length==0||WD(this.i)||dD(this))};function dD(t,e){var n;e?n=e.m:n=t.W++;let r=vn(t.I);le(r,"SID",t.K),le(r,"RID",n),le(r,"AID",t.V),Rs(t,r),t.o&&t.s&&_g(r,t.o,t.s),n=new Ss(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=o0(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),yg(t.i,n),Zp(n,r,e)}function Rs(t,e){t.na&&og(t.na,function(n,r){le(e,r,n)}),t.h&&UD({},function(n,r){le(e,r,n)})}function o0(t,e,n){n=Math.min(t.j.length,n);var r=t.h?je(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].g,l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{XO(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function s0(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ys||TD(),vs||(ys(),vs=!0),dg.add(e,t),t.A=0}}function Eg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=bs(je(t.Ma,t),c0(t,t.A)),t.A++,!0)}v.Ma=function(){if(this.u=null,a0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=bs(je(this.jb,this),t)}};v.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ge(10),Gc(this),a0(this))};function Ig(t){t.B!=null&&(P.clearTimeout(t.B),t.B=null)}function a0(t){t.g=new Ss(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=vn(t.wa);le(e,"RID","rpc"),le(e,"SID",t.K),le(e,"AID",t.V),le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&le(e,"TO",t.qa),le(e,"TYPE","xmlhttp"),Rs(t,e),t.o&&t.s&&_g(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Hc(vn(e)),n.u=null,n.S=!0,VD(n,t)}v.ib=function(){this.v!=null&&(this.v=null,Gc(this),Eg(this),Ge(19))};function Mc(t){t.v!=null&&(P.clearTimeout(t.v),t.v=null)}function u0(t,e){var n=null;if(t.g==e){Mc(t),Ig(t),t.g=null;var r=2}else if(Xp(t.i,e))n=e.F,QD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=jc(),ke(r,new ND(r,n)),Wc(t)}else s0(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&sF(t,e)||r==2&&Eg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:wr(t,5);break;case 4:wr(t,10);break;case 3:wr(t,6);break;default:wr(t,2)}}}function c0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function wr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=je(t.pb,t);n||(n=new Er("//www.google.com/images/cleardot.gif"),P.location&&P.location.protocol=="http"||Sc(n,"https"),Hc(n)),eF(n.toString(),r)}else Ge(2);t.H=0,t.h&&t.h.za(e),l0(t),i0(t)}v.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ge(2)):(this.l.info("Failed to ping google.com"),Ge(1))};function l0(t){if(t.H=0,t.ma=[],t.h){let e=YD(t.i);(e.length!=0||t.j.length!=0)&&(nD(t.ma,e),nD(t.ma,t.j),t.i.i.length=0,rg(t.j),t.j.length=0),t.h.ya()}}function d0(t,e,n){var r=n instanceof Er?vn(n):new Er(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ac(r,r.m);else{var i=P.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Er(null);r&&Sc(o,r),e&&(o.g=e),i&&Ac(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&le(r,n,e),le(r,"VER",t.ra),Rs(t,r),r}function h0(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new pe(new Ms({ob:n})):new pe(t.va),e.Oa(t.J),e}v.isActive=function(){return!!this.h&&this.h.isActive(this)};function f0(){}v=f0.prototype;v.Ba=function(){};v.Aa=function(){};v.za=function(){};v.ya=function(){};v.isActive=function(){return!0};v.Va=function(){};function xc(){if(Mi&&!(10<=Number(DO)))throw Error("Environmental error: no available transport.")}xc.prototype.g=function(t,e){return new ct(t,e)};function ct(t,e){Me.call(this),this.g=new r0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!gs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gs(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ri(this)}xe(ct,Me);ct.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ge(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=d0(t,null,t.Y),Wc(t)};ct.prototype.close=function(){wg(this.g)};ct.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=lg(t),t=n);e.j.push(new QO(e.fb++,t)),e.H==3&&Wc(e)};ct.prototype.N=function(){this.g.h=null,delete this.j,wg(this.g),delete this.g,ct.$.N.call(this)};function p0(t){gg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xe(p0,gg);function g0(){mg.call(this),this.status=1}xe(g0,mg);function Ri(t){this.g=t}xe(Ri,f0);Ri.prototype.Ba=function(){ke(this.g,"a")};Ri.prototype.Aa=function(t){ke(this.g,new p0(t))};Ri.prototype.za=function(t){ke(this.g,new g0)};Ri.prototype.ya=function(){ke(this.g,"b")};function aF(){this.blockSize=-1}function xt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xe(xt,aF);xt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function jp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}xt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)jp(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){jp(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){jp(this,r),i=0;break}}this.h=i,this.i+=e};xt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function te(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var uF={};function Dg(t){return-128<=t&&128>t?wO(t,function(e){return new te([e|0],0>e?-1:0)}):new te([t|0],0>t?-1:0)}function Jt(t){if(isNaN(t)||!isFinite(t))return Ai;if(0>t)return Fe(Jt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=eg;return new te(e,0)}function m0(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Fe(m0(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Jt(Math.pow(e,8)),r=Ai,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Jt(Math.pow(e,o)),r=r.R(o).add(Jt(s))):(r=r.R(n),r=r.add(Jt(s)))}return r}var eg=4294967296,Ai=Dg(0),tg=Dg(1),hD=Dg(16777216);v=te.prototype;v.ea=function(){if(_t(this))return-Fe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:eg+r)*e,e*=eg}return t};v.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(yn(this))return"0";if(_t(this))return"-"+Fe(this).toString(t);for(var e=Jt(Math.pow(t,6)),n=this,r="";;){var i=Nc(n,e).g;n=Rc(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,yn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};v.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function yn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function _t(t){return t.h==-1}v.X=function(t){return t=Rc(this,t),_t(t)?-1:yn(t)?0:1};function Fe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new te(n,~t.h).add(tg)}v.abs=function(){return _t(this)?Fe(this):this};v.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new te(n,n[n.length-1]&-2147483648?-1:0)};function Rc(t,e){return t.add(Fe(e))}v.R=function(t){if(yn(this)||yn(t))return Ai;if(_t(this))return _t(t)?Fe(this).R(Fe(t)):Fe(Fe(this).R(t));if(_t(t))return Fe(this.R(Fe(t)));if(0>this.X(hD)&&0>t.X(hD))return Jt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=s*u,Tc(n,2*r+2*i),n[2*r+2*i+1]+=o*u,Tc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Tc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Tc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new te(n,0)};function Tc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ds(t,e){this.g=t,this.h=e}function Nc(t,e){if(yn(e))throw Error("division by zero");if(yn(t))return new ds(Ai,Ai);if(_t(t))return e=Nc(Fe(t),e),new ds(Fe(e.g),Fe(e.h));if(_t(e))return e=Nc(t,Fe(e)),new ds(Fe(e.g),e.h);if(30<t.g.length){if(_t(t)||_t(e))throw Error("slowDivide_ only works with positive integers.");for(var n=tg,r=e;0>=r.X(t);)n=fD(n),r=fD(r);var i=Ti(n,1),o=Ti(r,1);for(r=Ti(r,2),n=Ti(n,2);!yn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ti(r,1),n=Ti(n,1)}return e=Rc(t,i.R(e)),new ds(i,e)}for(i=Ai;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Jt(n),s=o.R(e);_t(s)||0<s.X(t);)n-=r,o=Jt(n),s=o.R(e);yn(o)&&(o=tg),i=i.add(o),t=Rc(t,s)}return new ds(i,t)}v.gb=function(t){return Nc(this,t).h};v.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new te(n,this.h&t.h)};v.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new te(n,this.h|t.h)};v.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new te(n,this.h^t.h)};function fD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new te(n,t.h)}function Ti(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new te(i,t.h)}xc.prototype.createWebChannel=xc.prototype.g;ct.prototype.send=ct.prototype.u;ct.prototype.open=ct.prototype.m;ct.prototype.close=ct.prototype.close;Bc.NO_ERROR=0;Bc.TIMEOUT=8;Bc.HTTP_ERROR=6;PD.COMPLETE="complete";OD.EventType=Ts;Ts.OPEN="a";Ts.CLOSE="b";Ts.ERROR="c";Ts.MESSAGE="d";Me.prototype.listen=Me.prototype.O;pe.prototype.listenOnce=pe.prototype.P;pe.prototype.getLastError=pe.prototype.Sa;pe.prototype.getLastErrorCode=pe.prototype.Ia;pe.prototype.getStatus=pe.prototype.da;pe.prototype.getResponseJson=pe.prototype.Wa;pe.prototype.getResponseText=pe.prototype.ja;pe.prototype.send=pe.prototype.ha;pe.prototype.setWithCredentials=pe.prototype.Oa;xt.prototype.digest=xt.prototype.l;xt.prototype.reset=xt.prototype.reset;xt.prototype.update=xt.prototype.j;te.prototype.add=te.prototype.add;te.prototype.multiply=te.prototype.R;te.prototype.modulo=te.prototype.gb;te.prototype.compare=te.prototype.X;te.prototype.toNumber=te.prototype.ea;te.prototype.toString=te.prototype.toString;te.prototype.getBits=te.prototype.D;te.fromNumber=Jt;te.fromString=m0;var y0=Rt.createWebChannelTransport=function(){return new xc},v0=Rt.getStatEventTarget=function(){return jc()},Kc=Rt.ErrorCode=Bc,_0=Rt.EventType=PD,w0=Rt.Event=Ir,Cg=Rt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},HH=Rt.FetchXmlHttpFactory=Ms,Ns=Rt.WebChannel=OD,E0=Rt.XhrIo=pe,I0=Rt.Md5=xt,Dr=Rt.Integer=te;var D0="@firebase/firestore";var Re=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Re.UNAUTHENTICATED=new Re(null),Re.GOOGLE_CREDENTIALS=new Re("google-credentials-uid"),Re.FIRST_PARTY=new Re("first-party-uid"),Re.MOCK_USER=new Re("mock-user");var Ji="10.9.0";var xr=new bi("@firebase/firestore");function Ps(){return xr.logLevel}function w(t,...e){if(xr.logLevel<=G.DEBUG){let n=e.map(cy);xr.debug(`Firestore (${Ji}): ${t}`,...n)}}function nn(t,...e){if(xr.logLevel<=G.ERROR){let n=e.map(cy);xr.error(`Firestore (${Ji}): ${t}`,...n)}}function ji(t,...e){if(xr.logLevel<=G.WARN){let n=e.map(cy);xr.warn(`Firestore (${Ji}): ${t}`,...n)}}function cy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function F(t="Unexpected state"){let e=`FIRESTORE (${Ji}) INTERNAL ASSERTION FAILED: `+t;throw nn(e),new Error(e)}function Ce(t,e){t||F()}function K(t,e){return t}var g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=class extends gn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Jc=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Re.UNAUTHENTICATED))}shutdown(){}},Rg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ng=class{constructor(e){this.t=e,this.currentUser=Re.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nt,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>y(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{w("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(w("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nt)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(w("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Jc(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Re(e)}},Pg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Re.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Og=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Pg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Re.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Fg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},kg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&w("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,w("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{w("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):w("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new Fg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function cF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Xc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=cF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ee(t,e){return t<e?-1:t>e?1:0}function Bi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var be=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new E(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new E(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new E(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var V=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new be(0,0))}static max(){return new t(new be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var el=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&F(),r===void 0?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},fe=class t extends el{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new E(g.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},lF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wt=class t extends el{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return lF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new E(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new E(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new E(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new E(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var S=class t{constructor(e){this.path=e}static fromPath(e){return new t(fe.fromString(e))}static fromName(e){return new t(fe.fromString(e).popFirst(5))}static empty(){return new t(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new fe(e.slice()))}};var Vg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Vg.UNKNOWN_ID=-1;function dF(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(r===1e9?new be(n+1,0):new be(n,r));return new Rr(i,S.empty(),e)}function hF(t){return new Rr(t.readTime,t.key,-1)}var Rr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(V.min(),S.empty(),-1)}static max(){return new t(V.max(),S.empty(),-1)}};function fF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=S.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}var pF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ly(t){return y(this,null,function*(){if(t.code!==g.FAILED_PRECONDITION||t.message!==pF)throw t;w("LocalStore","Unexpectedly lost primary lease")})}var p=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var jg=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Nt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Mr(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=dy(r.target.error);this.V.reject(new Mr(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Mr(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(w("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Ug(n)}},tl=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(ss())===12.2&&nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return w("SimpleDb","Removing database:",e),Cr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!mc())return!1;if(t.C())return!0;let e=ss(),n=t.S(e),r=0<n&&n<10,i=t.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return y(this,null,function*(){return this.db||(w("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new Mr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new E(g.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new E(g.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Mr(e,s))},i.onupgradeneeded=o=>{w("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{w("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return y(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=jg.open(this.db,e,o?"readonly":"readwrite",r),u=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),p.reject(c))).toPromise();return u.catch(()=>{}),yield a.m,u}catch(a){let u=a,c=u.name!=="FirebaseError"&&s<3;if(w("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),!c)return Promise.reject(u)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Bg=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Cr(this.k.delete())}},Mr=class extends E{constructor(e,n){super(g.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function na(t){return t.name==="IndexedDbTransactionError"}var Ug=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(w("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(w("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Cr(r)}add(e){return w("SimpleDb","ADD",this.store.name,e,e),Cr(this.store.add(e))}get(e){return Cr(this.store.get(e)).next(n=>(n===void 0&&(n=null),w("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return w("SimpleDb","DELETE",this.store.name,e),Cr(this.store.delete(e))}count(){return w("SimpleDb","COUNT",this.store.name),Cr(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new p((s,a)=>{o.onerror=u=>{a(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{let o=this.cursor(r),s=[];return this.G(o,(a,u)=>{s.push(u)}).next(()=>s)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new p((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){w("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new p((r,i)=>{n.onerror=o=>{let s=dy(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){let r=[];return new p((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let u=new Bg(a),c=n(a.primaryKey,a.value,u);if(c instanceof p){let l=c.catch(d=>(u.done(),p.reject(d)));r.push(l)}u.isDone?i():u.$===null?a.continue():a.continue(u.$)}}).next(()=>p.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Cr(t){return new p((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=dy(r.target.error);n(i)}})}var C0=!1;function dy(t){let e=tl.S(ss());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new E("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return C0||(C0=!0,setTimeout(()=>{throw r},0)),r}}return t}var nC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Sl(t){return t==null}function Bs(t){return t===0&&1/t==-1/0}function gF(t){return typeof t=="number"&&Number.isInteger(t)&&!Bs(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var mF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],e4=[...mF,"documentOverlays"],yF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vF=yF,t4=[...vF,"indexConfiguration","indexState","indexEntries"];function b0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ra(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ye=class t{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fi(this.root,e,this.comparator,!0)}},Fi=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},en=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();let e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}};en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(e,n,r,i,o){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var $e=class t{constructor(e){this.comparator=e,this.data=new ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nl(this.data.getIterator())}getIteratorFrom(e){return new nl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},nl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var br=class t{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new t([])}unionWith(e){let n=new $e(wt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bi(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var rl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var We=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rl("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};We.EMPTY_BYTE_STRING=new We("");var _F=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gn(t){if(Ce(!!t),typeof t=="string"){let e=0,n=_F.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(t.seconds),nanos:ge(t.nanos)}}function ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wn(t){return typeof t=="string"?We.fromBase64String(t):We.fromUint8Array(t)}function hy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fy(t){let e=t.mapValue.fields.__previous_value__;return hy(e)?fy(e):e}function Us(t){let e=Gn(t.mapValue.fields.__local_write_time__.timestampValue);return new be(e.seconds,e.nanos)}var $g=class{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}},il=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Qc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hy(t)?4:iC(t)?9007199254740991:10:F()}function rn(t,e){if(t===e)return!0;let n=Nr(t);if(n!==Nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Us(t).isEqual(Us(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Gn(i.timestampValue),a=Gn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Wn(i.bytesValue).isEqual(Wn(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ge(i.geoPointValue.latitude)===ge(o.geoPointValue.latitude)&&ge(i.geoPointValue.longitude)===ge(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ge(i.integerValue)===ge(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ge(i.doubleValue),a=ge(o.doubleValue);return s===a?Bs(s)===Bs(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Bi(t.arrayValue.values||[],e.arrayValue.values||[],rn);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(b0(s)!==b0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!rn(s[u],a[u])))return!1;return!0}(t,e);default:return F()}}function $s(t,e){return(t.values||[]).find(n=>rn(n,e))!==void 0}function Ui(t,e){if(t===e)return 0;let n=Nr(t),r=Nr(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ge(o.integerValue||o.doubleValue),u=ge(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return T0(t.timestampValue,e.timestampValue);case 4:return T0(Us(t),Us(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Wn(o),u=Wn(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){let l=ee(a[c],u[c]);if(l!==0)return l}return ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ee(ge(o.latitude),ge(s.latitude));return a!==0?a:ee(ge(o.longitude),ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){let l=Ui(a[c],u[c]);if(l)return l}return ee(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Qc.mapValue&&s===Qc.mapValue)return 0;if(o===Qc.mapValue)return 1;if(s===Qc.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),c=s.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){let h=ee(u[d],l[d]);if(h!==0)return h;let f=Ui(a[u[d]],c[l[d]]);if(f!==0)return f}return ee(u.length,l.length)}(t.mapValue,e.mapValue);default:throw F()}}function T0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);let n=Gn(t),r=Gn(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function $i(t){return Hg(t)}function Hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Gn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Wn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return S.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Hg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Hg(n.fields[s])}`;return i+"}"}(t.mapValue):F()}function S0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qg(t){return!!t&&"integerValue"in t}function py(t){return!!t&&"arrayValue"in t}function A0(t){return!!t&&"nullValue"in t}function M0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bg(t){return!!t&&"mapValue"in t}function Fs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ra(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fs(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var _n=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fs(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Fs(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());bg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ra(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Fs(this.value))}};var Pt=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,V.min(),V.min(),V.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,V.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,V.min(),V.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,V.min(),V.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(V.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Hi=class{constructor(e,n){this.position=e,this.inclusive=n}};function x0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=S.comparator(S.fromName(s.referenceValue),n.key):r=Ui(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function R0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rn(t.position[n],e.position[n]))return!1;return!0}var qi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function wF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ol=class{},De=class t extends ol{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Gg(e,n,r):n==="array-contains"?new Qg(e,r):n==="in"?new Yg(e,r):n==="not-in"?new Zg(e,r):n==="array-contains-any"?new Jg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wg(e,r):new Kg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ui(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(Ui(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ot=class t extends ol{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return oC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function oC(t){return t.op==="and"}function sC(t){return EF(t)&&oC(t)}function EF(t){for(let e of t.filters)if(e instanceof Ot)return!1;return!0}function zg(t){if(t instanceof De)return t.field.canonicalString()+t.op.toString()+$i(t.value);if(sC(t))return t.filters.map(e=>zg(e)).join(",");{let e=t.filters.map(n=>zg(n)).join(",");return`${t.op}(${e})`}}function aC(t,e){return t instanceof De?function(r,i){return i instanceof De&&r.op===i.op&&r.field.isEqual(i.field)&&rn(r.value,i.value)}(t,e):t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&aC(s,i.filters[a]),!0):!1}(t,e):void F()}function uC(t){return t instanceof De?function(n){return`${n.field.canonicalString()} ${n.op} ${$i(n.value)}`}(t):t instanceof Ot?function(n){return n.op.toString()+" {"+n.getFilters().map(uC).join(" ,")+"}"}(t):"Filter"}var Gg=class extends De{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){let n=S.comparator(e.key,this.key);return this.matchesComparison(n)}},Wg=class extends De{constructor(e,n){super(e,"in",n),this.keys=cC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Kg=class extends De{constructor(e,n){super(e,"not-in",n),this.keys=cC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function cC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}var Qg=class extends De{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return py(n)&&$s(n.arrayValue,this.value)}},Yg=class extends De{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&$s(this.value.arrayValue,n)}},Zg=class extends De{constructor(e,n){super(e,"not-in",n)}matches(e){if($s(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!$s(this.value.arrayValue,n)}},Jg=class extends De{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!py(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$s(this.value.arrayValue,r))}};var Xg=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function N0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Xg(t,e,n,r,i,o,s)}function gy(t){let e=K(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Sl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$i(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$i(r)).join(",")),e.ce=n}return e.ce}function my(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!R0(t.startAt,e.startAt)&&R0(t.endAt,e.endAt)}function em(t){return S.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Pr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function IF(t,e,n,r,i,o,s,a){return new Pr(t,e,n,r,i,o,s,a)}function yy(t){return new Pr(t)}function P0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lC(t){return t.collectionGroup!==null}function ks(t){let e=K(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $e(wt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new qi(o,r))}),n.has(wt.keyField().canonicalString())||e.le.push(new qi(wt.keyField(),r))}return e.le}function tn(t){let e=K(t);return e.he||(e.he=DF(e,ks(t))),e.he}function DF(t,e){if(t.limitType==="F")return N0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new qi(i.field,o)});let n=t.endAt?new Hi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hi(t.startAt.position,t.startAt.inclusive):null;return N0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tm(t,e){let n=t.filters.concat([e]);return new Pr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nm(t,e,n){return new Pr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Al(t,e){return my(tn(t),tn(e))&&t.limitType===e.limitType}function dC(t){return`${gy(tn(t))}|lt:${t.limitType}`}function Ni(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uC(i)).join(", ")}]`),Sl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$i(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$i(i)).join(",")),`Target(${r})`}(tn(t))}; limitType=${t.limitType})`}function Ml(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):S.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ks(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let c=x0(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,ks(r),i)||r.endAt&&!function(s,a,u){let c=x0(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,ks(r),i))}(t,e)}function CF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hC(t){return(e,n)=>{let r=!1;for(let i of ks(t)){let o=bF(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bF(t,e,n){let r=t.field.isKeyField()?S.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?Ui(u,c):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}var Kn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return rC(this.inner)}size(){return this.innerSize}};var TF=new ye(S.comparator);function Qn(){return TF}var fC=new ye(S.comparator);function Os(...t){let e=fC;for(let n of t)e=e.insert(n.key,n);return e}function SF(t){let e=fC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Tr(){return Vs()}function pC(){return Vs()}function Vs(){return new Kn(t=>t.toString(),(t,e)=>t.isEqual(e))}var r4=new ye(S.comparator),AF=new $e(S.comparator);function W(...t){let e=AF;for(let n of t)e=e.add(n);return e}var MF=new $e(ee);function xF(){return MF}function gC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bs(e)?"-0":e}}function mC(t){return{integerValue:""+t}}function RF(t,e){return gF(e)?mC(e):gC(t,e)}var zi=class{constructor(){this._=void 0}};function NF(t,e,n){return t instanceof Hs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hy(o)&&(o=fy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Gi?yC(t,e):t instanceof Wi?vC(t,e):function(i,o){let s=OF(i,o),a=O0(s)+O0(i.Ie);return qg(s)&&qg(i.Ie)?mC(a):gC(i.serializer,a)}(t,e)}function PF(t,e,n){return t instanceof Gi?yC(t,e):t instanceof Wi?vC(t,e):n}function OF(t,e){return t instanceof qs?function(r){return qg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Hs=class extends zi{},Gi=class extends zi{constructor(e){super(),this.elements=e}};function yC(t,e){let n=_C(e);for(let r of t.elements)n.some(i=>rn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Wi=class extends zi{constructor(e){super(),this.elements=e}};function vC(t,e){let n=_C(e);for(let r of t.elements)n=n.filter(i=>!rn(i,r));return{arrayValue:{values:n}}}var qs=class extends zi{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function O0(t){return ge(t.integerValue||t.doubleValue)}function _C(t){return py(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function FF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gi&&i instanceof Gi||r instanceof Wi&&i instanceof Wi?Bi(r.elements,i.elements,rn):r instanceof qs&&i instanceof qs?rn(r.Ie,i.Ie):r instanceof Hs&&i instanceof Hs}(t.transform,e.transform)}var Ls=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Zc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var zs=class{};function wC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rm(t.key,Ls.none()):new Gs(t.key,t.data,Ls.none());{let n=t.data,r=_n.empty(),i=new $e(wt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ki(t.key,r,new br(i.toArray()),Ls.none())}}function kF(t,e,n){t instanceof Gs?function(i,o,s){let a=i.value.clone(),u=k0(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ki?function(i,o,s){if(!Zc(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=k0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(EC(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function js(t,e,n,r){return t instanceof Gs?function(o,s,a,u){if(!Zc(o.precondition,s))return a;let c=o.value.clone(),l=V0(o.fieldTransforms,u,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ki?function(o,s,a,u){if(!Zc(o.precondition,s))return a;let c=V0(o.fieldTransforms,u,s),l=s.data;return l.setAll(EC(o)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Zc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function F0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bi(r,i,(o,s)=>FF(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Gs=class extends zs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ki=class extends zs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function EC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function k0(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,PF(s,a,n[i]))}return r}function V0(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,NF(o,s,e))}return r}var rm=class extends zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var im=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&kF(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=js(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=js(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=pC();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=wC(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(V.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),W())}isEqual(e){return this.batchId===e.batchId&&Bi(this.mutations,e.mutations,(n,r)=>F0(n,r))&&Bi(this.baseMutations,e.baseMutations,(n,r)=>F0(n,r))}};var om=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var sm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ee,z;function IC(t){if(t===void 0)return nn("GRPC error has no .code"),g.UNKNOWN;switch(t){case Ee.OK:return g.OK;case Ee.CANCELLED:return g.CANCELLED;case Ee.UNKNOWN:return g.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return g.INTERNAL;case Ee.UNAVAILABLE:return g.UNAVAILABLE;case Ee.UNAUTHENTICATED:return g.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case Ee.NOT_FOUND:return g.NOT_FOUND;case Ee.ALREADY_EXISTS:return g.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return g.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case Ee.ABORTED:return g.ABORTED;case Ee.OUT_OF_RANGE:return g.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return g.UNIMPLEMENTED;case Ee.DATA_LOSS:return g.DATA_LOSS;default:return F()}}(z=Ee||(Ee={}))[z.OK=0]="OK",z[z.CANCELLED=1]="CANCELLED",z[z.UNKNOWN=2]="UNKNOWN",z[z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",z[z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",z[z.NOT_FOUND=5]="NOT_FOUND",z[z.ALREADY_EXISTS=6]="ALREADY_EXISTS",z[z.PERMISSION_DENIED=7]="PERMISSION_DENIED",z[z.UNAUTHENTICATED=16]="UNAUTHENTICATED",z[z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",z[z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",z[z.ABORTED=10]="ABORTED",z[z.OUT_OF_RANGE=11]="OUT_OF_RANGE",z[z.UNIMPLEMENTED=12]="UNIMPLEMENTED",z[z.INTERNAL=13]="INTERNAL",z[z.UNAVAILABLE=14]="UNAVAILABLE",z[z.DATA_LOSS=15]="DATA_LOSS";var L0=null;function VF(){return new TextEncoder}var LF=new Dr([4294967295,4294967295],0);function j0(t){let e=VF().encode(t),n=new I0;return n.update(e),new Uint8Array(n.digest())}function B0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Dr([n,r],0),new Dr([i,o],0)]}var am=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sr(`Invalid padding: ${n}`);if(r<0)throw new Sr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Dr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Dr.fromNumber(r)));return i.compare(LF)===1&&(i=new Dr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=j0(e),[r,i]=B0(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=j0(e),[r,i]=B0(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Sr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var sl=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ws.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(V.min(),i,new ye(ee),Qn(),W())}},Ws=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,W(),W(),W())}};var ki=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},al=class{constructor(e,n){this.targetId=e,this.fe=n}},ul=class{constructor(e,n,r=We.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},cl=class{constructor(){this.ge=0,this.pe=$0(),this.ye=We.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=W(),n=W(),r=W();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Ws(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=$0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ce(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},um=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=Qn(),this.Qe=U0(),this.Ke=new ye(ee)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let o=i.target;if(em(o))if(r===0){let s=new S(o.path);this.We(n,s,Pt.newNoDocument(s,V.min()))}else Ce(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(e),u=a?this.et(a,e,s):1;if(u!==0){this.He(n);let c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}L0?.tt(function(l,d,h,f,m){var D,C,M,ce,ne,de;let Ke={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},se=d.unchangedNames;return se&&(Ke.bloomFilter={applied:m===0,hashCount:(D=se?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(ce=(M=(C=se?.bits)===null||C===void 0?void 0:C.bitmap)===null||M===void 0?void 0:M.length)!==null&&ce!==void 0?ce:0,padding:(de=(ne=se?.bits)===null||ne===void 0?void 0:ne.padding)!==null&&de!==void 0?de:0,mightContain:rt=>{var wn;return(wn=f?.mightContain(rt))!==null&&wn!==void 0&&wn}}),Ke}(s,e.fe,this.Be.nt(),a,u))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Wn(r).toUint8Array()}catch(u){if(u instanceof rl)return ji("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new am(s,i,o)}catch(u){return ji(u instanceof Sr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&em(a.target)){let u=new S(a.target.path);this.qe.get(u)!==null||this.st(s,u)||this.We(s,u,Pt.newNoDocument(u,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=W();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let i=new sl(e,n,this.Ke,this.qe,r);return this.qe=Qn(),this.Qe=U0(),this.Ke=new ye(ee),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new cl,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new $e(ee),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||w("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new cl),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function U0(){return new ye(S.comparator)}function $0(){return new ye(S.comparator)}var jF={asc:"ASCENDING",desc:"DESCENDING"},BF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UF={and:"AND",or:"OR"},cm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function lm(t,e){return t.useProto3Json||Sl(e)?e:{value:e}}function dm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vi(t){return Ce(!!t),V.fromTimestamp(function(n){let r=Gn(n);return new be(r.seconds,r.nanos)}(t))}function CC(t,e){return hm(t,e).canonicalString()}function hm(t,e){let n=function(i){return new fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bC(t){let e=fe.fromString(t);return Ce(xC(e)),e}function Tg(t,e){let n=bC(e);if(n.get(1)!==t.databaseId.projectId)throw new E(g.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new E(g.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(SC(n))}function TC(t,e){return CC(t.databaseId,e)}function $F(t){let e=bC(t);return e.length===4?fe.emptyPath():SC(e)}function H0(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SC(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function HF(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:F()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(Ce(l===void 0||typeof l=="string"),We.fromBase64String(l||"")):(Ce(l===void 0||l instanceof Uint8Array),We.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){let l=c.code===void 0?g.UNKNOWN:IC(c.code);return new E(l,c.message||"")}(s);n=new ul(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Tg(t,r.document.name),o=Vi(r.document.updateTime),s=r.document.createTime?Vi(r.document.createTime):V.min(),a=new _n({mapValue:{fields:r.document.fields}}),u=Pt.newFoundDocument(i,o,s,a),c=r.targetIds||[],l=r.removedTargetIds||[];n=new ki(c,l,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Tg(t,r.document),o=r.readTime?Vi(r.readTime):V.min(),s=Pt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ki([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Tg(t,r.document),o=r.removedTargetIds||[];n=new ki([],o,i,null)}else{if(!("filter"in e))return F();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new sm(i,o),a=r.targetId;n=new al(a,s)}}return n}function qF(t,e){return{documents:[TC(t,e.path)]}}function zF(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TC(t,i);let o=function(c){if(c.length!==0)return MC(Ot.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(c){if(c.length!==0)return c.map(l=>function(h){return{field:Pi(h.field),direction:KF(h.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=lm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function GF(t){let e=$F(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){let h=AC(d);return h instanceof Ot&&sC(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(m){return new qi(Oi(m.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Sl(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(d){let h=!!d.before,f=d.values||[];return new Hi(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){let h=!d.before,f=d.values||[];return new Hi(f,h)}(n.endAt)),IF(e,i,s,o,a,"F",u,c)}function WF(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Oi(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Oi(n.unaryFilter.field);return De.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Oi(n.unaryFilter.field);return De.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Oi(n.unaryFilter.field);return De.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):t.fieldFilter!==void 0?function(n){return De.create(Oi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ot.create(n.compositeFilter.filters.map(r=>AC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return F()}}(n.compositeFilter.op))}(t):F()}function KF(t){return jF[t]}function QF(t){return BF[t]}function YF(t){return UF[t]}function Pi(t){return{fieldPath:t.canonicalString()}}function Oi(t){return wt.fromServerFormat(t.fieldPath)}function MC(t){return t instanceof De?function(n){if(n.op==="=="){if(M0(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NAN"}};if(A0(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(M0(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NOT_NAN"}};if(A0(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pi(n.field),op:QF(n.op),value:n.value}}}(t):t instanceof Ot?function(n){let r=n.getFilters().map(i=>MC(i));return r.length===1?r[0]:{compositeFilter:{op:YF(n.op),filters:r}}}(t):F()}function xC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ks=class t{constructor(e,n,r,i,o=V.min(),s=V.min(),a=We.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var fm=class{constructor(e){this.ct=e}};function ZF(t){let e=GF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nm(e,e.limit,"L"):e}var ll=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(ge(e.integerValue));else if("doubleValue"in e){let r=ge(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Bs(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Wn(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?iC(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):F()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),S.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};ll.bt=new ll;var pm=class{constructor(){this._n=new gm}addToCollectionParentIndex(e,n){return this._n.add(n),p.resolve()}getCollectionParents(e,n){return p.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return p.resolve()}deleteFieldIndex(e,n){return p.resolve()}deleteAllFieldIndexes(e){return p.resolve()}createTargetIndexes(e,n){return p.resolve()}getDocumentsMatchingTarget(e,n){return p.resolve(null)}getIndexType(e,n){return p.resolve(0)}getFieldIndexes(e,n){return p.resolve([])}getNextCollectionGroupToUpdate(e){return p.resolve(null)}getMinOffset(e,n){return p.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,n){return p.resolve(Rr.min())}updateCollectionGroup(e,n,r){return p.resolve()}updateIndexEntries(e,n){return p.resolve()}},gm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $e(fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(fe.comparator)).toArray()}};var i4=new Uint8Array(0);var Xt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);var Qs=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var mm=class{constructor(){this.changes=new Kn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?p.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ym=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var vm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&js(r.mutation,i,br.empty(),be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,W()).next(()=>r))}getLocalViewOfDocuments(e,n,r=W()){let i=Tr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Os();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Tr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,W()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Qn(),s=Vs(),a=function(){return Vs()}();return n.forEach((u,c)=>{let l=r.get(c.key);i.has(c.key)&&(l===void 0||l.mutation instanceof Ki)?o=o.insert(c.key,c):l!==void 0?(s.set(c.key,l.mutation.getFieldMask()),js(l.mutation,c,l.mutation.getFieldMask(),be.now())):s.set(c.key,br.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new ym(l,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Vs(),i=new ye((s,a)=>s-a),o=W();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let c=n.get(u);if(c===null)return;let l=r.get(u)||br.empty();l=a.applyToLocalView(c,l),r.set(u,l);let d=(i.get(a.batchId)||W()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),c=u.key,l=u.value,d=pC();l.forEach(h=>{if(!o.has(h)){let f=wC(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return p.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return S.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):p.resolve(Tr()),a=-1,u=o;return s.next(c=>p.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?p.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,W())).next(l=>({batchId:a,changes:SF(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new S(n)).next(r=>{let i=Os();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Os();return this.indexManager.getCollectionParents(e,o).next(a=>p.forEach(a,u=>{let c=function(d,h){return new Pr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{let l=c.getKey();s.get(l)===null&&(s=s.insert(l,Pt.newInvalidDocument(l)))});let a=Os();return s.forEach((u,c)=>{let l=o.get(u);l!==void 0&&js(l.mutation,c,br.empty(),be.now()),Ml(n,c)&&(a=a.insert(u,c))}),a})}};var _m=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return p.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vi(i.createTime)}}(n)),p.resolve()}getNamedQuery(e,n){return p.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:ZF(i.bundledQuery),readTime:Vi(i.readTime)}}(n)),p.resolve()}};var wm=class{constructor(){this.overlays=new ye(S.comparator),this.hr=new Map}getOverlay(e,n){return p.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Tr();return p.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),p.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),p.resolve()}getOverlaysForCollection(e,n,r){let i=Tr(),o=n.length+1,s=new S(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return p.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ye((c,l)=>c-l),s=this.overlays.getIterator();for(;s.hasNext();){let c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);l===null&&(l=Tr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}let a=Tr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return p.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new om(n,r));let o=this.hr.get(n);o===void 0&&(o=W(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var Ys=class{constructor(){this.Pr=new $e(Ie.Ir),this.Tr=new $e(Ie.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ie(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ie(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new S(new fe([])),r=new Ie(n,e),i=new Ie(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new S(new fe([])),r=new Ie(n,e),i=new Ie(n,e+1),o=W();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ie(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ie=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return S.comparator(e.key,n.key)||ee(e.pr,n.pr)}static Er(e,n){return ee(e.pr,n.pr)||S.comparator(e.key,n.key)}};var Em=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new $e(Ie.Ir)}checkEmpty(e){return p.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new im(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new Ie(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return p.resolve(s)}lookupMutationBatch(e,n){return p.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return p.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return p.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return p.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ie(n,0),i=new Ie(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),p.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(ee);return n.forEach(i=>{let o=new Ie(i,0),s=new Ie(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),p.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;S.isDocumentKey(o)||(o=o.child(""));let s=new Ie(new S(o),0),a=new $e(ee);return this.wr.forEachWhile(u=>{let c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},s),p.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return p.forEach(n.mutations,i=>{let o=new Ie(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ie(n,0),i=this.wr.firstAfterOrEqual(r);return p.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,p.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Im=class{constructor(e){this.vr=e,this.docs=function(){return new ye(S.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return p.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=Qn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Pt.newInvalidDocument(i))}),p.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Qn(),s=n.path,a=new S(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||fF(hF(l),r)<=0||(i.has(l.key)||Ml(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return p.resolve(o)}getAllFromCollectionGroup(e,n,r,i){F()}Fr(e,n){return p.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Dm(this)}getSize(e){return p.resolve(this.size)}},Dm=class extends mm{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),p.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Cm=class{constructor(e){this.persistence=e,this.Mr=new Kn(n=>gy(n),my),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ys,this.targetCount=0,this.Lr=Qs.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),p.resolve()}getLastRemoteSnapshotVersion(e){return p.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return p.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),p.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),p.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Qs(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,p.resolve()}updateTargetData(e,n){return this.qn(n),p.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,p.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),p.waitFor(o).next(()=>i)}getTargetCount(e){return p.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return p.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),p.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),p.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),p.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return p.resolve(r)}containsKey(e,n){return p.resolve(this.Nr.containsKey(n))}};var bm=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new nC(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Cm(this),this.indexManager=new pm,this.remoteDocumentCache=function(i){return new Im(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new fm(n),this.$r=new _m(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Em(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){w("MemoryPersistence","Starting transaction:",e);let i=new Tm(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return p.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},Tm=class extends Lg{constructor(e){super(),this.currentSequenceNumber=e}},Sm=class t{constructor(e){this.persistence=e,this.zr=new Ys,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw F()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),p.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),p.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),p.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return p.forEach(this.Jr,r=>{let i=S.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,V.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return p.or([()=>p.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Am=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=W(),i=W();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Mm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var xm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return LI()?8:tl.v(ss())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Mm;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ps()<=G.DEBUG&&w("QueryEngine","SDK will not create cache indexes for query:",Ni(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),p.resolve()):(Ps()<=G.DEBUG&&w("QueryEngine","Query:",Ni(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ps()<=G.DEBUG&&w("QueryEngine","The SDK decides to create cache indexes for query:",Ni(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tn(n))):p.resolve())}ji(e,n){if(P0(n))return p.resolve(null);let r=tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nm(n,null,"F"),r=tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=W(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let c=this.Zi(n,a);return this.Xi(n,c,s,u.readTime)?this.ji(e,nm(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return P0(n)||i.isEqual(V.min())?p.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?p.resolve(null):(Ps()<=G.DEBUG&&w("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ni(n)),this.es(e,s,n,dF(i,-1)).next(a=>a))})}Zi(e,n){let r=new $e(hC(e));return n.forEach((i,o)=>{Ml(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Ps()<=G.DEBUG&&w("QueryEngine","Using full collection scan to execute query:",Ni(n)),this.zi.getDocumentsMatchingQuery(e,n,Rr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Rm=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ye(ee),this.rs=new Kn(o=>gy(o),my),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function JF(t,e,n,r){return new Rm(t,e,n,r)}function RC(t,e){return y(this,null,function*(){let n=K(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=W();for(let c of i){s.push(c.batchId);for(let l of c.mutations)u=u.add(l.key)}for(let c of o){a.push(c.batchId);for(let l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})})}function NC(t){let e=K(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function XF(t,e){let n=K(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(We.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(D,C,M){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(o,f))});let u=Qn(),c=W();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(ek(o,s,e.documentUpdates).next(l=>{u=l.cs,c=l.ls})),!r.isEqual(V.min())){let l=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return p.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.ns=i,o))}function ek(t,e,n){let r=W(),i=W();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Qn();return n.forEach((a,u)=>{let c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(V.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):w("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:s,ls:i}})}function tk(t,e){let n=K(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,p.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Ks(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Nm(t,e,n){return y(this,null,function*(){let r=K(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!na(s))throw s;w("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function q0(t,e,n){let r=K(t),i=V.min(),o=W();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,l){let d=K(u),h=d.rs.get(l);return h!==void 0?p.resolve(d.ns.get(h)):d.Qr.getTargetData(c,l)}(r,s,tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:V.min(),n?o:W())).next(a=>(nk(r,CF(e),a),{documents:a,hs:o})))}function nk(t,e,n){let r=t.ss.get(e)||V.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}var dl=class{constructor(){this.activeTargetIds=xF()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Pm=class{constructor(){this.no=new dl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new dl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Om=class{io(e){}shutdown(){}};var hl=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){w("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){w("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Yc=null;function Sg(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}var rk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Fm=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Ue="WebChannelConnection",km=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){let a=Sg(),u=this.bo(n,r.toUriEncodedString());w("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,o,s),this.Co(n,u,c,i).then(l=>(w("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw ji("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ji}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){let i=rk[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let o=Sg();return new Promise((s,a)=>{let u=new E0;u.setWithCredentials(!0),u.listenOnce(_0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Kc.NO_ERROR:let l=u.getResponseJson();w(Ue,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case Kc.TIMEOUT:w(Ue,`RPC '${e}' ${o} timed out`),a(new E(g.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:let d=u.getStatus();if(w(Ue,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let m=function(C){let M=C.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(M)>=0?M:g.UNKNOWN}(f.status);a(new E(m,f.message))}else a(new E(g.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new E(g.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{w(Ue,`RPC '${e}' ${o} completed.`)}});let c=JSON.stringify(i);w(Ue,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Fo(e,n,r){let i=Sg(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=y0(),a=v0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let l=o.join("");w(Ue,`Creating RPC '${e}' stream ${i}: ${l}`,u);let d=s.createWebChannel(l,u),h=!1,f=!1,m=new Fm({lo:C=>{f?w(Ue,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(h||(w(Ue,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),w(Ue,`RPC '${e}' stream ${i} sending:`,C),d.send(C))},ho:()=>d.close()}),D=(C,M,ce)=>{C.listen(M,ne=>{try{ce(ne)}catch(de){setTimeout(()=>{throw de},0)}})};return D(d,Ns.EventType.OPEN,()=>{f||w(Ue,`RPC '${e}' stream ${i} transport opened.`)}),D(d,Ns.EventType.CLOSE,()=>{f||(f=!0,w(Ue,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),D(d,Ns.EventType.ERROR,C=>{f||(f=!0,ji(Ue,`RPC '${e}' stream ${i} transport errored:`,C),m.Vo(new E(g.UNAVAILABLE,"The operation could not be completed")))}),D(d,Ns.EventType.MESSAGE,C=>{var M;if(!f){let ce=C.data[0];Ce(!!ce);let ne=ce,de=ne.error||((M=ne[0])===null||M===void 0?void 0:M.error);if(de){w(Ue,`RPC '${e}' stream ${i} received error:`,de);let Ke=de.status,se=function(Vl){let sa=Ee[Vl];if(sa!==void 0)return IC(sa)}(Ke),rt=de.message;se===void 0&&(se=g.INTERNAL,rt="Unknown error status: "+Ke+" with message "+de.message),f=!0,m.Vo(new E(se,rt)),d.close()}else w(Ue,`RPC '${e}' stream ${i} received:`,ce),m.mo(ce)}}),D(a,w0.STAT_EVENT,C=>{C.stat===Cg.PROXY?w(Ue,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Cg.NOPROXY&&w(Ue,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}};function Ag(){return typeof document<"u"?document:null}function xl(t){return new cm(t,!0)}var fl=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&w("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var Vm=class{constructor(e,n,r,i,o,s,a,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new fl(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return y(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return y(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return y(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===g.RESOURCE_EXHAUSTED?(nn(n.toString()),nn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===g.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new E(g.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>y(this,null,function*(){this.state=0,this.start()}))}__(e){return w("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(w("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Lm=class extends Vm{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=HF(this.serializer,e),r=function(o){if(!("targetChange"in o))return V.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?Vi(s.readTime):V.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=H0(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=em(u)?{documents:qF(o,u)}:{query:zF(o,u).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=DC(o,s.resumeToken);let c=lm(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(V.min())>0){a.readTime=dm(o,s.snapshotVersion.toTimestamp());let c=lm(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let r=WF(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=H0(this.serializer),n.removeTarget=e,this.t_(n)}};var jm=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new E(g.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,hm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new E(g.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,hm(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new E(g.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Bm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(nn(n),this.g_=!1):w("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var Um=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(()=>y(this,null,function*(){oa(this)&&(w("RemoteStore","Restarting streams for network reachability change."),yield function(u){return y(this,null,function*(){let c=K(u);c.v_.add(4),yield ia(c),c.x_.set("Unknown"),c.v_.delete(4),yield Rl(c)})}(this))}))}),this.x_=new Bm(r,i)}};function Rl(t){return y(this,null,function*(){if(oa(t))for(let e of t.F_)yield e(!0)})}function ia(t){return y(this,null,function*(){for(let e of t.F_)yield e(!1)})}function PC(t,e){let n=K(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Ey(n)?wy(n):Xi(n).Jo()&&_y(n,e))}function vy(t,e){let n=K(t),r=Xi(n);n.C_.delete(e),r.Jo()&&OC(n,e),n.C_.size===0&&(r.Jo()?r.Xo():oa(n)&&n.x_.set("Unknown"))}function _y(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(V.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xi(t).c_(e)}function OC(t,e){t.O_.Oe(e),Xi(t).l_(e)}function wy(t){t.O_=new um({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Xi(t).start(),t.x_.p_()}function Ey(t){return oa(t)&&!Xi(t).Ho()&&t.C_.size>0}function oa(t){return K(t).v_.size===0}function FC(t){t.O_=void 0}function ik(t){return y(this,null,function*(){t.C_.forEach((e,n)=>{_y(t,e)})})}function ok(t,e){return y(this,null,function*(){FC(t),Ey(t)?(t.x_.S_(e),wy(t)):t.x_.set("Unknown")})}function sk(t,e,n){return y(this,null,function*(){if(t.x_.set("Online"),e instanceof ul&&e.state===2&&e.cause)try{yield function(i,o){return y(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){w("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield z0(t,r)}else if(e instanceof ki?t.O_.$e(e):e instanceof al?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(V.min()))try{let r=yield NC(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.O_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){let l=o.C_.get(c);l&&o.C_.set(c,l.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{let l=o.C_.get(u);if(!l)return;o.C_.set(u,l.withResumeToken(We.EMPTY_BYTE_STRING,l.snapshotVersion)),OC(o,u);let d=new Ks(l.target,u,c,l.sequenceNumber);_y(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){w("RemoteStore","Failed to raise snapshot:",r),yield z0(t,r)}})}function z0(t,e,n){return y(this,null,function*(){if(!na(e))throw e;t.v_.add(1),yield ia(t),t.x_.set("Offline"),n||(n=()=>NC(t.localStore)),t.asyncQueue.enqueueRetryable(()=>y(this,null,function*(){w("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Rl(t)}))})}function G0(t,e){return y(this,null,function*(){let n=K(t);n.asyncQueue.verifyOperationInProgress(),w("RemoteStore","RemoteStore received new credentials");let r=oa(n);n.v_.add(3),yield ia(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Rl(n)})}function ak(t,e){return y(this,null,function*(){let n=K(t);e?(n.v_.delete(2),yield Rl(n)):e||(n.v_.add(2),yield ia(n),n.x_.set("Unknown"))})}function Xi(t){return t.N_||(t.N_=function(n,r,i){let o=K(n);return o.R_(),new Lm(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:ik.bind(null,t),To:ok.bind(null,t),u_:sk.bind(null,t)}),t.F_.push(e=>y(this,null,function*(){e?(t.N_.Zo(),Ey(t)?wy(t):t.x_.set("Unknown")):(yield t.N_.stop(),FC(t))}))),t.N_}var $m=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new E(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function kC(t,e){if(nn("AsyncQueue",`${e}: ${t}`),na(t))return new E(g.UNAVAILABLE,`${e}: ${t}`);throw t}var pl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=Os(),this.sortedSet=new ye(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var gl=class{constructor(){this.B_=new ye(S.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):F():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Qi=class t{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,pl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Al(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Hm=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},qm=class{constructor(){this.queries=new Kn(e=>dC(e),Al),this.onlineState="Unknown",this.W_=new Set}};function VC(t,e){return y(this,null,function*(){let n=K(t),r=3,i=e.query,o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new Hm,r=e.U_()?0:1);try{switch(r){case 0:o.q_=yield n.onListen(i,!0);break;case 1:o.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=kC(s,`Initialization of query '${Ni(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&Iy(n)})}function LC(t,e){return y(this,null,function*(){let n=K(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function uk(t,e){let n=K(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&Iy(n)}function ck(t,e,n){let r=K(t),i=r.queries.get(e);if(i)for(let o of i.Q_)o.onError(n);r.queries.delete(e)}function Iy(t){t.W_.forEach(e=>{e.next()})}var zm,W0;(W0=zm||(zm={})).j_="default",W0.Cache="cache";var ml=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Qi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Qi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==zm.Cache}};var yl=class{constructor(e){this.key=e}},vl=class{constructor(e){this.key=e}},Gm=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=W(),this.mutatedKeys=W(),this.ha=hC(e),this.Pa=new pl(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new gl,i=n?n.Pa:this.Pa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=Ml(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),D=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),C=!1;h&&f?h.data.isEqual(f.data)?m!==D&&(r.track({type:3,doc:f}),C=!0):this.da(h,f)||(r.track({type:2,doc:f}),C=!0,(u&&this.ha(f,u)>0||c&&this.ha(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),C=!0):h&&!f&&(r.track({type:1,doc:h}),C=!0,(u||c)&&(a=!0)),C&&(f?(s=s.add(f),o=D?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let s=e.Ea.k_();s.sort((l,d)=>function(f,m){let D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return D(f)-D(m)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],u=this.la.size===0&&this.current&&!i?1:0,c=u!==this.ca;return this.ca=u,s.length!==0||c?{snapshot:new Qi(this.query,e.Pa,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new gl,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=W(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new vl(r))}),this.la.forEach(r=>{e.has(r)||n.push(new yl(r))}),n}fa(e){this.ua=e.hs,this.la=W();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Qi.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},Wm=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Km=class{constructor(e){this.key=e,this.pa=!1}},Qm=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Kn(a=>dC(a),Al),this.Sa=new Map,this.ba=new Set,this.Da=new ye(S.comparator),this.Ca=new Map,this.va=new Ys,this.Fa={},this.Ma=new Map,this.xa=Qs.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function lk(t,e,n=!0){return y(this,null,function*(){let r=HC(t),i,o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=yield jC(r,e,n,!0),i})}function dk(t,e){return y(this,null,function*(){let n=HC(t);yield jC(n,e,!0,!1)})}function jC(t,e,n,r){return y(this,null,function*(){let i=yield tk(t.localStore,tn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield hk(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&PC(t.remoteStore,i),a})}function hk(t,e,n,r,i){return y(this,null,function*(){t.Na=(d,h,f)=>function(D,C,M,ce){return y(this,null,function*(){let ne=C.view.Ta(M);ne.Xi&&(ne=yield q0(D.localStore,C.query,!1).then(({documents:rt})=>C.view.Ta(rt,ne)));let de=ce&&ce.targetChanges.get(C.targetId),Ke=ce&&ce.targetMismatches.get(C.targetId)!=null,se=C.view.applyChanges(ne,D.isPrimaryClient,de,Ke);return Q0(D,C.targetId,se.Va),se.snapshot})}(t,d,h,f);let o=yield q0(t.localStore,e,!0),s=new Gm(e,o.hs),a=s.Ta(o.documents),u=Ws.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);Q0(t,n,c.Va);let l=new Wm(e,n,s);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot})}function fk(t,e,n){return y(this,null,function*(){let r=K(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!Al(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Nm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vy(r.remoteStore,i.targetId),Ym(r,i.targetId)}).catch(ly))):(Ym(r,i.targetId),yield Nm(r.localStore,i.targetId,!0))})}function pk(t,e){return y(this,null,function*(){let n=K(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vy(n.remoteStore,r.targetId))})}function BC(t,e){return y(this,null,function*(){let n=K(t);try{let r=yield XF(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Ca.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?Ce(s.pa):i.removedDocuments.size>0&&(Ce(s.pa),s.pa=!1))}),yield $C(n,r,e)}catch(r){yield ly(r)}})}function K0(t,e,n){let r=K(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((o,s)=>{let a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=K(s);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(c=!0)}),c&&Iy(u)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gk(t,e,n){return y(this,null,function*(){let r=K(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),o=i&&i.key;if(o){let s=new ye(S.comparator);s=s.insert(o,Pt.newNoDocument(o,V.min()));let a=W().add(o),u=new sl(V.min(),new Map,new ye(ee),s,a);yield BC(r,u),r.Da=r.Da.remove(o),r.Ca.delete(e),Dy(r)}else yield Nm(r.localStore,e,!1).then(()=>Ym(r,e,n)).catch(ly)})}function Ym(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||UC(t,r)})}function UC(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(vy(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Dy(t))}function Q0(t,e,n){for(let r of n)r instanceof yl?(t.va.addReference(r.key,e),mk(t,r)):r instanceof vl?(w("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||UC(t,r.key)):F()}function mk(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(w("SyncEngine","New document in limbo: "+n),t.ba.add(r),Dy(t))}function Dy(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new S(fe.fromString(e)),r=t.xa.next();t.Ca.set(r,new Km(n)),t.Da=t.Da.insert(n,r),PC(t.remoteStore,new Ks(tn(yy(n.path)),r,"TargetPurposeLimboResolution",nC._e))}}function $C(t,e,n){return y(this,null,function*(){let r=K(t),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach((a,u)=>{s.push(r.Na(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);let l=Am.Ki(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.ya.u_(i),yield function(u,c){return y(this,null,function*(){let l=K(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>p.forEach(c,h=>p.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>p.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!na(d))throw d;w("LocalStore","Failed to update sequence numbers: "+d)}for(let d of c){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),m=f.snapshotVersion,D=f.withLastLimboFreeSnapshotVersion(m);l.ns=l.ns.insert(h,D)}}})}(r.localStore,o))})}function yk(t,e){return y(this,null,function*(){let n=K(t);if(!n.currentUser.isEqual(e)){w("SyncEngine","User change. New user:",e.toKey());let r=yield RC(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(u=>{u.reject(new E(g.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $C(n,r.us)}})}function vk(t,e){let n=K(t),r=n.Ca.get(e);if(r&&r.pa)return W().add(r.key);{let i=W(),o=n.Sa.get(e);if(!o)return i;for(let s of o){let a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function HC(t){let e=K(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gk.bind(null,e),e.ya.u_=uk.bind(null,e.eventManager),e.ya.La=ck.bind(null,e.eventManager),e}var _l=class{constructor(){this.synchronizeTabs=!1}initialize(e){return y(this,null,function*(){this.serializer=xl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return JF(this.persistence,new xm,e.initialUser,this.serializer)}createPersistence(e){return new bm(Sm.Hr,this.serializer)}createSharedClientState(e){return new Pm}terminate(){return y(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Zm=class{initialize(e,n){return y(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yk.bind(null,this.syncEngine),yield ak(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new qm}()}createDatastore(e){let n=xl(e.databaseInfo.databaseId),r=function(o){return new km(o)}(e.databaseInfo);return function(o,s,a,u){return new jm(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Um(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>K0(this.syncEngine,n,0),function(){return hl.D()?new hl:new Om}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,l){let d=new Qm(i,o,s,a,u,c);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return y(this,null,function*(){var e;yield function(r){return y(this,null,function*(){let i=K(r);w("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield ia(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var wl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):nn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Jm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Re.UNAUTHENTICATED,this.clientId=Xc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>y(this,null,function*(){w("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(w("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new E(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=kC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Mg(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),w("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>y(this,null,function*(){r.isEqual(i)||(yield RC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Y0(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield wk(t);w("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>G0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>G0(e.remoteStore,i)),t._onlineComponents=e})}function _k(t){return t.name==="FirebaseError"?t.code===g.FAILED_PRECONDITION||t.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function wk(t){return y(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){w("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!_k(n))throw n;ji("Error using user provided cache. Falling back to memory cache: "+n),yield Mg(t,new _l)}}else w("FirestoreClient","Using default OfflineComponentProvider"),yield Mg(t,new _l);return t._offlineComponents})}function Ek(t){return y(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(w("FirestoreClient","Using user provided OnlineComponentProvider"),yield Y0(t,t._uninitializedComponentsProvider._online)):(w("FirestoreClient","Using default OnlineComponentProvider"),yield Y0(t,new Zm))),t._onlineComponents})}function qC(t){return y(this,null,function*(){let e=yield Ek(t),n=e.eventManager;return n.onListen=lk.bind(null,e.syncEngine),n.onUnlisten=fk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pk.bind(null,e.syncEngine),n})}function Ik(t,e,n={}){let r=new Nt;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(o,s,a,u,c){let l=new wl({next:h=>{s.enqueueAndForget(()=>LC(o,d));let f=h.docs.has(a);!f&&h.fromCache?c.reject(new E(g.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&u&&u.source==="server"?c.reject(new E(g.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new ml(yy(a.path),l,{includeMetadataChanges:!0,ta:!0});return VC(o,d)}(yield qC(t),t.asyncQueue,e,n,r)})),r.promise}function Dk(t,e,n={}){let r=new Nt;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(o,s,a,u,c){let l=new wl({next:h=>{s.enqueueAndForget(()=>LC(o,d)),h.fromCache&&u.source==="server"?c.reject(new E(g.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new ml(a,l,{includeMetadataChanges:!0,ta:!0});return VC(o,d)}(yield qC(t),t.asyncQueue,e,n,r)})),r.promise}function zC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Z0=new Map;function GC(t,e,n){if(!n)throw new E(g.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ck(t,e,n,r){if(e===!0&&r===!0)throw new E(g.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J0(t){if(!S.isDocumentKey(t))throw new E(g.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function X0(t){if(S.isDocumentKey(t))throw new E(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":F()}function Zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new E(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Nl(t);throw new E(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var El=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new E(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new E(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ck("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new E(g.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new E(g.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new E(g.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Yi=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new El({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new E(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new E(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new El(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xg;switch(r.type){case"firstParty":return new Og(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new E(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Z0.get(n);r&&(w("ComponentProvider","Removing Datastore"),Z0.delete(n),r.terminate())}(this),Promise.resolve()}};function bk(t,e,n,r={}){var i;let o=(t=Zs(t,Yi))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Re.MOCK_USER;else{a=VI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new E(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Re(c)}t._authCredentials=new Rg(new Jc(a,u))}}var Zi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},zn=class t extends Zi{constructor(e,n,r){super(e,n,yy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new S(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Pl(t,e,...n){if(t=Ci(t),GC("collection","path",e),t instanceof Yi){let r=fe.fromString(e,...n);return X0(r),new zn(t,null,r)}{if(!(t instanceof lt||t instanceof zn))throw new E(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(fe.fromString(e,...n));return X0(r),new zn(t.firestore,null,r)}}function WC(t,e,...n){if(t=Ci(t),arguments.length===1&&(e=Xc.newId()),GC("doc","path",e),t instanceof Yi){let r=fe.fromString(e,...n);return J0(r),new lt(t,null,new S(r))}{if(!(t instanceof lt||t instanceof zn))throw new E(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(fe.fromString(e,...n));return J0(r),new lt(t.firestore,t instanceof zn?t.converter:null,new S(r))}}var Xm=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new fl(this,"async_queue_retry"),this.cu=()=>{let n=Ag();n&&w("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Ag();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new Nt;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return y(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!na(e))throw e;w("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw nn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=$m.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&F()}verifyOperationInProgress(){}Tu(){return y(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var Js=class extends Yi{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Xm}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YC(this),this._firestoreClient.terminate()}};function KC(t,e){let n=typeof t=="object"?t:XI(),r=typeof t=="string"?t:e||"(default)",i=ZI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=kI("firestore");o&&bk(i,...o)}return i}function QC(t){return t._firestoreClient||YC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YC(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,c,l){return new $g(a,u,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,zC(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Jm(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Xs=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(We.fromBase64String(e))}catch(n){throw new E(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(We.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Il=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new E(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Dl=class{constructor(e){this._methodName=e}};var ea=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new E(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new E(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}};var Tk=/^__.*__$/;function ZC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}var ey=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return ny(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(ZC(this.Vu)&&Tk.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},ty=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xl(e)}Cu(e,n,r,i=!1){return new ey({Vu:e,methodName:n,Du:r,path:wt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Sk(t){let e=t._freezeSettings(),n=xl(t._databaseId);return new ty(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ak(t,e,n,r=!1){return Cy(n,t.Cu(r?4:3,e))}function Cy(t,e){if(JC(t=Ci(t)))return xk("Unsupported field value:",e,t),Mk(t,e);if(t instanceof Dl)return function(r,i){if(!ZC(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Cy(a,i.wu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ci(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=be.fromDate(r);return{timestampValue:dm(i.serializer,o)}}if(r instanceof be){let o=new be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dm(i.serializer,o)}}if(r instanceof ea)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xs)return{bytesValue:DC(i.serializer,r._byteString)};if(r instanceof lt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:CC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Nl(r)}`)}(t,e)}function Mk(t,e){let n={};return rC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(t,(r,i)=>{let o=Cy(i,e.fu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function JC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof be||t instanceof ea||t instanceof Xs||t instanceof lt||t instanceof Dl)}function xk(t,e,n){if(!JC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Nl(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}var Rk=new RegExp("[~\\*/\\[\\]]");function Nk(t,e,n){if(e.search(Rk)>=0)throw ny(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Il(...e.split("."))._internalPath}catch{throw ny(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ny(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new E(g.INVALID_ARGUMENT,a+t+u)}var Cl=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(XC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},ry=class extends Cl{data(){return super.data()}};function XC(t,e){return typeof e=="string"?Nk(t,e):e instanceof Il?e._internalPath:e._delegate._internalPath}function Pk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new E(g.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ta=class{},iy=class extends ta{};function Ol(t,e,...n){let r=[];e instanceof ta&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof sy).length,a=o.filter(u=>u instanceof oy).length;if(s>1||s>0&&a>0)throw new E(g.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var oy=class t extends iy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return eb(e._query,n),new Zi(e.firestore,e.converter,tm(e._query,n))}_parse(e){let n=Sk(e.firestore);return function(o,s,a,u,c,l,d){let h;if(c.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new E(g.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){tC(d,l);let f=[];for(let m of d)f.push(eC(u,o,m));h={arrayValue:{values:f}}}else h=eC(u,o,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||tC(d,l),h=Ak(a,s,d,l==="in"||l==="not-in");return De.create(c,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var sy=class t extends ta{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ot.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)eb(s,u),s=tm(s,u)}(e._query,n),new Zi(e.firestore,e.converter,tm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function eC(t,e,n){if(typeof(n=Ci(n))=="string"){if(n==="")throw new E(g.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lC(e)&&n.indexOf("/")!==-1)throw new E(g.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(fe.fromString(n));if(!S.isDocumentKey(r))throw new E(g.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return S0(t,new S(r))}if(n instanceof lt)return S0(t,n._key);throw new E(g.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nl(n)}.`)}function tC(t,e){if(!Array.isArray(t)||t.length===0)throw new E(g.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eb(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new E(g.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new E(g.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var ay=class{convertValue(e,n="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ra(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ea(ge(e.latitude),ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=fy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Us(e));default:return null}}convertTimestamp(e){let n=Gn(e);return new be(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=fe.fromString(e);Ce(xC(r));let i=new il(r.get(1),r.get(3)),o=new S(r.popFirst(5));return i.isEqual(n)||nn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var Ar=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},bl=class extends Cl{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Li(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(XC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Li=class extends bl{data(e={}){return super.data(e)}},uy=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ar(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Li(this._firestore,this._userDataWriter,r.key,r,new Ar(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new E(g.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Li(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ar(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Li(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ar(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),c=-1,l=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:Ok(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Ok(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}function tb(t){t=Zs(t,lt);let e=Zs(t.firestore,Js);return Ik(QC(e),t._key).then(n=>Fk(e,t,n))}var Tl=class extends ay{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}};function Fl(t){t=Zs(t,Zi);let e=Zs(t.firestore,Js),n=QC(e),r=new Tl(e);return Pk(t._query),Dk(n,t._query).then(i=>new uy(e,r,t,i))}function Fk(t,e,n){let r=n.docs.get(e._key),i=new Tl(t);return new bl(t,i,e._key,r,new Ar(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ji=i})(JI),us(new mn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Js(new Ng(r.getProvider("auth-internal")),new kg(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new E(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new il(c.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),$n(D0,"4.5.0",e),$n(D0,"4.5.0","esm2017")})();var kk={apiKey:"AIzaSyBMDG_5lDDr2YeB9GwJGP_C3XO5hdcltbk",authDomain:"trippbarker-31e6e.firebaseapp.com",projectId:"trippbarker-31e6e",storageBucket:"trippbarker-31e6e.appspot.com",messagingSenderId:"648512597814",appId:"1:648512597814:web:25016cb4a291e39ee4cd97"},Vk=Op(kk),eo=KC(Vk);function Lk(t,e){if(t&1&&(Y(0,"div",2)(1,"a",3),On(2,"img",4),Y(3,"h2"),ue(4),J()()()),t&2){let n=e.$implicit;me(),To("href",n.link,Co),me(3),So(n.name)}}var kl=(()=>{let e=class e{ngOnInit(){this.getProjects()}constructor(r,i){this.projectService=r,this.messageService=i,this.projects=new Array}getProjects(){return y(this,null,function*(){(yield Fl(Ol(Pl(eo,"project")))).forEach(i=>{let o={id:i.id,ref:i.data().ref,images:i.data().images,technologies:i.data().technologies,name:i.data().name,link:i.data().link,description:i.data().description};this.projects.push(o)})})}};e.\u0275fac=function(i){return new(i||e)(L(Di),L(rs))},e.\u0275cmp=Ze({type:e,selectors:[["app-projects"]],standalone:!0,features:[ci],decls:2,vars:1,consts:[["id","projects"],["class","projectCont",4,"ngFor","ngForOf"],[1,"projectCont"],["target","_blank",1,"project",3,"href"],["src","","alt","",1,"projectImg"]],template:function(i,o){i&1&&(Y(0,"div",0),dn(1,Lk,5,2,"div",1),J()),i&2&&(me(),hn("ngForOf",o.projects))},dependencies:[di,fi],styles:["*[_ngcontent-%COMP%]{font-family:Azeret Mono,monospace}body[_ngcontent-%COMP%]{background-color:#e0fbfc}#projects[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;width:100%;max-width:500rem}.projectCont[_ngcontent-%COMP%]{margin:1rem;background-color:green;width:50%;max-width:35rem;height:25rem;display:flex;flex-direction:column;justify-content:center;align-items:center}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#293241;text-decoration:none}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ee6c4d}.project[_ngcontent-%COMP%]{background-color:#98c1d9;height:100%;width:100%;min-width:25rem;max-width:35rem;display:flex;flex-direction:column;padding:1rem;border-radius:1rem}.projectImg[_ngcontent-%COMP%]{background-color:#293241;height:90%;border-radius:.75rem .75rem 0 0}"]});let t=e;return t})();var nb=(()=>{let e=class e{constructor(r){this.projectService=r,this.projects=[]}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(L(Di))},e.\u0275cmp=Ze({type:e,selectors:[["app-dashboard"]],decls:9,vars:0,consts:[["routerLink","/dashboard"],["routerLink","/projects"],["routerLink","/bike"]],template:function(i,o){i&1&&(Y(0,"nav")(1,"a",0),ue(2,"ABOUT ME"),J(),Y(3,"a",1),ue(4,"PROJECTS"),J(),Y(5,"a",2),ue(6,"BIKE"),J(),Y(7,"a"),ue(8,"COOKING"),J()())},dependencies:[Bn],styles:["nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:0}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:.5rem 0rem .5rem 2rem;text-decoration:none;font-family:Azeret Mono,monospace;font-weight:bolder;font-size:2rem;color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff4500;margin-left:3rem;transition:.1s}"]});let t=e;return t})();function jk(t,e){if(t&1&&(Y(0,"div",3)(1,"h2"),ue(2),J(),Y(3,"h3"),ue(4),J()()),t&2){let n=e.$implicit;Pu("routerLink","/brag/",n.year,""),me(2),Ht("BRAG ",n.year,""),me(2),Kh("",n.days[0].startLocation," to ",n.days[7].endLocation," (",n.distance," miles, ",n.elevation," feet climbed)")}}var rb=(()=>{let e=class e{constructor(){this.brags=new Array}ngOnInit(){this.getBrags()}getBrags(){return y(this,null,function*(){let r=new Intl.NumberFormat("en-US");(yield Fl(Ol(Pl(eo,"brag")))).forEach(o=>{let s=new Array,a=0,u=0;for(let l=0;l<8;l++){let h={date:new be(o.data()["day"+l].date.seconds,o.data()["day"+l].date.nanoseconds).toDate(),day:o.data()["day"+l].day,distance:o.data()["day"+l].distance,elevation:o.data()["day"+l].elevation,endLocation:o.data()["day"+l].endLocation,startLocation:o.data()["day"+l].startLocation,stravaLink:o.data()["day"+l].stravaLink};a+=o.data()["day"+l].distance,u+=o.data()["day"+l].elevation,console.log(u),s.push(h)}let c={year:o.data().year,days:s,distance:r.format(Math.round((a+Number.EPSILON)*100)/100),elevation:r.format(Math.round((u+Number.EPSILON)*100)/100)};this.brags.push(c)}),console.log(this.brags)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-bike"]],decls:7,vars:1,consts:[["id","brags",1,"bikeContainer"],["class","bragContainer",3,"routerLink",4,"ngFor","ngForOf"],["id","gear",1,"gearContainer"],[1,"bragContainer",3,"routerLink"]],template:function(i,o){i&1&&(Y(0,"div",0)(1,"h1"),ue(2,"BRAG"),J(),dn(3,jk,5,7,"div",1),J(),Y(4,"div",2)(5,"h1"),ue(6,"GEAR"),J()()),i&2&&(me(3),hn("ngForOf",o.brags))},dependencies:[di,Bn],styles:[".bikeContainer[_ngcontent-%COMP%], .bragContainer[_ngcontent-%COMP%], .gearContainer[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 2rem}.bragContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#00008b}.bragContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:1rem}.bragContainer[_ngcontent-%COMP%]:hover{cursor:pointer;margin-left:3rem;transition:.1s}.bragContainer[_ngcontent-%COMP%]:hover   h2[_ngcontent-%COMP%]{color:#ff4500}"]});let t=e;return t})();function Bk(t,e){if(t&1&&(Y(0,"div",3)(1,"h2"),ue(2),Y(3,"i"),ue(4),J()(),Y(5,"p"),ue(6),J(),Y(7,"p"),ue(8,"see the ride "),Y(9,"a",4),ue(10,"here"),J()()()),t&2){let n=e.$implicit;me(2),Ht("day ",n.day," "),me(2),Ou("",n.startLocation," to ",n.endLocation,""),me(2),Ou("",n.distance," miles, ",n.elevation," feet climbed"),me(3),To("href",n.stravaLink,Co)}}var ib=(()=>{let e=class e{constructor(r,i){this.route=r,this.router=i,this.brag={year:0,days:new Array,distance:"",elevation:""}}ngOnInit(){this.getBrag()}getBrag(){return y(this,null,function*(){let r=this.route.snapshot.paramMap.get("year"),i=yield tb(WC(eo,"brag","brag"+r)),o=new Intl.NumberFormat("en-US"),s=new Array,a=0,u=0;for(let l=0;l<8;l++){let h={date:new be(i.get("day"+l).date.seconds,i.get("day"+l).date.nanoseconds).toDate(),day:i.get("day"+l).day,distance:i.get("day"+l).distance,elevation:i.get("day"+l).elevation,endLocation:i.get("day"+l).endLocation,startLocation:i.get("day"+l).startLocation,stravaLink:i.get("day"+l).stravaLink};a+=i.get("day"+l).distance,u+=i.get("day"+l).elevation,s.push(h)}let c={year:i.get("year"),days:s,distance:o.format(Math.round((a+Number.EPSILON)*100)/100),elevation:o.format(Math.round((u+Number.EPSILON)*100)/100)};this.brag=c})}};e.\u0275fac=function(i){return new(i||e)(L(Mt),L(Kt))},e.\u0275cmp=Ze({type:e,selectors:[["app-brag"]],decls:6,vars:2,consts:[["routerLink","/bike","id","back"],["id","bragContainer"],["class","dayContainer",4,"ngFor","ngForOf"],[1,"dayContainer"],["target","_blank",3,"href"]],template:function(i,o){i&1&&(Y(0,"a",0),ue(1,"[BACK]"),J(),Y(2,"div",1)(3,"h1"),ue(4),J(),dn(5,Bk,11,6,"div",2),J()),i&2&&(me(4),Ht("BRAG ",o.brag.year,""),me(),hn("ngForOf",o.brag.days))},dependencies:[di,Bn],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ff4500}#bragContainer[_ngcontent-%COMP%], .dayContainer[_ngcontent-%COMP%], #back[_ngcontent-%COMP%]{margin-left:1rem}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:bolder;color:#00008b}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff4500}"]});let t=e;return t})();var Uk=[{path:"projects",component:kl},{path:"dashboard",component:nb},{path:"project/:ref",component:NI},{path:"bike",component:rb},{path:"brag/:year",component:ib},{path:"",redirectTo:"/dashboard",pathMatch:"full"}],ob=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Je({type:e}),e.\u0275inj=Ye({imports:[pp.forRoot(Uk),pp]});let t=e;return t})();var sb=(()=>{let e=class e{constructor(){this.title="Tripp Barker"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-root"]],decls:7,vars:1,consts:[["rel","preconnect","href",Du`https://fonts.googleapis.com`],["rel","preconnect","href",Du`https://fonts.gstatic.com`,"crossorigin",""],["href",Du`https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100..900;1,100..900&display=swap`,"rel","stylesheet"],["routerLink","/dashboard","id","title"]],template:function(i,o){i&1&&(On(0,"link",0)(1,"link",1)(2,"link",2),Y(3,"a",3)(4,"h1"),ue(5),J()(),On(6,"router-outlet")),i&2&&(me(5),So(o.title))},dependencies:[ap,Bn]});let t=e;return t})();var ab=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Je({type:e,bootstrap:[sb]}),e.\u0275inj=Ye({imports:[IE,ob,fi,kl]});let t=e;return t})();EE().bootstrapModule(ab).catch(t=>console.error(t));
