var Xb=Object.defineProperty,Jb=Object.defineProperties;var eT=Object.getOwnPropertyDescriptors;var Zy=Object.getOwnPropertySymbols;var tT=Object.prototype.hasOwnProperty,nT=Object.prototype.propertyIsEnumerable;var Xy=(t,e,n)=>e in t?Xb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C=(t,e)=>{for(var n in e||={})tT.call(e,n)&&Xy(t,n,e[n]);if(Zy)for(var n of Zy(e))nT.call(e,n)&&Xy(t,n,e[n]);return t},ae=(t,e)=>Jb(t,eT(e));var y=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(c){i(c)}},s=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var Jy=null;var ed=1,td=Symbol("SIGNAL");function te(t){let e=Jy;return Jy=t,e}var ev={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rT(t){if(!(id(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ed)){if(!t.producerMustRecompute(t)&&!nd(t)){t.dirty=!1,t.lastCleanEpoch=ed;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ed}}function tv(t){return t&&(t.nextProducerIndex=0),te(t)}function nv(t,e){if(te(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(id(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)rd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function nd(t){ya(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(rT(n),r!==n.version))return!0}return!1}function rv(t){if(ya(t),id(t))for(let e=0;e<t.producerNode.length;e++)rd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function rd(t,e){if(iT(t),ya(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)rd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ya(i),i.producerIndexOfThis[r]=e}}function id(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ya(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function iT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function oT(){throw new Error}var sT=oT;function iv(t){sT=t}function V(t){return typeof t=="function"}function Br(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var va=Br(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function lo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(V(r))try{r()}catch(o){e=o instanceof va?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ov(o)}catch(s){e=e??[],s instanceof va?e=[...e,...s.errors]:e.push(s)}}if(e)throw new va(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ov(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&lo(n,e)}remove(e){let{_finalizers:n}=this;n&&lo(n,e),e instanceof t&&e._removeParent(this)}};Ae.EMPTY=(()=>{let t=new Ae;return t.closed=!0,t})();var od=Ae.EMPTY;function _a(t){return t instanceof Ae||t&&"closed"in t&&V(t.remove)&&V(t.add)&&V(t.unsubscribe)}function ov(t){V(t)?t():t.unsubscribe()}var St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ur={setTimeout(t,e,...n){let{delegate:r}=Ur;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ur;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function wa(t){Ur.setTimeout(()=>{let{onUnhandledError:e}=St;if(e)e(t);else throw t})}function ho(){}var sv=sd("C",void 0,void 0);function av(t){return sd("E",void 0,t)}function uv(t){return sd("N",t,void 0)}function sd(t,e,n){return{kind:t,value:e,error:n}}var tr=null;function $r(t){if(St.useDeprecatedSynchronousErrorHandling){let e=!tr;if(e&&(tr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=tr;if(tr=null,n)throw r}}else t()}function cv(t){St.useDeprecatedSynchronousErrorHandling&&tr&&(tr.errorThrown=!0,tr.error=t)}var nr=class extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_a(e)&&e.add(this)):this.destination=cT}static create(e,n,r){return new Hr(e,n,r)}next(e){this.isStopped?ud(uv(e),this):this._next(e)}error(e){this.isStopped?ud(av(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ud(sv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},aT=Function.prototype.bind;function ad(t,e){return aT.call(t,e)}var cd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ea(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ea(r)}else Ea(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ea(n)}}},Hr=class extends nr{constructor(e,n,r){super();let i;if(V(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&St.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ad(e.next,o),error:e.error&&ad(e.error,o),complete:e.complete&&ad(e.complete,o)}):i=e}this.destination=new cd(i)}};function Ea(t){St.useDeprecatedSynchronousErrorHandling?cv(t):wa(t)}function uT(t){throw t}function ud(t,e){let{onStoppedNotification:n}=St;n&&Ur.setTimeout(()=>n(t,e))}var cT={closed:!0,next:ho,error:uT,complete:ho};var qr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ut(t){return t}function ld(...t){return dd(t)}function dd(t){return t.length===0?ut:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=dT(n)?n:new Hr(n,r,i);return $r(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=lv(r),new r((i,o)=>{let s=new Hr({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qr](){return this}pipe(...n){return dd(n)(this)}toPromise(n){return n=lv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function lv(t){var e;return(e=t??St.Promise)!==null&&e!==void 0?e:Promise}function lT(t){return t&&V(t.next)&&V(t.error)&&V(t.complete)}function dT(t){return t&&t instanceof nr||lT(t)&&_a(t)}function hd(t){return V(t?.lift)}function Y(t){return e=>{if(hd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(t,e,n,r,i){return new fd(t,e,n,r,i)}var fd=class extends nr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function zr(){return Y((t,e)=>{let n=null;t._refCount++;let r=q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Gr=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,hd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ae;let n=this.getSubject();e.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ae.EMPTY)}return e}refCount(){return zr()(this)}};var dv=Br(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $e=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ia(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new dv}next(n){$r(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){$r(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){$r(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?od:(this.currentObservers=null,o.push(n),new Ae(()=>{this.currentObservers=null,lo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new Ia(e,n),t})(),Ia=class extends $e{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:od}};var ke=class extends $e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ct=new re(t=>t.complete());function hv(t){return t&&V(t.schedule)}function fv(t){return t[t.length-1]}function Da(t){return V(fv(t))?t.pop():void 0}function An(t){return hv(fv(t))?t.pop():void 0}function gv(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function pv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rr(t){return this instanceof rr?(this.v=t,this):new rr(t)}function mv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,I){o.push([h,f,p,I])>1||a(h,f)})})}function a(h,f){try{u(r[h](f))}catch(p){d(o[0][3],p)}}function u(h){h.value instanceof rr?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function yv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof pv=="function"?pv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}}var Ca=t=>t&&typeof t.length=="number"&&typeof t!="function";function ba(t){return V(t?.then)}function Ta(t){return V(t[qr])}function Sa(t){return Symbol.asyncIterator&&V(t?.[Symbol.asyncIterator])}function Aa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function hT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xa=hT();function Ma(t){return V(t?.[xa])}function Ra(t){return mv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield rr(n.read());if(i)return yield rr(void 0);yield yield rr(r)}}finally{n.releaseLock()}})}function Na(t){return V(t?.getReader)}function _e(t){if(t instanceof re)return t;if(t!=null){if(Ta(t))return fT(t);if(Ca(t))return pT(t);if(ba(t))return gT(t);if(Sa(t))return vv(t);if(Ma(t))return mT(t);if(Na(t))return yT(t)}throw Aa(t)}function fT(t){return new re(e=>{let n=t[qr]();if(V(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function pT(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function gT(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,wa)})}function mT(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function vv(t){return new re(e=>{vT(t,e).catch(n=>e.error(n))})}function yT(t){return vv(Ra(t))}function vT(t,e){var n,r,i,o;return gv(this,void 0,void 0,function*(){try{for(n=yv(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function nt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Pa(t,e=0){return Y((n,r)=>{n.subscribe(q(r,i=>nt(r,t,()=>r.next(i),e),()=>nt(r,t,()=>r.complete(),e),i=>nt(r,t,()=>r.error(i),e)))})}function Oa(t,e=0){return Y((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _v(t,e){return _e(t).pipe(Oa(e),Pa(e))}function wv(t,e){return _e(t).pipe(Oa(e),Pa(e))}function Ev(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Iv(t,e){return new re(n=>{let r;return nt(n,e,()=>{r=t[xa](),nt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>V(r?.return)&&r.return()})}function ka(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{nt(n,e,()=>{let r=t[Symbol.asyncIterator]();nt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Dv(t,e){return ka(Ra(t),e)}function Cv(t,e){if(t!=null){if(Ta(t))return _v(t,e);if(Ca(t))return Ev(t,e);if(ba(t))return wv(t,e);if(Sa(t))return ka(t,e);if(Ma(t))return Iv(t,e);if(Na(t))return Dv(t,e)}throw Aa(t)}function fe(t,e){return e?Cv(t,e):_e(t)}function O(...t){let e=An(t);return fe(t,e)}function Wr(t,e){let n=V(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function pd(t){return!!t&&(t instanceof re||V(t.lift)&&V(t.subscribe))}var gn=Br(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function z(t,e){return Y((n,r)=>{let i=0;n.subscribe(q(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:_T}=Array;function wT(t,e){return _T(e)?t(...e):t(e)}function Fa(t){return z(e=>wT(t,e))}var{isArray:ET}=Array,{getPrototypeOf:IT,prototype:DT,keys:CT}=Object;function Va(t){if(t.length===1){let e=t[0];if(ET(e))return{args:e,keys:null};if(bT(e)){let n=CT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function bT(t){return t&&typeof t=="object"&&IT(t)===DT}function La(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function fo(...t){let e=An(t),n=Da(t),{args:r,keys:i}=Va(t);if(r.length===0)return fe([],e);let o=new re(TT(r,e,i?s=>La(i,s):ut));return n?o.pipe(Fa(n)):o}function TT(t,e,n=ut){return r=>{bv(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)bv(e,()=>{let c=fe(t[u],e),l=!1;c.subscribe(q(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function bv(t,e,n){t?nt(n,t,e):e()}function Tv(t,e,n,r,i,o,s,a){let u=[],c=0,l=0,d=!1,h=()=>{d&&!u.length&&!c&&e.complete()},f=I=>c<r?p(I):u.push(I),p=I=>{o&&e.next(I),c++;let E=!1;_e(n(I,l++)).subscribe(q(e,x=>{i?.(x),o?f(x):e.next(x)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;u.length&&c<r;){let x=u.shift();s?nt(e,s,()=>p(x)):p(x)}h()}catch(x){e.error(x)}}))};return t.subscribe(q(e,f,()=>{d=!0,h()})),()=>{a?.()}}function we(t,e,n=1/0){return V(e)?we((r,i)=>z((o,s)=>e(r,o,i,s))(_e(t(r,i))),n):(typeof e=="number"&&(n=e),Y((r,i)=>Tv(r,i,t,n)))}function Kr(t=1/0){return we(ut,t)}function Sv(){return Kr(1)}function Qr(...t){return Sv()(fe(t,An(t)))}function ja(t){return new re(e=>{_e(t()).subscribe(e)})}function gd(...t){let e=Da(t),{args:n,keys:r}=Va(t),i=new re(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,c=s;for(let l=0;l<s;l++){let d=!1;_e(n[l]).subscribe(q(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?La(r,a):a),o.complete())}))}});return e?i.pipe(Fa(e)):i}function yt(t,e){return Y((n,r)=>{let i=0;n.subscribe(q(r,o=>t.call(e,o,i++)&&r.next(o)))})}function xn(t){return Y((e,n)=>{let r=null,i=!1,o;r=e.subscribe(q(n,void 0,void 0,s=>{o=_e(t(s,xn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Av(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(q(s,l=>{let d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ir(t,e){return V(e)?we(t,e,1):we(t,1)}function Mn(t){return Y((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function mn(t){return t<=0?()=>ct:Y((e,n)=>{let r=0;e.subscribe(q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function md(t){return z(()=>t)}function Ba(t=ST){return Y((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ST(){return new gn}function po(t){return Y((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?yt((i,o)=>t(i,o,r)):ut,mn(1),n?Mn(e):Ba(()=>new gn))}function Yr(t){return t<=0?()=>ct:Y((e,n)=>{let r=[];e.subscribe(q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?yt((i,o)=>t(i,o,r)):ut,Yr(1),n?Mn(e):Ba(()=>new gn))}function vd(t,e){return Y(Av(t,e,arguments.length>=2,!0))}function _d(...t){let e=An(t);return Y((n,r)=>{(e?Qr(t,n,e):Qr(t,n)).subscribe(r)})}function vt(t,e){return Y((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(q(r,u=>{i?.unsubscribe();let c=0,l=o++;_e(t(u,l)).subscribe(i=q(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function wd(t){return Y((e,n)=>{_e(t).subscribe(q(n,()=>n.complete(),ho)),!n.closed&&e.subscribe(n)})}function Fe(t,e,n){let r=V(t)||e||n?{next:t,error:e,complete:n}:t;return r?Y((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(q(o,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),o.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ut}var p_="https://g.co/ng/security#xss",S=class extends Error{constructor(e,n){super(Dh(e,n)),this.code=e}};function Dh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function So(t){return{toString:t}.toString()}var Ua="__parameters__";function AT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function g_(t,e,n){return So(()=>{let r=AT(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,c,l){let d=u.hasOwnProperty(Ua)?u[Ua]:Object.defineProperty(u,Ua,{value:[]})[Ua];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ve=globalThis;function le(t){for(let e in t)if(t[e]===le)return e;throw Error("Could not find renamed property on target object.")}function xT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ze(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ze).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function xv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var MT=le({__forward_ref__:le});function Ao(t){return t.__forward_ref__=Ao,t.toString=function(){return Ze(this())},t}function Ye(t){return m_(t)?t():t}function m_(t){return typeof t=="function"&&t.hasOwnProperty(MT)&&t.__forward_ref__===Ao}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Eu(t){return Mv(t,v_)||Mv(t,__)}function y_(t){return Eu(t)!==null}function Mv(t,e){return t.hasOwnProperty(e)?t[e]:null}function RT(t){let e=t&&(t[v_]||t[__]);return e||null}function Rv(t){return t&&(t.hasOwnProperty(Nv)||t.hasOwnProperty(NT))?t[Nv]:null}var v_=le({\u0275prov:le}),Nv=le({\u0275inj:le}),__=le({ngInjectableDef:le}),NT=le({ngInjectorDef:le}),P=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function w_(t){return t&&!!t.\u0275providers}var PT=le({\u0275cmp:le}),OT=le({\u0275dir:le}),kT=le({\u0275pipe:le}),FT=le({\u0275mod:le}),Xa=le({\u0275fac:le}),go=le({__NG_ELEMENT_ID__:le}),Pv=le({__NG_ENV_ID__:le});function Gt(t){return typeof t=="string"?t:t==null?"":String(t)}function VT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Gt(t)}function LT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,t)}function Ch(t,e){throw new S(-201,!1)}var $=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($||{}),kd;function E_(){return kd}function _t(t){let e=kd;return kd=t,e}function I_(t,e,n){let r=Eu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&$.Optional)return null;if(e!==void 0)return e;Ch(t,"Injector")}var jT={},yo=jT,Fd="__NG_DI_FLAG__",Ja="ngTempTokenPath",BT="ngTokenPath",UT=/\n/gm,$T="\u0275",Ov="__source",ti;function HT(){return ti}function Rn(t){let e=ti;return ti=t,e}function qT(t,e=$.Default){if(ti===void 0)throw new S(-203,!1);return ti===null?I_(t,void 0,e):ti.get(t,e&$.Optional?null:void 0,e)}function N(t,e=$.Default){return(E_()||qT)(Ye(t),e)}function _(t,e=$.Default){return N(t,Iu(e))}function Iu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Vd(t){let e=[];for(let n=0;n<t.length;n++){let r=Ye(t[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=$.Default;for(let s=0;s<r.length;s++){let a=r[s],u=zT(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(N(i,o))}else e.push(N(r))}return e}function D_(t,e){return t[Fd]=e,t.prototype[Fd]=e,t}function zT(t){return t[Fd]}function GT(t,e,n,r){let i=t[Ja];throw e[Ov]&&i.unshift(e[Ov]),t.message=WT(`
`+t.message,i,n,r),t[BT]=i,t[Ja]=null,t}function WT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==$T?t.slice(2):t;let i=Ze(e);if(Array.isArray(e))i=e.map(Ze).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ze(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(UT,`
  `)}`}var Du=D_(g_("Optional"),8);var bh=D_(g_("SkipSelf"),4);function ri(t,e){let n=t.hasOwnProperty(Xa);return n?t[Xa]:null}function Th(t,e){t.forEach(n=>Array.isArray(n)?Th(n,e):e(n))}function C_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function eu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function KT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function QT(t,e,n){let r=xo(t,e);return r>=0?t[r|1]=n:(r=~r,KT(t,r,e,n)),r}function Ed(t,e){let n=xo(t,e);if(n>=0)return t[n|1]}function xo(t,e){return YT(t,e,1)}function YT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ii={},wt=[],oi=new P(""),b_=new P("",-1),T_=new P(""),tu=class{get(e,n=yo){if(n===yo){let r=new Error(`NullInjectorError: No provider for ${Ze(e)}!`);throw r.name="NullInjectorError",r}return n}},S_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(S_||{}),Qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qt||{}),Xe=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Xe||{});function ZT(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Ld(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];XT(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function A_(t){return t===3||t===4||t===6}function XT(t){return t.charCodeAt(0)===64}function vo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?kv(t,n,i,null,e[++r]):kv(t,n,i,null,null))}}return t}function kv(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var x_="ng-template";function JT(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ZT(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Sh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Sh(t){return t.type===4&&t.value!==x_}function eS(t,e,n){let r=t.type===4&&!n?x_:t.value;return e===r}function tS(t,e,n){let r=4,i=t.attrs,o=i!==null?iS(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!At(r)&&!At(u))return!1;if(s&&At(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!eS(t,u,n)||u===""&&e.length===1){if(At(r))return!1;s=!0}}else if(r&8){if(i===null||!JT(t,i,u,n)){if(At(r))return!1;s=!0}}else{let c=e[++a],l=nS(u,i,Sh(t),n);if(l===-1){if(At(r))return!1;s=!0;continue}if(c!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&c!==d){if(At(r))return!1;s=!0}}}}return At(r)||s}function At(t){return(t&1)===0}function nS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return oS(e,t)}function rS(t,e,n=!1){for(let r=0;r<e.length;r++)if(tS(t,e[r],n))return!0;return!1}function iS(t){for(let e=0;e<t.length;e++){let n=t[e];if(A_(n))return e}return t.length}function oS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Fv(t,e){return t?":not("+e.trim()+")":e}function sS(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!At(s)&&(e+=Fv(o,i),i=""),r=s,o=o||!At(r);n++}return i!==""&&(e+=Fv(o,i)),e}function aS(t){return t.map(sS).join(",")}function uS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!At(i))break;i=o}r++}return{attrs:e,classes:n}}function qe(t){return So(()=>{let e=O_(t),n=ae(C({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===S_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qt.Emulated,styles:t.styles||wt,_:null,schemas:t.schemas||null,tView:null,id:""});k_(n);let r=t.dependencies;return n.directiveDefs=Lv(r,!1),n.pipeDefs=Lv(r,!0),n.id=dS(n),n})}function cS(t){return Pn(t)||M_(t)}function lS(t){return t!==null}function it(t){return So(()=>({type:t.type,bootstrap:t.bootstrap||wt,declarations:t.declarations||wt,imports:t.imports||wt,exports:t.exports||wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Vv(t,e){if(t==null)return ii;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Xe.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Xe.None?[r,a]:r,e[o]=s):n[o]=r}return n}function It(t){return So(()=>{let e=O_(t);return k_(e),e})}function Pn(t){return t[PT]||null}function M_(t){return t[OT]||null}function R_(t){return t[kT]||null}function N_(t){let e=Pn(t)||M_(t)||R_(t);return e!==null?e.standalone:!1}function P_(t,e){let n=t[FT]||null;if(!n&&e===!0)throw new Error(`Type ${Ze(t)} does not have '\u0275mod' property.`);return n}function O_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ii,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vv(t.inputs,e),outputs:Vv(t.outputs),debugInfo:null}}function k_(t){t.features?.forEach(e=>e(t))}function Lv(t,e){if(!t)return null;let n=e?R_:cS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(lS)}function dS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function hS(...t){return{\u0275providers:F_(!0,t),\u0275fromNgModule:!0}}function F_(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Th(e,s=>{let a=s;jd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&V_(i,o),n}function V_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ah(i,o=>{e(o,r)})}}function jd(t,e,n,r){if(t=Ye(t),!t)return!1;let i=null,o=Rv(t),s=!o&&Pn(t);if(!o&&!s){let u=t.ngModule;if(o=Rv(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of u)jd(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Th(o.imports,l=>{jd(l,e,n,r)&&(c||=[],c.push(l))})}finally{}c!==void 0&&V_(c,e)}if(!a){let c=ri(i)||(()=>new i);e({provide:i,useFactory:c,deps:wt},i),e({provide:T_,useValue:i,multi:!0},i),e({provide:oi,useValue:()=>N(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let c=t;Ah(u,l=>{e(l,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Ah(t,e){for(let n of t)w_(n)&&(n=n.\u0275providers),Array.isArray(n)?Ah(n,e):e(n)}var fS=le({provide:String,useValue:le});function L_(t){return t!==null&&typeof t=="object"&&fS in t}function pS(t){return!!(t&&t.useExisting)}function gS(t){return!!(t&&t.useFactory)}function si(t){return typeof t=="function"}function mS(t){return!!t.useClass}var Cu=new P(""),Wa={},yS={},Id;function xh(){return Id===void 0&&(Id=new tu),Id}var lt=class{},_o=class extends lt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ud(e,s=>this.processProvider(s)),this.records.set(b_,Zr(void 0,this)),i.has("environment")&&this.records.set(lt,Zr(void 0,this));let o=this.records.get(Cu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(T_,wt,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Rn(this),r=_t(void 0),i;try{return e()}finally{Rn(n),_t(r)}}get(e,n=yo,r=$.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Pv))return e[Pv](this);r=Iu(r);let i,o=Rn(this),s=_t(void 0);try{if(!(r&$.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=IS(e)&&Eu(e);c&&this.injectableDefInScope(c)?u=Zr(Bd(e),Wa):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&$.Self?xh():this.parent;return n=r&$.Optional&&n===yo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ja]=a[Ja]||[]).unshift(Ze(e)),o)throw a;return GT(a,e,"R3InjectorError",this.source)}else throw a}finally{_t(s),Rn(o)}}resolveInjectorInitializers(){let e=te(null),n=Rn(this),r=_t(void 0),i;try{let o=this.get(oi,wt,$.Self);for(let s of o)s()}finally{Rn(n),_t(r),te(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ze(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){e=Ye(e);let n=si(e)?e:Ye(e&&e.provide),r=_S(e);if(!si(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Zr(void 0,Wa,!0),i.factory=()=>Vd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=te(null);try{return n.value===Wa&&(n.value=yS,n.value=n.factory()),typeof n.value=="object"&&n.value&&ES(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{te(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ye(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Bd(t){let e=Eu(t),n=e!==null?e.factory:ri(t);if(n!==null)return n;if(t instanceof P)throw new S(204,!1);if(t instanceof Function)return vS(t);throw new S(204,!1)}function vS(t){if(t.length>0)throw new S(204,!1);let n=RT(t);return n!==null?()=>n.factory(t):()=>new t}function _S(t){if(L_(t))return Zr(void 0,t.useValue);{let e=j_(t);return Zr(e,Wa)}}function j_(t,e,n){let r;if(si(t)){let i=Ye(t);return ri(i)||Bd(i)}else if(L_(t))r=()=>Ye(t.useValue);else if(gS(t))r=()=>t.useFactory(...Vd(t.deps||[]));else if(pS(t))r=()=>N(Ye(t.useExisting));else{let i=Ye(t&&(t.useClass||t.provide));if(wS(t))r=()=>new i(...Vd(t.deps));else return ri(i)||Bd(i)}return r}function Zr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function wS(t){return!!t.deps}function ES(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function IS(t){return typeof t=="function"||typeof t=="object"&&t instanceof P}function Ud(t,e){for(let n of t)Array.isArray(n)?Ud(n,e):n&&w_(n)?Ud(n.\u0275providers,e):e(n)}function vn(t,e){t instanceof _o&&t.assertNotDestroyed();let n,r=Rn(t),i=_t(void 0);try{return e()}finally{Rn(r),_t(i)}}function B_(){return E_()!==void 0||HT()!=null}function DS(t){if(!B_())throw new S(-203,!1)}function CS(t){let e=Ve.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function bS(t){return typeof t=="function"}var _n=0,K=1,k=2,He=3,xt=4,Nt=5,nu=6,wo=7,Mt=8,ai=9,Rt=10,Ee=11,Eo=12,jv=13,hi=14,Yt=15,bu=16,Xr=17,ui=18,Tu=19,U_=20,Nn=21,Dd=22,ar=23,On=25,$_=1;var ur=7,ru=8,iu=9,Et=10,Mh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Mh||{});function or(t){return Array.isArray(t)&&typeof t[$_]=="object"}function wn(t){return Array.isArray(t)&&t[$_]===!0}function H_(t){return(t.flags&4)!==0}function Su(t){return t.componentOffset>-1}function Rh(t){return(t.flags&1)===1}function kn(t){return!!t.template}function TS(t){return(t[k]&512)!==0}var $d=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function q_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function gr(){return z_}function z_(t){return t.type.prototype.ngOnChanges&&(t.setInput=AS),SS}gr.ngInherit=!0;function SS(){let t=W_(this),e=t?.current;if(e){let n=t.previous;if(n===ii)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function AS(t,e,n,r,i){let o=this.declaredInputs[r],s=W_(t)||xS(t,{previous:ii,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new $d(c&&c.currentValue,n,u===ii),q_(t,e,i,n)}var G_="__ngSimpleChanges__";function W_(t){return t[G_]||null}function xS(t,e){return t[G_]=e}var Bv=null;var Wt=function(t,e,n){Bv?.(t,e,n)},MS="svg",RS="math",NS=!1;function PS(){return NS}function Zt(t){for(;Array.isArray(t);)t=t[_n];return t}function K_(t,e){return Zt(e[t])}function Dt(t,e){return Zt(e[t.index])}function Q_(t,e){return t.data[e]}function Vn(t,e){let n=e[t];return or(n)?n:n[_n]}function Nh(t){return(t[k]&128)===128}function OS(t){return wn(t[He])}function ou(t,e){return e==null?null:t[e]}function Y_(t){t[Xr]=0}function kS(t){t[k]&1024||(t[k]|=1024,Nh(t)&&Io(t))}function FS(t,e){for(;t>0;)e=e[hi],t--;return e}function Ph(t){return!!(t[k]&9216||t[ar]?.dirty)}function Hd(t){t[Rt].changeDetectionScheduler?.notify(1),Ph(t)?Io(t):t[k]&64&&(PS()?(t[k]|=1024,Io(t)):t[Rt].changeDetectionScheduler?.notify())}function Io(t){t[Rt].changeDetectionScheduler?.notify();let e=Do(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!Nh(e)));)e=Do(e)}function Z_(t,e){if((t[k]&256)===256)throw new S(911,!1);t[Nn]===null&&(t[Nn]=[]),t[Nn].push(e)}function VS(t,e){if(t[Nn]===null)return;let n=t[Nn].indexOf(e);n!==-1&&t[Nn].splice(n,1)}function Do(t){let e=t[He];return wn(e)?e[He]:e}var H={lFrame:aw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function LS(){return H.lFrame.elementDepthCount}function jS(){H.lFrame.elementDepthCount++}function BS(){H.lFrame.elementDepthCount--}function X_(){return H.bindingsEnabled}function US(){return H.skipHydrationRootTNode!==null}function $S(t){return H.skipHydrationRootTNode===t}function HS(){H.skipHydrationRootTNode=null}function ue(){return H.lFrame.lView}function ot(){return H.lFrame.tView}function J_(t){return H.lFrame.contextLView=t,t[Mt]}function ew(t){return H.lFrame.contextLView=null,t}function st(){let t=tw();for(;t!==null&&t.type===64;)t=t.parent;return t}function tw(){return H.lFrame.currentTNode}function qS(){let t=H.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Mo(t,e){let n=H.lFrame;n.currentTNode=t,n.isParent=e}function nw(){return H.lFrame.isParent}function zS(){H.lFrame.isParent=!1}function rw(){return H.lFrame.bindingIndex}function GS(t){return H.lFrame.bindingIndex=t}function Au(){return H.lFrame.bindingIndex++}function Oh(t){let e=H.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function WS(){return H.lFrame.inI18n}function KS(t,e){let n=H.lFrame;n.bindingIndex=n.bindingRootIndex=t,qd(e)}function QS(){return H.lFrame.currentDirectiveIndex}function qd(t){H.lFrame.currentDirectiveIndex=t}function YS(t){let e=H.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function iw(t){H.lFrame.currentQueryIndex=t}function ZS(t){let e=t[K];return e.type===2?e.declTNode:e.type===1?t[Nt]:null}function ow(t,e,n){if(n&$.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&$.Host);)if(i=ZS(o),i===null||(o=o[hi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=H.lFrame=sw();return r.currentTNode=e,r.lView=t,!0}function kh(t){let e=sw(),n=t[K];H.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function sw(){let t=H.lFrame,e=t===null?null:t.child;return e===null?aw(t):e}function aw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function uw(){let t=H.lFrame;return H.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var cw=uw;function Fh(){let t=uw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function XS(t){return(H.lFrame.contextLView=FS(t,H.lFrame.contextLView))[Mt]}function Ln(){return H.lFrame.selectedIndex}function cr(t){H.lFrame.selectedIndex=t}function xu(){let t=H.lFrame;return Q_(t.tView,t.selectedIndex)}function JS(){return H.lFrame.currentNamespace}var lw=!0;function Vh(){return lw}function Lh(t){lw=t}function eA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=z_(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function jh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Ka(t,e,n){dw(t,e,3,n)}function Qa(t,e,n,r){(t[k]&3)===n&&dw(t,e,n,r)}function Cd(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function dw(t,e,n,r){let i=r!==void 0?t[Xr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Xr]+=65536),(a<o||o==-1)&&(tA(t,n,e,u),t[Xr]=(t[Xr]&4294901760)+u+2),u++}function Uv(t,e){Wt(4,t,e);let n=te(null);try{e.call(t)}finally{te(n),Wt(5,t,e)}}function tA(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[k]>>14<t[Xr]>>16&&(t[k]&3)===e&&(t[k]+=16384,Uv(a,o)):Uv(a,o)}var ni=-1,lr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function nA(t){return t instanceof lr}function rA(t){return(t.flags&8)!==0}function iA(t){return(t.flags&16)!==0}function hw(t){return t!==ni}function su(t){return t&32767}function oA(t){return t>>16}function au(t,e){let n=oA(t),r=e;for(;n>0;)r=r[hi],n--;return r}var zd=!0;function $v(t){let e=zd;return zd=t,e}var sA=256,fw=sA-1,pw=5,aA=0,Kt={};function uA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(go)&&(r=n[go]),r==null&&(r=n[go]=aA++);let i=r&fw,o=1<<i;e.data[t+(i>>pw)]|=o}function uu(t,e){let n=gw(t,e);if(n!==-1)return n;let r=e[K];r.firstCreatePass&&(t.injectorIndex=e.length,bd(r.data,t),bd(e,null),bd(r.blueprint,null));let i=Bh(t,e),o=t.injectorIndex;if(hw(i)){let s=su(i),a=au(i,e),u=a[K].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function bd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function gw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Bh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ww(i),r===null)return ni;if(n++,i=i[hi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ni}function Gd(t,e,n){uA(t,e,n)}function cA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(A_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function mw(t,e,n){if(n&$.Optional||t!==void 0)return t;Ch(e,"NodeInjector")}function yw(t,e,n,r){if(n&$.Optional&&r===void 0&&(r=null),!(n&($.Self|$.Host))){let i=t[ai],o=_t(void 0);try{return i?i.get(e,r,n&$.Optional):I_(e,r,n&$.Optional)}finally{_t(o)}}return mw(r,e,n)}function vw(t,e,n,r=$.Default,i){if(t!==null){if(e[k]&2048&&!(r&$.Self)){let s=pA(t,e,n,r,Kt);if(s!==Kt)return s}let o=_w(t,e,n,r,Kt);if(o!==Kt)return o}return yw(e,n,r,i)}function _w(t,e,n,r,i){let o=hA(n);if(typeof o=="function"){if(!ow(e,t,r))return r&$.Host?mw(i,n,r):yw(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&$.Optional))Ch(n);else return s}finally{cw()}}else if(typeof o=="number"){let s=null,a=gw(t,e),u=ni,c=r&$.Host?e[Yt][Nt]:null;for((a===-1||r&$.SkipSelf)&&(u=a===-1?Bh(t,e):e[a+8],u===ni||!qv(r,!1)?a=-1:(s=e[K],a=su(u),e=au(u,e)));a!==-1;){let l=e[K];if(Hv(o,a,l.data)){let d=lA(a,e,n,s,r,c);if(d!==Kt)return d}u=e[a+8],u!==ni&&qv(r,e[K].data[a+8]===c)&&Hv(o,a,e)?(s=l,a=su(u),e=au(u,e)):a=-1}}return i}function lA(t,e,n,r,i,o){let s=e[K],a=s.data[t+8],u=r==null?Su(a)&&zd:r!=s&&(a.type&3)!==0,c=i&$.Host&&o===a,l=dA(a,s,n,u,c);return l!==null?ci(e,s,l,a):Kt}function dA(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,c=t.directiveEnd,l=o>>20,d=r?a:a+l,h=i?a+l:c;for(let f=d;f<h;f++){let p=s[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){let f=s[u];if(f&&kn(f)&&f.type===n)return u}return null}function ci(t,e,n,r){let i=t[n],o=e.data;if(nA(i)){let s=i;s.resolving&&LT(VT(o[n]));let a=$v(s.canSeeViewProviders);s.resolving=!0;let u,c=s.injectImpl?_t(s.injectImpl):null,l=ow(t,r,$.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&eA(n,o[n],e)}finally{c!==null&&_t(c),$v(a),s.resolving=!1,cw()}}return i}function hA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(go)?t[go]:void 0;return typeof e=="number"?e>=0?e&fw:fA:e}function Hv(t,e,n){let r=1<<t;return!!(n[e+(t>>pw)]&r)}function qv(t,e){return!(t&$.Self)&&!(t&$.Host&&e)}var sr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return vw(this._tNode,this._lView,e,Iu(r),n)}};function fA(){return new sr(st(),ue())}function Ro(t){return So(()=>{let e=t.prototype.constructor,n=e[Xa]||Wd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Xa]||Wd(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Wd(t){return m_(t)?()=>{let e=Wd(Ye(t));return e&&e()}:ri(t)}function pA(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[k]&2048&&!(s[k]&512);){let a=_w(o,s,n,r|$.Self,Kt);if(a!==Kt)return a;let u=o.parent;if(!u){let c=s[U_];if(c){let l=c.get(n,Kt,r);if(l!==Kt)return l}u=ww(s),s=s[hi]}o=u}return i}function ww(t){let e=t[K],n=e.type;return n===2?e.declTNode:n===1?t[Nt]:null}function Uh(t){return cA(st(),t)}function zv(t,e=null,n=null,r){let i=Ew(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ew(t,e=null,n=null,r,i=new Set){let o=[n||wt,hS(t)];return r=r||(typeof t=="object"?void 0:Ze(t)),new _o(o,e||xh(),r||null,i)}var Pt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return zv({name:""},i,r,"");{let o=r.name??"";return zv({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=yo,e.NULL=new tu,e.\u0275prov=A({token:e,providedIn:"any",factory:()=>N(b_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var gA="ngOriginalError";function Td(t){return t[gA]}var Xt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Td(e);for(;n&&Td(n);)n=Td(n);return n||null}},Iw=new P("",{providedIn:"root",factory:()=>_(Xt).handleError.bind(void 0)}),$h=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mA,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Kd=class extends $h{constructor(e){super(),this._lView=e}onDestroy(e){return Z_(this._lView,e),()=>VS(this._lView,e)}};function mA(){return new Kd(ue())}function yA(){return Mu(st(),ue())}function Mu(t,e){return new jn(Dt(t,e))}var jn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=yA;let t=e;return t})();var Qd=class extends $e{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,B_()&&(this.destroyRef=_($h,{optional:!0})??void 0)}emit(e){let n=te(null);try{super.next(e)}finally{te(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Sd(o),i&&(i=Sd(i)),s&&(s=Sd(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ae&&e.add(a),a}};function Sd(t){return e=>{setTimeout(t,void 0,e)}}var xe=Qd;function Dw(t){return(t.flags&128)===128}var Cw=new Map,vA=0;function _A(){return vA++}function wA(t){Cw.set(t[Tu],t)}function EA(t){Cw.delete(t[Tu])}var Gv="__ngContext__";function dr(t,e){or(e)?(t[Gv]=e[Tu],wA(e)):t[Gv]=e}function bw(t){return Sw(t[Eo])}function Tw(t){return Sw(t[xt])}function Sw(t){for(;t!==null&&!wn(t);)t=t[xt];return t}var Yd;function Aw(t){Yd=t}function IA(){if(Yd!==void 0)return Yd;if(typeof document<"u")return document;throw new S(210,!1)}var Ru=new P("",{providedIn:"root",factory:()=>DA}),DA="ng",Hh=new P(""),Bn=new P("",{providedIn:"platform",factory:()=>"unknown"});var qh=new P("",{providedIn:"root",factory:()=>IA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var CA="h",bA="b";var TA=()=>null;function zh(t,e,n=!1){return TA(t,e,n)}var xw=!1,SA=new P("",{providedIn:"root",factory:()=>xw});var $a;function AA(){if($a===void 0&&($a=null,Ve.trustedTypes))try{$a=Ve.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $a}function xA(t){return AA()?.createScriptURL(t)||t}var Ha;function MA(){if(Ha===void 0&&(Ha=null,Ve.trustedTypes))try{Ha=Ve.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ha}function Wv(t){return MA()?.createScriptURL(t)||t}var cu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${p_})`}};function No(t){return t instanceof cu?t.changingThisBreaksApplicationSecurity:t}function Gh(t,e){let n=RA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${p_})`)}return n===e}function RA(t){return t instanceof cu&&t.getTypeName()||null}var NA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mw(t){return t=String(t),t.match(NA)?t:"unsafe:"+t}var Nu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Nu||{});function Po(t){let e=Nw();return e?e.sanitize(Nu.URL,t)||"":Gh(t,"URL")?No(t):Mw(Gt(t))}function PA(t){let e=Nw();if(e)return Wv(e.sanitize(Nu.RESOURCE_URL,t)||"");if(Gh(t,"ResourceURL"))return Wv(No(t));throw new S(904,!1)}function Pu(t){return xA(t[0])}function OA(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?PA:Po}function Rw(t,e,n){return OA(e,n)(t)}function Nw(){let t=ue();return t&&t[Rt].sanitizer}function Pw(t){return t instanceof Function?t():t}function kA(t){return(t??_(Pt)).get(Bn)==="browser"}var yn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yn||{}),FA;function Wh(t,e){return FA(t,e)}function Jr(t,e,n,r,i){if(r!=null){let o,s=!1;wn(r)?o=r:or(r)&&(s=!0,r=r[_n]);let a=Zt(r);t===0&&n!==null?i==null?Lw(e,n,a):lu(e,n,a,i||null,!0):t===1&&n!==null?lu(e,n,a,i||null,!0):t===2?JA(e,a,s):t===3&&e.destroyNode(a),o!=null&&tx(e,t,o,n,i)}}function VA(t,e){return t.createText(e)}function LA(t,e,n){t.setValue(e,n)}function Ow(t,e,n){return t.createElement(e,n)}function jA(t,e){kw(t,e),e[_n]=null,e[Nt]=null}function BA(t,e,n,r,i,o){r[_n]=i,r[Nt]=e,Ou(t,r,n,1,i,o)}function kw(t,e){e[Rt].changeDetectionScheduler?.notify(1),Ou(t,e,e[Ee],2,null,null)}function UA(t){let e=t[Eo];if(!e)return Ad(t[K],t);for(;e;){let n=null;if(or(e))n=e[Eo];else{let r=e[Et];r&&(n=r)}if(!n){for(;e&&!e[xt]&&e!==t;)or(e)&&Ad(e[K],e),e=e[He];e===null&&(e=t),or(e)&&Ad(e[K],e),n=e&&e[xt]}e=n}}function $A(t,e,n,r){let i=Et+r,o=n.length;r>0&&(n[i-1][xt]=e),r<o-Et?(e[xt]=n[i],C_(n,Et+r,e)):(n.push(e),e[xt]=null),e[He]=n;let s=e[bu];s!==null&&n!==s&&HA(s,e);let a=e[ui];a!==null&&a.insertView(t),Hd(e),e[k]|=128}function HA(t,e){let n=t[iu],i=e[He][He][Yt];e[Yt]!==i&&(t[k]|=Mh.HasTransplantedViews),n===null?t[iu]=[e]:n.push(e)}function Fw(t,e){let n=t[iu],r=n.indexOf(e);n.splice(r,1)}function Zd(t,e){if(t.length<=Et)return;let n=Et+e,r=t[n];if(r){let i=r[bu];i!==null&&i!==t&&Fw(i,r),e>0&&(t[n-1][xt]=r[xt]);let o=eu(t,Et+e);jA(r[K],r);let s=o[ui];s!==null&&s.detachView(o[K]),r[He]=null,r[xt]=null,r[k]&=-129}return r}function Vw(t,e){if(!(e[k]&256)){let n=e[Ee];n.destroyNode&&Ou(t,e,n,3,null,null),UA(e)}}function Ad(t,e){if(e[k]&256)return;let n=te(null);try{e[k]&=-129,e[k]|=256,e[ar]&&rv(e[ar]),zA(t,e),qA(t,e),e[K].type===1&&e[Ee].destroy();let r=e[bu];if(r!==null&&wn(e[He])){r!==e[He]&&Fw(r,e);let i=e[ui];i!==null&&i.detachView(t)}EA(e)}finally{te(n)}}function qA(t,e){let n=t.cleanup,r=e[wo];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[wo]=null);let i=e[Nn];if(i!==null){e[Nn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function zA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof lr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Wt(4,a,u);try{u.call(a)}finally{Wt(5,a,u)}}else{Wt(4,i,o);try{o.call(i)}finally{Wt(5,i,o)}}}}}function GA(t,e,n){return WA(t,e.parent,n)}function WA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[_n];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Qt.None||o===Qt.Emulated)return null}return Dt(r,n)}}function lu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Lw(t,e,n){t.appendChild(e,n)}function Kv(t,e,n,r,i){r!==null?lu(t,e,n,r,i):Lw(t,e,n)}function KA(t,e,n,r){t.removeChild(e,n,r)}function Kh(t,e){return t.parentNode(e)}function QA(t,e){return t.nextSibling(e)}function YA(t,e,n){return XA(t,e,n)}function ZA(t,e,n){return t.type&40?Dt(t,n):null}var XA=ZA,Qv;function Qh(t,e,n,r){let i=GA(t,r,e),o=e[Ee],s=r.parent||e[Nt],a=YA(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Kv(o,i,n[u],a,!1);else Kv(o,i,n,a,!1);Qv!==void 0&&Qv(o,r,e,n,i)}function Ya(t,e){if(e!==null){let n=e.type;if(n&3)return Dt(e,t);if(n&4)return Xd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ya(t,r);{let i=t[e.index];return wn(i)?Xd(-1,i):Zt(i)}}else{if(n&32)return Wh(e,t)()||Zt(t[e.index]);{let r=jw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Do(t[Yt]);return Ya(i,r)}else return Ya(t,e.next)}}}return null}function jw(t,e){if(e!==null){let r=t[Yt][Nt],i=e.projection;return r.projection[i]}return null}function Xd(t,e){let n=Et+t+1;if(n<e.length){let r=e[n],i=r[K].firstChild;if(i!==null)return Ya(r,i)}return e[ur]}function JA(t,e,n){let r=Kh(t,e);r&&KA(t,r,e,n)}function Yh(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&dr(Zt(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Yh(t,e,n.child,r,i,o,!1),Jr(e,t,i,a,o);else if(u&32){let c=Wh(n,r),l;for(;l=c();)Jr(e,t,i,l,o);Jr(e,t,i,a,o)}else u&16?ex(t,e,r,n,i,o):Jr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ou(t,e,n,r,i,o){Yh(n,r,t.firstChild,e,i,o,!1)}function ex(t,e,n,r,i,o){let s=n[Yt],u=s[Nt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let l=u[c];Jr(e,t,i,l,o)}else{let c=u,l=s[He];Dw(r)&&(c.flags|=128),Yh(t,e,c,l,i,o,!0)}}function tx(t,e,n,r,i){let o=n[ur],s=Zt(n);o!==s&&Jr(e,t,r,o,i);for(let a=Et;a<n.length;a++){let u=n[a];Ou(u[K],u,t,e,r,o)}}function nx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:yn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=yn.Important),t.setStyle(n,r,i,o))}}function rx(t,e,n){t.setAttribute(e,"style",n)}function Bw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Uw(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ld(t,e,r),i!==null&&Bw(t,e,i),o!==null&&rx(t,e,o)}var Ot={};function ge(t=1){$w(ot(),ue(),Ln()+t,!1)}function $w(t,e,n,r){if(!r)if((e[k]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ka(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Qa(e,o,0,n)}cr(n)}function U(t,e=$.Default){let n=ue();if(n===null)return N(t,e);let r=st();return vw(r,n,Ye(t),e)}function Hw(){let t="invalid";throw new Error(t)}function qw(t,e,n,r,i,o){let s=te(null);try{let a=null;i&Xe.SignalBased&&(a=e[r][td]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Xe.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):q_(e,a,r,o)}finally{te(s)}}function ix(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)cr(~i);else{let o=i,s=n[++r],a=n[++r];KS(s,o);let u=e[o];a(2,u)}}}finally{cr(-1)}}function ku(t,e,n,r,i,o,s,a,u,c,l){let d=e.blueprint.slice();return d[_n]=i,d[k]=r|4|128|8|64,(c!==null||t&&t[k]&2048)&&(d[k]|=2048),Y_(d),d[He]=d[hi]=t,d[Mt]=n,d[Rt]=s||t&&t[Rt],d[Ee]=a||t&&t[Ee],d[ai]=u||t&&t[ai]||null,d[Nt]=o,d[Tu]=_A(),d[nu]=l,d[U_]=c,d[Yt]=e.type==2?t[Yt]:d,d}function Fu(t,e,n,r,i){let o=t.data[e];if(o===null)o=ox(t,e,n,r,i),WS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=qS();o.injectorIndex=s===null?-1:s.injectorIndex}return Mo(o,!0),o}function ox(t,e,n,r,i){let o=tw(),s=nw(),a=s?o:o&&o.parent,u=t.data[e]=lx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function zw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Gw(t,e,n,r,i){let o=Ln(),s=r&2;try{cr(-1),s&&e.length>On&&$w(t,e,On,!1),Wt(s?2:0,i),n(r,i)}finally{cr(o),Wt(s?3:1,i)}}function Ww(t,e,n){if(H_(e)){let r=te(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{te(r)}}}function Kw(t,e,n){X_()&&(mx(t,e,n,Dt(n,e)),(n.flags&64)===64&&Jw(t,e,n))}function Qw(t,e,n=Dt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Yw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Zh(t,e,n,r,i,o,s,a,u,c,l){let d=On+r,h=d+i,f=sx(d,h),p=typeof c=="function"?c():c;return f[K]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}function sx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ot);return n}function ax(t,e,n,r){let o=r.get(SA,xw)||n===Qt.ShadowDom,s=t.selectRootElement(e,o);return ux(s),s}function ux(t){cx(t)}var cx=()=>null;function lx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return US()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Yv(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Xe.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?Zv(r,n,c,a,u):Zv(r,n,c,a)}return r}function Zv(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function dx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,c=null;for(let l=r;l<i;l++){let d=o[l],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;u=Yv(0,d.inputs,l,u,f),c=Yv(1,d.outputs,l,c,p);let I=u!==null&&s!==null&&!Sh(e)?Sx(u,l,s):null;a.push(I)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}function hx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xh(t,e,n,r,i,o,s,a){let u=Dt(e,n),c=e.inputs,l;!a&&c!=null&&(l=c[r])?(Jh(t,n,l,r,i),Su(e)&&fx(n,e.index)):e.type&3?(r=hx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function fx(t,e){let n=Vn(e,t);n[k]&16||(n[k]|=64)}function Zw(t,e,n,r){if(X_()){let i=r===null?null:{"":-1},o=vx(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Xw(t,e,n,s,i,a),i&&_x(n,r,i)}n.mergedAttrs=vo(n.mergedAttrs,n.attrs)}function Xw(t,e,n,r,i,o){for(let c=0;c<r.length;c++)Gd(uu(n,e),t,r[c].type);Ex(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=zw(t,e,r.length,null);for(let c=0;c<r.length;c++){let l=r[c];n.mergedAttrs=vo(n.mergedAttrs,l.hostAttrs),Ix(t,n,e,u,l),wx(u,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}dx(t,n,o)}function px(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;gx(s)!=a&&s.push(a),s.push(n,r,o)}}function gx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function mx(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Su(n)&&Dx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||uu(n,e),dr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],c=ci(e,t,a,n);if(dr(c,e),s!==null&&Tx(e,a-i,c,u,n,s),kn(u)){let l=Vn(n.index,e);l[Mt]=ci(e,t,a,n)}}}function Jw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=QS();try{cr(o);for(let a=r;a<i;a++){let u=t.data[a],c=e[a];qd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&yx(u,c)}}finally{cr(-1),qd(s)}}function yx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function vx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(rS(e,s.selectors,!1))if(r||(r=[]),kn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Jd(t,e,u)}else r.unshift(s),Jd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Jd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function _x(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new S(-301,!1);r.push(e[i],o)}}}function wx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;kn(e)&&(n[""]=t)}}function Ex(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ix(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ri(i.type,!0)),s=new lr(o,kn(i),U);t.blueprint[r]=s,n[r]=s,px(t,e,r,zw(t,n,i.hostVars,Ot),i)}function Dx(t,e,n){let r=Dt(e,t),i=Yw(n),o=t[Rt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Vu(t,ku(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Cx(t,e,n,r,i,o){let s=Dt(t,e);bx(e[Ee],s,o,t.value,n,r,i)}function bx(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Gt(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function Tx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],c=s[a++],l=s[a++],d=s[a++];qw(r,n,u,c,l,d)}}function Sx(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function eE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function tE(t,e){let n=t.contentQueries;if(n!==null){let r=te(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];iw(o),a.contentQueries(2,e[s],s)}}}finally{te(r)}}}function Vu(t,e){return t[Eo]?t[jv][xt]=e:t[Eo]=e,t[jv]=e,e}function eh(t,e,n){iw(0);let r=te(null);try{e(t,n)}finally{te(r)}}function Ax(t){return t[wo]||(t[wo]=[])}function xx(t){return t.cleanup||(t.cleanup=[])}function nE(t,e){let n=t[ai],r=n?n.get(Xt,null):null;r&&r.handleError(e)}function Jh(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],c=e[s],l=t.data[s];qw(l,c,r,a,u,i)}}function ef(t,e,n){let r=K_(e,t);LA(t[Ee],r,n)}function Mx(t,e){let n=Vn(e,t),r=n[K];Rx(r,n);let i=n[_n];i!==null&&n[nu]===null&&(n[nu]=zh(i,n[ai])),tf(r,n,n[Mt])}function Rx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function tf(t,e,n){kh(e);try{let r=t.viewQuery;r!==null&&eh(1,r,n);let i=t.template;i!==null&&Gw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ui]?.finishViewCreation(t),t.staticContentQueries&&tE(t,e),t.staticViewQueries&&eh(2,t.viewQuery,n);let o=t.components;o!==null&&Nx(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,Fh()}}function Nx(t,e){for(let n=0;n<e.length;n++)Mx(t,e[n])}function Px(t,e,n,r){let i=te(null);try{let o=e.tView,a=t[k]&4096?4096:16,u=ku(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];u[bu]=c;let l=t[ui];return l!==null&&(u[ui]=l.createEmbeddedView(o)),tf(o,u,n),u}finally{te(i)}}function Xv(t,e){return!e||e.firstChild===null||Dw(t)}function Ox(t,e,n,r=!0){let i=e[K];if($A(i,e,t,n),r){let s=Xd(n,t),a=e[Ee],u=Kh(a,t[ur]);u!==null&&BA(i,t[Nt],a,e,u,s)}let o=e[nu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function du(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Zt(o)),wn(o)&&kx(o,r);let s=n.type;if(s&8)du(t,e,n.child,r);else if(s&32){let a=Wh(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=jw(e,n);if(Array.isArray(a))r.push(...a);else{let u=Do(e[Yt]);du(u[K],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function kx(t,e){for(let n=Et;n<t.length;n++){let r=t[n],i=r[K].firstChild;i!==null&&du(r[K],r,i,e)}t[ur]!==t[_n]&&e.push(t[ur])}var rE=[];function Fx(t){return t[ar]??Vx(t)}function Vx(t){let e=rE.pop()??Object.create(jx);return e.lView=t,e}function Lx(t){t.lView[ar]!==t&&(t.lView=null,rE.push(t))}var jx=ae(C({},ev),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Io(t.lView)},consumerOnSignalRead(){this.lView[ar]=this}}),iE=100;function oE(t,e=!0,n=0){let r=t[Rt],i=r.rendererFactory,o=!1;o||i.begin?.();try{Bx(t,n)}catch(s){throw e&&nE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Bx(t,e){th(t,e);let n=0;for(;Ph(t);){if(n===iE)throw new S(103,!1);n++,th(t,1)}}function Ux(t,e,n,r){let i=e[k];if((i&256)===256)return;let o=!1;!o&&e[Rt].inlineEffectRunner?.flush(),kh(e);let s=null,a=null;!o&&$x(t)&&(a=Fx(e),s=tv(a));try{Y_(e),GS(t.bindingStartIndex),n!==null&&Gw(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let d=t.preOrderCheckHooks;d!==null&&Ka(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Qa(e,d,0,null),Cd(e,0)}if(Hx(e),sE(e,0),t.contentQueries!==null&&tE(t,e),!o)if(u){let d=t.contentCheckHooks;d!==null&&Ka(e,d)}else{let d=t.contentHooks;d!==null&&Qa(e,d,1),Cd(e,1)}ix(t,e);let c=t.components;c!==null&&uE(e,c,0);let l=t.viewQuery;if(l!==null&&eh(2,l,r),!o)if(u){let d=t.viewCheckHooks;d!==null&&Ka(e,d)}else{let d=t.viewHooks;d!==null&&Qa(e,d,2),Cd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Dd]){for(let d of e[Dd])d();e[Dd]=null}o||(e[k]&=-73)}catch(u){throw Io(e),u}finally{a!==null&&(nv(a,s),Lx(a)),Fh()}}function $x(t){return t.type!==2}function sE(t,e){for(let n=bw(t);n!==null;n=Tw(n))for(let r=Et;r<n.length;r++){let i=n[r];aE(i,e)}}function Hx(t){for(let e=bw(t);e!==null;e=Tw(e)){if(!(e[k]&Mh.HasTransplantedViews))continue;let n=e[iu];for(let r=0;r<n.length;r++){let i=n[r],o=i[He];kS(i)}}}function qx(t,e,n){let r=Vn(e,t);aE(r,n)}function aE(t,e){Nh(t)&&th(t,e)}function th(t,e){let r=t[K],i=t[k],o=t[ar],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&nd(o)),o&&(o.dirty=!1),t[k]&=-9217,s)Ux(r,t,r.template,t[Mt]);else if(i&8192){sE(t,1);let a=r.components;a!==null&&uE(t,a,1)}}function uE(t,e,n){for(let r=0;r<e.length;r++)qx(t,e[r],n)}function nf(t){for(t[Rt].changeDetectionScheduler?.notify();t;){t[k]|=64;let e=Do(t);if(TS(t)&&!e)return t;t=e}return null}var hr=class{get rootNodes(){let e=this._lView,n=e[K];return du(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mt]}set context(e){this._lView[Mt]=e}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[He];if(wn(e)){let n=e[ru],r=n?n.indexOf(this):-1;r>-1&&(Zd(e,r),eu(n,r))}this._attachedToViewContainer=!1}Vw(this._lView[K],this._lView)}onDestroy(e){Z_(this._lView,e)}markForCheck(){nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[k]&=-129}reattach(){Hd(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,oE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,kw(this._lView[K],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e,Hd(this._lView)}},Lu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Wx;let t=e;return t})(),zx=Lu,Gx=class extends zx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Px(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new hr(i)}};function Wx(){return Kx(st(),ue())}function Kx(t,e){return t.type&4?new Gx(e,t,Mu(t,e)):null}var bH=new RegExp(`^(\\d+)*(${bA}|${CA})*(.*)`);var Qx=()=>null;function Jv(t,e){return Qx(t,e)}var hu=class{},nh=class{},fu=class{};function Yx(t){let e=Error(`No component factory found for ${Ze(t)}.`);return e[Zx]=t,e}var Zx="ngComponent";var rh=class{resolveComponentFactory(e){throw Yx(e)}},ju=(()=>{let e=class e{};e.NULL=new rh;let t=e;return t})(),Co=class{},mr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Xx();let t=e;return t})();function Xx(){let t=ue(),e=st(),n=Vn(e.index,t);return(or(n)?n:t)[Ee]}var Jx=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),xd={};var e_=new Set;function rf(t){e_.has(t)||(e_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function t_(...t){}function eM(){let t=typeof Ve.requestAnimationFrame=="function",e=Ve[t?"requestAnimationFrame":"setTimeout"],n=Ve[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var de=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=eM().nativeRequestAnimationFrame,rM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,tM,t_,t_);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},tM={};function of(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ve,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ih(t),t.isCheckStableRunning=!0,of(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ih(t))}function rM(t){let e=()=>{nM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(iM(a))return n.invokeTask(i,o,s,a);try{return n_(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),r_(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return n_(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),r_(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,ih(t),of(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function ih(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function n_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function r_(t){t._nesting--,of(t)}var oh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function iM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function oM(t="zone.js",e){return t==="noop"?new oh:t==="zone.js"?new de(e):t}var ei=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ei||{}),sM={destroy(){}};function sf(t,e){!e&&DS(sf);let n=e?.injector??_(Pt);if(!kA(n))return sM;rf("NgAfterNextRender");let r=n.get(af),i=r.handler??=new ah,o=e?.phase??ei.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get($h).onDestroy(s),u=vn(n,()=>new sh(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var sh=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=_(de),this.errorHandler=_(Xt,{optional:!0}),_(hu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},ah=class{constructor(){this.executingCallbacks=!1,this.buckets={[ei.EarlyRead]:new Set,[ei.Write]:new Set,[ei.MixedReadWrite]:new Set,[ei.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},af=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function uh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=xv(i,a);else if(o==2){let u=a,c=e[++s];r=xv(r,u+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var pu=class extends ju{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Pn(e);return new li(n,this.ngModule)}};function i_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function aM(t){let e=t.toLowerCase();return e==="svg"?MS:e==="math"?RS:null}var ch=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Iu(r);let i=this.injector.get(e,xd,r);return i!==xd||n===xd?i:this.parentInjector.get(e,n,r)}},li=class extends fu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=i_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return i_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=aS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=te(null);try{i=i||this.ngModule;let s=i instanceof lt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new ch(e,s):e,u=a.get(Co,null);if(u===null)throw new S(407,!1);let c=a.get(Jx,null),l=a.get(af,null),d=a.get(hu,null),h={rendererFactory:u,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=u.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",I=r?ax(f,r,this.componentDef.encapsulation,a):Ow(f,p,aM(p)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let x=null;I!==null&&(x=zh(I,a,!0));let ce=Zh(0,null,null,1,0,null,null,null,null,null,null),G=ku(null,ce,null,E,null,null,h,f,a,null,x);kh(G);let W,Se;try{let ne=this.componentDef,Qe,mt=null;ne.findHostDirectiveDefs?(Qe=[],mt=new Map,ne.findHostDirectiveDefs(ne,Qe,mt),Qe.push(ne)):Qe=[ne];let Jl=uM(G,I),ma=cM(Jl,I,ne,Qe,G,h,f);Se=Q_(ce,On),I&&hM(f,ne,I,r),n!==void 0&&fM(Se,this.ngContentSelectors,n),W=dM(ma,ne,Qe,mt,G,[pM]),tf(ce,G,null)}finally{Fh()}return new lh(this.componentType,W,Mu(Se,G),G,Se)}finally{te(o)}}},lh=class extends nh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new hr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Jh(o[K],o,i,e,n),this.previousInputValues.set(e,n);let s=Vn(this._tNode.index,o);nf(s)}}get injector(){return new sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function uM(t,e){let n=t[K],r=On;return t[r]=e,Fu(n,r,2,"#host",null)}function cM(t,e,n,r,i,o,s){let a=i[K];lM(r,t,e,s);let u=null;e!==null&&(u=zh(e,i[ai]));let c=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=ku(i,Yw(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&Jd(a,t,r.length-1),Vu(i,d),i[t.index]=d}function lM(t,e,n,r){for(let i of t)e.mergedAttrs=vo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(uh(e,e.mergedAttrs,!0),n!==null&&Uw(r,n,e))}function dM(t,e,n,r,i,o){let s=st(),a=i[K],u=Dt(s,i);Xw(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=ci(i,a,d,s);dr(h,i)}Jw(a,i,s),u&&dr(u,i);let c=ci(i,a,s.directiveStart+s.componentOffset,s);if(t[Mt]=i[Mt]=c,o!==null)for(let l of o)l(c,e);return Ww(a,s,i),c}function hM(t,e,n,r){if(r)Ld(t,n,["ng-version","17.3.1"]);else{let{attrs:i,classes:o}=uS(e.selectors[0]);i&&Ld(t,n,i),o&&o.length>0&&Bw(t,n,o.join(" "))}}function fM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function pM(){let t=st();jh(ue()[K],t)}var fi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gM;let t=e;return t})();function gM(){let t=st();return yM(t,ue())}var mM=fi,cE=class extends mM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Mu(this._hostTNode,this._hostLView)}get injector(){return new sr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bh(this._hostTNode,this._hostLView);if(hw(e)){let n=au(e,this._hostLView),r=su(e),i=n[K].data[r+8];return new sr(i,n)}else return new sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=o_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Jv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Xv(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!bS(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let u=s?e:new li(Pn(e)),c=r||this.parentInjector;if(!o&&u.ngModule==null){let I=(s?c:this.parentInjector).get(lt,null);I&&(o=I)}let l=Pn(u.componentType??{}),d=Jv(this._lContainer,l?.id??null),h=d?.firstChild??null,f=u.create(c,i,h,o);return this.insertImpl(f.hostView,a,Xv(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(OS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[He],c=new cE(u,u[Nt],u[He]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Ox(s,i,o,r),e.attachToViewContainerRef(),C_(Md(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=o_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Zd(this._lContainer,n);r&&(eu(Md(this._lContainer),n),Vw(r[K],r))}detach(e){let n=this._adjustIndex(e,-1),r=Zd(this._lContainer,n);return r&&eu(Md(this._lContainer),n)!=null?new hr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function o_(t){return t[ru]}function Md(t){return t[ru]||(t[ru]=[])}function yM(t,e){let n,r=e[t.index];return wn(r)?n=r:(n=eE(r,e,null,t),e[t.index]=n,Vu(e,n)),_M(n,e,t,r),new cE(n,t,e)}function vM(t,e){let n=t[Ee],r=n.createComment(""),i=Dt(e,t),o=Kh(n,i);return lu(n,o,r,QA(n,i),!1),r}var _M=IM,wM=()=>!1;function EM(t,e,n){return wM(t,e,n)}function IM(t,e,n,r){if(t[ur])return;let i;n.type&8?i=Zt(r):i=vM(e,n),t[ur]=i}function DM(t){return typeof t=="function"&&t[td]!==void 0}function lE(t){return DM(t)&&typeof t.set=="function"}function CM(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(AM))}return o}return gu.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),s.push(r(d).then(f=>{a[c+h]=f,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let u=Promise.all(s).then(()=>xM(o));e.push(u)}),TM(),Promise.all(e).then(()=>{})}var gu=new Map,bM=new Set;function TM(){let t=gu;return gu=new Map,t}function SM(){return gu.size===0}function AM(t){return typeof t=="string"?t:t.text()}function xM(t){bM.delete(t)}function MM(t){return Object.getPrototypeOf(t.prototype).constructor}function pi(t){let e=MM(t.type),n=!0,r=[t];for(;e;){let i;if(kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=qa(t.inputs),s.inputTransforms=qa(t.inputTransforms),s.declaredInputs=qa(t.declaredInputs),s.outputs=qa(t.outputs);let a=i.hostBindings;a&&kM(t,a);let u=i.viewQuery,c=i.contentQueries;if(u&&PM(t,u),c&&OM(t,c),RM(t,i),xT(t.outputs,i.outputs),kn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===pi&&(n=!1)}}e=Object.getPrototypeOf(e)}NM(r)}function RM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function NM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=vo(i.hostAttrs,n=vo(n,i.hostAttrs))}}function qa(t){return t===ii?{}:t===wt?[]:t}function PM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function OM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function kM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function uf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Fn=class{},bo=class{};var mu=class extends Fn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pu(this);let i=P_(e);this._bootstrapComponents=Pw(i.bootstrap),this._r3Injector=Ew(e,n,[{provide:Fn,useValue:this},{provide:ju,useValue:this.componentFactoryResolver},...r],Ze(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},yu=class extends bo{constructor(e){super(),this.moduleType=e}create(e){return new mu(this.moduleType,e,[])}};function FM(t,e,n){return new mu(t,e,n)}var dh=class extends Fn{constructor(e){super(),this.componentFactoryResolver=new pu(this),this.instance=null;let n=new _o([...e.providers,{provide:Fn,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],e.parent||xh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Bu(t,e,n=null){return new dh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Uu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dE(t){return LM(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function VM(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function LM(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function fr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function hh(t,e,n,r){let i=fr(t,e,n);return fr(t,e+1,r)||i}function jM(t,e,n,r,i,o){let s=hh(t,e,n,r);return hh(t,e+2,i,o)||s}function BM(t){return(t.flags&32)===32}function UM(t,e,n,r,i,o,s,a,u){let c=e.consts,l=Fu(e,t,4,s||null,ou(c,a));Zw(e,n,l,ou(c,u)),jh(e,l);let d=l.tView=Zh(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function En(t,e,n,r,i,o,s,a){let u=ue(),c=ot(),l=t+On,d=c.firstCreatePass?UM(l,c,u,e,n,r,i,o,s):c.data[l];Mo(d,!1);let h=$M(c,u,d,t);Vh()&&Qh(c,u,h,d),dr(h,u);let f=eE(h,u,h,d);return u[l]=f,Vu(u,f),EM(f,d,u),Rh(d)&&Kw(c,u,d),s!=null&&Qw(u,d,a),En}var $M=HM;function HM(t,e,n,r){return Lh(!0),e[Ee].createComment("")}function $u(t,e,n,r){let i=ue(),o=Au();if(fr(i,o,e)){let s=ot(),a=xu();Cx(a,i,t,e,n,r)}return $u}function hE(t,e,n,r){return fr(t,Au(),n)?e+Gt(n)+r:Ot}function qM(t,e,n,r,i,o){let s=rw(),a=hh(t,s,n,i);return Oh(2),a?e+Gt(n)+r+Gt(i)+o:Ot}function zM(t,e,n,r,i,o,s,a,u,c){let l=rw(),d=jM(t,l,n,i,s,u);return Oh(4),d?e+Gt(n)+r+Gt(i)+o+Gt(s)+a+Gt(u)+c:Ot}function za(t,e){return t<<17|e<<2}function pr(t){return t>>17&32767}function GM(t){return(t&2)==2}function WM(t,e){return t&131071|e<<17}function fh(t){return t|2}function di(t){return(t&131068)>>2}function Rd(t,e){return t&-131069|e<<2}function KM(t){return(t&1)===1}function ph(t){return t|1}function QM(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=pr(s),u=di(s);t[r]=n;let c=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||xo(d,l)>0)&&(c=!0)}else l=n;if(i)if(u!==0){let h=pr(t[a+1]);t[r+1]=za(h,a),h!==0&&(t[h+1]=Rd(t[h+1],r)),t[a+1]=WM(t[a+1],r)}else t[r+1]=za(a,0),a!==0&&(t[a+1]=Rd(t[a+1],r)),a=r;else t[r+1]=za(u,0),a===0?a=r:t[u+1]=Rd(t[u+1],r),u=r;c&&(t[r+1]=fh(t[r+1])),s_(t,l,r,!0),s_(t,l,r,!1),YM(e,l,t,r,o),s=za(a,u),o?e.classBindings=s:e.styleBindings=s}function YM(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&xo(o,e)>=0&&(n[r+1]=ph(n[r+1]))}function s_(t,e,n,r){let i=t[n+1],o=e===null,s=r?pr(i):di(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],c=t[s+1];ZM(u,e)&&(a=!0,t[s+1]=r?ph(c):fh(c)),s=r?pr(c):di(c)}a&&(t[n+1]=r?fh(i):ph(i))}function ZM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?xo(t,e)>=0:!1}function In(t,e,n){let r=ue(),i=Au();if(fr(r,i,e)){let o=ot(),s=xu();Xh(o,s,r,t,e,r[Ee],n,!1)}return In}function a_(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Jh(t,n,o[s],s,r)}function cf(t,e){return XM(t,e,null,!0),cf}function XM(t,e,n,r){let i=ue(),o=ot(),s=Oh(2);if(o.firstUpdatePass&&eR(o,t,s,r),e!==Ot&&fr(i,s,e)){let a=o.data[Ln()];oR(o,a,i,i[Ee],t,i[s+1]=sR(e,n),r,s)}}function JM(t,e){return e>=t.expandoStartIndex}function eR(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ln()],s=JM(t,n);aR(o,r)&&e===null&&!s&&(e=!1),e=tR(i,o,e,r),QM(i,o,e,n,s,r)}}function tR(t,e,n,r){let i=YS(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Nd(null,t,e,n,r),n=To(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Nd(i,t,e,n,r),o===null){let u=nR(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Nd(null,t,e,u[1],r),u=To(u,e.attrs,r),rR(t,e,r,u))}else o=iR(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function nR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(di(r)!==0)return t[pr(r)]}function rR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[pr(i)]=r}function iR(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=To(r,s,n)}return To(r,e.attrs,n)}function Nd(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=To(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function To(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),QT(t,s,n?!0:e[++o]))}return t===void 0?null:t}function oR(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,c=u[a+1],l=KM(c)?u_(u,e,n,i,di(c),s):void 0;if(!vu(l)){vu(o)||GM(c)&&(o=u_(u,null,n,i,a,s));let d=K_(Ln(),n);nx(r,s,d,i,o)}}function u_(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=l===null,h=n[i+1];h===Ot&&(h=d?wt:void 0);let f=d?Ed(h,r):l===r?h:void 0;if(c&&!vu(f)&&(f=Ed(u,r)),vu(f)&&(a=f,s))return a;let p=t[i+1];i=s?pr(p):di(p)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ed(u,r))}return a}function vu(t){return t!==void 0}function sR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ze(No(t)))),t}function aR(t,e){return(t.flags&(e?8:16))!==0}function uR(t,e,n,r,i,o){let s=e.consts,a=ou(s,i),u=Fu(e,t,2,r,a);return Zw(e,n,u,ou(s,o)),u.attrs!==null&&uh(u,u.attrs,!1),u.mergedAttrs!==null&&uh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function T(t,e,n,r){let i=ue(),o=ot(),s=On+t,a=i[Ee],u=o.firstCreatePass?uR(s,o,i,e,n,r):o.data[s],c=cR(o,i,u,a,e,t);i[s]=c;let l=Rh(u);return Mo(u,!0),Uw(a,c,u),!BM(u)&&Vh()&&Qh(o,i,c,u),LS()===0&&dr(c,i),jS(),l&&(Kw(o,i,u),Ww(o,u,i)),r!==null&&Qw(i,u),T}function b(){let t=st();nw()?zS():(t=t.parent,Mo(t,!1));let e=t;$S(e)&&HS(),BS();let n=ot();return n.firstCreatePass&&(jh(n,t),H_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&rA(e)&&a_(n,e,ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&iA(e)&&a_(n,e,ue(),e.stylesWithoutHost,!1),b}function Q(t,e,n,r){return T(t,e,n,r),b(),Q}var cR=(t,e,n,r,i,o)=>(Lh(!0),Ow(r,i,JS()));function fE(){return ue()}var _u="en-US";var lR=_u;function dR(t){typeof t=="string"&&(lR=t.toLowerCase().replace(/_/g,"-"))}function Oo(t,e,n,r){let i=ue(),o=ot(),s=st();return pE(o,i,i[Ee],s,t,e,r),Oo}function hR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[wo],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function pE(t,e,n,r,i,o,s){let a=Rh(r),c=t.firstCreatePass&&xx(t),l=e[Mt],d=Ax(e),h=!0;if(r.type&3||s){let I=Dt(r,e),E=s?s(I):I,x=d.length,ce=s?W=>s(Zt(W[r.index])):r.index,G=null;if(!s&&a&&(G=hR(t,e,i,r.index)),G!==null){let W=G.__ngLastListenerFn__||G;W.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,h=!1}else{o=l_(r,e,l,o,!1);let W=n.listen(E,i,o);d.push(o,W),c&&c.push(i,ce,x,x+1)}}else o=l_(r,e,l,o,!1);let f=r.outputs,p;if(h&&f!==null&&(p=f[i])){let I=p.length;if(I)for(let E=0;E<I;E+=2){let x=p[E],ce=p[E+1],Se=e[x][ce].subscribe(o),ne=d.length;d.push(o,Se),c&&c.push(i,r.index,ne,-(ne+1))}}}function c_(t,e,n,r){let i=te(null);try{return Wt(6,e,n),n(r)!==!1}catch(o){return nE(t,o),!1}finally{Wt(7,e,n),te(i)}}function l_(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Vn(t.index,e):e;nf(a);let u=c_(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=c_(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function lf(t=1){return XS(t)}function ko(t,e,n){return gi(t,"",e,"",n),ko}function gi(t,e,n,r,i){let o=ue(),s=hE(o,e,n,r);if(s!==Ot){let a=ot(),u=xu();Xh(a,u,o,t,s,o[Ee],i,!1)}return gi}function M(t,e=""){let n=ue(),r=ot(),i=t+On,o=r.firstCreatePass?Fu(r,i,1,e,null):r.data[i],s=fR(r,n,o,e,t);n[i]=s,Vh()&&Qh(r,n,s,o),Mo(o,!1)}var fR=(t,e,n,r,i)=>(Lh(!0),VA(e[Ee],r));function Fo(t){return Jt("",t,""),Fo}function Jt(t,e,n){let r=ue(),i=hE(r,t,e,n);return i!==Ot&&ef(r,Ln(),i),Jt}function Hu(t,e,n,r,i){let o=ue(),s=qM(o,t,e,n,r,i);return s!==Ot&&ef(o,Ln(),s),Hu}function df(t,e,n,r,i,o,s,a,u){let c=ue(),l=zM(c,t,e,n,r,i,o,s,a,u);return l!==Ot&&ef(c,Ln(),l),df}function hf(t,e,n){lE(e)&&(e=e());let r=ue(),i=Au();if(fr(r,i,e)){let o=ot(),s=xu();Xh(o,s,r,t,e,r[Ee],n,!1)}return hf}function gE(t,e){let n=lE(t);return n&&t.set(e),n}function ff(t,e){let n=ue(),r=ot(),i=st();return pE(r,n,n[Ee],i,t,e),ff}function pR(t,e,n){let r=ot();if(r.firstCreatePass){let i=kn(t);gh(n,r.data,r.blueprint,i,!0),gh(e,r.data,r.blueprint,i,!1)}}function gh(t,e,n,r,i){if(t=Ye(t),Array.isArray(t))for(let o=0;o<t.length;o++)gh(t[o],e,n,r,i);else{let o=ot(),s=ue(),a=st(),u=si(t)?t:Ye(t.provide),c=j_(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(si(t)||!t.multi){let f=new lr(c,i,U),p=Od(u,e,i?l:l+h,d);p===-1?(Gd(uu(a,s),o,u),Pd(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Od(u,e,l+h,d),p=Od(u,e,l,l+h),I=f>=0&&n[f],E=p>=0&&n[p];if(i&&!E||!i&&!I){Gd(uu(a,s),o,u);let x=yR(i?mR:gR,n.length,i,r,c);!i&&E&&(n[p].providerFactory=x),Pd(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=mE(n[i?p:f],c,!i&&r);Pd(o,t,f>-1?f:p,x)}!i&&r&&E&&n[p].componentProviders++}}}function Pd(t,e,n,r){let i=si(e),o=mS(e);if(i||o){let u=(o?Ye(e.useClass):e).prototype.ngOnDestroy;if(u){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=c.indexOf(n);l===-1?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function mE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Od(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function gR(t,e,n,r){return mh(this.multi,[])}function mR(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ci(n,n[K],this.providerFactory.index,r);o=a.slice(0,s),mh(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],mh(i,o);return o}function mh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function yR(t,e,n,r,i){let o=new lr(t,n,U);return o.multi=[],o.index=e,o.componentProviders=0,mE(o,i,r&&!n),o}function pf(t,e=[]){return n=>{n.providersResolver=(r,i)=>pR(r,i?i(t):t,e)}}var vR=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=F_(!1,r.type),o=i.length>0?Bu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=A({token:e,providedIn:"environment",factory:()=>new e(N(lt))});let t=e;return t})();function mi(t){rf("NgStandalone"),t.getStandaloneInjector=e=>e.get(vR).getOrCreateStandaloneInjector(t)}var Ga=null;function _R(t){Ga!==null&&(t.defaultEncapsulation!==Ga.defaultEncapsulation||t.preserveWhitespaces!==Ga.preserveWhitespaces)||(Ga=t)}var qu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var gf=new P(""),Vo=new P(""),zu=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,mf||(wR(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(N(de),N(Gu),N(Vo))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Gu=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return mf?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function wR(t){mf=t}var mf;function yr(t){return!!t&&typeof t.then=="function"}function yE(t){return!!t&&typeof t.subscribe=="function"}var Wu=new P(""),vE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=_(Wu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(yr(s))r.push(s);else if(yE(s)){let a=new Promise((u,c)=>{s.subscribe({complete:u,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yf=new P("");function ER(){iv(()=>{throw new S(600,!1)})}function IR(t){return t.isBoundToModule}function DR(t,e,n){try{let r=n();return yr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function _E(t,e){return Array.isArray(e)?e.reduce(_E,t):C(C({},t),e)}var yi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(Iw),this.afterRenderEffectManager=_(af),this.externalTestViews=new Set,this.beforeRender=new $e,this.afterTick=new $e,this.componentTypes=[],this.components=[],this.isStable=_(Uu).hasPendingTasks.pipe(z(r=>!r)),this._injector=_(lt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof fu;if(!this._injector.get(vE).done){let f=!o&&N_(r),p=!1;throw new S(405,p)}let a;o?a=r:a=this._injector.get(ju).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=IR(a)?void 0:this._injector.get(Fn),c=i||a.selector,l=a.create(Pt.NULL,[],c,u),d=l.location.nativeElement,h=l.injector.get(gf,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Za(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new S(101,!1);let i=te(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,te(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===iE)throw new S(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)CR(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>yh(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>yh(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Za(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(yf,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Za(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Za(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function CR(t,e,n){!e&&!yh(t)||bR(t,n,e)}function yh(t){return Ph(t)}function bR(t,e,n){let r;n?(r=0,t[k]|=1024):t[k]&64?r=0:r=1,oE(t,e,r)}var vh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ku=(()=>{let e=class e{compileModuleSync(r){return new yu(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=P_(r),s=Pw(o.declarations).reduce((a,u)=>{let c=Pn(u);return c&&a.push(new li(c)),a},[]);return new vh(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TR=new P("");function SR(t,e,n){let r=new yu(n);return Promise.resolve(r)}function d_(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var AR=(()=>{let e=class e{constructor(){this.zone=_(de),this.applicationRef=_(yi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xR(t){return[{provide:de,useFactory:t},{provide:oi,multi:!0,useFactory:()=>{let e=_(AR,{optional:!0});return()=>e.initialize()}},{provide:oi,multi:!0,useFactory:()=>{let e=_(NR);return()=>{e.initialize()}}},{provide:Iw,useFactory:MR}]}function MR(){let t=_(de),e=_(Xt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function RR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var NR=(()=>{let e=class e{constructor(){this.subscription=new Ae,this.initialized=!1,this.zone=_(de),this.pendingTasks=_(Uu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{de.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PR(){return typeof $localize<"u"&&$localize.locale||_u}var vf=new P("",{providedIn:"root",factory:()=>_(vf,$.Optional|$.SkipSelf)||PR()});var wE=new P(""),EE=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=oM(i?.ngZone,RR({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=FM(r.moduleType,this.injector,xR(()=>o)),a=s.injector.get(Xt,null);return o.runOutsideAngular(()=>{let u=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{Za(this._modules,s),u.unsubscribe()})}),DR(a,o,()=>{let u=s.injector.get(vE);return u.runInitializers(),u.donePromise.then(()=>{let c=s.injector.get(vf,_u);return dR(c||_u),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=_E({},i);return SR(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(yi);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new S(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(wE,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(N(Pt))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),mo=null,IE=new P("");function OR(t){if(mo&&!mo.get(IE,!1))throw new S(400,!1);ER(),mo=t;let e=t.get(EE);return VR(t),e}function _f(t,e,n=[]){let r=`Platform: ${e}`,i=new P(r);return(o=[])=>{let s=DE();if(!s||s.injector.get(IE,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):OR(kR(a,r))}return FR(i)}}function kR(t=[],e){return Pt.create({name:e,providers:[{provide:Cu,useValue:"platform"},{provide:wE,useValue:new Set([()=>mo=null])},...t]})}function FR(t){let e=DE();if(!e)throw new S(401,!1);return e}function DE(){return mo?.get(EE)??null}function VR(t){t.get(Hh,null)?.forEach(n=>n())}var vr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LR;let t=e;return t})();function LR(t){return jR(st(),ue(),(t&16)===16)}function jR(t,e,n){if(Su(t)&&!n){let r=Vn(t.index,e);return new hr(r,r)}else if(t.type&47){let r=e[Yt];return new hr(r,e)}return null}var _h=class{constructor(){}supports(e){return dE(e)}create(e){return new wh(e)}},BR=(t,e)=>e,wh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||BR}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<h_(r,i,o)?n:r,a=h_(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!dE(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,VM(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Eh(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new wu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new wu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Eh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ih=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},wu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ih,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function h_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function f_(){return new wf([new _h])}var wf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||f_()),deps:[[e,new bh,new Du]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new S(901,!1)}};e.\u0275prov=A({token:e,providedIn:"root",factory:f_});let t=e;return t})();var CE=_f(null,"core",[]),bE=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(N(yi))},e.\u0275mod=it({type:e}),e.\u0275inj=rt({});let t=e;return t})();function _r(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function TE(t){let e=Pn(t);if(!e)return null;let n=new li(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var RE=null;function en(){return RE}function NE(t){RE??=t}var Qu=class{};var at=new P(""),Tf=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>_(UR),providedIn:"platform"});let t=e;return t})(),PE=new P(""),UR=(()=>{let e=class e extends Tf{constructor(){super(),this._doc=_(at),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(r){let i=en().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=en().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Sf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function SE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Dn(t){return t&&t[0]!=="?"?"?"+t:t}var Cn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>_(Af),providedIn:"root"});let t=e;return t})(),OE=new P(""),Af=(()=>{let e=class e extends Cn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??_(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Sf(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Dn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Dn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Dn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(Tf),N(OE,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kE=(()=>{let e=class e extends Cn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Sf(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Dn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Dn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(Tf),N(OE,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Un=(()=>{let e=class e{constructor(r){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=qR(SE(AE(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Dn(i))}normalize(r){return e.stripTrailingSlash(HR(this._basePath,AE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Dn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Dn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Dn,e.joinWithSlash=Sf,e.stripTrailingSlash=SE,e.\u0275fac=function(i){return new(i||e)(N(Cn))},e.\u0275prov=A({token:e,factory:()=>$R(),providedIn:"root"});let t=e;return t})();function $R(){return new Un(N(Cn))}function HR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function AE(t){return t.replace(/\/index.html$/,"")}function qR(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function FE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ef=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},vi=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Ef(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),xE(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);xE(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(U(fi),U(Lu),U(wf))},e.\u0275dir=It({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function xE(t,e){t.context.$implicit=e.item}var VE=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new If,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){ME("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){ME("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(U(fi),U(Lu))},e.\u0275dir=It({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),If=class{constructor(){this.$implicit=null,this.ngIf=null}};function ME(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ze(e)}'.`)}var LE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=it({type:e}),e.\u0275inj=rt({});let t=e;return t})(),xf="browser",zR="server";function GR(t){return t===xf}function Mf(t){return t===zR}var jE=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>GR(_(Bn))?new Df(_(at),window):new Cf});let t=e;return t})(),Df=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=WR(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function WR(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Cf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Yu=class{};var Pf=class extends Qu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Of=class t extends Pf{static makeCurrent(){NE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=QR();return n==null?null:YR(n)}resetBaseElement(){Lo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return FE(document.cookie,e)}},Lo=null;function QR(){return Lo=Lo||document.querySelector("base"),Lo?Lo.getAttribute("href"):null}function YR(t){return new URL(t,document.baseURI).pathname}var kf=class{addToWindow(e){Ve.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new S(5103,!1);return o},Ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ve.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Ve.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Ve.frameworkStabilizers||(Ve.frameworkStabilizers=[]),Ve.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?en().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},ZR=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Ff=new P(""),HE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(N(Ff),N(de))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Xu=class{constructor(e){this._doc=e}},Rf="ng-app-id",qE=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Mf(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Rf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Rf),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Rf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(N(at),N(Ru),N(qh,8),N(Bn))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Nf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lf=/%COMP%/g,zE="%COMP%",XR=`_nghost-${zE}`,JR=`_ngcontent-${zE}`,eN=!0,tN=new P("",{providedIn:"root",factory:()=>eN});function nN(t){return JR.replace(Lf,t)}function rN(t){return XR.replace(Lf,t)}function GE(t,e){return e.map(n=>n.replace(Lf,t))}var BE=(()=>{let e=class e{constructor(r,i,o,s,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Mf(u),this.defaultRenderer=new jo(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Qt.ShadowDom&&(i=ae(C({},i),{encapsulation:Qt.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Ju?o.applyToHost(r):o instanceof Bo&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Qt.Emulated:s=new Ju(c,l,i,this.appId,d,a,u,h);break;case Qt.ShadowDom:return new Vf(c,l,r,i,a,u,this.nonce,h);default:s=new Bo(c,l,i,d,a,u,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(N(HE),N(qE),N(Ru),N(tN),N(at),N(Bn),N(de),N(qh))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),jo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Nf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(UE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(UE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Nf[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Nf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(yn.DashCase|yn.Important)?e.style.setProperty(n,r,i&yn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&yn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=en().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function UE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Vf=class extends jo{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=GE(i.id,i.styles);for(let l of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bo=class extends jo{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?GE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ju=class extends Bo{constructor(e,n,r,i,o,s,a,u){let c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=nN(c),this.hostAttr=rN(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},iN=(()=>{let e=class e extends Xu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(N(at))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),$E=["alt","control","meta","shift"],oN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},aN=(()=>{let e=class e extends Xu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),$E.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=oN[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),$E.forEach(a=>{if(a!==o){let u=sN[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(N(at))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function uN(){Of.makeCurrent()}function cN(){return new Xt}function lN(){return Aw(document),document}var dN=[{provide:Bn,useValue:xf},{provide:Hh,useValue:uN,multi:!0},{provide:at,useFactory:lN,deps:[]}],WE=_f(CE,"browser",dN),hN=new P(""),fN=[{provide:Vo,useClass:kf,deps:[]},{provide:gf,useClass:zu,deps:[de,Gu,Vo]},{provide:zu,useClass:zu,deps:[de,Gu,Vo]}],pN=[{provide:Cu,useValue:"root"},{provide:Xt,useFactory:cN,deps:[]},{provide:Ff,useClass:iN,multi:!0,deps:[at,de,Bn]},{provide:Ff,useClass:aN,multi:!0,deps:[at]},BE,qE,HE,{provide:Co,useExisting:BE},{provide:Yu,useClass:ZR,deps:[]},[]],KE=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Ru,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(N(hN,12))},e.\u0275mod=it({type:e}),e.\u0275inj=rt({providers:[...pN,...fN],imports:[LE,bE]});let t=e;return t})();var QE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(N(at))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var iI=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(U(mr),U(jn))},e.\u0275dir=It({type:e});let t=e;return t})(),gN=(()=>{let e=class e extends iI{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ro(e)))(o||e)}})(),e.\u0275dir=It({type:e,features:[pi]});let t=e;return t})(),oI=new P("");var mN={provide:oI,useExisting:Ao(()=>rc),multi:!0};function yN(){let t=en()?en().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var vN=new P(""),rc=(()=>{let e=class e extends iI{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!yN())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(U(mr),U(jn),U(vN,8))},e.\u0275dir=It({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Oo("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[pf([mN]),pi]});let t=e;return t})();var _N=new P(""),wN=new P("");function sI(t){return t!=null}function aI(t){return yr(t)?fe(t):t}function uI(t){let e={};return t.forEach(n=>{e=n!=null?C(C({},e),n):e}),Object.keys(e).length===0?null:e}function cI(t,e){return e.map(n=>n(t))}function EN(t){return!t.validate}function lI(t){return t.map(e=>EN(e)?e:n=>e.validate(n))}function IN(t){if(!t)return null;let e=t.filter(sI);return e.length==0?null:function(n){return uI(cI(n,e))}}function dI(t){return t!=null?IN(lI(t)):null}function DN(t){if(!t)return null;let e=t.filter(sI);return e.length==0?null:function(n){let r=cI(n,e).map(aI);return gd(r).pipe(z(uI))}}function hI(t){return t!=null?DN(lI(t)):null}function ZE(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function CN(t){return t._rawValidators}function bN(t){return t._rawAsyncValidators}function jf(t){return t?Array.isArray(t)?t:[t]:[]}function tc(t,e){return Array.isArray(t)?t.includes(e):t===e}function XE(t,e){let n=jf(e);return jf(t).forEach(i=>{tc(n,i)||n.push(i)}),n}function JE(t,e){return jf(e).filter(n=>!tc(t,n))}var nc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Bf=class extends nc{get formDirective(){return null}get path(){return null}},Ho=class extends nc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Uf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},TN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},P4=ae(C({},TN),{"[class.ng-submitted]":"isSubmitted"}),fI=(()=>{let e=class e extends Uf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(U(Ho,2))},e.\u0275dir=It({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&cf("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[pi]});let t=e;return t})();var Uo="VALID",ec="INVALID",_i="PENDING",$o="DISABLED";function SN(t){return(ic(t)?t.validators:t)||null}function AN(t){return Array.isArray(t)?dI(t):t||null}function xN(t,e){return(ic(e)?e.asyncValidators:t)||null}function MN(t){return Array.isArray(t)?hI(t):t||null}function ic(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var $f=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Uo}get invalid(){return this.status===ec}get pending(){return this.status==_i}get disabled(){return this.status===$o}get enabled(){return this.status!==$o}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(XE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(XE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JE(e,this._rawAsyncValidators))}hasValidator(e){return tc(this._rawValidators,e)}hasAsyncValidator(e){return tc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_i,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=$o,this.errors=null,this._forEachChild(r=>{r.disable(ae(C({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(C({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Uo,this._forEachChild(r=>{r.enable(ae(C({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(C({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uo||this.status===_i)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$o:Uo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_i,this._hasOwnPendingAsyncValidator=!0;let n=aI(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?$o:this.errors?ec:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_i)?_i:this._anyControlsHaveStatus(ec)?ec:Uo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ic(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=AN(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=MN(this._rawAsyncValidators)}};var pI=new P("CallSetDisabledState",{providedIn:"root",factory:()=>Hf}),Hf="always";function RN(t,e){return[...e.path,t]}function NN(t,e,n=Hf){ON(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),kN(t,e),VN(t,e),FN(t,e),PN(t,e)}function eI(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function PN(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ON(t,e){let n=CN(t);e.validator!==null?t.setValidators(ZE(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=bN(t);e.asyncValidator!==null?t.setAsyncValidators(ZE(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();eI(e._rawValidators,i),eI(e._rawAsyncValidators,i)}function kN(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gI(t,e)})}function FN(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function gI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function VN(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function LN(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function jN(t){return Object.getPrototypeOf(t.constructor)===gN}function BN(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===rc?n=o:jN(o)?r=o:i=o}),i||r||n||null}function tI(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function nI(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var UN=class extends $f{constructor(e=null,n,r){super(SN(n),xN(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ic(n)&&(n.nonNullable||n.initialValueIsDefault)&&(nI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){nI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var $N={provide:Ho,useExisting:Ao(()=>qf)},rI=Promise.resolve(),qf=(()=>{let e=class e extends Ho{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new UN,this._registered=!1,this.name="",this.update=new xe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=BN(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),LN(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){NN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){rI.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&_r(i);rI.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?RN(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(U(Bf,9),U(_N,10),U(wN,10),U(oI,10),U(vr,8),U(pI,8))},e.\u0275dir=It({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Xe.None,"disabled","isDisabled"],model:[Xe.None,"ngModel","model"],options:[Xe.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[pf([$N]),pi,gr]});let t=e;return t})();var HN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=it({type:e}),e.\u0275inj=rt({});let t=e;return t})();var wi=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:pI,useValue:r.callSetDisabledState??Hf}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=it({type:e}),e.\u0275inj=rt({imports:[HN]});let t=e;return t})();var j="primary",is=Symbol("RouteTitle"),Qf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function bi(t){return new Qf(t)}function zN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function GN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!tn(t[n],e[n]))return!1;return!0}function tn(t,e){let n=t?Yf(t):void 0,r=e?Yf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!CI(t[i],e[i]))return!1;return!0}function Yf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function CI(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function bI(t){return t.length>0?t[t.length-1]:null}function zn(t){return pd(t)?t:yr(t)?fe(Promise.resolve(t)):O(t)}var WN={exact:SI,subset:AI},TI={exact:KN,subset:QN,ignored:()=>!0};function mI(t,e,n){return WN[n.paths](t.root,e.root,n.matrixParams)&&TI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function KN(t,e){return tn(t,e)}function SI(t,e,n){if(!Er(t.segments,e.segments)||!ac(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!SI(t.children[r],e.children[r],n))return!1;return!0}function QN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>CI(t[n],e[n]))}function AI(t,e,n){return xI(t,e,e.segments,n)}function xI(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Er(i,n)||e.hasChildren()||!ac(i,n,r))}else if(t.segments.length===n.length){if(!Er(t.segments,n)||!ac(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!AI(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Er(t.segments,i)||!ac(t.segments,i,r)||!t.children[j]?!1:xI(t.children[j],e,o,r)}}function ac(t,e,n){return e.every((r,i)=>TI[n](t[i].parameters,r.parameters))}var $n=class{constructor(e=new ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=bi(this.queryParams),this._queryParamMap}toString(){return XN.serialize(this)}},ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uc(this)}},wr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=bi(this.parameters),this._parameterMap}toString(){return RI(this)}};function YN(t,e){return Er(t,e)&&t.every((n,r)=>tn(n.parameters,e[r].parameters))}function Er(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function ZN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===j&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==j&&(n=n.concat(e(i,r)))}),n}var os=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>new Yo,providedIn:"root"});let t=e;return t})(),Yo=class{parse(e){let n=new Xf(e);return new $n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${qo(e.root,!0)}`,r=tP(e.queryParams),i=typeof e.fragment=="string"?`#${JN(e.fragment)}`:"";return`${n}${r}${i}`}},XN=new Yo;function uc(t){return t.segments.map(e=>RI(e)).join("/")}function qo(t,e){if(!t.hasChildren())return uc(t);if(e){let n=t.children[j]?qo(t.children[j],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==j&&r.push(`${i}:${qo(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ZN(t,(r,i)=>i===j?[qo(t.children[j],!1)]:[`${i}:${qo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[j]!=null?`${uc(t)}/${n[0]}`:`${uc(t)}/(${n.join("//")})`}}function MI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oc(t){return MI(t).replace(/%3B/gi,";")}function JN(t){return encodeURI(t)}function Zf(t){return MI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cc(t){return decodeURIComponent(t)}function yI(t){return cc(t.replace(/\+/g,"%20"))}function RI(t){return`${Zf(t.path)}${eP(t.parameters)}`}function eP(t){return Object.entries(t).map(([e,n])=>`;${Zf(e)}=${Zf(n)}`).join("")}function tP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${oc(n)}=${oc(i)}`).join("&"):`${oc(n)}=${oc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var nP=/^[^\/()?;#]+/;function zf(t){let e=t.match(nP);return e?e[0]:""}var rP=/^[^\/()?;=#]+/;function iP(t){let e=t.match(rP);return e?e[0]:""}var oP=/^[^=?&#]+/;function sP(t){let e=t.match(oP);return e?e[0]:""}var aP=/^[^&#]+/;function uP(t){let e=t.match(aP);return e?e[0]:""}var Xf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[j]=new ie(e,n)),r}parseSegment(){let e=zf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new wr(cc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=iP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=zf(this.remaining);i&&(r=i,this.capture(r))}e[cc(n)]=cc(r)}parseQueryParam(e){let n=sP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=uP(this.remaining);s&&(r=s,this.capture(r))}let i=yI(n),o=yI(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=j);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[j]:new ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}};function NI(t){return t.segments.length>0?new ie([],{[j]:t}):t}function PI(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=PI(i);if(r===j&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ie(t.segments,e);return cP(n)}function cP(t){if(t.numberOfChildren===1&&t.children[j]){let e=t.children[j];return new ie(t.segments.concat(e.segments),e.children)}return t}function Ti(t){return t instanceof $n}function lP(t,e,n=null,r=null){let i=OI(t);return kI(i,e,n,r)}function OI(t){let e;function n(o){let s={};for(let u of o.children){let c=n(u);s[u.outlet]=c}let a=new ie(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=NI(r);return e??i}function kI(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Gf(i,i,i,n,r);let o=dP(e);if(o.toRoot())return Gf(i,i,new ie([],{}),n,r);let s=hP(o,i,t),a=s.processChildren?Wo(s.segmentGroup,s.index,o.commands):VI(s.segmentGroup,s.index,o.commands);return Gf(i,s.segmentGroup,a,n,r)}function lc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Zo(t){return typeof t=="object"&&t!=null&&t.outlets}function Gf(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`});let s;t===e?s=n:s=FI(t,e,n);let a=NI(PI(s));return new $n(a,o,i)}function FI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=FI(o,e,n)}),new ie(t.segments,r)}var dc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&lc(r[0]))throw new S(4003,!1);let i=r.find(Zo);if(i&&i!==bI(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function dP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new dc(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new dc(n,e,r)}var Di=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function hP(t,e,n){if(t.isAbsolute)return new Di(e,!0,0);if(!n)return new Di(e,!1,NaN);if(n.parent===null)return new Di(n,!0,0);let r=lc(t.commands[0])?0:1,i=n.segments.length-1+r;return fP(n,i,t.numberOfDoubleDots)}function fP(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Di(r,!1,i-o)}function pP(t){return Zo(t[0])?t[0].outlets:{[j]:t}}function VI(t,e,n){if(t??=new ie([],{}),t.segments.length===0&&t.hasChildren())return Wo(t,e,n);let r=gP(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ie(t.segments.slice(0,r.pathIndex),{});return o.children[j]=new ie(t.segments.slice(r.pathIndex),t.children),Wo(o,0,i)}else return r.match&&i.length===0?new ie(t.segments,{}):r.match&&!t.hasChildren()?Jf(t,e,n):r.match?Wo(t,0,i):Jf(t,e,n)}function Wo(t,e,n){if(n.length===0)return new ie(t.segments,{});{let r=pP(n),i={};if(Object.keys(r).some(o=>o!==j)&&t.children[j]&&t.numberOfChildren===1&&t.children[j].segments.length===0){let o=Wo(t.children[j],e,n);return new ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=VI(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ie(t.segments,i)}}function gP(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Zo(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!_I(u,c,s))return o;r+=2}else{if(!_I(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Jf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Zo(o)){let u=mP(o.outlets);return new ie(r,u)}if(i===0&&lc(n[0])){let u=t.segments[e];r.push(new wr(u.path,vI(n[0]))),i++;continue}let s=Zo(o)?o.outlets[j]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&lc(a)?(r.push(new wr(s,vI(a))),i+=2):(r.push(new wr(s,{})),i++)}return new ie(r,{})}function mP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Jf(new ie([],{}),0,r))}),e}function vI(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function _I(t,e,n){return t==n.path&&tn(e,n.parameters)}var Ko="imperative",Me=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Me||{}),Ct=class{constructor(e,n){this.id=e,this.url=n}},Si=class extends Ct{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Me.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nn=class extends Ct{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Me.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ht=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ht||{}),hc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(hc||{}),Hn=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Me.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},qn=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Me.NavigationSkipped}},Xo=class extends Ct{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Me.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fc=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Me.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ep=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Me.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tp=class extends Ct{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Me.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},np=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Me.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rp=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Me.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ip=class{constructor(e){this.route=e,this.type=Me.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},op=class{constructor(e){this.route=e,this.type=Me.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sp=class{constructor(e){this.snapshot=e,this.type=Me.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ap=class{constructor(e){this.snapshot=e,this.type=Me.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},up=class{constructor(e){this.snapshot=e,this.type=Me.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cp=class{constructor(e){this.snapshot=e,this.type=Me.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Me.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Jo=class{},es=class{constructor(e){this.url=e}};var lp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ss,this.attachRef=null}},ss=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new lp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=dp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=dp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=hp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hp(e,this._root).map(n=>n.value)}};function dp(t,e){if(t===e.value)return e;for(let n of e.children){let r=dp(t,n);if(r)return r}return null}function hp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=hp(t,n);if(r.length)return r.unshift(e),r}return[]}var dt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ii(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var mc=class extends gc{constructor(e,n){super(e),this.snapshot=n,Ip(this,e)}toString(){return this.snapshot.toString()}};function LI(t){let e=yP(t),n=new ke([new wr("",{})]),r=new ke({}),i=new ke({}),o=new ke({}),s=new ke(""),a=new kt(n,r,o,s,i,j,t,e.root);return a.snapshot=e.root,new mc(new dt(a,[]),e)}function yP(t){let e={},n={},r={},i="",o=new ts([],e,r,i,n,j,t,null,{});return new yc("",new dt(o,[]))}var kt=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(z(c=>c[is]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(e=>bi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(e=>bi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ep(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:C(C({},e.params),t.params),data:C(C({},e.data),t.data),resolve:C(C(C(C({},t.data),e.data),i?.data),t._resolvedData)}:r={params:C({},t.params),data:C({},t.data),resolve:C(C({},t.data),t._resolvedData??{})},i&&BI(i)&&(r.resolve[is]=i.title),r}var ts=class{get title(){return this.data?.[is]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=bi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=bi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},yc=class extends gc{constructor(e,n){super(n),this.url=e,Ip(this,n)}toString(){return jI(this._root)}};function Ip(t,e){e.value._routerState=t,e.children.forEach(n=>Ip(t,n))}function jI(t){let e=t.children.length>0?` { ${t.children.map(jI).join(", ")} } `:"";return`${t.value}${e}`}function Wf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,tn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),tn(e.params,n.params)||t.paramsSubject.next(n.params),GN(e.url,n.url)||t.urlSubject.next(n.url),tn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function fp(t,e){let n=tn(t.params,e.params)&&YN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||fp(t.parent,e.parent))}function BI(t){return typeof t.title=="string"||t.title===null}var Dp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=j,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=_(ss),this.location=_(fi),this.changeDetector=_(vr),this.environmentInjector=_(lt),this.inputBinder=_(Ic,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new pp(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=It({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gr]});let t=e;return t})(),pp=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===kt?this.route:e===ss?this.childContexts:this.parent.get(e,n)}},Ic=new P(""),wI=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=fo([i.queryParams,i.params,i.data]).pipe(vt(([s,a,u],c)=>(u=C(C(C({},s),a),u),c===0?O(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=TE(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function vP(t,e,n){let r=ns(t,e._root,n?n._root:void 0);return new mc(r,e)}function ns(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=_P(t,e,n);return new dt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ns(t,a)),s}}let r=wP(e.value),i=e.children.map(o=>ns(t,o));return new dt(r,i)}}function _P(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ns(t,r,i);return ns(t,r)})}function wP(t){return new kt(new ke(t.url),new ke(t.params),new ke(t.queryParams),new ke(t.fragment),new ke(t.data),t.outlet,t.component,t)}var UI="ngNavigationCancelingError";function $I(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ti(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HI(!1,ht.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function HI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[UI]=!0,n.cancellationCode=e,n}function EP(t){return qI(t)&&Ti(t.url)}function qI(t){return!!t&&t[UI]}var IP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["ng-component"]],standalone:!0,features:[mi],decls:1,vars:0,template:function(i,o){i&1&&Q(0,"router-outlet")},dependencies:[Dp],encapsulation:2});let t=e;return t})();function DP(t,e){return t.providers&&!t._injector&&(t._injector=Bu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Cp(t){let e=t.children&&t.children.map(Cp),n=e?ae(C({},t),{children:e}):C({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=IP),n}function rn(t){return t.outlet||j}function CP(t,e){let n=t.filter(r=>rn(r)===e);return n.push(...t.filter(r=>rn(r)!==e)),n}function as(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var bP=(t,e,n,r)=>z(i=>(new gp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),gp=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Wf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ii(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ii(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ii(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ii(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new cp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ap(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Wf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Wf(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=as(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},vc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ci=class{constructor(e,n){this.component=e,this.route=n}};function TP(t,e,n){let r=t._root,i=e?e._root:null;return zo(r,i,n,[r.value])}function SP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!y_(t)?t:e.get(t):r}function zo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ii(e);return t.children.forEach(s=>{AP(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qo(a,n.getContext(s),i)),i}function AP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=xP(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?zo(t,e,a?a.children:null,r,i):zo(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ci(a.outlet.component,s))}else s&&Qo(e,a,i),i.canActivateChecks.push(new vc(r)),o.component?zo(t,null,a?a.children:null,r,i):zo(t,null,n,r,i);return i}function xP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Er(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Er(t.url,e.url)||!tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fp(t,e)||!tn(t.queryParams,e.queryParams);case"paramsChange":default:return!fp(t,e)}}function Qo(t,e,n){let r=Ii(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Qo(s,e.children.getContext(o),n):Qo(s,null,n):Qo(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ci(e.outlet.component,i)):n.canDeactivateChecks.push(new Ci(null,i)):n.canDeactivateChecks.push(new Ci(null,i))}function us(t){return typeof t=="function"}function MP(t){return typeof t=="boolean"}function RP(t){return t&&us(t.canLoad)}function NP(t){return t&&us(t.canActivate)}function PP(t){return t&&us(t.canActivateChild)}function OP(t){return t&&us(t.canDeactivate)}function kP(t){return t&&us(t.canMatch)}function zI(t){return t instanceof gn||t?.name==="EmptyError"}var sc=Symbol("INITIAL_VALUE");function Ai(){return vt(t=>fo(t.map(e=>e.pipe(mn(1),_d(sc)))).pipe(z(e=>{for(let n of e)if(n!==!0){if(n===sc)return sc;if(n===!1||n instanceof $n)return n}return!0}),yt(e=>e!==sc),mn(1)))}function FP(t,e){return we(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?O(ae(C({},n),{guardsResult:!0})):VP(s,r,i,t).pipe(we(a=>a&&MP(a)?LP(r,o,t,e):O(a)),z(a=>ae(C({},n),{guardsResult:a})))})}function VP(t,e,n,r){return fe(t).pipe(we(i=>HP(i.component,i.route,n,e,r)),zt(i=>i!==!0,!0))}function LP(t,e,n,r){return fe(e).pipe(ir(i=>Qr(BP(i.route.parent,r),jP(i.route,r),$P(t,i.path,n),UP(t,i.route,n))),zt(i=>i!==!0,!0))}function jP(t,e){return t!==null&&e&&e(new up(t)),O(!0)}function BP(t,e){return t!==null&&e&&e(new sp(t)),O(!0)}function UP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(o=>ja(()=>{let s=as(e)??n,a=xi(o,s),u=NP(a)?a.canActivate(e,t):vn(s,()=>a(e,t));return zn(u).pipe(zt())}));return O(i).pipe(Ai())}function $P(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>SP(s)).filter(s=>s!==null).map(s=>ja(()=>{let a=s.guards.map(u=>{let c=as(s.node)??n,l=xi(u,c),d=PP(l)?l.canActivateChild(r,t):vn(c,()=>l(r,t));return zn(d).pipe(zt())});return O(a).pipe(Ai())}));return O(o).pipe(Ai())}function HP(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return O(!0);let s=o.map(a=>{let u=as(e)??i,c=xi(a,u),l=OP(c)?c.canDeactivate(t,e,n,r):vn(u,()=>c(t,e,n,r));return zn(l).pipe(zt())});return O(s).pipe(Ai())}function qP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let o=i.map(s=>{let a=xi(s,t),u=RP(a)?a.canLoad(e,n):vn(t,()=>a(e,n));return zn(u)});return O(o).pipe(Ai(),GI(r))}function GI(t){return ld(Fe(e=>{if(Ti(e))throw $I(t,e)}),z(e=>e===!0))}function zP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let o=i.map(s=>{let a=xi(s,t),u=kP(a)?a.canMatch(e,n):vn(t,()=>a(e,n));return zn(u)});return O(o).pipe(Ai(),GI(r))}var rs=class{constructor(e){this.segmentGroup=e||null}},_c=class extends Error{constructor(e){super(),this.urlTree=e}};function Ei(t){return Wr(new rs(t))}function GP(t){return Wr(new S(4e3,!1))}function WP(t){return Wr(HI(!1,ht.GuardRejected))}var mp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[j])return GP(e.redirectTo);i=i.children[j]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new _c(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new $n(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ie(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},yp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KP(t,e,n,r,i){let o=bp(t,e,n);return o.matched?(r=DP(e,r),zP(r,e,n,i).pipe(z(s=>s===!0?o:C({},yp)))):O(o)}function bp(t,e,n){if(e.path==="**")return QP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?C({},yp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||zN)(n,t,e);if(!i)return C({},yp);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?C(C({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function QP(t){return{matched:!0,parameters:t.length>0?bI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function EI(t,e,n,r){return n.length>0&&XP(t,n,r)?{segmentGroup:new ie(e,ZP(r,new ie(n,t.children))),slicedSegments:[]}:n.length===0&&JP(t,n,r)?{segmentGroup:new ie(t.segments,YP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ie(t.segments,t.children),slicedSegments:n}}function YP(t,e,n,r){let i={};for(let o of n)if(Dc(t,e,o)&&!r[rn(o)]){let s=new ie([],{});i[rn(o)]=s}return C(C({},r),i)}function ZP(t,e){let n={};n[j]=e;for(let r of t)if(r.path===""&&rn(r)!==j){let i=new ie([],{});n[rn(r)]=i}return n}function XP(t,e,n){return n.some(r=>Dc(t,e,r)&&rn(r)!==j)}function JP(t,e,n){return n.some(r=>Dc(t,e,r))}function Dc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function eO(t,e,n,r){return rn(t)!==r&&(r===j||!Dc(e,n,t))?!1:bp(e,t,n).matched}function tO(t,e,n){return e.length===0&&!t.children[n]}var vp=class{};function nO(t,e,n,r,i,o,s="emptyOnly"){return new _p(t,e,n,r,i,s,o).recognize()}var rO=31,_p=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new mp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}recognize(){let e=EI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(z(n=>{let r=new ts([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,{},j,this.rootComponentType,null,{}),i=new dt(r,n),o=new yc("",i),s=lP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,j).pipe(xn(r=>{if(r instanceof _c)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rs?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Ep(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(z(o=>o instanceof dt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return fe(i).pipe(ir(o=>{let s=r.children[o],a=CP(n,o);return this.processSegmentGroup(e,a,s,o)}),vd((o,s)=>(o.push(...s),o)),Mn(null),yd(),we(o=>{if(o===null)return Ei(r);let s=WI(o);return iO(s),O(s)}))}processSegment(e,n,r,i,o,s){return fe(n).pipe(ir(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(xn(u=>{if(u instanceof rs)return O(null);throw u}))),zt(a=>!!a),xn(a=>{if(zI(a))return tO(r,i,o)?O(new vp):Ei(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return eO(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Ei(i):Ei(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:l}=bp(n,i,o);if(!a)return Ei(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rO&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(we(h=>this.processSegment(e,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=KP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(vt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(vt(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new ts(l,h,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,sO(r),rn(r),r.component??r._loadedComponent??null,r,aO(r)),{segmentGroup:p,slicedSegments:I}=EI(n,l,d,u);if(I.length===0&&p.hasChildren())return this.processChildren(c,u,p).pipe(z(x=>x===null?null:new dt(f,x)));if(u.length===0&&I.length===0)return O(new dt(f,[]));let E=rn(r)===o;return this.processSegment(c,u,p,I,E?j:o,!0).pipe(z(x=>new dt(f,x instanceof dt?[x]:[])))}))):Ei(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):qP(e,n,r,this.urlSerializer).pipe(we(i=>i?this.configLoader.loadChildren(e,n).pipe(Fe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):WP(n))):O({routes:[],injector:e})}};function iO(t){t.sort((e,n)=>e.value.outlet===j?-1:n.value.outlet===j?1:e.value.outlet.localeCompare(n.value.outlet))}function oO(t){let e=t.value.routeConfig;return e&&e.path===""}function WI(t){let e=[],n=new Set;for(let r of t){if(!oO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=WI(r.children);e.push(new dt(r.value,i))}return e.filter(r=>!n.has(r))}function sO(t){return t.data||{}}function aO(t){return t.resolve||{}}function uO(t,e,n,r,i,o){return we(s=>nO(t,e,n,r,s.extractedUrl,i,o).pipe(z(({state:a,tree:u})=>ae(C({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function cO(t,e){return we(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let c of KI(u))s.add(c);let a=0;return fe(s).pipe(ir(u=>o.has(u)?lO(u,r,t,e):(u.data=Ep(u,u.parent,t).resolve,O(void 0))),Fe(()=>a++),Yr(1),we(u=>a===s.size?O(n):ct))})}function KI(t){let e=t.children.map(n=>KI(n)).flat();return[t,...e]}function lO(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!BI(i)&&(o[is]=i.title),dO(o,t,e,r).pipe(z(s=>(t._resolvedData=s,t.data=Ep(t,t.parent,n).resolve,null)))}function dO(t,e,n,r){let i=Yf(t);if(i.length===0)return O({});let o={};return fe(i).pipe(we(s=>hO(t[s],e,n,r).pipe(zt(),Fe(a=>{o[s]=a}))),Yr(1),md(o),xn(s=>zI(s)?ct:Wr(s)))}function hO(t,e,n,r){let i=as(e)??r,o=xi(t,i),s=o.resolve?o.resolve(e,n):vn(i,()=>o(e,n));return zn(s)}function Kf(t){return vt(e=>{let n=t(e);return n?fe(n).pipe(z(()=>e)):O(e)})}var QI=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===j);return i}getResolvedTitleForRoute(r){return r.data[is]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>_(fO),providedIn:"root"});let t=e;return t})(),fO=(()=>{let e=class e extends QI{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(N(QE))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cs=new P("",{providedIn:"root",factory:()=>({})}),wc=new P(""),Tp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(Ku)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return O(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=zn(r.loadComponent()).pipe(z(YI),Fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),po(()=>{this.componentLoaders.delete(r)})),o=new Gr(i,()=>new $e).pipe(zr());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=pO(i,this.compiler,r,this.onLoadEndListener).pipe(po(()=>{this.childrenLoaders.delete(i)})),a=new Gr(s,()=>new $e).pipe(zr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pO(t,e,n,r){return zn(t.loadChildren()).pipe(z(YI),we(i=>i instanceof bo||Array.isArray(i)?O(i):fe(e.compileModuleAsync(i))),z(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(wc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Cp),injector:o}}))}function gO(t){return t&&typeof t=="object"&&"default"in t}function YI(t){return gO(t)?t.default:t}var Sp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>_(mO),providedIn:"root"});let t=e;return t})(),mO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZI=new P(""),XI=new P("");function yO(t,e,n){let r=t.get(XI),i=t.get(at);return t.get(de).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),vO(t))),{onViewTransitionCreated:u}=r;return u&&vn(t,()=>u({transition:a,from:e,to:n})),s})}function vO(t){return new Promise(e=>{sf(e,{injector:t})})}var Ap=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $e,this.transitionAbortSubject=new $e,this.configLoader=_(Tp),this.environmentInjector=_(lt),this.urlSerializer=_(os),this.rootContexts=_(ss),this.location=_(Un),this.inputBindingEnabled=_(Ic,{optional:!0})!==null,this.titleStrategy=_(QI),this.options=_(cs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(Sp),this.createViewTransition=_(ZI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let r=o=>this.events.next(new ip(o)),i=o=>this.events.next(new op(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ae(C(C({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ke({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ko,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yt(s=>s.id!==0),z(s=>ae(C({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),vt(s=>{let a=!1,u=!1;return O(s).pipe(vt(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ht.SupersededByNewNavigation),ct;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ae(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new qn(c.id,this.urlSerializer.serialize(c.rawUrl),h,hc.IgnoredSameUrlNavigation)),c.resolve(null),ct}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return O(c).pipe(vt(h=>{let f=this.transitions?.getValue();return this.events.next(new Si(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ct:Promise.resolve(h)}),uO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ae(C({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new fc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:I,extras:E}=c,x=new Si(h,this.urlSerializer.serialize(f),p,I);this.events.next(x);let ce=LI(this.rootComponentType).snapshot;return this.currentTransition=s=ae(C({},c),{targetSnapshot:ce,urlAfterRedirects:f,extras:ae(C({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(s)}else{let h="";return this.events.next(new qn(c.id,this.urlSerializer.serialize(c.extractedUrl),h,hc.IgnoredByUrlHandlingStrategy)),c.resolve(null),ct}}),Fe(c=>{let l=new ep(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),z(c=>(this.currentTransition=s=ae(C({},c),{guards:TP(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),FP(this.environmentInjector,c=>this.events.next(c)),Fe(c=>{if(s.guardsResult=c.guardsResult,Ti(c.guardsResult))throw $I(this.urlSerializer,c.guardsResult);let l=new tp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),yt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ht.GuardRejected),!1)),Kf(c=>{if(c.guards.canActivateChecks.length)return O(c).pipe(Fe(l=>{let d=new np(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),vt(l=>{let d=!1;return O(l).pipe(cO(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",ht.NoDataFromResolver)}}))}),Fe(l=>{let d=new rp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Kf(c=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Fe(f=>{d.component=f}),z(()=>{})));for(let f of d.children)h.push(...l(f));return h};return fo(l(c.targetSnapshot.root)).pipe(Mn(null),mn(1))}),Kf(()=>this.afterPreactivation()),vt(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?fe(d).pipe(z(()=>s)):O(s)}),z(c=>{let l=vP(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=ae(C({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Fe(()=>{this.events.next(new Jo)}),bP(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),mn(1),Fe({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),wd(this.transitionAbortSubject.pipe(Fe(c=>{throw c}))),po(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",ht.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),xn(c=>{if(u=!0,qI(c))this.events.next(new Hn(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),EP(c)?this.events.next(new es(c.url)):s.resolve(!1);else{this.events.next(new Xo(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return ct}))}))}cancelNavigationTransition(r,i,o){let s=new Hn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _O(t){return t!==Ko}var wO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>_(EO),providedIn:"root"});let t=e;return t})(),wp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},EO=(()=>{let e=class e extends wp{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ro(e)))(o||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>_(IO),providedIn:"root"});let t=e;return t})(),IO=(()=>{let e=class e extends JI{constructor(){super(...arguments),this.location=_(Un),this.urlSerializer=_(os),this.options=_(cs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(Sp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $n,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=LI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Si)this.stateMemento=this.createStateMemento();else if(r instanceof qn)this.rawUrlTree=i.initialUrl;else if(r instanceof fc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Jo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Hn&&(r.code===ht.GuardRejected||r.code===ht.NoDataFromResolver)?this.restoreHistory(i):r instanceof Xo?this.restoreHistory(i,!0):r instanceof nn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=C(C({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=C(C({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ro(e)))(o||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Go=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Go||{});function eD(t,e){t.events.pipe(yt(n=>n instanceof nn||n instanceof Hn||n instanceof Xo||n instanceof qn),z(n=>n instanceof nn||n instanceof qn?Go.COMPLETE:(n instanceof Hn?n.code===ht.Redirect||n.code===ht.SupersededByNewNavigation:!1)?Go.REDIRECTING:Go.FAILED),yt(n=>n!==Go.REDIRECTING),mn(1)).subscribe(()=>{e()})}function DO(t){throw t}var CO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},on=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=_(qu),this.stateManager=_(JI),this.options=_(cs,{optional:!0})||{},this.pendingTasks=_(Uu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(Ap),this.urlSerializer=_(os),this.location=_(Un),this.urlHandlingStrategy=_(Sp),this._events=new $e,this.errorHandler=this.options.errorHandler||DO,this.navigated=!1,this.routeReuseStrategy=_(wO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(wc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(Ic,{optional:!0}),this.eventsSubscription=new Ae,this.isNgZoneEnabled=_(de)instanceof de&&de.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Hn&&i.code!==ht.Redirect&&i.code!==ht.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof nn)this.navigated=!0;else if(i instanceof es){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||_O(o.source)};this.scheduleNavigation(a,Ko,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}SO(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ko,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=C({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Cp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a,d=null;switch(u){case"merge":d=C(C({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=OI(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return kI(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ti(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ko,null,i)}navigate(r,i={skipLocationChange:!1}){return TO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=C({},CO):i===!1?o=C({},bO):o=i,Ti(r))return mI(this.currentUrlTree,r,o);let s=this.parseUrl(r);return mI(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,f)=>{u=h,c=f});let d=this.pendingTasks.add();return eD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new S(4008,!1)}function SO(t){return!(t instanceof Jo)&&!(t instanceof es)}var Gn=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new $e,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof nn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Rw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(U(on),U(kt),Uh("tabindex"),U(mr),U(jn),U(Cn))},e.\u0275dir=It({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Oo("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&$u("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Xe.HasDecoratorInputTransform,"preserveFragment","preserveFragment",_r],skipLocationChange:[Xe.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",_r],replaceUrl:[Xe.HasDecoratorInputTransform,"replaceUrl","replaceUrl",_r],routerLink:"routerLink"},standalone:!0,features:[uf,gr]});let t=e;return t})();var Ec=class{};var AO=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(yt(r=>r instanceof nn),ir(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Bu(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return fe(o).pipe(Kr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=O(null);let s=o.pipe(we(a=>a===null?O(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return fe([s,a]).pipe(Kr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(N(on),N(Ku),N(lt),N(Ec),N(Tp))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tD=new P(""),xO=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Si?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof nn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof qn&&r.code===hc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof pc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Hw()},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function MO(t){return t.routerState.root}function ls(t,e){return{\u0275kind:t,\u0275providers:e}}function RO(){let t=_(Pt);return e=>{let n=t.get(yi);if(e!==n.components[0])return;let r=t.get(on),i=t.get(nD);t.get(xp)===1&&r.initialNavigation(),t.get(rD,null,$.Optional)?.setUpPreloading(),t.get(tD,null,$.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var nD=new P("",{factory:()=>new $e}),xp=new P("",{providedIn:"root",factory:()=>1});function NO(){return ls(2,[{provide:xp,useValue:0},{provide:Wu,multi:!0,deps:[Pt],useFactory:e=>{let n=e.get(PE,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(on),o=e.get(nD);eD(i,()=>{r(!0)}),e.get(Ap).afterPreactivation=()=>(r(!0),o.closed?O(void 0):o),i.initialNavigation()}))}}])}function PO(){return ls(3,[{provide:Wu,multi:!0,useFactory:()=>{let e=_(on);return()=>{e.setUpLocationChangeListener()}}},{provide:xp,useValue:2}])}var rD=new P("");function OO(t){return ls(0,[{provide:rD,useExisting:AO},{provide:Ec,useExisting:t}])}function kO(){return ls(8,[wI,{provide:Ic,useExisting:wI}])}function FO(t){let e=[{provide:ZI,useValue:yO},{provide:XI,useValue:C({skipNextTransition:!!t?.skipInitialTransition},t)}];return ls(9,e)}var II=new P("ROUTER_FORROOT_GUARD"),VO=[Un,{provide:os,useClass:Yo},on,ss,{provide:kt,useFactory:MO,deps:[on]},Tp,[]],Mp=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[VO,[],{provide:wc,multi:!0,useValue:r},{provide:II,useFactory:UO,deps:[[on,new Du,new bh]]},{provide:cs,useValue:i||{}},i?.useHash?jO():BO(),LO(),i?.preloadingStrategy?OO(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?$O(i):[],i?.bindToComponentInputs?kO().\u0275providers:[],i?.enableViewTransitions?FO().\u0275providers:[],HO()]}}static forChild(r){return{ngModule:e,providers:[{provide:wc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(N(II,8))},e.\u0275mod=it({type:e}),e.\u0275inj=rt({});let t=e;return t})();function LO(){return{provide:tD,useFactory:()=>{let t=_(jE),e=_(de),n=_(cs),r=_(Ap),i=_(os);return n.scrollOffset&&t.setOffset(n.scrollOffset),new xO(i,r,t,e,n)}}}function jO(){return{provide:Cn,useClass:kE}}function BO(){return{provide:Cn,useClass:Af}}function UO(t){return"guarded"}function $O(t){return[t.initialNavigation==="disabled"?PO().\u0275providers:[],t.initialNavigation==="enabledBlocking"?NO().\u0275providers:[]]}var DI=new P("");function HO(){return[{provide:DI,useFactory:RO},{provide:yf,multi:!0,useExisting:DI}]}var hs=(()=>{let e=class e{constructor(){this.messages=[]}add(r){this.messages.push(r)}clear(){this.messages=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mi=(()=>{let e=class e{constructor(r){this.messageService=r}};e.\u0275fac=function(i){return new(i||e)(N(hs))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qO(t,e){if(t&1){let n=fE();T(0,"div")(1,"h2"),M(2),b(),T(3,"div"),M(4),b(),T(5,"div")(6,"label",1),M(7,"Project: "),b(),T(8,"input",2),ff("ngModelChange",function(i){J_(n);let o=lf();return gE(o.project.name,i)||(o.project.name=i),ew(i)}),b()()()}if(t&2){let n=lf();ge(2),Jt("",n.project.name," Details:"),ge(2),Jt("id: ",n.project.id,""),ge(4),hf("ngModel",n.project.name)}}var iD=(()=>{let e=class e{constructor(r,i,o){this.route=r,this.projectService=i,this.location=o}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(U(kt),U(Mi),U(Un))},e.\u0275cmp=qe({type:e,selectors:[["app-project-detail"]],inputs:{project:"project"},standalone:!0,features:[mi],decls:1,vars:1,consts:[[4,"ngIf"],["for","project-name"],["id","project-name","placeholder","name",3,"ngModelChange","ngModel"]],template:function(i,o){i&1&&En(0,qO,9,3,"div",0),i&2&&In("ngIf",o.project)},dependencies:[VE,wi,rc,fI,qf]});let t=e;return t})();var sD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},aD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;u||(f=64,s||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new Pp;let h=o<<2|a>>4;if(r.push(h),c!==64){let f=a<<4&240|c>>2;if(r.push(f),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Pp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},GO=function(t){let e=sD(t);return aD.encodeByteArray(e,!0)},fs=function(t){return GO(t).replace(/\./g,"")},WO=function(t){try{return aD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function KO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var QO=()=>KO().__FIREBASE_DEFAULTS__,YO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&WO(t[1]);return e&&JSON.parse(e)},Op=()=>{try{return QO()||YO()||ZO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XO=t=>{var e,n;return(n=(e=Op())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bc=t=>{let e=XO(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kp=()=>{var t;return(t=Op())===null||t===void 0?void 0:t.config};var Cc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Tc(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fs(JSON.stringify(n)),fs(JSON.stringify(s)),""].join(".")}function gs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JO(){var t;let e=(t=Op())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uD(){return!JO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sc(){try{return typeof indexedDB=="object"}catch{return!1}}function cD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var e1="FirebaseError",Ft=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=e1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ps.prototype.create)}},ps=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?t1(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ft(i,a,r)}};function t1(t,e){return t.replace(n1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var n1=/\{\$([^}]+)}/g;function ms(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(oD(o)&&oD(s)){if(!ms(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function oD(t){return t!==null&&typeof t=="object"}var aq=4*60*60*1e3;function Vt(t){return t&&t._delegate?t._delegate:t}var Lt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ir="[DEFAULT]";var Fp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Cc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i1(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ir){return this.instances.has(e)}getOptions(e=Ir){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ir){return this.component?this.component.multipleInstances?e:Ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function r1(t){return t===Ir?void 0:t}function i1(t){return t.instantiationMode==="EAGER"}var Ac=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Fp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var o1=[],X=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(X||{}),s1={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},a1=X.INFO,u1={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},c1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=u1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ri=class{constructor(e){this.name=e,this._logLevel=a1,this._logHandler=c1,this._userLogHandler=null,o1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}};var l1=(t,e)=>e.some(n=>t instanceof n),lD,dD;function d1(){return lD||(lD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h1(){return dD||(dD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hD=new WeakMap,Lp=new WeakMap,fD=new WeakMap,Vp=new WeakMap,Bp=new WeakMap;function f1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(sn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&hD.set(n,t)}).catch(()=>{}),Bp.set(e,t),e}function p1(t){if(Lp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Lp.set(t,e)}var jp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pD(t){jp=t(jp)}function g1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(xc(this),e,...n);return fD.set(r,e.sort?e.sort():[e]),sn(r)}:h1().includes(t)?function(...e){return t.apply(xc(this),e),sn(hD.get(this))}:function(...e){return sn(t.apply(xc(this),e))}}function m1(t){return typeof t=="function"?g1(t):(t instanceof IDBTransaction&&p1(t),l1(t,d1())?new Proxy(t,jp):t)}function sn(t){if(t instanceof IDBRequest)return f1(t);if(Vp.has(t))return Vp.get(t);let e=m1(t);return e!==t&&(Vp.set(t,e),Bp.set(e,t)),e}var xc=t=>Bp.get(t);function mD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=sn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(sn(s.result),u.oldVersion,u.newVersion,sn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var y1=["get","getKey","getAll","getAllKeys","count"],v1=["put","add","delete","clear"],Up=new Map;function gD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Up.get(e))return Up.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=v1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||y1.includes(n)))return;let o=function(s,...a){return y(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&u.done]))[0]})};return Up.set(e,o),o}pD(t=>ae(C({},t),{get:(e,n,r)=>gD(e,n)||t.get(e,n,r),has:(e,n)=>!!gD(e,n)||t.has(e,n)}));var Hp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function _1(t){let e=t.getComponent();return e?.type==="VERSION"}var qp="@firebase/app",yD="0.9.29";var Dr=new Ri("@firebase/app"),w1="@firebase/app-compat",E1="@firebase/analytics-compat",I1="@firebase/analytics",D1="@firebase/app-check-compat",C1="@firebase/app-check",b1="@firebase/auth",T1="@firebase/auth-compat",S1="@firebase/database",A1="@firebase/database-compat",x1="@firebase/functions",M1="@firebase/functions-compat",R1="@firebase/installations",N1="@firebase/installations-compat",P1="@firebase/messaging",O1="@firebase/messaging-compat",k1="@firebase/performance",F1="@firebase/performance-compat",V1="@firebase/remote-config",L1="@firebase/remote-config-compat",j1="@firebase/storage",B1="@firebase/storage-compat",U1="@firebase/firestore",$1="@firebase/firestore-compat",H1="firebase",q1="10.9.0";var zp="[DEFAULT]",z1={[qp]:"fire-core",[w1]:"fire-core-compat",[I1]:"fire-analytics",[E1]:"fire-analytics-compat",[C1]:"fire-app-check",[D1]:"fire-app-check-compat",[b1]:"fire-auth",[T1]:"fire-auth-compat",[S1]:"fire-rtdb",[A1]:"fire-rtdb-compat",[x1]:"fire-fn",[M1]:"fire-fn-compat",[R1]:"fire-iid",[N1]:"fire-iid-compat",[P1]:"fire-fcm",[O1]:"fire-fcm-compat",[k1]:"fire-perf",[F1]:"fire-perf-compat",[V1]:"fire-rc",[L1]:"fire-rc-compat",[j1]:"fire-gcs",[B1]:"fire-gcs-compat",[U1]:"fire-fst",[$1]:"fire-fst-compat","fire-js":"fire-js",[H1]:"fire-js-all"};var Mc=new Map,Gp=new Map;function G1(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cr(t){let e=t.name;if(Gp.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Gp.set(e,t);for(let n of Mc.values())G1(n,t);return!0}function Rc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var W1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wn=new ps("app","Firebase",W1);var Wp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}};var Nc=q1;function Yp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wn.create("bad-app-name",{appName:String(i)});if(n||(n=kp()),!n)throw Wn.create("no-options");let o=Mc.get(i);if(o){if(ms(n,o.options)&&ms(r,o.config))return o;throw Wn.create("duplicate-app",{appName:i})}let s=new Ac(i);for(let u of Gp.values())s.addComponent(u);let a=new Wp(n,r,s);return Mc.set(i,a),a}function Pc(t=zp){let e=Mc.get(t);if(!e&&t===zp&&kp())return Yp();if(!e)throw Wn.create("no-app",{appName:t});return e}function jt(t,e,n){var r;let i=(r=z1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(a.join(" "));return}Cr(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var K1="firebase-heartbeat-database",Q1=1,ys="firebase-heartbeat-store",$p=null;function ED(){return $p||($p=mD(K1,Q1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ys)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wn.create("idb-open",{originalErrorMessage:t.message})})),$p}function Y1(t){return y(this,null,function*(){try{let n=(yield ED()).transaction(ys),r=yield n.objectStore(ys).get(ID(t));return yield n.done,r}catch(e){if(e instanceof Ft)Dr.warn(e.message);else{let n=Wn.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(n.message)}}})}function vD(t,e){return y(this,null,function*(){try{let r=(yield ED()).transaction(ys,"readwrite");yield r.objectStore(ys).put(e,ID(t)),yield r.done}catch(n){if(n instanceof Ft)Dr.warn(n.message);else{let r=Wn.create("idb-set",{originalErrorMessage:n?.message});Dr.warn(r.message)}}})}function ID(t){return`${t.name}!${t.options.appId}`}var Z1=1024,X1=30*24*60*60*1e3,Kp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Qp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_D();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=X1}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return y(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=_D(),{heartbeatsToSend:r,unsentEntries:i}=J1(this._heartbeatsCache.heartbeats),o=fs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function _D(){return new Date().toISOString().substring(0,10)}function J1(t,e=Z1){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),wD(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Qp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return Sc()?cD().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Y1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function wD(t){return fs(JSON.stringify({version:2,heartbeats:t})).length}function ek(t){Cr(new Lt("platform-logger",e=>new Hp(e),"PRIVATE")),Cr(new Lt("heartbeat",e=>new Kp(e),"PRIVATE")),jt(qp,yD,t),jt(qp,yD,"esm2017"),jt("fire-js","")}ek("");var tk="firebase",nk="10.9.0";jt(tk,nk,"app");var rk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ut={},v,vg=vg||{},F=rk||self;function Wc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Rs(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ik(t){return Object.prototype.hasOwnProperty.call(t,Zp)&&t[Zp]||(t[Zp]=++ok)}var Zp="closure_uid_"+(1e9*Math.random()>>>0),ok=0;function sk(t,e,n){return t.call.apply(t.bind,arguments)}function ak(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ze(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ze=sk:ze=ak,ze.apply(null,arguments)}function Oc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ne(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Kn(){this.s=this.s,this.o=this.o}var uk=0;Kn.prototype.s=!1;Kn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),uk!=0)&&ik(this)};Kn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var kD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function _g(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function DD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Wc(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Ge(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var ck=function(){if(!F.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};F.addEventListener("test",n,e),F.removeEventListener("test",n,e)}catch{}return t}();function Ds(t){return/^[\s\xa0]*$/.test(t)}function Kc(){var t=F.navigator;return t&&(t=t.userAgent)?t:""}function an(t){return Kc().indexOf(t)!=-1}function wg(t){return wg[" "](t),t}wg[" "]=function(){};function lk(t,e){var n=Xk;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var dk=an("Opera"),ki=an("Trident")||an("MSIE"),FD=an("Edge"),ng=FD||ki,VD=an("Gecko")&&!(Kc().toLowerCase().indexOf("webkit")!=-1&&!an("Edge"))&&!(an("Trident")||an("MSIE"))&&!an("Edge"),hk=Kc().toLowerCase().indexOf("webkit")!=-1&&!an("Edge");function LD(){var t=F.document;return t?t.documentMode:void 0}var rg;e:{if(kc="",Fc=function(){var t=Kc();if(VD)return/rv:([^\);]+)(\)|;)/.exec(t);if(FD)return/Edge\/([\d\.]+)/.exec(t);if(ki)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(hk)return/WebKit\/(\S+)/.exec(t);if(dk)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Fc&&(kc=Fc?Fc[1]:""),ki&&(Vc=LD(),Vc!=null&&Vc>parseFloat(kc))){rg=String(Vc);break e}rg=kc}var kc,Fc,Vc,ig;F.document&&ki?(Xp=LD(),ig=Xp||parseInt(rg,10)||void 0):ig=void 0;var Xp,fk=ig;function Cs(t,e){if(Ge.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(VD){e:{try{wg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:pk[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Cs.$.h.call(this)}}Ne(Cs,Ge);var pk={2:"touch",3:"pen",4:"mouse"};Cs.prototype.h=function(){Cs.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ns="closure_listenable_"+(1e6*Math.random()|0),gk=0;function mk(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++gk,this.fa=this.ia=!1}function Qc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Eg(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function yk(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function jD(t){let e={};for(let n in t)e[n]=t[n];return e}var CD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<CD.length;o++)n=CD[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Yc(t){this.src=t,this.g={},this.h=0}Yc.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=sg(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new mk(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function og(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=kD(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Qc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function sg(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Ig="closure_lm_"+(1e6*Math.random()|0),Jp={};function UD(t,e,n,r,i){if(r&&r.once)return HD(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)UD(t,e[o],n,r,i);return null}return n=bg(n),t&&t[Ns]?t.O(e,n,Rs(r)?!!r.capture:!!r,i):$D(t,e,n,!1,r,i)}function $D(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Rs(i)?!!i.capture:!!i,a=Cg(t);if(a||(t[Ig]=a=new Yc(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=vk(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ck||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(zD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function vk(){function t(n){return e.call(t.src,t.listener,n)}let e=_k;return t}function HD(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)HD(t,e[o],n,r,i);return null}return n=bg(n),t&&t[Ns]?t.P(e,n,Rs(r)?!!r.capture:!!r,i):$D(t,e,n,!0,r,i)}function qD(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)qD(t,e[o],n,r,i);else r=Rs(r)?!!r.capture:!!r,n=bg(n),t&&t[Ns]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=sg(o,n,r,i),-1<n&&(Qc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Cg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sg(e,n,r,i)),(n=-1<t?e[t]:null)&&Dg(n))}function Dg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ns])og(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(zD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Cg(e))?(og(n,t),n.h==0&&(n.src=null,e[Ig]=null)):Qc(t)}}}function zD(t){return t in Jp?Jp[t]:Jp[t]="on"+t}function _k(t,e){if(t.fa)t=!0;else{e=new Cs(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Dg(t),t=n.call(r,e)}return t}function Cg(t){return t=t[Ig],t instanceof Yc?t:null}var eg="__closure_events_fn_"+(1e9*Math.random()>>>0);function bg(t){return typeof t=="function"?t:(t[eg]||(t[eg]=function(e){return t.handleEvent(e)}),t[eg])}function Re(){Kn.call(this),this.i=new Yc(this),this.S=this,this.J=null}Ne(Re,Kn);Re.prototype[Ns]=!0;Re.prototype.removeEventListener=function(t,e,n,r){qD(this,t,e,n,r)};function je(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ge(e,t);else if(e instanceof Ge)e.target=e.target||t;else{var i=e;e=new Ge(r,t),BD(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Lc(s,r,!0,e)&&i}if(s=e.g=t,i=Lc(s,r,!0,e)&&i,i=Lc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Lc(s,r,!1,e)&&i}Re.prototype.N=function(){if(Re.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qc(n[r]);delete t.g[e],t.h--}}this.J=null};Re.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Re.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Lc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&og(t.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Tg=F.JSON.stringify,ag=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function wk(){var t=Sg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ug=class{constructor(){this.h=this.g=null}add(e,n){let r=GD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},GD=new ag(()=>new cg,t=>t.reset()),cg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Ek(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ik(t){F.setTimeout(()=>{throw t},0)}var bs,Ts=!1,Sg=new ug,WD=()=>{let t=F.Promise.resolve(void 0);bs=()=>{t.then(Dk)}},Dk=()=>{for(var t;t=wk();){try{t.h.call(t.g)}catch(n){Ik(n)}var e=GD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ts=!1};function Zc(t,e){Re.call(this),this.h=t||1,this.g=e||F,this.j=ze(this.qb,this),this.l=Date.now()}Ne(Zc,Re);v=Zc.prototype;v.ga=!1;v.T=null;v.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),je(this,"tick"),this.ga&&(Ag(this),this.start()))}};v.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ag(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}v.N=function(){Zc.$.N.call(this),Ag(this),delete this.g};function xg(t,e,n){if(typeof t=="function")n&&(t=ze(t,n));else if(t&&typeof t.handleEvent=="function")t=ze(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:F.setTimeout(t,e||0)}function KD(t){t.g=xg(()=>{t.g=null,t.i&&(t.i=!1,KD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var lg=class extends Kn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KD(this)}N(){super.N(),this.g&&(F.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Ss(t){Kn.call(this),this.h=t,this.g={}}Ne(Ss,Kn);var bD=[];function QD(t,e,n,r){Array.isArray(n)||(n&&(bD[0]=n.toString()),n=bD);for(var i=0;i<n.length;i++){var o=UD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function YD(t){Eg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Dg(e)},t),t.g={}}Ss.prototype.N=function(){Ss.$.N.call(this),YD(this)};Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Xc(){this.g=!0}Xc.prototype.Ea=function(){this.g=!1};function Ck(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&d[1]=="type"?s+(l+"="+c+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function bk(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Pi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Sk(t,n)+(r?" "+r:"")})}function Tk(t,e){t.info(function(){return"TIMEOUT: "+e})}Xc.prototype.info=function(){};function Sk(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Tg(n)}catch{return e}}var Ar={},TD=null;function Jc(){return TD=TD||new Re}Ar.Ta="serverreachability";function ZD(t){Ge.call(this,Ar.Ta,t)}Ne(ZD,Ge);function As(t){let e=Jc();je(e,new ZD(e))}Ar.STAT_EVENT="statevent";function XD(t,e){Ge.call(this,Ar.STAT_EVENT,t),this.stat=e}Ne(XD,Ge);function et(t){let e=Jc();je(e,new XD(e,t))}Ar.Ua="timingevent";function JD(t,e){Ge.call(this,Ar.Ua,t),this.size=e}Ne(JD,Ge);function Ps(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return F.setTimeout(function(){t()},e)}var el={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},e0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mg(){}Mg.prototype.h=null;function SD(t){return t.h||(t.h=t.i())}function t0(){}var Os={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rg(){Ge.call(this,"d")}Ne(Rg,Ge);function Ng(){Ge.call(this,"c")}Ne(Ng,Ge);var dg;function tl(){}Ne(tl,Mg);tl.prototype.g=function(){return new XMLHttpRequest};tl.prototype.i=function(){return{}};dg=new tl;function ks(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ss(this),this.P=Ak,t=ng?125:void 0,this.V=new Zc(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new n0}function n0(){this.i=null,this.g="",this.h=!1}var Ak=45e3,r0={},hg={};v=ks.prototype;v.setTimeout=function(t){this.P=t};function fg(t,e,n){t.L=1,t.A=rl(Tn(e)),t.u=n,t.S=!0,i0(t,null)}function i0(t,e){t.G=Date.now(),Fs(t),t.B=Tn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),h0(n.i,"t",r),t.o=0,n=t.l.J,t.h=new n0,t.g=P0(t.l,n?e:null,!t.u),0<t.O&&(t.M=new lg(ze(t.Pa,t,t.g),t.O)),QD(t.U,t.g,"readystatechange",t.nb),e=t.I?jD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),As(),Ck(t.j,t.v,t.B,t.m,t.W,t.u)}v.nb=function(t){t=t.target;let e=this.M;e&&un(t)==3?e.l():this.Pa(t)};v.Pa=function(t){try{if(t==this.g)e:{let l=un(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||ng||this.g&&(this.h.h||this.g.ja()||RD(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?As(3):As(2)),nl(this);var n=this.g.da();this.ca=n;t:if(o0(this)){var r=RD(this.g);t="";var i=r.length,o=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){br(this),Is(this);var s="";break t}this.h.i=new F.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,bk(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ds(a)){var c=a;break t}}c=null}if(n=c)Pi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pg(this,n);else{this.i=!1,this.s=3,et(12),br(this),Is(this);break e}}this.S?(s0(this,l,s),ng&&this.i&&l==3&&(QD(this.U,this.V,"tick",this.mb),this.V.start())):(Pi(this.j,this.m,s,null),pg(this,s)),l==4&&br(this),this.i&&!this.J&&(l==4?x0(this.l,this):(this.i=!1,Fs(this)))}else Qk(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),br(this),Is(this)}}}catch{}finally{}};function o0(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function s0(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=xk(t,n),i==hg){e==4&&(t.s=4,et(14),r=!1),Pi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==r0){t.s=4,et(15),Pi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Pi(t.j,t.m,i,null),pg(t,i);o0(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,et(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lg(e),e.M=!0,et(11))):(Pi(t.j,t.m,n,"[Invalid Chunked Response]"),br(t),Is(t))}v.mb=function(){if(this.g){var t=un(this.g),e=this.g.ja();this.o<e.length&&(nl(this),s0(this,t,e),this.i&&t!=4&&Fs(this))}};function xk(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?hg:(n=Number(e.substring(n,r)),isNaN(n)?r0:(r+=1,r+n>e.length?hg:(e=e.slice(r,r+n),t.o=r+n,e)))}v.cancel=function(){this.J=!0,br(this)};function Fs(t){t.Y=Date.now()+t.P,a0(t,t.P)}function a0(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ps(ze(t.lb,t),e)}function nl(t){t.C&&(F.clearTimeout(t.C),t.C=null)}v.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Tk(this.j,this.B),this.L!=2&&(As(),et(17)),br(this),this.s=2,Is(this)):a0(this,this.Y-t)};function Is(t){t.l.H==0||t.J||x0(t.l,t)}function br(t){nl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ag(t.V),YD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function pg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||gg(n.i,t))){if(!t.K&&gg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Hc(n),sl(n);else break e;Vg(n),et(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ps(ze(n.ib,n),6e3));if(1>=g0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Tr(n,11)}else if((t.K||n.g==t)&&Hc(n),!Ds(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];let l=c[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Pg(o,o.h),o.h=null))}if(r.F){let I=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,he(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=N0(r,r.J?r.pa:null,r.Y),s.K){m0(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(nl(a),Fs(a)),r.g=s}else S0(r);0<n.j.length&&al(n)}else c[0]!="stop"&&c[0]!="close"||Tr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Tr(n,7):Fg(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}As(4)}catch{}}function Mk(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Wc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Rk(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function u0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Wc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Rk(t),r=Mk(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var c0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nk(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Sr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Sr){this.h=t.h,Uc(this,t.j),this.s=t.s,this.g=t.g,$c(this,t.m),this.l=t.l;var e=t.i,n=new xs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),AD(this,n),this.o=t.o}else t&&(e=String(t).match(c0))?(this.h=!1,Uc(this,e[1]||"",!0),this.s=ws(e[2]||""),this.g=ws(e[3]||"",!0),$c(this,e[4]),this.l=ws(e[5]||"",!0),AD(this,e[6]||"",!0),this.o=ws(e[7]||"")):(this.h=!1,this.i=new xs(null,this.h))}Sr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Es(e,xD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Es(e,xD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Es(n,n.charAt(0)=="/"?kk:Ok,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Es(n,Vk)),t.join("")};function Tn(t){return new Sr(t)}function Uc(t,e,n){t.j=n?ws(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $c(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function AD(t,e,n){e instanceof xs?(t.i=e,Lk(t.i,t.h)):(n||(e=Es(e,Fk)),t.i=new xs(e,t.h))}function he(t,e,n){t.i.set(e,n)}function rl(t){return he(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ws(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Es(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Pk),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Pk(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var xD=/[#\/\?@]/g,Ok=/[#\?:]/g,kk=/[#\?]/g,Fk=/[#\?@]/g,Vk=/#/g;function xs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qn(t){t.g||(t.g=new Map,t.h=0,t.i&&Nk(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}v=xs.prototype;v.add=function(t,e){Qn(this),this.i=null,t=Fi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function l0(t,e){Qn(t),e=Fi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function d0(t,e){return Qn(t),e=Fi(t,e),t.g.has(e)}v.forEach=function(t,e){Qn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};v.ta=function(){Qn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};v.Z=function(t){Qn(this);let e=[];if(typeof t=="string")d0(this,t)&&(e=e.concat(this.g.get(Fi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};v.set=function(t,e){return Qn(this),this.i=null,t=Fi(this,t),d0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};v.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function h0(t,e,n){l0(t,e),0<n.length&&(t.i=null,t.g.set(Fi(t,e),_g(n)),t.h+=n.length)}v.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Fi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Lk(t,e){e&&!t.j&&(Qn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(l0(this,r),h0(this,i,n))},t)),t.j=e}var jk=class{constructor(t,e){this.g=t,this.map=e}};function f0(t){this.l=t||Bk,F.PerformanceNavigationTiming?(t=F.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(F.g&&F.g.Ka&&F.g.Ka()&&F.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bk=10;function p0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function g0(t){return t.h?1:t.g?t.g.size:0}function gg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Pg(t,e){t.g?t.g.add(e):t.h=e}function m0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}f0.prototype.cancel=function(){if(this.i=y0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function y0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return _g(t.i)}var Uk=class{stringify(t){return F.JSON.stringify(t,void 0)}parse(t){return F.JSON.parse(t,void 0)}};function $k(){this.g=new Uk}function Hk(t,e,n){let r=n||"";try{u0(t,function(i,o){let s=i;Rs(i)&&(s=Tg(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function qk(t,e){let n=new Xc;if(F.Image){let r=new Image;r.onload=Oc(jc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Oc(jc,n,r,"TestLoadImage: error",!1,e),r.onabort=Oc(jc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Oc(jc,n,r,"TestLoadImage: timeout",!1,e),F.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function jc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Vs(t){this.l=t.ec||null,this.j=t.ob||!1}Ne(Vs,Mg);Vs.prototype.g=function(){return new il(this.l,this.j)};Vs.prototype.i=function(t){return function(){return t}}({});function il(t,e){Re.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Og,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ne(il,Re);var Og=0;v=il.prototype;v.open=function(t,e){if(this.readyState!=Og)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ms(this)};v.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||F).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};v.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=Og};v.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ms(this)),this.g&&(this.readyState=3,Ms(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof F.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;v0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function v0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}v.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ls(this):Ms(this),this.readyState==3&&v0(this)}};v.Za=function(t){this.g&&(this.response=this.responseText=t,Ls(this))};v.Ya=function(t){this.g&&(this.response=t,Ls(this))};v.ka=function(){this.g&&Ls(this)};function Ls(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ms(t)}v.setRequestHeader=function(t,e){this.v.append(t,e)};v.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};v.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ms(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var zk=F.JSON.parse;function me(t){Re.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_0,this.L=this.M=!1}Ne(me,Re);var _0="",Gk=/^https?$/i,Wk=["POST","PUT"];v=me.prototype;v.Oa=function(t){this.M=t};v.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dg.g(),this.C=this.u?SD(this.u):SD(dg),this.g.onreadystatechange=ze(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){MD(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=F.FormData&&t instanceof F.FormData,!(0<=kD(Wk,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{I0(this),0<this.B&&((this.L=Kk(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ze(this.ua,this)):this.A=xg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){MD(this,o)}};function Kk(t){return ki&&typeof t.timeout=="number"&&t.ontimeout!==void 0}v.ua=function(){typeof vg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))};function MD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,w0(t),ol(t)}function w0(t){t.F||(t.F=!0,je(t,"complete"),je(t,"error"))}v.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,je(this,"complete"),je(this,"abort"),ol(this))};v.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ol(this,!0)),me.$.N.call(this)};v.La=function(){this.s||(this.G||this.v||this.l?E0(this):this.kb())};v.kb=function(){E0(this)};function E0(t){if(t.h&&typeof vg<"u"&&(!t.C[1]||un(t)!=4||t.da()!=2)){if(t.v&&un(t)==4)xg(t.La,0,t);else if(je(t,"readystatechange"),un(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(c0)[1]||null;!i&&F.self&&F.self.location&&(i=F.self.location.protocol.slice(0,-1)),r=!Gk.test(i?i.toLowerCase():"")}n=r}if(n)je(t,"complete"),je(t,"success");else{t.m=6;try{var o=2<un(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",w0(t)}}finally{ol(t)}}}}function ol(t,e){if(t.g){I0(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||je(t,"ready");try{n.onreadystatechange=r}catch{}}}function I0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(F.clearTimeout(t.A),t.A=null)}v.isActive=function(){return!!this.g};function un(t){return t.g?t.g.readyState:0}v.da=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}};v.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};v.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),zk(e)}};function RD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Qk(t){let e={};t=(t.g&&2<=un(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ds(t[r]))continue;var n=Ek(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}yk(e,function(r){return r.join(", ")})}v.Ia=function(){return this.m};v.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function D0(t){let e="";return Eg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function kg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=D0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):he(t,e,n))}function vs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function C0(t){this.Ga=0,this.j=[],this.l=new Xc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vs("baseRetryDelayMs",5e3,t),this.hb=vs("retryDelaySeedMs",1e4,t),this.eb=vs("forwardChannelMaxRetries",2,t),this.xa=vs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new f0(t&&t.concurrentRequestLimit),this.Ja=new $k,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}v=C0.prototype;v.ra=8;v.H=1;function Fg(t){if(b0(t),t.H==3){var e=t.W++,n=Tn(t.I);if(he(n,"SID",t.K),he(n,"RID",e),he(n,"TYPE","terminate"),js(t,n),e=new ks(t,t.l,e),e.L=2,e.A=rl(Tn(n)),n=!1,F.navigator&&F.navigator.sendBeacon)try{n=F.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&F.Image&&(new Image().src=e.A,n=!0),n||(e.g=P0(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Fs(e)}R0(t)}function sl(t){t.g&&(Lg(t),t.g.cancel(),t.g=null)}function b0(t){sl(t),t.u&&(F.clearTimeout(t.u),t.u=null),Hc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&F.clearTimeout(t.m),t.m=null)}function al(t){if(!p0(t.i)&&!t.m){t.m=!0;var e=t.Na;bs||WD(),Ts||(bs(),Ts=!0),Sg.add(e,t),t.C=0}}function Yk(t,e){return g0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ps(ze(t.Na,t,e),M0(t,t.C)),t.C++,!0)}v.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new ks(this,this.l,t),o=this.s;if(this.U&&(o?(o=jD(o),BD(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=T0(this,i,e),n=Tn(this.I),he(n,"RID",t),he(n,"CVER",22),this.F&&he(n,"X-HTTP-Session-Id",this.F),js(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(D0(o)))+"&"+e:this.o&&kg(n,this.o,o)),Pg(this.i,i),this.bb&&he(n,"TYPE","init"),this.P?(he(n,"$req",e),he(n,"SID","null"),i.aa=!0,fg(i,n,null)):fg(i,n,e),this.H=2}}else this.H==3&&(t?ND(this,t):this.j.length==0||p0(this.i)||ND(this))};function ND(t,e){var n;e?n=e.m:n=t.W++;let r=Tn(t.I);he(r,"SID",t.K),he(r,"RID",n),he(r,"AID",t.V),js(t,r),t.o&&t.s&&kg(r,t.o,t.s),n=new ks(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=T0(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Pg(t.i,n),fg(n,r,e)}function js(t,e){t.na&&Eg(t.na,function(n,r){he(e,r,n)}),t.h&&u0({},function(n,r){he(e,r,n)})}function T0(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ze(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].g,l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{Hk(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function S0(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;bs||WD(),Ts||(bs(),Ts=!0),Sg.add(e,t),t.A=0}}function Vg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ps(ze(t.Ma,t),M0(t,t.A)),t.A++,!0)}v.Ma=function(){if(this.u=null,A0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ps(ze(this.jb,this),t)}};v.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,et(10),sl(this),A0(this))};function Lg(t){t.B!=null&&(F.clearTimeout(t.B),t.B=null)}function A0(t){t.g=new ks(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Tn(t.wa);he(e,"RID","rpc"),he(e,"SID",t.K),he(e,"AID",t.V),he(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&he(e,"TO",t.qa),he(e,"TYPE","xmlhttp"),js(t,e),t.o&&t.s&&kg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=rl(Tn(e)),n.u=null,n.S=!0,i0(n,t)}v.ib=function(){this.v!=null&&(this.v=null,sl(this),Vg(this),et(19))};function Hc(t){t.v!=null&&(F.clearTimeout(t.v),t.v=null)}function x0(t,e){var n=null;if(t.g==e){Hc(t),Lg(t),t.g=null;var r=2}else if(gg(t.i,e))n=e.F,m0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Jc(),je(r,new JD(r,n)),al(t)}else S0(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Yk(t,e)||r==2&&Vg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Tr(t,5);break;case 4:Tr(t,10);break;case 3:Tr(t,6);break;default:Tr(t,2)}}}function M0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Tr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ze(t.pb,t);n||(n=new Sr("//www.google.com/images/cleardot.gif"),F.location&&F.location.protocol=="http"||Uc(n,"https"),rl(n)),qk(n.toString(),r)}else et(2);t.H=0,t.h&&t.h.za(e),R0(t),b0(t)}v.pb=function(t){t?(this.l.info("Successfully pinged google.com"),et(2)):(this.l.info("Failed to ping google.com"),et(1))};function R0(t){if(t.H=0,t.ma=[],t.h){let e=y0(t.i);(e.length!=0||t.j.length!=0)&&(DD(t.ma,e),DD(t.ma,t.j),t.i.i.length=0,_g(t.j),t.j.length=0),t.h.ya()}}function N0(t,e,n){var r=n instanceof Sr?Tn(n):new Sr(n);if(r.g!="")e&&(r.g=e+"."+r.g),$c(r,r.m);else{var i=F.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Sr(null);r&&Uc(o,r),e&&(o.g=e),i&&$c(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&he(r,n,e),he(r,"VER",t.ra),js(t,r),r}function P0(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new me(new Vs({ob:n})):new me(t.va),e.Oa(t.J),e}v.isActive=function(){return!!this.h&&this.h.isActive(this)};function O0(){}v=O0.prototype;v.Ba=function(){};v.Aa=function(){};v.za=function(){};v.ya=function(){};v.isActive=function(){return!0};v.Va=function(){};function qc(){if(ki&&!(10<=Number(fk)))throw Error("Environmental error: no available transport.")}qc.prototype.g=function(t,e){return new ft(t,e)};function ft(t,e){Re.call(this),this.g=new C0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ds(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ds(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Vi(this)}Ne(ft,Re);ft.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;et(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=N0(t,null,t.Y),al(t)};ft.prototype.close=function(){Fg(this.g)};ft.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Tg(t),t=n);e.j.push(new jk(e.fb++,t)),e.H==3&&al(e)};ft.prototype.N=function(){this.g.h=null,delete this.j,Fg(this.g),delete this.g,ft.$.N.call(this)};function k0(t){Rg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ne(k0,Rg);function F0(){Ng.call(this),this.status=1}Ne(F0,Ng);function Vi(t){this.g=t}Ne(Vi,O0);Vi.prototype.Ba=function(){je(this.g,"a")};Vi.prototype.Aa=function(t){je(this.g,new k0(t))};Vi.prototype.za=function(t){je(this.g,new F0)};Vi.prototype.ya=function(){je(this.g,"b")};function Zk(){this.blockSize=-1}function Bt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ne(Bt,Zk);Bt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function tg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Bt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)tg(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){tg(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){tg(this,r),i=0;break}}this.h=i,this.i+=e};Bt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function se(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var Xk={};function jg(t){return-128<=t&&128>t?lk(t,function(e){return new se([e|0],0>e?-1:0)}):new se([t|0],0>t?-1:0)}function cn(t){if(isNaN(t)||!isFinite(t))return Oi;if(0>t)return Le(cn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=mg;return new se(e,0)}function V0(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Le(V0(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=cn(Math.pow(e,8)),r=Oi,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=cn(Math.pow(e,o)),r=r.R(o).add(cn(s))):(r=r.R(n),r=r.add(cn(s)))}return r}var mg=4294967296,Oi=jg(0),yg=jg(1),PD=jg(16777216);v=se.prototype;v.ea=function(){if(bt(this))return-Le(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:mg+r)*e,e*=mg}return t};v.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(bn(this))return"0";if(bt(this))return"-"+Le(this).toString(t);for(var e=cn(Math.pow(t,6)),n=this,r="";;){var i=Gc(n,e).g;n=zc(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,bn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};v.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function bn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function bt(t){return t.h==-1}v.X=function(t){return t=zc(this,t),bt(t)?-1:bn(t)?0:1};function Le(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new se(n,~t.h).add(yg)}v.abs=function(){return bt(this)?Le(this):this};v.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new se(n,n[n.length-1]&-2147483648?-1:0)};function zc(t,e){return t.add(Le(e))}v.R=function(t){if(bn(this)||bn(t))return Oi;if(bt(this))return bt(t)?Le(this).R(Le(t)):Le(Le(this).R(t));if(bt(t))return Le(this.R(Le(t)));if(0>this.X(PD)&&0>t.X(PD))return cn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=s*u,Bc(n,2*r+2*i),n[2*r+2*i+1]+=o*u,Bc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Bc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Bc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new se(n,0)};function Bc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _s(t,e){this.g=t,this.h=e}function Gc(t,e){if(bn(e))throw Error("division by zero");if(bn(t))return new _s(Oi,Oi);if(bt(t))return e=Gc(Le(t),e),new _s(Le(e.g),Le(e.h));if(bt(e))return e=Gc(t,Le(e)),new _s(Le(e.g),e.h);if(30<t.g.length){if(bt(t)||bt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=yg,r=e;0>=r.X(t);)n=OD(n),r=OD(r);var i=Ni(n,1),o=Ni(r,1);for(r=Ni(r,2),n=Ni(n,2);!bn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ni(r,1),n=Ni(n,1)}return e=zc(t,i.R(e)),new _s(i,e)}for(i=Oi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=cn(n),s=o.R(e);bt(s)||0<s.X(t);)n-=r,o=cn(n),s=o.R(e);bn(o)&&(o=yg),i=i.add(o),t=zc(t,s)}return new _s(i,t)}v.gb=function(t){return Gc(this,t).h};v.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new se(n,this.h&t.h)};v.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new se(n,this.h|t.h)};v.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new se(n,this.h^t.h)};function OD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new se(n,t.h)}function Ni(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new se(i,t.h)}qc.prototype.createWebChannel=qc.prototype.g;ft.prototype.send=ft.prototype.u;ft.prototype.open=ft.prototype.m;ft.prototype.close=ft.prototype.close;el.NO_ERROR=0;el.TIMEOUT=8;el.HTTP_ERROR=6;e0.COMPLETE="complete";t0.EventType=Os;Os.OPEN="a";Os.CLOSE="b";Os.ERROR="c";Os.MESSAGE="d";Re.prototype.listen=Re.prototype.O;me.prototype.listenOnce=me.prototype.P;me.prototype.getLastError=me.prototype.Sa;me.prototype.getLastErrorCode=me.prototype.Ia;me.prototype.getStatus=me.prototype.da;me.prototype.getResponseJson=me.prototype.Wa;me.prototype.getResponseText=me.prototype.ja;me.prototype.send=me.prototype.ha;me.prototype.setWithCredentials=me.prototype.Oa;Bt.prototype.digest=Bt.prototype.l;Bt.prototype.reset=Bt.prototype.reset;Bt.prototype.update=Bt.prototype.j;se.prototype.add=se.prototype.add;se.prototype.multiply=se.prototype.R;se.prototype.modulo=se.prototype.gb;se.prototype.compare=se.prototype.X;se.prototype.toNumber=se.prototype.ea;se.prototype.toString=se.prototype.toString;se.prototype.getBits=se.prototype.D;se.fromNumber=cn;se.fromString=V0;var L0=Ut.createWebChannelTransport=function(){return new qc},j0=Ut.getStatEventTarget=function(){return Jc()},ul=Ut.ErrorCode=el,B0=Ut.EventType=e0,U0=Ut.Event=Ar,Bg=Ut.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mq=Ut.FetchXmlHttpFactory=Vs,Bs=Ut.WebChannel=t0,$0=Ut.XhrIo=me,H0=Ut.Md5=Bt,xr=Ut.Integer=se;var q0="@firebase/firestore";var Pe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pe.UNAUTHENTICATED=new Pe(null),Pe.GOOGLE_CREDENTIALS=new Pe("google-credentials-uid"),Pe.FIRST_PARTY=new Pe("first-party-uid"),Pe.MOCK_USER=new Pe("mock-user");var io="10.9.0";var Fr=new Ri("@firebase/firestore");function Us(){return Fr.logLevel}function w(t,...e){if(Fr.logLevel<=X.DEBUG){let n=e.map(by);Fr.debug(`Firestore (${io}): ${t}`,...n)}}function fn(t,...e){if(Fr.logLevel<=X.ERROR){let n=e.map(by);Fr.error(`Firestore (${io}): ${t}`,...n)}}function zi(t,...e){if(Fr.logLevel<=X.WARN){let n=e.map(by);Fr.warn(`Firestore (${io}): ${t}`,...n)}}function by(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function L(t="Unexpected state"){let e=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: `+t;throw fn(e),new Error(e)}function be(t,e){t||L()}function ee(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=class extends Ft{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var $t=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var hl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Gg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pe.UNAUTHENTICATED))}shutdown(){}},Wg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Kg=class{constructor(e){this.t=e,this.currentUser=Pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new $t;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $t,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>y(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{w("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(w("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $t)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(w("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new hl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Pe(e)}},Qg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Yg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Qg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Zg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Xg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&w("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,w("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{w("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):w("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new Zg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Jk(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var fl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Jk(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function oe(t,e){return t<e?-1:t>e?1:0}function Gi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Te=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var B=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Te(0,0))}static max(){return new t(new Te(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var pl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&L(),r===void 0?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},pe=class t extends pl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new D(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},eF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tt=class t extends pl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return eF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new D(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new D(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new D(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new D(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var R=class t{constructor(e){this.path=e}static fromPath(e){return new t(pe.fromString(e))}static fromName(e){return new t(pe.fromString(e).popFirst(5))}static empty(){return new t(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new pe(e.slice()))}};var Jg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Jg.UNKNOWN_ID=-1;function tF(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(r===1e9?new Te(n+1,0):new Te(n,r));return new Vr(i,R.empty(),e)}function nF(t){return new Vr(t.readTime,t.key,-1)}var Vr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(B.min(),R.empty(),-1)}static max(){return new t(B.max(),R.empty(),-1)}};function rF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=R.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}var iF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",em=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ty(t){return y(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==iF)throw t;w("LocalStore","Unexpectedly lost primary lease")})}var g=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var tm=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new $t,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new kr(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Sy(r.target.error);this.V.reject(new kr(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new kr(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(w("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new rm(n)}},gl=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(gs())===12.2&&fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return w("SimpleDb","Removing database:",e),Mr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Sc())return!1;if(t.C())return!0;let e=gs(),n=t.S(e),r=0<n&&n<10,i=t.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return y(this,null,function*(){return this.db||(w("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new kr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new D(m.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new D(m.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new kr(e,s))},i.onupgradeneeded=o=>{w("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{w("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return y(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=tm.open(this.db,e,o?"readonly":"readwrite",r),u=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),g.reject(c))).toPromise();return u.catch(()=>{}),yield a.m,u}catch(a){let u=a,c=u.name!=="FirebaseError"&&s<3;if(w("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),!c)return Promise.reject(u)}}})}close(){this.db&&this.db.close(),this.db=void 0}},nm=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Mr(this.k.delete())}},kr=class extends D{constructor(e,n){super(m.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function la(t){return t.name==="IndexedDbTransactionError"}var rm=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(w("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(w("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Mr(r)}add(e){return w("SimpleDb","ADD",this.store.name,e,e),Mr(this.store.add(e))}get(e){return Mr(this.store.get(e)).next(n=>(n===void 0&&(n=null),w("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return w("SimpleDb","DELETE",this.store.name,e),Mr(this.store.delete(e))}count(){return w("SimpleDb","COUNT",this.store.name),Mr(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new g((s,a)=>{o.onerror=u=>{a(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{let o=this.cursor(r),s=[];return this.G(o,(a,u)=>{s.push(u)}).next(()=>s)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new g((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){w("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new g((r,i)=>{n.onerror=o=>{let s=Sy(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){let r=[];return new g((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let u=new nm(a),c=n(a.primaryKey,a.value,u);if(c instanceof g){let l=c.catch(d=>(u.done(),g.reject(d)));r.push(l)}u.isDone?i():u.$===null?a.continue():a.continue(u.$)}}).next(()=>g.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Mr(t){return new g((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=Sy(r.target.error);n(i)}})}var z0=!1;function Sy(t){let e=gl.S(gs());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new D("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return z0||(z0=!0,setTimeout(()=>{throw r},0)),r}}return t}var DC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Ul(t){return t==null}function Ks(t){return t===0&&1/t==-1/0}function oF(t){return typeof t=="number"&&Number.isInteger(t)&&!Ks(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var sF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uq=[...sF,"documentOverlays"],aF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uF=aF,$q=[...uF,"indexConfiguration","indexState","indexEntries"];function G0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function da(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ve=class t{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ui(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ui(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ui(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ui(this.root,e,this.comparator,!0)}},Ui=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},dn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();let e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}};dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(e,n,r,i,o){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ke=class t{constructor(e){this.comparator=e,this.data=new ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ml(this.data.getIterator())}getIteratorFrom(e){return new ml(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ml=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Rr=class t{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ke(Tt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gi(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var yl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yl("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tt.EMPTY_BYTE_STRING=new tt("");var cF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zn(t){if(be(!!t),typeof t=="string"){let e=0,n=cF.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ye(t.seconds),nanos:ye(t.nanos)}}function ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xn(t){return typeof t=="string"?tt.fromBase64String(t):tt.fromUint8Array(t)}function Ay(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xy(t){let e=t.mapValue.fields.__previous_value__;return Ay(e)?xy(e):e}function Qs(t){let e=Zn(t.mapValue.fields.__local_write_time__.timestampValue);return new Te(e.seconds,e.nanos)}var im=class{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}},vl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Lr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ay(t)?4:bC(t)?9007199254740991:10:L()}function pn(t,e){if(t===e)return!0;let n=Lr(t);if(n!==Lr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qs(t).isEqual(Qs(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Zn(i.timestampValue),a=Zn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Xn(i.bytesValue).isEqual(Xn(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ye(i.geoPointValue.latitude)===ye(o.geoPointValue.latitude)&&ye(i.geoPointValue.longitude)===ye(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ye(i.integerValue)===ye(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ye(i.doubleValue),a=ye(o.doubleValue);return s===a?Ks(s)===Ks(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Gi(t.arrayValue.values||[],e.arrayValue.values||[],pn);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(G0(s)!==G0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!pn(s[u],a[u])))return!1;return!0}(t,e);default:return L()}}function Ys(t,e){return(t.values||[]).find(n=>pn(n,e))!==void 0}function Wi(t,e){if(t===e)return 0;let n=Lr(t),r=Lr(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ye(o.integerValue||o.doubleValue),u=ye(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return W0(t.timestampValue,e.timestampValue);case 4:return W0(Qs(t),Qs(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Xn(o),u=Xn(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){let l=oe(a[c],u[c]);if(l!==0)return l}return oe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=oe(ye(o.latitude),ye(s.latitude));return a!==0?a:oe(ye(o.longitude),ye(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){let l=Wi(a[c],u[c]);if(l)return l}return oe(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===cl.mapValue&&s===cl.mapValue)return 0;if(o===cl.mapValue)return 1;if(s===cl.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),c=s.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){let h=oe(u[d],l[d]);if(h!==0)return h;let f=Wi(a[u[d]],c[l[d]]);if(f!==0)return f}return oe(u.length,l.length)}(t.mapValue,e.mapValue);default:throw L()}}function W0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);let n=Zn(t),r=Zn(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function Ki(t){return om(t)}function om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Zn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return R.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=om(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${om(n.fields[s])}`;return i+"}"}(t.mapValue):L()}function K0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sm(t){return!!t&&"integerValue"in t}function My(t){return!!t&&"arrayValue"in t}function Q0(t){return!!t&&"nullValue"in t}function Y0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ug(t){return!!t&&"mapValue"in t}function Hs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return da(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hs(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Sn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ug(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hs(n)}setAll(e){let n=Tt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Hs(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Ug(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ug(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){da(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Hs(this.value))}};var Ht=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,B.min(),B.min(),B.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,B.min(),B.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,B.min(),B.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Qi=class{constructor(e,n){this.position=e,this.inclusive=n}};function Z0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=R.comparator(R.fromName(s.referenceValue),n.key):r=Wi(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function X0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pn(t.position[n],e.position[n]))return!1;return!0}var Yi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function lF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var _l=class{},Ce=class t extends _l{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new um(e,n,r):n==="array-contains"?new dm(e,r):n==="in"?new hm(e,r):n==="not-in"?new fm(e,r):n==="array-contains-any"?new pm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cm(e,r):new lm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wi(n,this.value)):n!==null&&Lr(this.value)===Lr(n)&&this.matchesComparison(Wi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},qt=class t extends _l{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return TC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function TC(t){return t.op==="and"}function SC(t){return dF(t)&&TC(t)}function dF(t){for(let e of t.filters)if(e instanceof qt)return!1;return!0}function am(t){if(t instanceof Ce)return t.field.canonicalString()+t.op.toString()+Ki(t.value);if(SC(t))return t.filters.map(e=>am(e)).join(",");{let e=t.filters.map(n=>am(n)).join(",");return`${t.op}(${e})`}}function AC(t,e){return t instanceof Ce?function(r,i){return i instanceof Ce&&r.op===i.op&&r.field.isEqual(i.field)&&pn(r.value,i.value)}(t,e):t instanceof qt?function(r,i){return i instanceof qt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&AC(s,i.filters[a]),!0):!1}(t,e):void L()}function xC(t){return t instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${Ki(n.value)}`}(t):t instanceof qt?function(n){return n.op.toString()+" {"+n.getFilters().map(xC).join(" ,")+"}"}(t):"Filter"}var um=class extends Ce{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){let n=R.comparator(e.key,this.key);return this.matchesComparison(n)}},cm=class extends Ce{constructor(e,n){super(e,"in",n),this.keys=MC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},lm=class extends Ce{constructor(e,n){super(e,"not-in",n),this.keys=MC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function MC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}var dm=class extends Ce{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return My(n)&&Ys(n.arrayValue,this.value)}},hm=class extends Ce{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ys(this.value.arrayValue,n)}},fm=class extends Ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ys(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ys(this.value.arrayValue,n)}},pm=class extends Ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!My(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ys(this.value.arrayValue,r))}};var gm=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function J0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new gm(t,e,n,r,i,o,s)}function Ry(t){let e=ee(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>am(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ul(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ki(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ki(r)).join(",")),e.ce=n}return e.ce}function Ny(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!X0(t.startAt,e.startAt)&&X0(t.endAt,e.endAt)}function mm(t){return R.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var jr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function hF(t,e,n,r,i,o,s,a){return new jr(t,e,n,r,i,o,s,a)}function Py(t){return new jr(t)}function eC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RC(t){return t.collectionGroup!==null}function qs(t){let e=ee(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ke(Tt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Yi(o,r))}),n.has(Tt.keyField().canonicalString())||e.le.push(new Yi(Tt.keyField(),r))}return e.le}function hn(t){let e=ee(t);return e.he||(e.he=fF(e,qs(t))),e.he}function fF(t,e){if(t.limitType==="F")return J0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Yi(i.field,o)});let n=t.endAt?new Qi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qi(t.startAt.position,t.startAt.inclusive):null;return J0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ym(t,e){let n=t.filters.concat([e]);return new jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vm(t,e,n){return new jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $l(t,e){return Ny(hn(t),hn(e))&&t.limitType===e.limitType}function NC(t){return`${Ry(hn(t))}|lt:${t.limitType}`}function Li(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xC(i)).join(", ")}]`),Ul(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ki(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ki(i)).join(",")),`Target(${r})`}(hn(t))}; limitType=${t.limitType})`}function Hl(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):R.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of qs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let c=Z0(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,qs(r),i)||r.endAt&&!function(s,a,u){let c=Z0(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,qs(r),i))}(t,e)}function pF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PC(t){return(e,n)=>{let r=!1;for(let i of qs(t)){let o=gF(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function gF(t,e,n){let r=t.field.isKeyField()?R.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?Wi(u,c):L()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}var Jn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return CC(this.inner)}size(){return this.innerSize}};var mF=new ve(R.comparator);function er(){return mF}var OC=new ve(R.comparator);function $s(...t){let e=OC;for(let n of t)e=e.insert(n.key,n);return e}function yF(t){let e=OC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Nr(){return zs()}function kC(){return zs()}function zs(){return new Jn(t=>t.toString(),(t,e)=>t.isEqual(e))}var qq=new ve(R.comparator),vF=new Ke(R.comparator);function J(...t){let e=vF;for(let n of t)e=e.add(n);return e}var _F=new Ke(oe);function wF(){return _F}function FC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ks(e)?"-0":e}}function VC(t){return{integerValue:""+t}}function EF(t,e){return oF(e)?VC(e):FC(t,e)}var Zi=class{constructor(){this._=void 0}};function IF(t,e,n){return t instanceof Zs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ay(o)&&(o=xy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Xi?LC(t,e):t instanceof Ji?jC(t,e):function(i,o){let s=CF(i,o),a=tC(s)+tC(i.Ie);return sm(s)&&sm(i.Ie)?VC(a):FC(i.serializer,a)}(t,e)}function DF(t,e,n){return t instanceof Xi?LC(t,e):t instanceof Ji?jC(t,e):n}function CF(t,e){return t instanceof Xs?function(r){return sm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Zs=class extends Zi{},Xi=class extends Zi{constructor(e){super(),this.elements=e}};function LC(t,e){let n=BC(e);for(let r of t.elements)n.some(i=>pn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ji=class extends Zi{constructor(e){super(),this.elements=e}};function jC(t,e){let n=BC(e);for(let r of t.elements)n=n.filter(i=>!pn(i,r));return{arrayValue:{values:n}}}var Xs=class extends Zi{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function tC(t){return ye(t.integerValue||t.doubleValue)}function BC(t){return My(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Xi&&i instanceof Xi||r instanceof Ji&&i instanceof Ji?Gi(r.elements,i.elements,pn):r instanceof Xs&&i instanceof Xs?pn(r.Ie,i.Ie):r instanceof Zs&&i instanceof Zs}(t.transform,e.transform)}var Gs=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function dl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Js=class{};function UC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _m(t.key,Gs.none()):new ea(t.key,t.data,Gs.none());{let n=t.data,r=Sn.empty(),i=new Ke(Tt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new eo(t.key,r,new Rr(i.toArray()),Gs.none())}}function TF(t,e,n){t instanceof ea?function(i,o,s){let a=i.value.clone(),u=rC(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof eo?function(i,o,s){if(!dl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=rC(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll($C(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ws(t,e,n,r){return t instanceof ea?function(o,s,a,u){if(!dl(o.precondition,s))return a;let c=o.value.clone(),l=iC(o.fieldTransforms,u,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof eo?function(o,s,a,u){if(!dl(o.precondition,s))return a;let c=iC(o.fieldTransforms,u,s),l=s.data;return l.setAll($C(o)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return dl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function nC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gi(r,i,(o,s)=>bF(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ea=class extends Js{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},eo=class extends Js{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function $C(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function rC(t,e,n){let r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,DF(s,a,n[i]))}return r}function iC(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,IF(o,s,e))}return r}var _m=class extends Js{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var wm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&TF(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ws(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ws(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=kC();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=UC(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),J())}isEqual(e){return this.batchId===e.batchId&&Gi(this.mutations,e.mutations,(n,r)=>nC(n,r))&&Gi(this.baseMutations,e.baseMutations,(n,r)=>nC(n,r))}};var Em=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Im=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ie,Z;function HC(t){if(t===void 0)return fn("GRPC error has no .code"),m.UNKNOWN;switch(t){case Ie.OK:return m.OK;case Ie.CANCELLED:return m.CANCELLED;case Ie.UNKNOWN:return m.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return m.INTERNAL;case Ie.UNAVAILABLE:return m.UNAVAILABLE;case Ie.UNAUTHENTICATED:return m.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case Ie.NOT_FOUND:return m.NOT_FOUND;case Ie.ALREADY_EXISTS:return m.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return m.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case Ie.ABORTED:return m.ABORTED;case Ie.OUT_OF_RANGE:return m.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return m.UNIMPLEMENTED;case Ie.DATA_LOSS:return m.DATA_LOSS;default:return L()}}(Z=Ie||(Ie={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";var oC=null;function SF(){return new TextEncoder}var AF=new xr([4294967295,4294967295],0);function sC(t){let e=SF().encode(t),n=new H0;return n.update(e),new Uint8Array(n.digest())}function aC(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xr([n,r],0),new xr([i,o],0)]}var Dm=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pr(`Invalid padding: ${n}`);if(r<0)throw new Pr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=xr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(xr.fromNumber(r)));return i.compare(AF)===1&&(i=new xr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=sC(e),[r,i]=aC(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=sC(e),[r,i]=aC(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Pr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var wl=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ta.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(B.min(),i,new ve(oe),er(),J())}},ta=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,J(),J(),J())}};var $i=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},El=class{constructor(e,n){this.targetId=e,this.fe=n}},Il=class{constructor(e,n,r=tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Dl=class{constructor(){this.ge=0,this.pe=cC(),this.ye=tt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=J(),n=J(),r=J();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:L()}}),new ta(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=cC()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,be(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},Cm=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=er(),this.Qe=uC(),this.Ke=new ve(oe)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:L()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let o=i.target;if(mm(o))if(r===0){let s=new R(o.path);this.We(n,s,Ht.newNoDocument(s,B.min()))}else be(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(e),u=a?this.et(a,e,s):1;if(u!==0){this.He(n);let c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}oC?.tt(function(l,d,h,f,p){var I,E,x,ce,G,W;let Se={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ne=d.unchangedNames;return ne&&(Se.bloomFilter={applied:p===0,hashCount:(I=ne?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(ce=(x=(E=ne?.bits)===null||E===void 0?void 0:E.bitmap)===null||x===void 0?void 0:x.length)!==null&&ce!==void 0?ce:0,padding:(W=(G=ne?.bits)===null||G===void 0?void 0:G.padding)!==null&&W!==void 0?W:0,mightContain:Qe=>{var mt;return(mt=f?.mightContain(Qe))!==null&&mt!==void 0&&mt}}),Se}(s,e.fe,this.Be.nt(),a,u))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Xn(r).toUint8Array()}catch(u){if(u instanceof yl)return zi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Dm(s,i,o)}catch(u){return zi(u instanceof Pr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&mm(a.target)){let u=new R(a.target.path);this.qe.get(u)!==null||this.st(s,u)||this.We(s,u,Ht.newNoDocument(u,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=J();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let i=new wl(e,n,this.Ke,this.qe,r);return this.qe=er(),this.Qe=uC(),this.Ke=new ve(oe),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Dl,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ke(oe),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||w("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Dl),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function uC(){return new ve(R.comparator)}function cC(){return new ve(R.comparator)}var xF={asc:"ASCENDING",desc:"DESCENDING"},MF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RF={and:"AND",or:"OR"},bm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Tm(t,e){return t.useProto3Json||Ul(e)?e:{value:e}}function Sm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hi(t){return be(!!t),B.fromTimestamp(function(n){let r=Zn(n);return new Te(r.seconds,r.nanos)}(t))}function zC(t,e){return Am(t,e).canonicalString()}function Am(t,e){let n=function(i){return new pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GC(t){let e=pe.fromString(t);return be(ZC(e)),e}function $g(t,e){let n=GC(e);if(n.get(1)!==t.databaseId.projectId)throw new D(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(KC(n))}function WC(t,e){return zC(t.databaseId,e)}function NF(t){let e=GC(t);return e.length===4?pe.emptyPath():KC(e)}function lC(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KC(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function PF(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:L()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(be(l===void 0||typeof l=="string"),tt.fromBase64String(l||"")):(be(l===void 0||l instanceof Uint8Array),tt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){let l=c.code===void 0?m.UNKNOWN:HC(c.code);return new D(l,c.message||"")}(s);n=new Il(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=$g(t,r.document.name),o=Hi(r.document.updateTime),s=r.document.createTime?Hi(r.document.createTime):B.min(),a=new Sn({mapValue:{fields:r.document.fields}}),u=Ht.newFoundDocument(i,o,s,a),c=r.targetIds||[],l=r.removedTargetIds||[];n=new $i(c,l,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=$g(t,r.document),o=r.readTime?Hi(r.readTime):B.min(),s=Ht.newNoDocument(i,o),a=r.removedTargetIds||[];n=new $i([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=$g(t,r.document),o=r.removedTargetIds||[];n=new $i([],o,i,null)}else{if(!("filter"in e))return L();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Im(i,o),a=r.targetId;n=new El(a,s)}}return n}function OF(t,e){return{documents:[WC(t,e.path)]}}function kF(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WC(t,i);let o=function(c){if(c.length!==0)return YC(qt.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(c){if(c.length!==0)return c.map(l=>function(h){return{field:ji(h.field),direction:LF(h.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Tm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function FF(t){let e=NF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){be(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){let h=QC(d);return h instanceof qt&&SC(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(p){return new Yi(Bi(p.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Ul(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(d){let h=!!d.before,f=d.values||[];return new Qi(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){let h=!d.before,f=d.values||[];return new Qi(f,h)}(n.endAt)),hF(e,i,s,o,a,"F",u,c)}function VF(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Bi(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Bi(n.unaryFilter.field);return Ce.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Bi(n.unaryFilter.field);return Ce.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Bi(n.unaryFilter.field);return Ce.create(s,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(t):t.fieldFilter!==void 0?function(n){return Ce.create(Bi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qt.create(n.compositeFilter.filters.map(r=>QC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return L()}}(n.compositeFilter.op))}(t):L()}function LF(t){return xF[t]}function jF(t){return MF[t]}function BF(t){return RF[t]}function ji(t){return{fieldPath:t.canonicalString()}}function Bi(t){return Tt.fromServerFormat(t.fieldPath)}function YC(t){return t instanceof Ce?function(n){if(n.op==="=="){if(Y0(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NAN"}};if(Q0(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y0(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NOT_NAN"}};if(Q0(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ji(n.field),op:jF(n.op),value:n.value}}}(t):t instanceof qt?function(n){let r=n.getFilters().map(i=>YC(i));return r.length===1?r[0]:{compositeFilter:{op:BF(n.op),filters:r}}}(t):L()}function ZC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var na=class t{constructor(e,n,r,i,o=B.min(),s=B.min(),a=tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var xm=class{constructor(e){this.ct=e}};function UF(t){let e=FF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vm(e,e.limit,"L"):e}var Cl=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(ye(e.integerValue));else if("doubleValue"in e){let r=ye(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Ks(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Xn(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?bC(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):L()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),R.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Cl.bt=new Cl;var Mm=class{constructor(){this._n=new Rm}addToCollectionParentIndex(e,n){return this._n.add(n),g.resolve()}getCollectionParents(e,n){return g.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return g.resolve()}deleteFieldIndex(e,n){return g.resolve()}deleteAllFieldIndexes(e){return g.resolve()}createTargetIndexes(e,n){return g.resolve()}getDocumentsMatchingTarget(e,n){return g.resolve(null)}getIndexType(e,n){return g.resolve(0)}getFieldIndexes(e,n){return g.resolve([])}getNextCollectionGroupToUpdate(e){return g.resolve(null)}getMinOffset(e,n){return g.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,n){return g.resolve(Vr.min())}updateCollectionGroup(e,n,r){return g.resolve()}updateIndexEntries(e,n){return g.resolve()}},Rm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(pe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(pe.comparator)).toArray()}};var zq=new Uint8Array(0);var ln=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var ra=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Nm=class{constructor(){this.changes=new Jn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?g.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Pm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Om=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ws(r.mutation,i,Rr.empty(),Te.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,J()).next(()=>r))}getLocalViewOfDocuments(e,n,r=J()){let i=Nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=$s();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Nr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,J()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=er(),s=zs(),a=function(){return zs()}();return n.forEach((u,c)=>{let l=r.get(c.key);i.has(c.key)&&(l===void 0||l.mutation instanceof eo)?o=o.insert(c.key,c):l!==void 0?(s.set(c.key,l.mutation.getFieldMask()),Ws(l.mutation,c,l.mutation.getFieldMask(),Te.now())):s.set(c.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Pm(l,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=zs(),i=new ve((s,a)=>s-a),o=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let c=n.get(u);if(c===null)return;let l=r.get(u)||Rr.empty();l=a.applyToLocalView(c,l),r.set(u,l);let d=(i.get(a.batchId)||J()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),c=u.key,l=u.value,d=kC();l.forEach(h=>{if(!o.has(h)){let f=UC(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return g.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return R.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):g.resolve(Nr()),a=-1,u=o;return s.next(c=>g.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?g.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,J())).next(l=>({batchId:a,changes:yF(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=$s();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=$s();return this.indexManager.getCollectionParents(e,o).next(a=>g.forEach(a,u=>{let c=function(d,h){return new jr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{let l=c.getKey();s.get(l)===null&&(s=s.insert(l,Ht.newInvalidDocument(l)))});let a=$s();return s.forEach((u,c)=>{let l=o.get(u);l!==void 0&&Ws(l.mutation,c,Rr.empty(),Te.now()),Hl(n,c)&&(a=a.insert(u,c))}),a})}};var km=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return g.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hi(i.createTime)}}(n)),g.resolve()}getNamedQuery(e,n){return g.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:UF(i.bundledQuery),readTime:Hi(i.readTime)}}(n)),g.resolve()}};var Fm=class{constructor(){this.overlays=new ve(R.comparator),this.hr=new Map}getOverlay(e,n){return g.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Nr();return g.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),g.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),g.resolve()}getOverlaysForCollection(e,n,r){let i=Nr(),o=n.length+1,s=new R(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return g.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ve((c,l)=>c-l),s=this.overlays.getIterator();for(;s.hasNext();){let c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);l===null&&(l=Nr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}let a=Nr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return g.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Em(n,r));let o=this.hr.get(n);o===void 0&&(o=J(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var ia=class{constructor(){this.Pr=new Ke(De.Ir),this.Tr=new Ke(De.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new De(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new De(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new R(new pe([])),r=new De(n,e),i=new De(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new R(new pe([])),r=new De(n,e),i=new De(n,e+1),o=J();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new De(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},De=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return R.comparator(e.key,n.key)||oe(e.pr,n.pr)}static Er(e,n){return oe(e.pr,n.pr)||R.comparator(e.key,n.key)}};var Vm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ke(De.Ir)}checkEmpty(e){return g.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new wm(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new De(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return g.resolve(s)}lookupMutationBatch(e,n){return g.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return g.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return g.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return g.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new De(n,0),i=new De(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),g.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(oe);return n.forEach(i=>{let o=new De(i,0),s=new De(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),g.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;R.isDocumentKey(o)||(o=o.child(""));let s=new De(new R(o),0),a=new Ke(oe);return this.wr.forEachWhile(u=>{let c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},s),g.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return g.forEach(n.mutations,i=>{let o=new De(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new De(n,0),i=this.wr.firstAfterOrEqual(r);return g.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,g.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Lm=class{constructor(e){this.vr=e,this.docs=function(){return new ve(R.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return g.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=er();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ht.newInvalidDocument(i))}),g.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=er(),s=n.path,a=new R(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||rF(nF(l),r)<=0||(i.has(l.key)||Hl(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return g.resolve(o)}getAllFromCollectionGroup(e,n,r,i){L()}Fr(e,n){return g.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jm(this)}getSize(e){return g.resolve(this.size)}},jm=class extends Nm{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),g.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Bm=class{constructor(e){this.persistence=e,this.Mr=new Jn(n=>Ry(n),Ny),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ia,this.targetCount=0,this.Lr=ra.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),g.resolve()}getLastRemoteSnapshotVersion(e){return g.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return g.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),g.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),g.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new ra(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,g.resolve()}updateTargetData(e,n){return this.qn(n),g.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,g.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),g.waitFor(o).next(()=>i)}getTargetCount(e){return g.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return g.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),g.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),g.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),g.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return g.resolve(r)}containsKey(e,n){return g.resolve(this.Nr.containsKey(n))}};var Um=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new DC(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Bm(this),this.indexManager=new Mm,this.remoteDocumentCache=function(i){return new Lm(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new xm(n),this.$r=new km(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Vm(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){w("MemoryPersistence","Starting transaction:",e);let i=new $m(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return g.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},$m=class extends em{constructor(e){super(),this.currentSequenceNumber=e}},Hm=class t{constructor(e){this.persistence=e,this.zr=new ia,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw L()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),g.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),g.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),g.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return g.forEach(this.Jr,r=>{let i=R.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,B.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return g.or([()=>g.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var qm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=J(),i=J();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var zm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Gm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return uD()?8:gl.v(gs())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new zm;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Us()<=X.DEBUG&&w("QueryEngine","SDK will not create cache indexes for query:",Li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),g.resolve()):(Us()<=X.DEBUG&&w("QueryEngine","Query:",Li(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Us()<=X.DEBUG&&w("QueryEngine","The SDK decides to create cache indexes for query:",Li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hn(n))):g.resolve())}ji(e,n){if(eC(n))return g.resolve(null);let r=hn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vm(n,null,"F"),r=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=J(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let c=this.Zi(n,a);return this.Xi(n,c,s,u.readTime)?this.ji(e,vm(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return eC(n)||i.isEqual(B.min())?g.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?g.resolve(null):(Us()<=X.DEBUG&&w("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Li(n)),this.es(e,s,n,tF(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ke(PC(e));return n.forEach((i,o)=>{Hl(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Us()<=X.DEBUG&&w("QueryEngine","Using full collection scan to execute query:",Li(n)),this.zi.getDocumentsMatchingQuery(e,n,Vr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Wm=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ve(oe),this.rs=new Jn(o=>Ry(o),Ny),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Om(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function $F(t,e,n,r){return new Wm(t,e,n,r)}function XC(t,e){return y(this,null,function*(){let n=ee(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=J();for(let c of i){s.push(c.batchId);for(let l of c.mutations)u=u.add(l.key)}for(let c of o){a.push(c.batchId);for(let l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})})}function JC(t){let e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function HF(t,e){let n=ee(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(tt.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(I,E,x){return I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(o,f))});let u=er(),c=J();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(qF(o,s,e.documentUpdates).next(l=>{u=l.cs,c=l.ls})),!r.isEqual(B.min())){let l=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return g.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.ns=i,o))}function qF(t,e,n){let r=J(),i=J();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=er();return n.forEach((a,u)=>{let c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):w("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:s,ls:i}})}function zF(t,e){let n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,g.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new na(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Km(t,e,n){return y(this,null,function*(){let r=ee(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!la(s))throw s;w("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function dC(t,e,n){let r=ee(t),i=B.min(),o=J();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,l){let d=ee(u),h=d.rs.get(l);return h!==void 0?g.resolve(d.ns.get(h)):d.Qr.getTargetData(c,l)}(r,s,hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:B.min(),n?o:J())).next(a=>(GF(r,pF(e),a),{documents:a,hs:o})))}function GF(t,e,n){let r=t.ss.get(e)||B.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}var bl=class{constructor(){this.activeTargetIds=wF()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Qm=class{constructor(){this.no=new bl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new bl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ym=class{io(e){}shutdown(){}};var Tl=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){w("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){w("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ll=null;function Hg(){return ll===null?ll=function(){return 268435456+Math.round(2147483648*Math.random())}():ll++,"0x"+ll.toString(16)}var WF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Zm=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var We="WebChannelConnection",Xm=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){let a=Hg(),u=this.bo(n,r.toUriEncodedString());w("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,o,s),this.Co(n,u,c,i).then(l=>(w("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw zi("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+io}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){let i=WF[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let o=Hg();return new Promise((s,a)=>{let u=new $0;u.setWithCredentials(!0),u.listenOnce(B0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ul.NO_ERROR:let l=u.getResponseJson();w(We,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case ul.TIMEOUT:w(We,`RPC '${e}' ${o} timed out`),a(new D(m.DEADLINE_EXCEEDED,"Request time out"));break;case ul.HTTP_ERROR:let d=u.getStatus();if(w(We,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let p=function(E){let x=E.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(x)>=0?x:m.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(m.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(m.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{w(We,`RPC '${e}' ${o} completed.`)}});let c=JSON.stringify(i);w(We,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Fo(e,n,r){let i=Hg(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=L0(),a=j0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let l=o.join("");w(We,`Creating RPC '${e}' stream ${i}: ${l}`,u);let d=s.createWebChannel(l,u),h=!1,f=!1,p=new Zm({lo:E=>{f?w(We,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(w(We,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),w(We,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},ho:()=>d.close()}),I=(E,x,ce)=>{E.listen(x,G=>{try{ce(G)}catch(W){setTimeout(()=>{throw W},0)}})};return I(d,Bs.EventType.OPEN,()=>{f||w(We,`RPC '${e}' stream ${i} transport opened.`)}),I(d,Bs.EventType.CLOSE,()=>{f||(f=!0,w(We,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),I(d,Bs.EventType.ERROR,E=>{f||(f=!0,zi(We,`RPC '${e}' stream ${i} transport errored:`,E),p.Vo(new D(m.UNAVAILABLE,"The operation could not be completed")))}),I(d,Bs.EventType.MESSAGE,E=>{var x;if(!f){let ce=E.data[0];be(!!ce);let G=ce,W=G.error||((x=G[0])===null||x===void 0?void 0:x.error);if(W){w(We,`RPC '${e}' stream ${i} received error:`,W);let Se=W.status,ne=function(Jl){let ma=Ie[Jl];if(ma!==void 0)return HC(ma)}(Se),Qe=W.message;ne===void 0&&(ne=m.INTERNAL,Qe="Unknown error status: "+Se+" with message "+W.message),f=!0,p.Vo(new D(ne,Qe)),d.close()}else w(We,`RPC '${e}' stream ${i} received:`,ce),p.mo(ce)}}),I(a,U0.STAT_EVENT,E=>{E.stat===Bg.PROXY?w(We,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Bg.NOPROXY&&w(We,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}};function qg(){return typeof document<"u"?document:null}function ql(t){return new bm(t,!0)}var Sl=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&w("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var Jm=class{constructor(e,n,r,i,o,s,a,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Sl(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return y(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return y(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return y(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(fn(n.toString()),fn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new D(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>y(this,null,function*(){this.state=0,this.start()}))}__(e){return w("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(w("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ey=class extends Jm{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=PF(this.serializer,e),r=function(o){if(!("targetChange"in o))return B.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?Hi(s.readTime):B.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=lC(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=mm(u)?{documents:OF(o,u)}:{query:kF(o,u).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qC(o,s.resumeToken);let c=Tm(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(B.min())>0){a.readTime=Sm(o,s.snapshotVersion.toTimestamp());let c=Tm(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let r=VF(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=lC(this.serializer),n.removeTarget=e,this.t_(n)}};var ty=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new D(m.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Am(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new D(m.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Am(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(m.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var ny=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(fn(n),this.g_=!1):w("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var ry=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(()=>y(this,null,function*(){fa(this)&&(w("RemoteStore","Restarting streams for network reachability change."),yield function(u){return y(this,null,function*(){let c=ee(u);c.v_.add(4),yield ha(c),c.x_.set("Unknown"),c.v_.delete(4),yield zl(c)})}(this))}))}),this.x_=new ny(r,i)}};function zl(t){return y(this,null,function*(){if(fa(t))for(let e of t.F_)yield e(!0)})}function ha(t){return y(this,null,function*(){for(let e of t.F_)yield e(!1)})}function eb(t,e){let n=ee(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Vy(n)?Fy(n):oo(n).Jo()&&ky(n,e))}function Oy(t,e){let n=ee(t),r=oo(n);n.C_.delete(e),r.Jo()&&tb(n,e),n.C_.size===0&&(r.Jo()?r.Xo():fa(n)&&n.x_.set("Unknown"))}function ky(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oo(t).c_(e)}function tb(t,e){t.O_.Oe(e),oo(t).l_(e)}function Fy(t){t.O_=new Cm({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),oo(t).start(),t.x_.p_()}function Vy(t){return fa(t)&&!oo(t).Ho()&&t.C_.size>0}function fa(t){return ee(t).v_.size===0}function nb(t){t.O_=void 0}function KF(t){return y(this,null,function*(){t.C_.forEach((e,n)=>{ky(t,e)})})}function QF(t,e){return y(this,null,function*(){nb(t),Vy(t)?(t.x_.S_(e),Fy(t)):t.x_.set("Unknown")})}function YF(t,e,n){return y(this,null,function*(){if(t.x_.set("Online"),e instanceof Il&&e.state===2&&e.cause)try{yield function(i,o){return y(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){w("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hC(t,r)}else if(e instanceof $i?t.O_.$e(e):e instanceof El?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(B.min()))try{let r=yield JC(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.O_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){let l=o.C_.get(c);l&&o.C_.set(c,l.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{let l=o.C_.get(u);if(!l)return;o.C_.set(u,l.withResumeToken(tt.EMPTY_BYTE_STRING,l.snapshotVersion)),tb(o,u);let d=new na(l.target,u,c,l.sequenceNumber);ky(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){w("RemoteStore","Failed to raise snapshot:",r),yield hC(t,r)}})}function hC(t,e,n){return y(this,null,function*(){if(!la(e))throw e;t.v_.add(1),yield ha(t),t.x_.set("Offline"),n||(n=()=>JC(t.localStore)),t.asyncQueue.enqueueRetryable(()=>y(this,null,function*(){w("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield zl(t)}))})}function fC(t,e){return y(this,null,function*(){let n=ee(t);n.asyncQueue.verifyOperationInProgress(),w("RemoteStore","RemoteStore received new credentials");let r=fa(n);n.v_.add(3),yield ha(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield zl(n)})}function ZF(t,e){return y(this,null,function*(){let n=ee(t);e?(n.v_.delete(2),yield zl(n)):e||(n.v_.add(2),yield ha(n),n.x_.set("Unknown"))})}function oo(t){return t.N_||(t.N_=function(n,r,i){let o=ee(n);return o.R_(),new ey(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:KF.bind(null,t),To:QF.bind(null,t),u_:YF.bind(null,t)}),t.F_.push(e=>y(this,null,function*(){e?(t.N_.Zo(),Vy(t)?Fy(t):t.x_.set("Unknown")):(yield t.N_.stop(),nb(t))}))),t.N_}var iy=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new $t,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function rb(t,e){if(fn("AsyncQueue",`${e}: ${t}`),la(t))return new D(m.UNAVAILABLE,`${e}: ${t}`);throw t}var Al=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=$s(),this.sortedSet=new ve(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var xl=class{constructor(){this.B_=new ve(R.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):L():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},to=class t{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Al.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$l(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var oy=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},sy=class{constructor(){this.queries=new Jn(e=>NC(e),$l),this.onlineState="Unknown",this.W_=new Set}};function ib(t,e){return y(this,null,function*(){let n=ee(t),r=3,i=e.query,o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new oy,r=e.U_()?0:1);try{switch(r){case 0:o.q_=yield n.onListen(i,!0);break;case 1:o.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=rb(s,`Initialization of query '${Li(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&Ly(n)})}function ob(t,e){return y(this,null,function*(){let n=ee(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function XF(t,e){let n=ee(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&Ly(n)}function JF(t,e,n){let r=ee(t),i=r.queries.get(e);if(i)for(let o of i.Q_)o.onError(n);r.queries.delete(e)}function Ly(t){t.W_.forEach(e=>{e.next()})}var ay,pC;(pC=ay||(ay={})).j_="default",pC.Cache="cache";var Ml=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new to(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==ay.Cache}};var Rl=class{constructor(e){this.key=e}},Nl=class{constructor(e){this.key=e}},uy=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=J(),this.mutatedKeys=J(),this.ha=PC(e),this.Pa=new Al(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new xl,i=n?n.Pa:this.Pa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=Hl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),I=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),E=!1;h&&f?h.data.isEqual(f.data)?p!==I&&(r.track({type:3,doc:f}),E=!0):this.da(h,f)||(r.track({type:2,doc:f}),E=!0,(u&&this.ha(f,u)>0||c&&this.ha(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),E=!0):h&&!f&&(r.track({type:1,doc:h}),E=!0,(u||c)&&(a=!0)),E&&(f?(s=s.add(f),o=I?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let s=e.Ea.k_();s.sort((l,d)=>function(f,p){let I=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return I(f)-I(p)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],u=this.la.size===0&&this.current&&!i?1:0,c=u!==this.ca;return this.ca=u,s.length!==0||c?{snapshot:new to(this.query,e.Pa,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new xl,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=J(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new Nl(r))}),this.la.forEach(r=>{e.has(r)||n.push(new Rl(r))}),n}fa(e){this.ua=e.hs,this.la=J();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return to.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},cy=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},ly=class{constructor(e){this.key=e,this.pa=!1}},dy=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Jn(a=>NC(a),$l),this.Sa=new Map,this.ba=new Set,this.Da=new ve(R.comparator),this.Ca=new Map,this.va=new ia,this.Fa={},this.Ma=new Map,this.xa=ra.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function eV(t,e,n=!0){return y(this,null,function*(){let r=lb(t),i,o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=yield sb(r,e,n,!0),i})}function tV(t,e){return y(this,null,function*(){let n=lb(t);yield sb(n,e,!0,!1)})}function sb(t,e,n,r){return y(this,null,function*(){let i=yield zF(t.localStore,hn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield nV(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&eb(t.remoteStore,i),a})}function nV(t,e,n,r,i){return y(this,null,function*(){t.Na=(d,h,f)=>function(I,E,x,ce){return y(this,null,function*(){let G=E.view.Ta(x);G.Xi&&(G=yield dC(I.localStore,E.query,!1).then(({documents:Qe})=>E.view.Ta(Qe,G)));let W=ce&&ce.targetChanges.get(E.targetId),Se=ce&&ce.targetMismatches.get(E.targetId)!=null,ne=E.view.applyChanges(G,I.isPrimaryClient,W,Se);return mC(I,E.targetId,ne.Va),ne.snapshot})}(t,d,h,f);let o=yield dC(t.localStore,e,!0),s=new uy(e,o.hs),a=s.Ta(o.documents),u=ta.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);mC(t,n,c.Va);let l=new cy(e,n,s);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot})}function rV(t,e,n){return y(this,null,function*(){let r=ee(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!$l(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Km(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Oy(r.remoteStore,i.targetId),hy(r,i.targetId)}).catch(Ty))):(hy(r,i.targetId),yield Km(r.localStore,i.targetId,!0))})}function iV(t,e){return y(this,null,function*(){let n=ee(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Oy(n.remoteStore,r.targetId))})}function ab(t,e){return y(this,null,function*(){let n=ee(t);try{let r=yield HF(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Ca.get(o);s&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?be(s.pa):i.removedDocuments.size>0&&(be(s.pa),s.pa=!1))}),yield cb(n,r,e)}catch(r){yield Ty(r)}})}function gC(t,e,n){let r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((o,s)=>{let a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ee(s);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(c=!0)}),c&&Ly(u)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oV(t,e,n){return y(this,null,function*(){let r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),o=i&&i.key;if(o){let s=new ve(R.comparator);s=s.insert(o,Ht.newNoDocument(o,B.min()));let a=J().add(o),u=new wl(B.min(),new Map,new ve(oe),s,a);yield ab(r,u),r.Da=r.Da.remove(o),r.Ca.delete(e),jy(r)}else yield Km(r.localStore,e,!1).then(()=>hy(r,e,n)).catch(Ty)})}function hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||ub(t,r)})}function ub(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(Oy(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),jy(t))}function mC(t,e,n){for(let r of n)r instanceof Rl?(t.va.addReference(r.key,e),sV(t,r)):r instanceof Nl?(w("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||ub(t,r.key)):L()}function sV(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(w("SyncEngine","New document in limbo: "+n),t.ba.add(r),jy(t))}function jy(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new R(pe.fromString(e)),r=t.xa.next();t.Ca.set(r,new ly(n)),t.Da=t.Da.insert(n,r),eb(t.remoteStore,new na(hn(Py(n.path)),r,"TargetPurposeLimboResolution",DC._e))}}function cb(t,e,n){return y(this,null,function*(){let r=ee(t),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach((a,u)=>{s.push(r.Na(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);let l=qm.Ki(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.ya.u_(i),yield function(u,c){return y(this,null,function*(){let l=ee(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>g.forEach(c,h=>g.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>g.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!la(d))throw d;w("LocalStore","Failed to update sequence numbers: "+d)}for(let d of c){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),p=f.snapshotVersion,I=f.withLastLimboFreeSnapshotVersion(p);l.ns=l.ns.insert(h,I)}}})}(r.localStore,o))})}function aV(t,e){return y(this,null,function*(){let n=ee(t);if(!n.currentUser.isEqual(e)){w("SyncEngine","User change. New user:",e.toKey());let r=yield XC(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(u=>{u.reject(new D(m.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cb(n,r.us)}})}function uV(t,e){let n=ee(t),r=n.Ca.get(e);if(r&&r.pa)return J().add(r.key);{let i=J(),o=n.Sa.get(e);if(!o)return i;for(let s of o){let a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function lb(t){let e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ab.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oV.bind(null,e),e.ya.u_=XF.bind(null,e.eventManager),e.ya.La=JF.bind(null,e.eventManager),e}var Pl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return y(this,null,function*(){this.serializer=ql(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $F(this.persistence,new Gm,e.initialUser,this.serializer)}createPersistence(e){return new Um(Hm.Hr,this.serializer)}createSharedClientState(e){return new Qm}terminate(){return y(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var fy=class{initialize(e,n){return y(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aV.bind(null,this.syncEngine),yield ZF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new sy}()}createDatastore(e){let n=ql(e.databaseInfo.databaseId),r=function(o){return new Xm(o)}(e.databaseInfo);return function(o,s,a,u){return new ty(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new ry(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>gC(this.syncEngine,n,0),function(){return Tl.D()?new Tl:new Ym}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,l){let d=new dy(i,o,s,a,u,c);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return y(this,null,function*(){var e;yield function(r){return y(this,null,function*(){let i=ee(r);w("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield ha(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Ol=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):fn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var py=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pe.UNAUTHENTICATED,this.clientId=fl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>y(this,null,function*(){w("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(w("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new $t;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=rb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function zg(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),w("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>y(this,null,function*(){r.isEqual(i)||(yield XC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function yC(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield lV(t);w("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>fC(e.remoteStore,i)),t._onlineComponents=e})}function cV(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function lV(t){return y(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){w("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!cV(n))throw n;zi("Error using user provided cache. Falling back to memory cache: "+n),yield zg(t,new Pl)}}else w("FirestoreClient","Using default OfflineComponentProvider"),yield zg(t,new Pl);return t._offlineComponents})}function dV(t){return y(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(w("FirestoreClient","Using user provided OnlineComponentProvider"),yield yC(t,t._uninitializedComponentsProvider._online)):(w("FirestoreClient","Using default OnlineComponentProvider"),yield yC(t,new fy))),t._onlineComponents})}function db(t){return y(this,null,function*(){let e=yield dV(t),n=e.eventManager;return n.onListen=eV.bind(null,e.syncEngine),n.onUnlisten=rV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iV.bind(null,e.syncEngine),n})}function hV(t,e,n={}){let r=new $t;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(o,s,a,u,c){let l=new Ol({next:h=>{s.enqueueAndForget(()=>ob(o,d));let f=h.docs.has(a);!f&&h.fromCache?c.reject(new D(m.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&u&&u.source==="server"?c.reject(new D(m.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Ml(Py(a.path),l,{includeMetadataChanges:!0,ta:!0});return ib(o,d)}(yield db(t),t.asyncQueue,e,n,r)})),r.promise}function fV(t,e,n={}){let r=new $t;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(o,s,a,u,c){let l=new Ol({next:h=>{s.enqueueAndForget(()=>ob(o,d)),h.fromCache&&u.source==="server"?c.reject(new D(m.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Ml(a,l,{includeMetadataChanges:!0,ta:!0});return ib(o,d)}(yield db(t),t.asyncQueue,e,n,r)})),r.promise}function hb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var vC=new Map;function fb(t,e,n){if(!n)throw new D(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pV(t,e,n,r){if(e===!0&&r===!0)throw new D(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _C(t){if(!R.isDocumentKey(t))throw new D(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wC(t){if(R.isDocumentKey(t))throw new D(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":L()}function oa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Gl(t);throw new D(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var kl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new D(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new D(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new D(m.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new D(m.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new D(m.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},no=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new D(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Gg;switch(r.type){case"firstParty":return new Yg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new D(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=vC.get(n);r&&(w("ComponentProvider","Removing Datastore"),vC.delete(n),r.terminate())}(this),Promise.resolve()}};function gV(t,e,n,r={}){var i;let o=(t=oa(t,no))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Pe.MOCK_USER;else{a=Tc(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Pe(c)}t._authCredentials=new Wg(new hl(a,u))}}var ro=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},pt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Yn=class t extends ro{constructor(e,n,r){super(e,n,Py(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new R(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Wl(t,e,...n){if(t=Vt(t),fb("collection","path",e),t instanceof no){let r=pe.fromString(e,...n);return wC(r),new Yn(t,null,r)}{if(!(t instanceof pt||t instanceof Yn))throw new D(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(pe.fromString(e,...n));return wC(r),new Yn(t.firestore,null,r)}}function pb(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=fl.newId()),fb("doc","path",e),t instanceof no){let r=pe.fromString(e,...n);return _C(r),new pt(t,null,new R(r))}{if(!(t instanceof pt||t instanceof Yn))throw new D(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(pe.fromString(e,...n));return _C(r),new pt(t.firestore,t instanceof Yn?t.converter:null,new R(r))}}var gy=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Sl(this,"async_queue_retry"),this.cu=()=>{let n=qg();n&&w("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=qg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=qg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new $t;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return y(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!la(e))throw e;w("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw fn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=iy.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&L()}verifyOperationInProgress(){}Tu(){return y(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var sa=class extends no{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new gy}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yb(this),this._firestoreClient.terminate()}};function gb(t,e){let n=typeof t=="object"?t:Pc(),r=typeof t=="string"?t:e||"(default)",i=Rc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=bc("firestore");o&&gV(i,...o)}return i}function mb(t){return t._firestoreClient||yb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yb(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,c,l){return new im(a,u,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,hb(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new py(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var aa=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(tt.fromBase64String(e))}catch(n){throw new D(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Fl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new D(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vl=class{constructor(e){this._methodName=e}};var ua=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}};var mV=/^__.*__$/;function vb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}var my=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return vy(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(vb(this.Vu)&&mV.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},yy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ql(e)}Cu(e,n,r,i=!1){return new my({Vu:e,methodName:n,Du:r,path:Tt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function yV(t){let e=t._freezeSettings(),n=ql(t._databaseId);return new yy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vV(t,e,n,r=!1){return By(n,t.Cu(r?4:3,e))}function By(t,e){if(_b(t=Vt(t)))return wV("Unsupported field value:",e,t),_V(t,e);if(t instanceof Vl)return function(r,i){if(!vb(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=By(a,i.wu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Te.fromDate(r);return{timestampValue:Sm(i.serializer,o)}}if(r instanceof Te){let o=new Te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sm(i.serializer,o)}}if(r instanceof ua)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof aa)return{bytesValue:qC(i.serializer,r._byteString)};if(r instanceof pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Gl(r)}`)}(t,e)}function _V(t,e){let n={};return CC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(t,(r,i)=>{let o=By(i,e.fu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function _b(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Te||t instanceof ua||t instanceof aa||t instanceof pt||t instanceof Vl)}function wV(t,e,n){if(!_b(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Gl(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}var EV=new RegExp("[~\\*/\\[\\]]");function IV(t,e,n){if(e.search(EV)>=0)throw vy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fl(...e.split("."))._internalPath}catch{throw vy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vy(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new D(m.INVALID_ARGUMENT,a+t+u)}var Ll=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new _y(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(wb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},_y=class extends Ll{data(){return super.data()}};function wb(t,e){return typeof e=="string"?IV(t,e):e instanceof Fl?e._internalPath:e._delegate._internalPath}function DV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new D(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ca=class{},wy=class extends ca{};function Kl(t,e,...n){let r=[];e instanceof ca&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof Iy).length,a=o.filter(u=>u instanceof Ey).length;if(s>1||s>0&&a>0)throw new D(m.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Ey=class t extends wy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Eb(e._query,n),new ro(e.firestore,e.converter,ym(e._query,n))}_parse(e){let n=yV(e.firestore);return function(o,s,a,u,c,l,d){let h;if(c.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new D(m.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){IC(d,l);let f=[];for(let p of d)f.push(EC(u,o,p));h={arrayValue:{values:f}}}else h=EC(u,o,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||IC(d,l),h=vV(a,s,d,l==="in"||l==="not-in");return Ce.create(c,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var Iy=class t extends ca{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Eb(s,u),s=ym(s,u)}(e._query,n),new ro(e.firestore,e.converter,ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function EC(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new D(m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RC(e)&&n.indexOf("/")!==-1)throw new D(m.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(pe.fromString(n));if(!R.isDocumentKey(r))throw new D(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return K0(t,new R(r))}if(n instanceof pt)return K0(t,n._key);throw new D(m.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gl(n)}.`)}function IC(t,e){if(!Array.isArray(t)||t.length===0)throw new D(m.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Eb(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new D(m.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new D(m.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Dy=class{convertValue(e,n="none"){switch(Lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw L()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return da(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ua(ye(e.latitude),ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=xy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qs(e));default:return null}}convertTimestamp(e){let n=Zn(e);return new Te(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=pe.fromString(e);be(ZC(r));let i=new vl(r.get(1),r.get(3)),o=new R(r.popFirst(5));return i.isEqual(n)||fn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var Or=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},jl=class extends Ll{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new qi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(wb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},qi=class extends jl{data(e={}){return super.data(e)}},Cy=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Or(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qi(this._firestore,this._userDataWriter,r.key,r,new Or(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new qi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Or(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new qi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Or(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),c=-1,l=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:CV(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function CV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}function Ib(t){t=oa(t,pt);let e=oa(t.firestore,sa);return hV(mb(e),t._key).then(n=>bV(e,t,n))}var Bl=class extends Dy{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}};function Ql(t){t=oa(t,ro);let e=oa(t.firestore,sa),n=mb(e),r=new Bl(e);return DV(t._query),fV(n,t._query).then(i=>new Cy(e,r,t,i))}function bV(t,e,n){let r=n.docs.get(e._key),i=new Bl(t);return new jl(t,i,e._key,r,new Or(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){io=i})(Nc),Cr(new Lt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new sa(new Kg(r.getProvider("auth-internal")),new Xg(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new D(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(c.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),jt(q0,"4.5.0",e),jt(q0,"4.5.0","esm2017")})();var TV={apiKey:"AIzaSyBMDG_5lDDr2YeB9GwJGP_C3XO5hdcltbk",authDomain:"trippbarker-31e6e.firebaseapp.com",projectId:"trippbarker-31e6e",storageBucket:"trippbarker-31e6e.appspot.com",messagingSenderId:"648512597814",appId:"1:648512597814:web:25016cb4a291e39ee4cd97"},SV=Yp(TV),so=gb(SV);function AV(t,e){if(t&1&&(T(0,"div",2)(1,"a",3),Q(2,"img",4),T(3,"h2"),M(4),b()()()),t&2){let n=e.$implicit;ge(),ko("href",n.link,Po),ge(3),Fo(n.name)}}var Yl=(()=>{let e=class e{ngOnInit(){this.getProjects()}constructor(r,i){this.projectService=r,this.messageService=i,this.projects=new Array}getProjects(){return y(this,null,function*(){(yield Ql(Kl(Wl(so,"project")))).forEach(i=>{let o={id:i.id,ref:i.data().ref,images:i.data().images,technologies:i.data().technologies,name:i.data().name,link:i.data().link,description:i.data().description};this.projects.push(o)})})}};e.\u0275fac=function(i){return new(i||e)(U(Mi),U(hs))},e.\u0275cmp=qe({type:e,selectors:[["app-projects"]],standalone:!0,features:[mi],decls:2,vars:1,consts:[["id","projects"],["class","projectCont",4,"ngFor","ngForOf"],[1,"projectCont"],["target","_blank",1,"project",3,"href"],["src","","alt","",1,"projectImg"]],template:function(i,o){i&1&&(T(0,"div",0),En(1,AV,5,2,"div",1),b()),i&2&&(ge(),In("ngForOf",o.projects))},dependencies:[vi,wi],styles:["*[_ngcontent-%COMP%]{font-family:Azeret Mono,monospace}body[_ngcontent-%COMP%]{background-color:#e0fbfc}#projects[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;width:100%;max-width:500rem}.projectCont[_ngcontent-%COMP%]{margin:1rem;background-color:green;width:50%;max-width:35rem;height:25rem;display:flex;flex-direction:column;justify-content:center;align-items:center}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#293241;text-decoration:none}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ee6c4d}.project[_ngcontent-%COMP%]{background-color:#98c1d9;height:100%;width:100%;min-width:25rem;max-width:35rem;display:flex;flex-direction:column;padding:1rem;border-radius:1rem}.projectImg[_ngcontent-%COMP%]{background-color:#293241;height:90%;border-radius:.75rem .75rem 0 0}"]});let t=e;return t})();var Db=(()=>{let e=class e{constructor(r){this.projectService=r,this.projects=[]}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(U(Mi))},e.\u0275cmp=qe({type:e,selectors:[["app-dashboard"]],decls:9,vars:0,consts:[["routerLink","/dashboard"],["routerLink","/projects"],["routerLink","/bike"]],template:function(i,o){i&1&&(T(0,"nav")(1,"a",0),M(2,"ABOUT ME"),b(),T(3,"a",1),M(4,"PROJECTS"),b(),T(5,"a",2),M(6,"BIKE"),b(),T(7,"a"),M(8,"COOKING"),b()())},dependencies:[Gn],styles:["nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:0}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:.5rem 0rem .5rem 2rem;text-decoration:none;font-family:Azeret Mono,monospace;font-weight:bolder;font-size:2rem;color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff4500;margin-left:3rem;transition:.1s}"]});let t=e;return t})();function xV(t,e){if(t&1&&(T(0,"div",4)(1,"h2"),M(2),b(),T(3,"h3"),M(4),b()()),t&2){let n=e.$implicit;gi("routerLink","/brag/",n.year,""),ge(2),Jt("BRAG ",n.year,""),ge(2),df("",n.days[0].startLocation," to ",n.days[7].endLocation," (",n.distance," miles, ",n.elevation," feet climbed)")}}var Cb=(()=>{let e=class e{constructor(){this.brags=new Array}ngOnInit(){this.getBrags()}getBrags(){return y(this,null,function*(){let r=new Intl.NumberFormat("en-US");(yield Ql(Kl(Wl(so,"brag")))).forEach(o=>{let s=new Array,a=0,u=0;for(let l=0;l<8;l++){let h={date:new Te(o.data()["day"+l].date.seconds,o.data()["day"+l].date.nanoseconds).toDate(),day:o.data()["day"+l].day,number:o.data()["day"+l].number,distance:o.data()["day"+l].distance,elevation:o.data()["day"+l].elevation,endLocation:o.data()["day"+l].endLocation,startLocation:o.data()["day"+l].startLocation,stravaLink:o.data()["day"+l].stravaLink};a+=o.data()["day"+l].distance,u+=o.data()["day"+l].elevation,console.log(u),s.push(h)}let c={year:o.data().year,days:s,distance:r.format(Math.round((a+Number.EPSILON)*100)/100),elevation:r.format(Math.round((u+Number.EPSILON)*100)/100)};this.brags.push(c)}),console.log(this.brags)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["app-bike"]],decls:12,vars:1,consts:[["id","brags",1,"bikeContainer"],["routerLink","/checklist",1,"bragContainer"],["class","bragContainer",3,"routerLink",4,"ngFor","ngForOf"],["id","gear",1,"gearContainer"],[1,"bragContainer",3,"routerLink"]],template:function(i,o){i&1&&(T(0,"div",0)(1,"h1"),M(2,"Bike Ride Across Georgia"),b(),T(3,"div",1)(4,"h2"),M(5,"BRAG CHECKLIST"),b(),T(6,"h3"),M(7,"A checklist for BRAG including everything I need for showering, camping, and riding."),b()(),En(8,xV,5,7,"div",2),b(),T(9,"div",3)(10,"h1"),M(11,"GEAR"),b()()),i&2&&(ge(8),In("ngForOf",o.brags))},dependencies:[vi,Gn],styles:[".bikeContainer[_ngcontent-%COMP%], .bragContainer[_ngcontent-%COMP%], .gearContainer[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 2rem}.bragContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#00008b}.bragContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:1rem}.bragContainer[_ngcontent-%COMP%]:hover{cursor:pointer;margin-left:3rem;transition:.1s}.bragContainer[_ngcontent-%COMP%]:hover   h2[_ngcontent-%COMP%]{color:#ff4500}"]});let t=e;return t})();var Rb="firebasestorage.googleapis.com",Nb="storageBucket",MV=2*60*1e3,RV=10*60*1e3;var Oe=class t extends Ft{constructor(e,n,r=0){super(Uy(e),`Firebase Storage: ${n} (${Uy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Uy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ue=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ue||{});function Uy(t){return"storage/"+t}function Pb(){let t="An unknown error occurred, please check the error payload for server response.";return new Oe(Ue.UNKNOWN,t)}function NV(t){return new Oe(Ue.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function PV(t){return new Oe(Ue.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OV(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Oe(Ue.UNAUTHENTICATED,t)}function kV(){return new Oe(Ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function FV(t){return new Oe(Ue.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function VV(){return new Oe(Ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LV(){return new Oe(Ue.CANCELED,"User canceled the upload/download.")}function jV(t){return new Oe(Ue.INVALID_URL,"Invalid URL '"+t+"'.")}function BV(t){return new Oe(Ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function UV(){return new Oe(Ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Nb+"' property when initializing the app?")}function $V(){return new Oe(Ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $y(t){return new Oe(Ue.INVALID_ARGUMENT,t)}function Ob(){return new Oe(Ue.APP_DELETED,"The Firebase app was deleted.")}function HV(t){return new Oe(Ue.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pa(t){throw new Oe(Ue.INTERNAL_ERROR,"Internal error: "+t)}var gt=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw BV(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function c(W){W.path_=decodeURIComponent(W.path)}let l="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${l}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},I=n===Rb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",x=new RegExp(`^https?://${I}/${i}/${E}`,"i"),G=[{regex:a,indices:u,postModify:o},{regex:f,indices:p,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let W=0;W<G.length;W++){let Se=G[W],ne=Se.regex.exec(e);if(ne){let Qe=ne[Se.indices.bucket],mt=ne[Se.indices.path];mt||(mt=""),r=new t(Qe,mt),Se.postModify(r);break}}if(r==null)throw jV(e);return r}},Hy=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function qV(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let c=!1;function l(...E){c||(c=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(f,u())},E)}function h(){o&&clearTimeout(o)}function f(E,...x){if(c){h();return}if(E){h(),l.call(null,E,...x);return}if(u()||s){h(),l.call(null,E,...x);return}r<64&&(r*=2);let G;a===1?(a=2,G=0):G=(r+Math.random())*1e3,d(G)}let p=!1;function I(E){p||(p=!0,h(),!c&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,I(!0)},n),I}function zV(t){t(!1)}function GV(t){return t!==void 0}function WV(t){return typeof t=="object"&&!Array.isArray(t)}function kb(t){return typeof t=="string"||t instanceof String}function qy(t,e,n,r){if(r<e)throw $y(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw $y(`Invalid value for '${t}'. Expected ${n} or less.`)}function Ky(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Fb(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var uo=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(uo||{});function KV(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var zy=class{constructor(e,n,r,i,o,s,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new ao(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===uo.NO_ERROR,u=o.getStatus();if(!a||KV(u,this.additionalRetryCodes_)&&this.retry){let l=o.getErrorCode()===uo.ABORT;r(!1,new ao(!1,null,l));return}let c=this.successCodes_.indexOf(u)!==-1;r(!0,new ao(c,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());GV(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=Pb();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?Ob():LV();s(u)}else{let u=VV();s(u)}};this.canceled_?n(!1,new ao(!1,null,!0)):this.backoffId_=qV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ao=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function QV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function YV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function XV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function JV(t,e,n,r,i,o,s=!0){let a=Fb(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return ZV(c,e),QV(c,n),YV(c,o),XV(c,r),new zy(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function Qy(t){let e;try{e=JSON.parse(t)}catch{return null}return WV(e)?e:null}function eL(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function tL(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Vb(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function nL(t,e){return e}var Be=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||nL}},Zl=null;function rL(t){return!kb(t)||t.length<2?t:Vb(t)}function iL(){if(Zl)return Zl;let t=[];t.push(new Be("bucket")),t.push(new Be("generation")),t.push(new Be("metageneration")),t.push(new Be("name","fullPath",!0));function e(o,s){return rL(s)}let n=new Be("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new Be("size");return i.xform=r,t.push(i),t.push(new Be("timeCreated")),t.push(new Be("updated")),t.push(new Be("md5Hash",null,!0)),t.push(new Be("cacheControl",null,!0)),t.push(new Be("contentDisposition",null,!0)),t.push(new Be("contentEncoding",null,!0)),t.push(new Be("contentLanguage",null,!0)),t.push(new Be("contentType",null,!0)),t.push(new Be("metadata","customMetadata",!0)),Zl=t,Zl}function oL(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new gt(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function sL(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return oL(r,t),r}function aL(t,e,n){let r=Qy(e);return r===null?null:sL(t,r,n)}function uL(t,e,n,r){let i=Qy(e);if(i===null||!kb(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(c=>{let l=t.bucket,d=t.fullPath,h="/b/"+s(l)+"/o/"+s(d),f=Ky(h,n,r),p=Fb({alt:"media",token:c});return f+p})[0]}var bb="prefixes",Tb="items";function cL(t,e,n){let r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[bb])for(let i of n[bb]){let o=i.replace(/\/$/,""),s=t._makeStorageReference(new gt(e,o));r.prefixes.push(s)}if(n[Tb])for(let i of n[Tb]){let o=t._makeStorageReference(new gt(e,i.name));r.items.push(o)}return r}function lL(t,e,n){let r=Qy(n);return r===null?null:cL(t,e,r)}var Xl=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Lb(t){if(!t)throw Pb()}function dL(t,e){function n(r,i){let o=lL(t,e,i);return Lb(o!==null),o}return n}function hL(t,e){function n(r,i){let o=aL(t,i,e);return Lb(o!==null),uL(o,i,t.host,t._protocol)}return n}function jb(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=kV():i=OV():n.getStatus()===402?i=PV(t.bucket):n.getStatus()===403?i=FV(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function fL(t){let e=jb(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=NV(t.path)),o.serverResponse=i.serverResponse,o}return n}function pL(t,e,n,r,i){let o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);let s=e.bucketOnlyServerUrl(),a=Ky(s,t.host,t._protocol),u="GET",c=t.maxOperationRetryTime,l=new Xl(a,u,dL(t,e.bucket),c);return l.urlParams=o,l.errorHandler=jb(e),l}function gL(t,e,n){let r=e.fullServerUrl(),i=Ky(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Xl(i,o,hL(t,n),s);return a.errorHandler=fL(e),a}var wz=256*1024;var Sb=null,Gy=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw pa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Wy=class extends Gy{initXhr(){this.xhr_.responseType="text"}};function Bb(){return Sb?Sb():new Wy}var co=class t{constructor(e,n){this._service=e,n instanceof gt?this._location=n:this._location=gt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new gt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vb(this._location.path)}get storage(){return this._service}get parent(){let e=eL(this._location.path);if(e===null)return null;let n=new gt(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HV(e)}};function mL(t){let e={prefixes:[],items:[]};return Ub(t,e).then(()=>e)}function Ub(t,e,n){return y(this,null,function*(){let i=yield yL(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield Ub(t,e,i.nextPageToken))})}function yL(t,e){e!=null&&typeof e.maxResults=="number"&&qy("options.maxResults",1,1e3,e.maxResults);let n=e||{},r=pL(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Bb)}function vL(t){t._throwIfRoot("getDownloadURL");let e=gL(t.storage,t._location,iL());return t.storage.makeRequestWithTokens(e,Bb).then(n=>{if(n===null)throw $V();return n})}function _L(t,e){let n=tL(t._location.path,e),r=new gt(t._location.bucket,n);return new co(t.storage,r)}function wL(t){return/^[A-Za-z]+:\/\//.test(t)}function EL(t,e){return new co(t,e)}function $b(t,e){if(t instanceof ga){let n=t;if(n._bucket==null)throw UV();let r=new co(n,n._bucket);return e!=null?$b(r,e):r}else return e!==void 0?_L(t,e):t}function IL(t,e){if(e&&wL(e)){if(t instanceof ga)return EL(t,e);throw $y("To use ref(service, url), the first argument must be a Storage instance.")}else return $b(t,e)}function Ab(t,e){let n=e?.[Nb];return n==null?null:gt.makeFromBucketSpec(n,t)}function DL(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Tc(i,t.app.options.projectId))}var ga=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Rb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MV,this._maxUploadRetryTime=RV,this._requests=new Set,i!=null?this._bucket=gt.makeFromBucketSpec(i,this._host):this._bucket=Ab(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gt.makeFromBucketSpec(this._url,e):this._bucket=Ab(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return y(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return y(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new co(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Hy(Ob());{let s=JV(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return y(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},xb="@firebase/storage",Mb="0.12.2";var Hb="storage";function qb(t){return t=Vt(t),mL(t)}function zb(t){return t=Vt(t),vL(t)}function Yy(t,e){return t=Vt(t),IL(t,e)}function Gb(t=Pc(),e){t=Vt(t);let r=Rc(t,Hb).getImmediate({identifier:e}),i=bc("storage");return i&&CL(r,...i),r}function CL(t,e,n,r={}){DL(t,e,n,r)}function bL(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ga(n,r,i,e,Nc)}function TL(){Cr(new Lt(Hb,bL,"PUBLIC").setMultipleInstances(!0)),jt(xb,Mb,""),jt(xb,Mb,"esm2017")}TL();function SL(t,e){if(t&1&&(T(0,"div",3)(1,"h2"),M(2),T(3,"i"),M(4),b()(),T(5,"p"),M(6),b(),T(7,"p"),M(8,"see the ride "),T(9,"a",4),M(10,"here"),b()(),Q(11,"div",5),b()),t&2){let n=e.$implicit;ge(2),Jt("day ",n.day," "),ge(2),Hu("",n.startLocation," to ",n.endLocation,""),ge(2),Hu("",n.distance," miles, ",n.elevation," feet climbed"),ge(3),ko("href",n.stravaLink,Po),ge(2),gi("id","day",n.number,"images")}}var Wb=(()=>{let e=class e{constructor(r,i){this.route=r,this.router=i,this.brag={year:0,days:new Array,distance:"",elevation:""}}ngOnInit(){return y(this,null,function*(){yield this.getBrag(),this.brag.days.forEach(r=>{console.log("hello"),console.log(this.brag.year.toString()),this.getImages(this.brag.year.toString(),r.number)})})}getBrag(){return y(this,null,function*(){let r=this.route.snapshot.paramMap.get("year"),i=yield Ib(pb(so,"brag","brag"+r)),o=new Intl.NumberFormat("en-US"),s=new Array,a=0,u=0;for(let l=0;l<8;l++){let h={date:new Te(i.get("day"+l).date.seconds,i.get("day"+l).date.nanoseconds).toDate(),day:i.get("day"+l).day,number:i.get("day"+l).number,distance:i.get("day"+l).distance,elevation:i.get("day"+l).elevation,endLocation:i.get("day"+l).endLocation,startLocation:i.get("day"+l).startLocation,stravaLink:i.get("day"+l).stravaLink};a+=i.get("day"+l).distance,u+=i.get("day"+l).elevation,s.push(h)}let c={year:i.get("year"),days:s,distance:o.format(Math.round((a+Number.EPSILON)*100)/100),elevation:o.format(Math.round((u+Number.EPSILON)*100)/100)};this.brag=c})}getImages(r,i){return y(this,null,function*(){let o=Gb(),s=Yy(o,"brag/"+r+"/day"+i+"/thumbnails");qb(s).then(a=>{a.items.forEach(u=>{zb(Yy(o,u.fullPath)).then(c=>{let l=document.createElement("img");l.id=u.name,l.src=c,l.setAttribute("height","100%"),l.style.setProperty("margin-right","1rem"),l.style.setProperty("border-radius","2rem"),document.getElementById("day"+i+"images")?.appendChild(l)})})})})}};e.\u0275fac=function(i){return new(i||e)(U(kt),U(on))},e.\u0275cmp=qe({type:e,selectors:[["app-brag"]],decls:6,vars:2,consts:[["routerLink","/bike","id","back"],["id","bragContainer"],["class","dayContainer",4,"ngFor","ngForOf"],[1,"dayContainer"],["target","_blank",3,"href"],[1,"bragImages",3,"id"]],template:function(i,o){i&1&&(T(0,"a",0),M(1,"[BACK]"),b(),T(2,"div",1)(3,"h1"),M(4),b(),En(5,SL,12,8,"div",2),b()),i&2&&(ge(4),Jt("BRAG ",o.brag.year,""),ge(),In("ngForOf",o.brag.days))},dependencies:[vi,Gn],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ff4500}#bragContainer[_ngcontent-%COMP%], .dayContainer[_ngcontent-%COMP%], #back[_ngcontent-%COMP%]{margin-left:1rem}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:bolder;color:#00008b}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff4500}.bragImages[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:20rem;overflow-x:scroll;overflow-y:hidden}img[_ngcontent-%COMP%]{margin:1rem}"]});let t=e;return t})();var Kb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["app-checklist"]],decls:91,vars:0,consts:[["type","checkbox","name","camping","id","tent"],["for","tent"],["type","checkbox","name","camping","id","stakes"],["for","stakes"],["type","checkbox","name","camping","id","chair"],["for","chair"],["type","checkbox","name","camping","id","bugspray"],["for","bugspray"],["type","checkbox","name","camping","id","sunscreen"],["for","sunscreen"],["type","checkbox","name","camping","id","batterybank"],["for","batterybank"],["type","checkbox","name","camping","id","clothes"],["for","clothes"],["type","checkbox","name","camping","id","shoes"],["for","shoes"],["type","checkbox","name","sleeping","id","sleepingpad"],["for","sleepingpad"],["type","checkbox","name","sleeping","id","sleepingbag"],["for","sleepingbag"],["type","checkbox","name","sleeping","id","eyemask"],["for","eyemask"],["type","checkbox","name","sleeping","id","earplugs"],["for","earplugs"],["type","checkbox","name","sleeping","id","fans"],["for","fans"],["type","checkbox","name","shower","id","soap"],["for","soap"],["type","checkbox","name","shower","id","shampoo"],["for","shampoo"],["type","checkbox","name","shower","id","towel"],["for","towel"],["type","checkbox","name","bike","id","bike"],["for","bike"],["type","checkbox","name","bike","id","helmet"],["for","helmet"],["for","glasses"],["type","checkbox","name","bike","id","cyclingshoes"],["for","cyclingshoes"]],template:function(i,o){i&1&&(T(0,"div")(1,"h2"),M(2,"BRAG Checklist"),b(),T(3,"h3"),M(4,"Camping"),b(),Q(5,"input",0),T(6,"label",1),M(7,"tent"),b(),Q(8,"br")(9,"input",2),T(10,"label",3),M(11,"stakes"),b(),Q(12,"br")(13,"input",4),T(14,"label",5),M(15,"camping chair"),b(),Q(16,"br")(17,"input",6),T(18,"label",7),M(19,"bug spray"),b(),Q(20,"br")(21,"input",8),T(22,"label",9),M(23,"sun sunscreen"),b(),Q(24,"br")(25,"input",10),T(26,"label",11),M(27,"battery bank"),b(),Q(28,"br")(29,"input",12),T(30,"label",13),M(31,"clothes"),b(),Q(32,"br")(33,"input",14),T(34,"label",15),M(35,"shoes"),b(),Q(36,"br"),T(37,"h3"),M(38,"Sleeping"),b(),Q(39,"input",16),T(40,"label",17),M(41,"sleeping pad"),b(),Q(42,"br")(43,"input",18),T(44,"label",19),M(45,"sleeping bag"),b(),Q(46,"br")(47,"input",20),T(48,"label",21),M(49,"eyemask"),b(),Q(50,"br")(51,"input",22),T(52,"label",23),M(53,"earplugs"),b(),Q(54,"br")(55,"input",24),T(56,"label",25),M(57,"fans"),b(),Q(58,"br"),T(59,"h3"),M(60,"Shower"),b(),Q(61,"input",26),T(62,"label",27),M(63,"soap"),b(),Q(64,"br")(65,"input",28),T(66,"label",29),M(67,"shampoo"),b(),Q(68,"br")(69,"input",30),T(70,"label",31),M(71,"towel"),b(),Q(72,"br"),T(73,"h3"),M(74,"Bike"),b(),Q(75,"input",32),T(76,"label",33),M(77,"bike"),b(),Q(78,"br")(79,"input",34),T(80,"label",35),M(81,"helmet"),b(),Q(82,"br")(83,"input",34),T(84,"label",36),M(85,"glasses"),b(),Q(86,"br")(87,"input",37),T(88,"label",38),M(89,"cycling shoes"),b(),Q(90,"br"),b())}});let t=e;return t})();var AL=[{path:"projects",component:Yl},{path:"dashboard",component:Db},{path:"project/:ref",component:iD},{path:"bike",component:Cb},{path:"brag/:year",component:Wb},{path:"checklist",component:Kb},{path:"",redirectTo:"/dashboard",pathMatch:"full"}],Qb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=it({type:e}),e.\u0275inj=rt({imports:[Mp.forRoot(AL),Mp]});let t=e;return t})();var Yb=(()=>{let e=class e{constructor(){this.title="Tripp Barker"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["app-root"]],decls:7,vars:1,consts:[["rel","preconnect","href",Pu`https://fonts.googleapis.com`],["rel","preconnect","href",Pu`https://fonts.gstatic.com`,"crossorigin",""],["href",Pu`https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100..900;1,100..900&display=swap`,"rel","stylesheet"],["routerLink","/dashboard","id","title"]],template:function(i,o){i&1&&(Q(0,"link",0)(1,"link",1)(2,"link",2),T(3,"a",3)(4,"h1"),M(5),b()(),Q(6,"router-outlet")),i&2&&(ge(5),Fo(o.title))},dependencies:[Dp,Gn]});let t=e;return t})();var Zb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=it({type:e,bootstrap:[Yb]}),e.\u0275inj=rt({imports:[KE,Qb,wi,Yl]});let t=e;return t})();WE().bootstrapModule(Zb).catch(t=>console.error(t));
