var K0=Object.defineProperty,Q0=Object.defineProperties;var Y0=Object.getOwnPropertyDescriptors;var hy=Object.getOwnPropertySymbols;var Z0=Object.prototype.hasOwnProperty,J0=Object.prototype.propertyIsEnumerable;var fy=(t,e,n)=>e in t?K0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E=(t,e)=>{for(var n in e||={})Z0.call(e,n)&&fy(t,n,e[n]);if(hy)for(var n of hy(e))J0.call(e,n)&&fy(t,n,e[n]);return t},te=(t,e)=>Q0(t,Y0(e));var w=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(c){i(c)}},s=u=>{try{a(n.throw(u))}catch(c){i(c)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var py=null;var El=1,Il=Symbol("SIGNAL");function Q(t){let e=py;return py=t,e}var gy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function X0(t){if(!(bl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===El)){if(!t.producerMustRecompute(t)&&!Dl(t)){t.dirty=!1,t.lastCleanEpoch=El;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=El}}function my(t){return t&&(t.nextProducerIndex=0),Q(t)}function yy(t,e){if(Q(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(bl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Cl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Dl(t){Js(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(X0(n),r!==n.version))return!0}return!1}function vy(t){if(Js(t),bl(t))for(let e=0;e<t.producerNode.length;e++)Cl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Cl(t,e){if(eb(t),Js(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Cl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Js(i),i.producerIndexOfThis[r]=e}}function bl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Js(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function eb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function tb(){throw new Error}var nb=tb;function _y(t){nb=t}function O(t){return typeof t=="function"}function br(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Xs=br(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function zi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(o){e=o instanceof Xs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{wy(o)}catch(s){e=e??[],s instanceof Xs?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Xs(e)}}add(e){var n;if(e&&e!==this)if(this.closed)wy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zi(n,e)}remove(e){let{_finalizers:n}=this;n&&zi(n,e),e instanceof t&&e._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var Tl=Ee.EMPTY;function ea(t){return t instanceof Ee||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function wy(t){O(t)?t():t.unsubscribe()}var _t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Tr={setTimeout(t,e,...n){let{delegate:r}=Tr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Tr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ta(t){Tr.setTimeout(()=>{let{onUnhandledError:e}=_t;if(e)e(t);else throw t})}function Gi(){}var Ey=Sl("C",void 0,void 0);function Iy(t){return Sl("E",void 0,t)}function Dy(t){return Sl("N",t,void 0)}function Sl(t,e,n){return{kind:t,value:e,error:n}}var $n=null;function Sr(t){if(_t.useDeprecatedSynchronousErrorHandling){let e=!$n;if(e&&($n={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=$n;if($n=null,n)throw r}}else t()}function Cy(t){_t.useDeprecatedSynchronousErrorHandling&&$n&&($n.errorThrown=!0,$n.error=t)}var Hn=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ea(e)&&e.add(this)):this.destination=ob}static create(e,n,r){return new Ar(e,n,r)}next(e){this.isStopped?Ml(Dy(e),this):this._next(e)}error(e){this.isStopped?Ml(Iy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ml(Ey,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rb=Function.prototype.bind;function Al(t,e){return rb.call(t,e)}var xl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){na(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){na(r)}else na(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){na(n)}}},Ar=class extends Hn{constructor(e,n,r){super();let i;if(O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&_t.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Al(e.next,o),error:e.error&&Al(e.error,o),complete:e.complete&&Al(e.complete,o)}):i=e}this.destination=new xl(i)}};function na(t){_t.useDeprecatedSynchronousErrorHandling?Cy(t):ta(t)}function ib(t){throw t}function Ml(t,e){let{onStoppedNotification:n}=_t;n&&Tr.setTimeout(()=>n(t,e))}var ob={closed:!0,next:Gi,error:ib,complete:Gi};var Mr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tt(t){return t}function Rl(...t){return Nl(t)}function Nl(t){return t.length===0?tt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Y=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=ab(n)?n:new Ar(n,r,i);return Sr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=by(r),new r((i,o)=>{let s=new Ar({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Mr](){return this}pipe(...n){return Nl(n)(this)}toPromise(n){return n=by(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function by(t){var e;return(e=t??_t.Promise)!==null&&e!==void 0?e:Promise}function sb(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}function ab(t){return t&&t instanceof Hn||sb(t)&&ea(t)}function Pl(t){return O(t?.lift)}function q(t){return e=>{if(Pl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(t,e,n,r,i){return new Ol(t,e,n,r,i)}var Ol=class extends Hn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xr(){return q((t,e)=>{let n=null;t._refCount++;let r=B(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Rr=class extends Y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Pl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let n=this.getSubject();e.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return xr()(this)}};var Ty=br(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class t extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ra(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ty}next(n){Sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tl:(this.currentObservers=null,o.push(n),new Ee(()=>{this.currentObservers=null,zi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Y;return n.source=this,n}}return t.create=(e,n)=>new ra(e,n),t})(),ra=class extends Oe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Tl}};var Ae=class extends Oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var nt=new Y(t=>t.complete());function Sy(t){return t&&O(t.schedule)}function Ay(t){return t[t.length-1]}function ia(t){return O(Ay(t))?t.pop():void 0}function gn(t){return Sy(Ay(t))?t.pop():void 0}function xy(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function My(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qn(t){return this instanceof qn?(this.v=t,this):new qn(t)}function Ry(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(m,I){o.push([h,f,m,I])>1||a(h,f)})})}function a(h,f){try{u(r[h](f))}catch(m){d(o[0][3],m)}}function u(h){h.value instanceof qn?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Ny(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof My=="function"?My(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}}var oa=t=>t&&typeof t.length=="number"&&typeof t!="function";function sa(t){return O(t?.then)}function aa(t){return O(t[Mr])}function ua(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function ca(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ub(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var la=ub();function da(t){return O(t?.[la])}function ha(t){return Ry(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield qn(n.read());if(i)return yield qn(void 0);yield yield qn(r)}}finally{n.releaseLock()}})}function fa(t){return O(t?.getReader)}function pe(t){if(t instanceof Y)return t;if(t!=null){if(aa(t))return cb(t);if(oa(t))return lb(t);if(sa(t))return db(t);if(ua(t))return Py(t);if(da(t))return hb(t);if(fa(t))return fb(t)}throw ca(t)}function cb(t){return new Y(e=>{let n=t[Mr]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lb(t){return new Y(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function db(t){return new Y(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ta)})}function hb(t){return new Y(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Py(t){return new Y(e=>{pb(t,e).catch(n=>e.error(n))})}function fb(t){return Py(ha(t))}function pb(t,e){var n,r,i,o;return xy(this,void 0,void 0,function*(){try{for(n=Ny(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function We(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function pa(t,e=0){return q((n,r)=>{n.subscribe(B(r,i=>We(r,t,()=>r.next(i),e),()=>We(r,t,()=>r.complete(),e),i=>We(r,t,()=>r.error(i),e)))})}function ga(t,e=0){return q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Oy(t,e){return pe(t).pipe(ga(e),pa(e))}function Fy(t,e){return pe(t).pipe(ga(e),pa(e))}function ky(t,e){return new Y(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Vy(t,e){return new Y(n=>{let r;return We(n,e,()=>{r=t[la](),We(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function ma(t,e){if(!t)throw new Error("Iterable cannot be null");return new Y(n=>{We(n,e,()=>{let r=t[Symbol.asyncIterator]();We(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ly(t,e){return ma(ha(t),e)}function jy(t,e){if(t!=null){if(aa(t))return Oy(t,e);if(oa(t))return ky(t,e);if(sa(t))return Fy(t,e);if(ua(t))return ma(t,e);if(da(t))return Vy(t,e);if(fa(t))return Ly(t,e)}throw ca(t)}function ce(t,e){return e?jy(t,e):pe(t)}function R(...t){let e=gn(t);return ce(t,e)}function Nr(t,e){let n=O(t)?t:()=>t,r=i=>i.error(n());return new Y(e?i=>e.schedule(r,0,i):r)}function Fl(t){return!!t&&(t instanceof Y||O(t.lift)&&O(t.subscribe))}var Jt=br(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function U(t,e){return q((n,r)=>{let i=0;n.subscribe(B(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:gb}=Array;function mb(t,e){return gb(e)?t(...e):t(e)}function ya(t){return U(e=>mb(t,e))}var{isArray:yb}=Array,{getPrototypeOf:vb,prototype:_b,keys:wb}=Object;function va(t){if(t.length===1){let e=t[0];if(yb(e))return{args:e,keys:null};if(Eb(e)){let n=wb(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Eb(t){return t&&typeof t=="object"&&vb(t)===_b}function _a(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Wi(...t){let e=gn(t),n=ia(t),{args:r,keys:i}=va(t);if(r.length===0)return ce([],e);let o=new Y(Ib(r,e,i?s=>_a(i,s):tt));return n?o.pipe(ya(n)):o}function Ib(t,e,n=tt){return r=>{By(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)By(e,()=>{let c=ce(t[u],e),l=!1;c.subscribe(B(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function By(t,e,n){t?We(n,t,e):e()}function Uy(t,e,n,r,i,o,s,a){let u=[],c=0,l=0,d=!1,h=()=>{d&&!u.length&&!c&&e.complete()},f=I=>c<r?m(I):u.push(I),m=I=>{o&&e.next(I),c++;let C=!1;pe(n(I,l++)).subscribe(B(e,A=>{i?.(A),o?f(A):e.next(A)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;u.length&&c<r;){let A=u.shift();s?We(e,s,()=>m(A)):m(A)}h()}catch(A){e.error(A)}}))};return t.subscribe(B(e,f,()=>{d=!0,h()})),()=>{a?.()}}function ge(t,e,n=1/0){return O(e)?ge((r,i)=>U((o,s)=>e(r,o,i,s))(pe(t(r,i))),n):(typeof e=="number"&&(n=e),q((r,i)=>Uy(r,i,t,n)))}function Pr(t=1/0){return ge(tt,t)}function $y(){return Pr(1)}function Or(...t){return $y()(ce(t,gn(t)))}function wa(t){return new Y(e=>{pe(t()).subscribe(e)})}function kl(...t){let e=ia(t),{args:n,keys:r}=va(t),i=new Y(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,c=s;for(let l=0;l<s;l++){let d=!1;pe(n[l]).subscribe(B(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?_a(r,a):a),o.complete())}))}});return e?i.pipe(ya(e)):i}function ut(t,e){return q((n,r)=>{let i=0;n.subscribe(B(r,o=>t.call(e,o,i++)&&r.next(o)))})}function mn(t){return q((e,n)=>{let r=null,i=!1,o;r=e.subscribe(B(n,void 0,void 0,s=>{o=pe(t(s,mn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Hy(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(B(s,l=>{let d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function zn(t,e){return O(e)?ge(t,e,1):ge(t,1)}function yn(t){return q((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Xt(t){return t<=0?()=>nt:q((e,n)=>{let r=0;e.subscribe(B(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Vl(t){return U(()=>t)}function Ea(t=Db){return q((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Db(){return new Jt}function Ki(t){return q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function xt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ut((i,o)=>t(i,o,r)):tt,Xt(1),n?yn(e):Ea(()=>new Jt))}function Fr(t){return t<=0?()=>nt:q((e,n)=>{let r=[];e.subscribe(B(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ll(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ut((i,o)=>t(i,o,r)):tt,Fr(1),n?yn(e):Ea(()=>new Jt))}function jl(t,e){return q(Hy(t,e,arguments.length>=2,!0))}function Bl(...t){let e=gn(t);return q((n,r)=>{(e?Or(t,n,e):Or(t,n)).subscribe(r)})}function ct(t,e){return q((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(B(r,u=>{i?.unsubscribe();let c=0,l=o++;pe(t(u,l)).subscribe(i=B(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ul(t){return q((e,n)=>{pe(t).subscribe(B(n,()=>n.complete(),Gi)),!n.closed&&e.subscribe(n)})}function Me(t,e,n){let r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?q((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(B(o,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),o.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):tt}var Mv="https://g.co/ng/security#xss",T=class extends Error{constructor(e,n){super(Hd(e,n)),this.code=e}};function Hd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ao(t){return{toString:t}.toString()}var Ia="__parameters__";function Cb(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function xv(t,e,n){return ao(()=>{let r=Cb(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,c,l){let d=u.hasOwnProperty(Ia)?u[Ia]:Object.defineProperty(u,Ia,{value:[]})[Ia];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var xe=globalThis;function ne(t){for(let e in t)if(t[e]===ne)return e;throw Error("Could not find renamed property on target object.")}function bb(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function $e(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map($e).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function qy(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Tb=ne({__forward_ref__:ne});function uo(t){return t.__forward_ref__=uo,t.toString=function(){return $e(this())},t}function Ue(t){return Rv(t)?t():t}function Rv(t){return typeof t=="function"&&t.hasOwnProperty(Tb)&&t.__forward_ref__===uo}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ke(t){return{providers:t.providers||[],imports:t.imports||[]}}function nu(t){return zy(t,Pv)||zy(t,Ov)}function Nv(t){return nu(t)!==null}function zy(t,e){return t.hasOwnProperty(e)?t[e]:null}function Sb(t){let e=t&&(t[Pv]||t[Ov]);return e||null}function Gy(t){return t&&(t.hasOwnProperty(Wy)||t.hasOwnProperty(Ab))?t[Wy]:null}var Pv=ne({\u0275prov:ne}),Wy=ne({\u0275inj:ne}),Ov=ne({ngInjectableDef:ne}),Ab=ne({ngInjectorDef:ne}),M=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Fv(t){return t&&!!t.\u0275providers}var Mb=ne({\u0275cmp:ne}),xb=ne({\u0275dir:ne}),Rb=ne({\u0275pipe:ne}),Nb=ne({\u0275mod:ne}),Pa=ne({\u0275fac:ne}),Qi=ne({__NG_ELEMENT_ID__:ne}),Ky=ne({__NG_ENV_ID__:ne});function ru(t){return typeof t=="string"?t:t==null?"":String(t)}function Pb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ru(t)}function Ob(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,t)}function qd(t,e){throw new T(-201,!1)}var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(j||{}),nd;function kv(){return nd}function lt(t){let e=nd;return nd=t,e}function Vv(t,e,n){let r=nu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&j.Optional)return null;if(e!==void 0)return e;qd(t,"Injector")}var Fb={},Zi=Fb,rd="__NG_DI_FLAG__",Oa="ngTempTokenPath",kb="ngTokenPath",Vb=/\n/gm,Lb="\u0275",Qy="__source",Br;function jb(){return Br}function vn(t){let e=Br;return Br=t,e}function Bb(t,e=j.Default){if(Br===void 0)throw new T(-203,!1);return Br===null?Vv(t,void 0,e):Br.get(t,e&j.Optional?null:void 0,e)}function S(t,e=j.Default){return(kv()||Bb)(Ue(t),e)}function v(t,e=j.Default){return S(t,iu(e))}function iu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function id(t){let e=[];for(let n=0;n<t.length;n++){let r=Ue(t[n]);if(Array.isArray(r)){if(r.length===0)throw new T(900,!1);let i,o=j.Default;for(let s=0;s<r.length;s++){let a=r[s],u=Ub(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(S(i,o))}else e.push(S(r))}return e}function Lv(t,e){return t[rd]=e,t.prototype[rd]=e,t}function Ub(t){return t[rd]}function $b(t,e,n,r){let i=t[Oa];throw e[Qy]&&i.unshift(e[Qy]),t.message=Hb(`
`+t.message,i,n,r),t[kb]=i,t[Oa]=null,t}function Hb(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Lb?t.slice(2):t;let i=$e(e);if(Array.isArray(e))i=e.map($e).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):$e(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Vb,`
  `)}`}var ou=Lv(xv("Optional"),8);var zd=Lv(xv("SkipSelf"),4);function $r(t,e){let n=t.hasOwnProperty(Pa);return n?t[Pa]:null}function Gd(t,e){t.forEach(n=>Array.isArray(n)?Gd(n,e):e(n))}function jv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qb(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function zb(t,e,n){let r=co(t,e);return r>=0?t[r|1]=n:(r=~r,qb(t,r,e,n)),r}function $l(t,e){let n=co(t,e);if(n>=0)return t[n|1]}function co(t,e){return Gb(t,e,1)}function Gb(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Hr={},dt=[],qr=new M(""),Bv=new M("",-1),Uv=new M(""),ka=class{get(e,n=Zi){if(n===Zi){let r=new Error(`NullInjectorError: No provider for ${$e(e)}!`);throw r.name="NullInjectorError",r}return n}},$v=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}($v||{}),Pt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Pt||{}),He=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(He||{});function Wb(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function od(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Kb(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Hv(t){return t===3||t===4||t===6}function Kb(t){return t.charCodeAt(0)===64}function Ji(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Yy(t,n,i,null,e[++r]):Yy(t,n,i,null,null))}}return t}function Yy(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var qv="ng-template";function Qb(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Wb(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Wd(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Wd(t){return t.type===4&&t.value!==qv}function Yb(t,e,n){let r=t.type===4&&!n?qv:t.value;return e===r}function Zb(t,e,n){let r=4,i=t.attrs,o=i!==null?eT(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!wt(r)&&!wt(u))return!1;if(s&&wt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Yb(t,u,n)||u===""&&e.length===1){if(wt(r))return!1;s=!0}}else if(r&8){if(i===null||!Qb(t,i,u,n)){if(wt(r))return!1;s=!0}}else{let c=e[++a],l=Jb(u,i,Wd(t),n);if(l===-1){if(wt(r))return!1;s=!0;continue}if(c!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&c!==d){if(wt(r))return!1;s=!0}}}}return wt(r)||s}function wt(t){return(t&1)===0}function Jb(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return tT(e,t)}function Xb(t,e,n=!1){for(let r=0;r<e.length;r++)if(Zb(t,e[r],n))return!0;return!1}function eT(t){for(let e=0;e<t.length;e++){let n=t[e];if(Hv(n))return e}return t.length}function tT(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Zy(t,e){return t?":not("+e.trim()+")":e}function nT(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!wt(s)&&(e+=Zy(o,i),i=""),r=s,o=o||!wt(r);n++}return i!==""&&(e+=Zy(o,i)),e}function rT(t){return t.map(nT).join(",")}function iT(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!wt(i))break;i=o}r++}return{attrs:e,classes:n}}function ft(t){return ao(()=>{let e=Qv(t),n=te(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$v.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Pt.Emulated,styles:t.styles||dt,_:null,schemas:t.schemas||null,tView:null,id:""});Yv(n);let r=t.dependencies;return n.directiveDefs=Xy(r,!1),n.pipeDefs=Xy(r,!0),n.id=aT(n),n})}function oT(t){return wn(t)||zv(t)}function sT(t){return t!==null}function Qe(t){return ao(()=>({type:t.type,bootstrap:t.bootstrap||dt,declarations:t.declarations||dt,imports:t.imports||dt,exports:t.exports||dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Jy(t,e){if(t==null)return Hr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=He.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==He.None?[r,a]:r,e[o]=s):n[o]=r}return n}function pt(t){return ao(()=>{let e=Qv(t);return Yv(e),e})}function wn(t){return t[Mb]||null}function zv(t){return t[xb]||null}function Gv(t){return t[Rb]||null}function Wv(t){let e=wn(t)||zv(t)||Gv(t);return e!==null?e.standalone:!1}function Kv(t,e){let n=t[Nb]||null;if(!n&&e===!0)throw new Error(`Type ${$e(t)} does not have '\u0275mod' property.`);return n}function Qv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Hr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||dt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jy(t.inputs,e),outputs:Jy(t.outputs),debugInfo:null}}function Yv(t){t.features?.forEach(e=>e(t))}function Xy(t,e){if(!t)return null;let n=e?Gv:oT;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(sT)}function aT(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function uT(...t){return{\u0275providers:Zv(!0,t),\u0275fromNgModule:!0}}function Zv(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Gd(e,s=>{let a=s;sd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Jv(i,o),n}function Jv(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Kd(i,o=>{e(o,r)})}}function sd(t,e,n,r){if(t=Ue(t),!t)return!1;let i=null,o=Gy(t),s=!o&&wn(t);if(!o&&!s){let u=t.ngModule;if(o=Gy(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of u)sd(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Gd(o.imports,l=>{sd(l,e,n,r)&&(c||=[],c.push(l))})}finally{}c!==void 0&&Jv(c,e)}if(!a){let c=$r(i)||(()=>new i);e({provide:i,useFactory:c,deps:dt},i),e({provide:Uv,useValue:i,multi:!0},i),e({provide:qr,useValue:()=>S(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let c=t;Kd(u,l=>{e(l,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Kd(t,e){for(let n of t)Fv(n)&&(n=n.\u0275providers),Array.isArray(n)?Kd(n,e):e(n)}var cT=ne({provide:String,useValue:ne});function Xv(t){return t!==null&&typeof t=="object"&&cT in t}function lT(t){return!!(t&&t.useExisting)}function dT(t){return!!(t&&t.useFactory)}function zr(t){return typeof t=="function"}function hT(t){return!!t.useClass}var su=new M(""),Aa={},fT={},Hl;function Qd(){return Hl===void 0&&(Hl=new ka),Hl}var rt=class{},Xi=class extends rt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ud(e,s=>this.processProvider(s)),this.records.set(Bv,kr(void 0,this)),i.has("environment")&&this.records.set(rt,kr(void 0,this));let o=this.records.get(su);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Uv,dt,j.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=vn(this),r=lt(void 0),i;try{return e()}finally{vn(n),lt(r)}}get(e,n=Zi,r=j.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ky))return e[Ky](this);r=iu(r);let i,o=vn(this),s=lt(void 0);try{if(!(r&j.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=vT(e)&&nu(e);c&&this.injectableDefInScope(c)?u=kr(ad(e),Aa):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&j.Self?Qd():this.parent;return n=r&j.Optional&&n===Zi?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Oa]=a[Oa]||[]).unshift($e(e)),o)throw a;return $b(a,e,"R3InjectorError",this.source)}else throw a}finally{lt(s),vn(o)}}resolveInjectorInitializers(){let e=Q(null),n=vn(this),r=lt(void 0),i;try{let o=this.get(qr,dt,j.Self);for(let s of o)s()}finally{vn(n),lt(r),Q(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push($e(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){e=Ue(e);let n=zr(e)?e:Ue(e&&e.provide),r=gT(e);if(!zr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=kr(void 0,Aa,!0),i.factory=()=>id(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Q(null);try{return n.value===Aa&&(n.value=fT,n.value=n.factory()),typeof n.value=="object"&&n.value&&yT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Q(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ue(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ad(t){let e=nu(t),n=e!==null?e.factory:$r(t);if(n!==null)return n;if(t instanceof M)throw new T(204,!1);if(t instanceof Function)return pT(t);throw new T(204,!1)}function pT(t){if(t.length>0)throw new T(204,!1);let n=Sb(t);return n!==null?()=>n.factory(t):()=>new t}function gT(t){if(Xv(t))return kr(void 0,t.useValue);{let e=e_(t);return kr(e,Aa)}}function e_(t,e,n){let r;if(zr(t)){let i=Ue(t);return $r(i)||ad(i)}else if(Xv(t))r=()=>Ue(t.useValue);else if(dT(t))r=()=>t.useFactory(...id(t.deps||[]));else if(lT(t))r=()=>S(Ue(t.useExisting));else{let i=Ue(t&&(t.useClass||t.provide));if(mT(t))r=()=>new i(...id(t.deps));else return $r(i)||ad(i)}return r}function kr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function mT(t){return!!t.deps}function yT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function vT(t){return typeof t=="function"||typeof t=="object"&&t instanceof M}function ud(t,e){for(let n of t)Array.isArray(n)?ud(n,e):n&&Fv(n)?ud(n.\u0275providers,e):e(n)}function tn(t,e){t instanceof Xi&&t.assertNotDestroyed();let n,r=vn(t),i=lt(void 0);try{return e()}finally{vn(r),lt(i)}}function t_(){return kv()!==void 0||jb()!=null}function _T(t){if(!t_())throw new T(-203,!1)}function wT(t){let e=xe.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function ET(t){return typeof t=="function"}var nn=0,H=1,N=2,Fe=3,Et=4,Ct=5,Va=6,eo=7,It=8,Gr=9,Dt=10,me=11,to=12,ev=13,Zr=14,Ot=15,au=16,Vr=17,Wr=18,uu=19,n_=20,_n=21,ql=22,Kn=23,En=25,r_=1;var Qn=7,La=8,ja=9,ht=10,Yd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Yd||{});function Gn(t){return Array.isArray(t)&&typeof t[r_]=="object"}function rn(t){return Array.isArray(t)&&t[r_]===!0}function i_(t){return(t.flags&4)!==0}function cu(t){return t.componentOffset>-1}function Zd(t){return(t.flags&1)===1}function In(t){return!!t.template}function IT(t){return(t[N]&512)!==0}var cd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function o_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function tr(){return s_}function s_(t){return t.type.prototype.ngOnChanges&&(t.setInput=CT),DT}tr.ngInherit=!0;function DT(){let t=u_(this),e=t?.current;if(e){let n=t.previous;if(n===Hr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function CT(t,e,n,r,i){let o=this.declaredInputs[r],s=u_(t)||bT(t,{previous:Hr,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new cd(c&&c.currentValue,n,u===Hr),o_(t,e,i,n)}var a_="__ngSimpleChanges__";function u_(t){return t[a_]||null}function bT(t,e){return t[a_]=e}var tv=null;var Rt=function(t,e,n){tv?.(t,e,n)},TT="svg",ST="math",AT=!1;function MT(){return AT}function Ft(t){for(;Array.isArray(t);)t=t[nn];return t}function c_(t,e){return Ft(e[t])}function gt(t,e){return Ft(e[t.index])}function l_(t,e){return t.data[e]}function Cn(t,e){let n=e[t];return Gn(n)?n:n[nn]}function Jd(t){return(t[N]&128)===128}function xT(t){return rn(t[Fe])}function Ba(t,e){return e==null?null:t[e]}function d_(t){t[Vr]=0}function RT(t){t[N]&1024||(t[N]|=1024,Jd(t)&&no(t))}function NT(t,e){for(;t>0;)e=e[Zr],t--;return e}function Xd(t){return!!(t[N]&9216||t[Kn]?.dirty)}function ld(t){t[Dt].changeDetectionScheduler?.notify(1),Xd(t)?no(t):t[N]&64&&(MT()?(t[N]|=1024,no(t)):t[Dt].changeDetectionScheduler?.notify())}function no(t){t[Dt].changeDetectionScheduler?.notify();let e=ro(t);for(;e!==null&&!(e[N]&8192||(e[N]|=8192,!Jd(e)));)e=ro(e)}function h_(t,e){if((t[N]&256)===256)throw new T(911,!1);t[_n]===null&&(t[_n]=[]),t[_n].push(e)}function PT(t,e){if(t[_n]===null)return;let n=t[_n].indexOf(e);n!==-1&&t[_n].splice(n,1)}function ro(t){let e=t[Fe];return rn(e)?e[Fe]:e}var $={lFrame:E_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function OT(){return $.lFrame.elementDepthCount}function FT(){$.lFrame.elementDepthCount++}function kT(){$.lFrame.elementDepthCount--}function f_(){return $.bindingsEnabled}function VT(){return $.skipHydrationRootTNode!==null}function LT(t){return $.skipHydrationRootTNode===t}function jT(){$.skipHydrationRootTNode=null}function oe(){return $.lFrame.lView}function Ye(){return $.lFrame.tView}function p_(t){return $.lFrame.contextLView=t,t[It]}function g_(t){return $.lFrame.contextLView=null,t}function Ze(){let t=m_();for(;t!==null&&t.type===64;)t=t.parent;return t}function m_(){return $.lFrame.currentTNode}function BT(){let t=$.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function lo(t,e){let n=$.lFrame;n.currentTNode=t,n.isParent=e}function y_(){return $.lFrame.isParent}function UT(){$.lFrame.isParent=!1}function $T(t){return $.lFrame.bindingIndex=t}function lu(){return $.lFrame.bindingIndex++}function HT(t){let e=$.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qT(){return $.lFrame.inI18n}function zT(t,e){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=t,dd(e)}function GT(){return $.lFrame.currentDirectiveIndex}function dd(t){$.lFrame.currentDirectiveIndex=t}function WT(t){let e=$.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function v_(t){$.lFrame.currentQueryIndex=t}function KT(t){let e=t[H];return e.type===2?e.declTNode:e.type===1?t[Ct]:null}function __(t,e,n){if(n&j.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&j.Host);)if(i=KT(o),i===null||(o=o[Zr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=$.lFrame=w_();return r.currentTNode=e,r.lView=t,!0}function eh(t){let e=w_(),n=t[H];$.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function w_(){let t=$.lFrame,e=t===null?null:t.child;return e===null?E_(t):e}function E_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function I_(){let t=$.lFrame;return $.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var D_=I_;function th(){let t=I_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function QT(t){return($.lFrame.contextLView=NT(t,$.lFrame.contextLView))[It]}function Jr(){return $.lFrame.selectedIndex}function Yn(t){$.lFrame.selectedIndex=t}function du(){let t=$.lFrame;return l_(t.tView,t.selectedIndex)}function YT(){return $.lFrame.currentNamespace}var C_=!0;function nh(){return C_}function rh(t){C_=t}function ZT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=s_(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ih(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Ma(t,e,n){b_(t,e,3,n)}function xa(t,e,n,r){(t[N]&3)===n&&b_(t,e,n,r)}function zl(t,e){let n=t[N];(n&3)===e&&(n&=16383,n+=1,t[N]=n)}function b_(t,e,n,r){let i=r!==void 0?t[Vr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Vr]+=65536),(a<o||o==-1)&&(JT(t,n,e,u),t[Vr]=(t[Vr]&4294901760)+u+2),u++}function nv(t,e){Rt(4,t,e);let n=Q(null);try{e.call(t)}finally{Q(n),Rt(5,t,e)}}function JT(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[N]>>14<t[Vr]>>16&&(t[N]&3)===e&&(t[N]+=16384,nv(a,o)):nv(a,o)}var Ur=-1,Zn=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function XT(t){return t instanceof Zn}function eS(t){return(t.flags&8)!==0}function tS(t){return(t.flags&16)!==0}function T_(t){return t!==Ur}function Ua(t){return t&32767}function nS(t){return t>>16}function $a(t,e){let n=nS(t),r=e;for(;n>0;)r=r[Zr],n--;return r}var hd=!0;function rv(t){let e=hd;return hd=t,e}var rS=256,S_=rS-1,A_=5,iS=0,Nt={};function oS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qi)&&(r=n[Qi]),r==null&&(r=n[Qi]=iS++);let i=r&S_,o=1<<i;e.data[t+(i>>A_)]|=o}function Ha(t,e){let n=M_(t,e);if(n!==-1)return n;let r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,Gl(r.data,t),Gl(e,null),Gl(r.blueprint,null));let i=oh(t,e),o=t.injectorIndex;if(T_(i)){let s=Ua(i),a=$a(i,e),u=a[H].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Gl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function M_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function oh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=O_(i),r===null)return Ur;if(n++,i=i[Zr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ur}function fd(t,e,n){oS(t,e,n)}function sS(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Hv(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function x_(t,e,n){if(n&j.Optional||t!==void 0)return t;qd(e,"NodeInjector")}function R_(t,e,n,r){if(n&j.Optional&&r===void 0&&(r=null),!(n&(j.Self|j.Host))){let i=t[Gr],o=lt(void 0);try{return i?i.get(e,r,n&j.Optional):Vv(e,r,n&j.Optional)}finally{lt(o)}}return x_(r,e,n)}function N_(t,e,n,r=j.Default,i){if(t!==null){if(e[N]&2048&&!(r&j.Self)){let s=dS(t,e,n,r,Nt);if(s!==Nt)return s}let o=P_(t,e,n,r,Nt);if(o!==Nt)return o}return R_(e,n,r,i)}function P_(t,e,n,r,i){let o=cS(n);if(typeof o=="function"){if(!__(e,t,r))return r&j.Host?x_(i,n,r):R_(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&j.Optional))qd(n);else return s}finally{D_()}}else if(typeof o=="number"){let s=null,a=M_(t,e),u=Ur,c=r&j.Host?e[Ot][Ct]:null;for((a===-1||r&j.SkipSelf)&&(u=a===-1?oh(t,e):e[a+8],u===Ur||!ov(r,!1)?a=-1:(s=e[H],a=Ua(u),e=$a(u,e)));a!==-1;){let l=e[H];if(iv(o,a,l.data)){let d=aS(a,e,n,s,r,c);if(d!==Nt)return d}u=e[a+8],u!==Ur&&ov(r,e[H].data[a+8]===c)&&iv(o,a,e)?(s=l,a=Ua(u),e=$a(u,e)):a=-1}}return i}function aS(t,e,n,r,i,o){let s=e[H],a=s.data[t+8],u=r==null?cu(a)&&hd:r!=s&&(a.type&3)!==0,c=i&j.Host&&o===a,l=uS(a,s,n,u,c);return l!==null?Kr(e,s,l,a):Nt}function uS(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,c=t.directiveEnd,l=o>>20,d=r?a:a+l,h=i?a+l:c;for(let f=d;f<h;f++){let m=s[f];if(f<u&&n===m||f>=u&&m.type===n)return f}if(i){let f=s[u];if(f&&In(f)&&f.type===n)return u}return null}function Kr(t,e,n,r){let i=t[n],o=e.data;if(XT(i)){let s=i;s.resolving&&Ob(Pb(o[n]));let a=rv(s.canSeeViewProviders);s.resolving=!0;let u,c=s.injectImpl?lt(s.injectImpl):null,l=__(t,r,j.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&ZT(n,o[n],e)}finally{c!==null&&lt(c),rv(a),s.resolving=!1,D_()}}return i}function cS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Qi)?t[Qi]:void 0;return typeof e=="number"?e>=0?e&S_:lS:e}function iv(t,e,n){let r=1<<t;return!!(n[e+(t>>A_)]&r)}function ov(t,e){return!(t&j.Self)&&!(t&j.Host&&e)}var Wn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return N_(this._tNode,this._lView,e,iu(r),n)}};function lS(){return new Wn(Ze(),oe())}function ho(t){return ao(()=>{let e=t.prototype.constructor,n=e[Pa]||pd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Pa]||pd(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function pd(t){return Rv(t)?()=>{let e=pd(Ue(t));return e&&e()}:$r(t)}function dS(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[N]&2048&&!(s[N]&512);){let a=P_(o,s,n,r|j.Self,Nt);if(a!==Nt)return a;let u=o.parent;if(!u){let c=s[n_];if(c){let l=c.get(n,Nt,r);if(l!==Nt)return l}u=O_(s),s=s[Zr]}o=u}return i}function O_(t){let e=t[H],n=e.type;return n===2?e.declTNode:n===1?t[Ct]:null}function sh(t){return sS(Ze(),t)}function sv(t,e=null,n=null,r){let i=F_(t,e,n,r);return i.resolveInjectorInitializers(),i}function F_(t,e=null,n=null,r,i=new Set){let o=[n||dt,uT(t)];return r=r||(typeof t=="object"?void 0:$e(t)),new Xi(o,e||Qd(),r||null,i)}var bt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return sv({name:""},i,r,"");{let o=r.name??"";return sv({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Zi,e.NULL=new ka,e.\u0275prov=b({token:e,providedIn:"any",factory:()=>S(Bv)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var hS="ngOriginalError";function Wl(t){return t[hS]}var kt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Wl(e);for(;n&&Wl(n);)n=Wl(n);return n||null}},k_=new M("",{providedIn:"root",factory:()=>v(kt).handleError.bind(void 0)}),ah=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=fS,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),gd=class extends ah{constructor(e){super(),this._lView=e}onDestroy(e){return h_(this._lView,e),()=>PT(this._lView,e)}};function fS(){return new gd(oe())}function pS(){return hu(Ze(),oe())}function hu(t,e){return new bn(gt(t,e))}var bn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=pS;let t=e;return t})();var md=class extends Oe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,t_()&&(this.destroyRef=v(ah,{optional:!0})??void 0)}emit(e){let n=Q(null);try{super.next(e)}finally{Q(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Kl(o),i&&(i=Kl(i)),s&&(s=Kl(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ee&&e.add(a),a}};function Kl(t){return e=>{setTimeout(t,void 0,e)}}var Ie=md;function V_(t){return(t.flags&128)===128}var L_=new Map,gS=0;function mS(){return gS++}function yS(t){L_.set(t[uu],t)}function vS(t){L_.delete(t[uu])}var av="__ngContext__";function Jn(t,e){Gn(e)?(t[av]=e[uu],yS(e)):t[av]=e}function j_(t){return U_(t[to])}function B_(t){return U_(t[Et])}function U_(t){for(;t!==null&&!rn(t);)t=t[Et];return t}var yd;function $_(t){yd=t}function _S(){if(yd!==void 0)return yd;if(typeof document<"u")return document;throw new T(210,!1)}var fu=new M("",{providedIn:"root",factory:()=>wS}),wS="ng",uh=new M(""),Tn=new M("",{providedIn:"platform",factory:()=>"unknown"});var ch=new M("",{providedIn:"root",factory:()=>_S().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ES="h",IS="b";var DS=()=>null;function lh(t,e,n=!1){return DS(t,e,n)}var H_=!1,CS=new M("",{providedIn:"root",factory:()=>H_});var Da;function bS(){if(Da===void 0&&(Da=null,xe.trustedTypes))try{Da=xe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Da}function TS(t){return bS()?.createScriptURL(t)||t}var Ca;function SS(){if(Ca===void 0&&(Ca=null,xe.trustedTypes))try{Ca=xe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ca}function uv(t){return SS()?.createScriptURL(t)||t}var qa=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mv})`}};function fo(t){return t instanceof qa?t.changingThisBreaksApplicationSecurity:t}function dh(t,e){let n=AS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Mv})`)}return n===e}function AS(t){return t instanceof qa&&t.getTypeName()||null}var MS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function q_(t){return t=String(t),t.match(MS)?t:"unsafe:"+t}var pu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pu||{});function hh(t){let e=G_();return e?e.sanitize(pu.URL,t)||"":dh(t,"URL")?fo(t):q_(ru(t))}function xS(t){let e=G_();if(e)return uv(e.sanitize(pu.RESOURCE_URL,t)||"");if(dh(t,"ResourceURL"))return uv(fo(t));throw new T(904,!1)}function gu(t){return TS(t[0])}function RS(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?xS:hh}function z_(t,e,n){return RS(e,n)(t)}function G_(){let t=oe();return t&&t[Dt].sanitizer}function W_(t){return t instanceof Function?t():t}function NS(t){return(t??v(bt)).get(Tn)==="browser"}var en=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(en||{}),PS;function fh(t,e){return PS(t,e)}function Lr(t,e,n,r,i){if(r!=null){let o,s=!1;rn(r)?o=r:Gn(r)&&(s=!0,r=r[nn]);let a=Ft(r);t===0&&n!==null?i==null?J_(e,n,a):za(e,n,a,i||null,!0):t===1&&n!==null?za(e,n,a,i||null,!0):t===2?YS(e,a,s):t===3&&e.destroyNode(a),o!=null&&JS(e,t,o,n,i)}}function OS(t,e){return t.createText(e)}function FS(t,e,n){t.setValue(e,n)}function K_(t,e,n){return t.createElement(e,n)}function kS(t,e){Q_(t,e),e[nn]=null,e[Ct]=null}function VS(t,e,n,r,i,o){r[nn]=i,r[Ct]=e,mu(t,r,n,1,i,o)}function Q_(t,e){e[Dt].changeDetectionScheduler?.notify(1),mu(t,e,e[me],2,null,null)}function LS(t){let e=t[to];if(!e)return Ql(t[H],t);for(;e;){let n=null;if(Gn(e))n=e[to];else{let r=e[ht];r&&(n=r)}if(!n){for(;e&&!e[Et]&&e!==t;)Gn(e)&&Ql(e[H],e),e=e[Fe];e===null&&(e=t),Gn(e)&&Ql(e[H],e),n=e&&e[Et]}e=n}}function jS(t,e,n,r){let i=ht+r,o=n.length;r>0&&(n[i-1][Et]=e),r<o-ht?(e[Et]=n[i],jv(n,ht+r,e)):(n.push(e),e[Et]=null),e[Fe]=n;let s=e[au];s!==null&&n!==s&&BS(s,e);let a=e[Wr];a!==null&&a.insertView(t),ld(e),e[N]|=128}function BS(t,e){let n=t[ja],i=e[Fe][Fe][Ot];e[Ot]!==i&&(t[N]|=Yd.HasTransplantedViews),n===null?t[ja]=[e]:n.push(e)}function Y_(t,e){let n=t[ja],r=n.indexOf(e);n.splice(r,1)}function vd(t,e){if(t.length<=ht)return;let n=ht+e,r=t[n];if(r){let i=r[au];i!==null&&i!==t&&Y_(i,r),e>0&&(t[n-1][Et]=r[Et]);let o=Fa(t,ht+e);kS(r[H],r);let s=o[Wr];s!==null&&s.detachView(o[H]),r[Fe]=null,r[Et]=null,r[N]&=-129}return r}function Z_(t,e){if(!(e[N]&256)){let n=e[me];n.destroyNode&&mu(t,e,n,3,null,null),LS(e)}}function Ql(t,e){if(e[N]&256)return;let n=Q(null);try{e[N]&=-129,e[N]|=256,e[Kn]&&vy(e[Kn]),$S(t,e),US(t,e),e[H].type===1&&e[me].destroy();let r=e[au];if(r!==null&&rn(e[Fe])){r!==e[Fe]&&Y_(r,e);let i=e[Wr];i!==null&&i.detachView(t)}vS(e)}finally{Q(n)}}function US(t,e){let n=t.cleanup,r=e[eo];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[eo]=null);let i=e[_n];if(i!==null){e[_n]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function $S(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Zn)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Rt(4,a,u);try{u.call(a)}finally{Rt(5,a,u)}}else{Rt(4,i,o);try{o.call(i)}finally{Rt(5,i,o)}}}}}function HS(t,e,n){return qS(t,e.parent,n)}function qS(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[nn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Pt.None||o===Pt.Emulated)return null}return gt(r,n)}}function za(t,e,n,r,i){t.insertBefore(e,n,r,i)}function J_(t,e,n){t.appendChild(e,n)}function cv(t,e,n,r,i){r!==null?za(t,e,n,r,i):J_(t,e,n)}function zS(t,e,n,r){t.removeChild(e,n,r)}function ph(t,e){return t.parentNode(e)}function GS(t,e){return t.nextSibling(e)}function WS(t,e,n){return QS(t,e,n)}function KS(t,e,n){return t.type&40?gt(t,n):null}var QS=KS,lv;function gh(t,e,n,r){let i=HS(t,r,e),o=e[me],s=r.parent||e[Ct],a=WS(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)cv(o,i,n[u],a,!1);else cv(o,i,n,a,!1);lv!==void 0&&lv(o,r,e,n,i)}function Ra(t,e){if(e!==null){let n=e.type;if(n&3)return gt(e,t);if(n&4)return _d(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ra(t,r);{let i=t[e.index];return rn(i)?_d(-1,i):Ft(i)}}else{if(n&32)return fh(e,t)()||Ft(t[e.index]);{let r=X_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ro(t[Ot]);return Ra(i,r)}else return Ra(t,e.next)}}}return null}function X_(t,e){if(e!==null){let r=t[Ot][Ct],i=e.projection;return r.projection[i]}return null}function _d(t,e){let n=ht+t+1;if(n<e.length){let r=e[n],i=r[H].firstChild;if(i!==null)return Ra(r,i)}return e[Qn]}function YS(t,e,n){let r=ph(t,e);r&&zS(t,r,e,n)}function mh(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Jn(Ft(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)mh(t,e,n.child,r,i,o,!1),Lr(e,t,i,a,o);else if(u&32){let c=fh(n,r),l;for(;l=c();)Lr(e,t,i,l,o);Lr(e,t,i,a,o)}else u&16?ZS(t,e,r,n,i,o):Lr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function mu(t,e,n,r,i,o){mh(n,r,t.firstChild,e,i,o,!1)}function ZS(t,e,n,r,i,o){let s=n[Ot],u=s[Ct].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let l=u[c];Lr(e,t,i,l,o)}else{let c=u,l=s[Fe];V_(r)&&(c.flags|=128),mh(t,e,c,l,i,o,!0)}}function JS(t,e,n,r,i){let o=n[Qn],s=Ft(n);o!==s&&Lr(e,t,r,o,i);for(let a=ht;a<n.length;a++){let u=n[a];mu(u[H],u,t,e,r,o)}}function XS(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:en.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=en.Important),t.setStyle(n,r,i,o))}}function eA(t,e,n){t.setAttribute(e,"style",n)}function ew(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function tw(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&od(t,e,r),i!==null&&ew(t,e,i),o!==null&&eA(t,e,o)}var nr={};function Vt(t=1){nw(Ye(),oe(),Jr()+t,!1)}function nw(t,e,n,r){if(!r)if((e[N]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ma(e,o,n)}else{let o=t.preOrderHooks;o!==null&&xa(e,o,0,n)}Yn(n)}function L(t,e=j.Default){let n=oe();if(n===null)return S(t,e);let r=Ze();return N_(r,n,Ue(t),e)}function rw(){let t="invalid";throw new Error(t)}function iw(t,e,n,r,i,o){let s=Q(null);try{let a=null;i&He.SignalBased&&(a=e[r][Il]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&He.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):o_(e,a,r,o)}finally{Q(s)}}function tA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Yn(~i);else{let o=i,s=n[++r],a=n[++r];zT(s,o);let u=e[o];a(2,u)}}}finally{Yn(-1)}}function yu(t,e,n,r,i,o,s,a,u,c,l){let d=e.blueprint.slice();return d[nn]=i,d[N]=r|4|128|8|64,(c!==null||t&&t[N]&2048)&&(d[N]|=2048),d_(d),d[Fe]=d[Zr]=t,d[It]=n,d[Dt]=s||t&&t[Dt],d[me]=a||t&&t[me],d[Gr]=u||t&&t[Gr]||null,d[Ct]=o,d[uu]=mS(),d[Va]=l,d[n_]=c,d[Ot]=e.type==2?t[Ot]:d,d}function vu(t,e,n,r,i){let o=t.data[e];if(o===null)o=nA(t,e,n,r,i),qT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=BT();o.injectorIndex=s===null?-1:s.injectorIndex}return lo(o,!0),o}function nA(t,e,n,r,i){let o=m_(),s=y_(),a=s?o:o&&o.parent,u=t.data[e]=aA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function ow(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function sw(t,e,n,r,i){let o=Jr(),s=r&2;try{Yn(-1),s&&e.length>En&&nw(t,e,En,!1),Rt(s?2:0,i),n(r,i)}finally{Yn(o),Rt(s?3:1,i)}}function aw(t,e,n){if(i_(e)){let r=Q(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Q(r)}}}function uw(t,e,n){f_()&&(fA(t,e,n,gt(n,e)),(n.flags&64)===64&&fw(t,e,n))}function cw(t,e,n=gt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function lw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=yh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function yh(t,e,n,r,i,o,s,a,u,c,l){let d=En+r,h=d+i,f=rA(d,h),m=typeof c=="function"?c():c;return f[H]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:m,incompleteFirstPass:!1,ssrId:l}}function rA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:nr);return n}function iA(t,e,n,r){let o=r.get(CS,H_)||n===Pt.ShadowDom,s=t.selectRootElement(e,o);return oA(s),s}function oA(t){sA(t)}var sA=()=>null;function aA(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return VT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dv(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=He.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?hv(r,n,c,a,u):hv(r,n,c,a)}return r}function hv(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function uA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,c=null;for(let l=r;l<i;l++){let d=o[l],h=n?n.get(d):null,f=h?h.inputs:null,m=h?h.outputs:null;u=dv(0,d.inputs,l,u,f),c=dv(1,d.outputs,l,c,m);let I=u!==null&&s!==null&&!Wd(e)?CA(u,l,s):null;a.push(I)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}function cA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function vh(t,e,n,r,i,o,s,a){let u=gt(e,n),c=e.inputs,l;!a&&c!=null&&(l=c[r])?(_h(t,n,l,r,i),cu(e)&&lA(n,e.index)):e.type&3?(r=cA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function lA(t,e){let n=Cn(e,t);n[N]&16||(n[N]|=64)}function dw(t,e,n,r){if(f_()){let i=r===null?null:{"":-1},o=gA(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&hw(t,e,n,s,i,a),i&&mA(n,r,i)}n.mergedAttrs=Ji(n.mergedAttrs,n.attrs)}function hw(t,e,n,r,i,o){for(let c=0;c<r.length;c++)fd(Ha(n,e),t,r[c].type);vA(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=ow(t,e,r.length,null);for(let c=0;c<r.length;c++){let l=r[c];n.mergedAttrs=Ji(n.mergedAttrs,l.hostAttrs),_A(t,n,e,u,l),yA(u,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}uA(t,n,o)}function dA(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;hA(s)!=a&&s.push(a),s.push(n,r,o)}}function hA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function fA(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;cu(n)&&wA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ha(n,e),Jn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],c=Kr(e,t,a,n);if(Jn(c,e),s!==null&&DA(e,a-i,c,u,n,s),In(u)){let l=Cn(n.index,e);l[It]=Kr(e,t,a,n)}}}function fw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=GT();try{Yn(o);for(let a=r;a<i;a++){let u=t.data[a],c=e[a];dd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&pA(u,c)}}finally{Yn(-1),dd(s)}}function pA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function gA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Xb(e,s.selectors,!1))if(r||(r=[]),In(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;wd(t,e,u)}else r.unshift(s),wd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function wd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new T(-301,!1);r.push(e[i],o)}}}function yA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;In(e)&&(n[""]=t)}}function vA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _A(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=$r(i.type,!0)),s=new Zn(o,In(i),L);t.blueprint[r]=s,n[r]=s,dA(t,e,r,ow(t,n,i.hostVars,nr),i)}function wA(t,e,n){let r=gt(e,t),i=lw(n),o=t[Dt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=_u(t,yu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function EA(t,e,n,r,i,o){let s=gt(t,e);IA(e[me],s,o,t.value,n,r,i)}function IA(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?ru(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function DA(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],c=s[a++],l=s[a++],d=s[a++];iw(r,n,u,c,l,d)}}function CA(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function pw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function gw(t,e){let n=t.contentQueries;if(n!==null){let r=Q(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];v_(o),a.contentQueries(2,e[s],s)}}}finally{Q(r)}}}function _u(t,e){return t[to]?t[ev][Et]=e:t[to]=e,t[ev]=e,e}function Ed(t,e,n){v_(0);let r=Q(null);try{e(t,n)}finally{Q(r)}}function bA(t){return t[eo]||(t[eo]=[])}function TA(t){return t.cleanup||(t.cleanup=[])}function mw(t,e){let n=t[Gr],r=n?n.get(kt,null):null;r&&r.handleError(e)}function _h(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],c=e[s],l=t.data[s];iw(l,c,r,a,u,i)}}function SA(t,e,n){let r=c_(e,t);FS(t[me],r,n)}function AA(t,e){let n=Cn(e,t),r=n[H];MA(r,n);let i=n[nn];i!==null&&n[Va]===null&&(n[Va]=lh(i,n[Gr])),wh(r,n,n[It])}function MA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function wh(t,e,n){eh(e);try{let r=t.viewQuery;r!==null&&Ed(1,r,n);let i=t.template;i!==null&&sw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Wr]?.finishViewCreation(t),t.staticContentQueries&&gw(t,e),t.staticViewQueries&&Ed(2,t.viewQuery,n);let o=t.components;o!==null&&xA(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[N]&=-5,th()}}function xA(t,e){for(let n=0;n<e.length;n++)AA(t,e[n])}function RA(t,e,n,r){let i=Q(null);try{let o=e.tView,a=t[N]&4096?4096:16,u=yu(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];u[au]=c;let l=t[Wr];return l!==null&&(u[Wr]=l.createEmbeddedView(o)),wh(o,u,n),u}finally{Q(i)}}function fv(t,e){return!e||e.firstChild===null||V_(t)}function NA(t,e,n,r=!0){let i=e[H];if(jS(i,e,t,n),r){let s=_d(n,t),a=e[me],u=ph(a,t[Qn]);u!==null&&VS(i,t[Ct],a,e,u,s)}let o=e[Va];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ga(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Ft(o)),rn(o)&&PA(o,r);let s=n.type;if(s&8)Ga(t,e,n.child,r);else if(s&32){let a=fh(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=X_(e,n);if(Array.isArray(a))r.push(...a);else{let u=ro(e[Ot]);Ga(u[H],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function PA(t,e){for(let n=ht;n<t.length;n++){let r=t[n],i=r[H].firstChild;i!==null&&Ga(r[H],r,i,e)}t[Qn]!==t[nn]&&e.push(t[Qn])}var yw=[];function OA(t){return t[Kn]??FA(t)}function FA(t){let e=yw.pop()??Object.create(VA);return e.lView=t,e}function kA(t){t.lView[Kn]!==t&&(t.lView=null,yw.push(t))}var VA=te(E({},gy),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{no(t.lView)},consumerOnSignalRead(){this.lView[Kn]=this}}),vw=100;function _w(t,e=!0,n=0){let r=t[Dt],i=r.rendererFactory,o=!1;o||i.begin?.();try{LA(t,n)}catch(s){throw e&&mw(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function LA(t,e){Id(t,e);let n=0;for(;Xd(t);){if(n===vw)throw new T(103,!1);n++,Id(t,1)}}function jA(t,e,n,r){let i=e[N];if((i&256)===256)return;let o=!1;!o&&e[Dt].inlineEffectRunner?.flush(),eh(e);let s=null,a=null;!o&&BA(t)&&(a=OA(e),s=my(a));try{d_(e),$T(t.bindingStartIndex),n!==null&&sw(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let d=t.preOrderCheckHooks;d!==null&&Ma(e,d,null)}else{let d=t.preOrderHooks;d!==null&&xa(e,d,0,null),zl(e,0)}if(UA(e),ww(e,0),t.contentQueries!==null&&gw(t,e),!o)if(u){let d=t.contentCheckHooks;d!==null&&Ma(e,d)}else{let d=t.contentHooks;d!==null&&xa(e,d,1),zl(e,1)}tA(t,e);let c=t.components;c!==null&&Iw(e,c,0);let l=t.viewQuery;if(l!==null&&Ed(2,l,r),!o)if(u){let d=t.viewCheckHooks;d!==null&&Ma(e,d)}else{let d=t.viewHooks;d!==null&&xa(e,d,2),zl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ql]){for(let d of e[ql])d();e[ql]=null}o||(e[N]&=-73)}catch(u){throw no(e),u}finally{a!==null&&(yy(a,s),kA(a)),th()}}function BA(t){return t.type!==2}function ww(t,e){for(let n=j_(t);n!==null;n=B_(n))for(let r=ht;r<n.length;r++){let i=n[r];Ew(i,e)}}function UA(t){for(let e=j_(t);e!==null;e=B_(e)){if(!(e[N]&Yd.HasTransplantedViews))continue;let n=e[ja];for(let r=0;r<n.length;r++){let i=n[r],o=i[Fe];RT(i)}}}function $A(t,e,n){let r=Cn(e,t);Ew(r,n)}function Ew(t,e){Jd(t)&&Id(t,e)}function Id(t,e){let r=t[H],i=t[N],o=t[Kn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Dl(o)),o&&(o.dirty=!1),t[N]&=-9217,s)jA(r,t,r.template,t[It]);else if(i&8192){ww(t,1);let a=r.components;a!==null&&Iw(t,a,1)}}function Iw(t,e,n){for(let r=0;r<e.length;r++)$A(t,e[r],n)}function Eh(t){for(t[Dt].changeDetectionScheduler?.notify();t;){t[N]|=64;let e=ro(t);if(IT(t)&&!e)return t;t=e}return null}var Xn=class{get rootNodes(){let e=this._lView,n=e[H];return Ga(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[It]}set context(e){this._lView[It]=e}get destroyed(){return(this._lView[N]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Fe];if(rn(e)){let n=e[La],r=n?n.indexOf(this):-1;r>-1&&(vd(e,r),Fa(n,r))}this._attachedToViewContainer=!1}Z_(this._lView[H],this._lView)}onDestroy(e){h_(this._lView,e)}markForCheck(){Eh(this._cdRefInjectingView||this._lView)}detach(){this._lView[N]&=-129}reattach(){ld(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,_w(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Q_(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e,ld(this._lView)}},wu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zA;let t=e;return t})(),HA=wu,qA=class extends HA{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=RA(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Xn(i)}};function zA(){return GA(Ze(),oe())}function GA(t,e){return t.type&4?new qA(e,t,hu(t,e)):null}var bU=new RegExp(`^(\\d+)*(${IS}|${ES})*(.*)`);var WA=()=>null;function pv(t,e){return WA(t,e)}var Wa=class{},Dd=class{},Ka=class{};function KA(t){let e=Error(`No component factory found for ${$e(t)}.`);return e[QA]=t,e}var QA="ngComponent";var Cd=class{resolveComponentFactory(e){throw KA(e)}},Eu=(()=>{let e=class e{};e.NULL=new Cd;let t=e;return t})(),io=class{},rr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>YA();let t=e;return t})();function YA(){let t=oe(),e=Ze(),n=Cn(e.index,t);return(Gn(n)?n:t)[me]}var ZA=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Yl={};var gv=new Set;function Ih(t){gv.has(t)||(gv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function mv(...t){}function JA(){let t=typeof xe.requestAnimationFrame=="function",e=xe[t?"requestAnimationFrame":"setTimeout"],n=xe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ie(!1),this.onMicrotaskEmpty=new Ie(!1),this.onStable=new Ie(!1),this.onError=new Ie(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=JA().nativeRequestAnimationFrame,tM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,XA,mv,mv);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},XA={};function Dh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bd(t),t.isCheckStableRunning=!0,Dh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bd(t))}function tM(t){let e=()=>{eM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(nM(a))return n.invokeTask(i,o,s,a);try{return yv(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),vv(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return yv(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),vv(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,bd(t),Dh(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function bd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function yv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vv(t){t._nesting--,Dh(t)}var Td=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ie,this.onMicrotaskEmpty=new Ie,this.onStable=new Ie,this.onError=new Ie}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function nM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function rM(t="zone.js",e){return t==="noop"?new Td:t==="zone.js"?new ie(e):t}var jr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(jr||{}),iM={destroy(){}};function Ch(t,e){!e&&_T(Ch);let n=e?.injector??v(bt);if(!NS(n))return iM;Ih("NgAfterNextRender");let r=n.get(bh),i=r.handler??=new Ad,o=e?.phase??jr.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(ah).onDestroy(s),u=tn(n,()=>new Sd(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var Sd=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=v(ie),this.errorHandler=v(kt,{optional:!0}),v(Wa,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Ad=class{constructor(){this.executingCallbacks=!1,this.buckets={[jr.EarlyRead]:new Set,[jr.Write]:new Set,[jr.MixedReadWrite]:new Set,[jr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},bh=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Md(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=qy(i,a);else if(o==2){let u=a,c=e[++s];r=qy(r,u+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Qa=class extends Eu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=wn(e);return new Qr(n,this.ngModule)}};function _v(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function oM(t){let e=t.toLowerCase();return e==="svg"?TT:e==="math"?ST:null}var xd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=iu(r);let i=this.injector.get(e,Yl,r);return i!==Yl||n===Yl?i:this.parentInjector.get(e,n,r)}},Qr=class extends Ka{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=_v(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return _v(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=rT(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Q(null);try{i=i||this.ngModule;let s=i instanceof rt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new xd(e,s):e,u=a.get(io,null);if(u===null)throw new T(407,!1);let c=a.get(ZA,null),l=a.get(bh,null),d=a.get(Wa,null),h={rendererFactory:u,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=u.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",I=r?iA(f,r,this.componentDef.encapsulation,a):K_(f,m,oM(m)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let A=null;I!==null&&(A=lh(I,a,!0));let se=yh(0,null,null,1,0,null,null,null,null,null,null),ee=yu(null,se,null,C,null,null,h,f,a,null,A);eh(ee);let ue,Ge;try{let re=this.componentDef,et,pn=null;re.findHostDirectiveDefs?(et=[],pn=new Map,re.findHostDirectiveDefs(re,et,pn),et.push(re)):et=[re];let wl=sM(ee,I),Zs=aM(wl,I,re,et,ee,h,f);Ge=l_(se,En),I&&lM(f,re,I,r),n!==void 0&&dM(Ge,this.ngContentSelectors,n),ue=cM(Zs,re,et,pn,ee,[hM]),wh(se,ee,null)}finally{th()}return new Rd(this.componentType,ue,hu(Ge,ee),ee,Ge)}finally{Q(o)}}},Rd=class extends Dd{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Xn(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;_h(o[H],o,i,e,n),this.previousInputValues.set(e,n);let s=Cn(this._tNode.index,o);Eh(s)}}get injector(){return new Wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sM(t,e){let n=t[H],r=En;return t[r]=e,vu(n,r,2,"#host",null)}function aM(t,e,n,r,i,o,s){let a=i[H];uM(r,t,e,s);let u=null;e!==null&&(u=lh(e,i[Gr]));let c=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=yu(i,lw(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&wd(a,t,r.length-1),_u(i,d),i[t.index]=d}function uM(t,e,n,r){for(let i of t)e.mergedAttrs=Ji(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Md(e,e.mergedAttrs,!0),n!==null&&tw(r,n,e))}function cM(t,e,n,r,i,o){let s=Ze(),a=i[H],u=gt(s,i);hw(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=Kr(i,a,d,s);Jn(h,i)}fw(a,i,s),u&&Jn(u,i);let c=Kr(i,a,s.directiveStart+s.componentOffset,s);if(t[It]=i[It]=c,o!==null)for(let l of o)l(c,e);return aw(a,s,i),c}function lM(t,e,n,r){if(r)od(t,n,["ng-version","17.3.1"]);else{let{attrs:i,classes:o}=iT(e.selectors[0]);i&&od(t,n,i),o&&o.length>0&&ew(t,n,o.join(" "))}}function dM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function hM(){let t=Ze();ih(oe()[H],t)}var Xr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=fM;let t=e;return t})();function fM(){let t=Ze();return gM(t,oe())}var pM=Xr,Dw=class extends pM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return hu(this._hostTNode,this._hostLView)}get injector(){return new Wn(this._hostTNode,this._hostLView)}get parentInjector(){let e=oh(this._hostTNode,this._hostLView);if(T_(e)){let n=$a(e,this._hostLView),r=Ua(e),i=n[H].data[r+8];return new Wn(i,n)}else return new Wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=wv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=pv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,fv(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!ET(e),a;if(s)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let u=s?e:new Qr(wn(e)),c=r||this.parentInjector;if(!o&&u.ngModule==null){let I=(s?c:this.parentInjector).get(rt,null);I&&(o=I)}let l=wn(u.componentType??{}),d=pv(this._lContainer,l?.id??null),h=d?.firstChild??null,f=u.create(c,i,h,o);return this.insertImpl(f.hostView,a,fv(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(xT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Fe],c=new Dw(u,u[Ct],u[Fe]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return NA(s,i,o,r),e.attachToViewContainerRef(),jv(Zl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=wv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=vd(this._lContainer,n);r&&(Fa(Zl(this._lContainer),n),Z_(r[H],r))}detach(e){let n=this._adjustIndex(e,-1),r=vd(this._lContainer,n);return r&&Fa(Zl(this._lContainer),n)!=null?new Xn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function wv(t){return t[La]}function Zl(t){return t[La]||(t[La]=[])}function gM(t,e){let n,r=e[t.index];return rn(r)?n=r:(n=pw(r,e,null,t),e[t.index]=n,_u(e,n)),yM(n,e,t,r),new Dw(n,t,e)}function mM(t,e){let n=t[me],r=n.createComment(""),i=gt(e,t),o=ph(n,i);return za(n,o,r,GS(n,i),!1),r}var yM=wM,vM=()=>!1;function _M(t,e,n){return vM(t,e,n)}function wM(t,e,n,r){if(t[Qn])return;let i;n.type&8?i=Ft(r):i=mM(e,n),t[Qn]=i}function EM(t){return typeof t=="function"&&t[Il]!==void 0}function Cw(t){return EM(t)&&typeof t.set=="function"}function IM(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(TM))}return o}return Ya.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),s.push(r(d).then(f=>{a[c+h]=f,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let u=Promise.all(s).then(()=>SM(o));e.push(u)}),CM(),Promise.all(e).then(()=>{})}var Ya=new Map,DM=new Set;function CM(){let t=Ya;return Ya=new Map,t}function bM(){return Ya.size===0}function TM(t){return typeof t=="string"?t:t.text()}function SM(t){DM.delete(t)}function AM(t){return Object.getPrototypeOf(t.prototype).constructor}function ei(t){let e=AM(t.type),n=!0,r=[t];for(;e;){let i;if(In(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ba(t.inputs),s.inputTransforms=ba(t.inputTransforms),s.declaredInputs=ba(t.declaredInputs),s.outputs=ba(t.outputs);let a=i.hostBindings;a&&PM(t,a);let u=i.viewQuery,c=i.contentQueries;if(u&&RM(t,u),c&&NM(t,c),MM(t,i),bb(t.outputs,i.outputs),In(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ei&&(n=!1)}}e=Object.getPrototypeOf(e)}xM(r)}function MM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function xM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ji(i.hostAttrs,n=Ji(n,i.hostAttrs))}}function ba(t){return t===Hr?{}:t===dt?[]:t}function RM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function NM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function PM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Th(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Dn=class{},oo=class{};var Za=class extends Dn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qa(this);let i=Kv(e);this._bootstrapComponents=W_(i.bootstrap),this._r3Injector=F_(e,n,[{provide:Dn,useValue:this},{provide:Eu,useValue:this.componentFactoryResolver},...r],$e(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ja=class extends oo{constructor(e){super(),this.moduleType=e}create(e){return new Za(this.moduleType,e,[])}};function OM(t,e,n){return new Za(t,e,n)}var Nd=class extends Dn{constructor(e){super(),this.componentFactoryResolver=new Qa(this),this.instance=null;let n=new Xi([...e.providers,{provide:Dn,useValue:this},{provide:Eu,useValue:this.componentFactoryResolver}],e.parent||Qd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Iu(t,e,n=null){return new Nd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Du=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ae(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bw(t){return kM(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function FM(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function kM(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function po(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function VM(t){return(t.flags&32)===32}function LM(t,e,n,r,i,o,s,a,u){let c=e.consts,l=vu(e,t,4,s||null,Ba(c,a));dw(e,n,l,Ba(c,u)),ih(e,l);let d=l.tView=yh(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function go(t,e,n,r,i,o,s,a){let u=oe(),c=Ye(),l=t+En,d=c.firstCreatePass?LM(l,c,u,e,n,r,i,o,s):c.data[l];lo(d,!1);let h=jM(c,u,d,t);nh()&&gh(c,u,h,d),Jn(h,u);let f=pw(h,u,h,d);return u[l]=f,_u(u,f),_M(f,d,u),Zd(d)&&uw(c,u,d),s!=null&&cw(u,d,a),go}var jM=BM;function BM(t,e,n,r){return rh(!0),e[me].createComment("")}function Cu(t,e,n,r){let i=oe(),o=lu();if(po(i,o,e)){let s=Ye(),a=du();EA(a,i,t,e,n,r)}return Cu}function Tw(t,e,n,r){return po(t,lu(),n)?e+ru(n)+r:nr}function Ta(t,e){return t<<17|e<<2}function er(t){return t>>17&32767}function UM(t){return(t&2)==2}function $M(t,e){return t&131071|e<<17}function Pd(t){return t|2}function Yr(t){return(t&131068)>>2}function Jl(t,e){return t&-131069|e<<2}function HM(t){return(t&1)===1}function Od(t){return t|1}function qM(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=er(s),u=Yr(s);t[r]=n;let c=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||co(d,l)>0)&&(c=!0)}else l=n;if(i)if(u!==0){let h=er(t[a+1]);t[r+1]=Ta(h,a),h!==0&&(t[h+1]=Jl(t[h+1],r)),t[a+1]=$M(t[a+1],r)}else t[r+1]=Ta(a,0),a!==0&&(t[a+1]=Jl(t[a+1],r)),a=r;else t[r+1]=Ta(u,0),a===0?a=r:t[u+1]=Jl(t[u+1],r),u=r;c&&(t[r+1]=Pd(t[r+1])),Ev(t,l,r,!0),Ev(t,l,r,!1),zM(e,l,t,r,o),s=Ta(a,u),o?e.classBindings=s:e.styleBindings=s}function zM(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&co(o,e)>=0&&(n[r+1]=Od(n[r+1]))}function Ev(t,e,n,r){let i=t[n+1],o=e===null,s=r?er(i):Yr(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],c=t[s+1];GM(u,e)&&(a=!0,t[s+1]=r?Od(c):Pd(c)),s=r?er(c):Yr(c)}a&&(t[n+1]=r?Pd(i):Od(i))}function GM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?co(t,e)>=0:!1}function mo(t,e,n){let r=oe(),i=lu();if(po(r,i,e)){let o=Ye(),s=du();vh(o,s,r,t,e,r[me],n,!1)}return mo}function Iv(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";_h(t,n,o[s],s,r)}function Sh(t,e){return WM(t,e,null,!0),Sh}function WM(t,e,n,r){let i=oe(),o=Ye(),s=HT(2);if(o.firstUpdatePass&&QM(o,t,s,r),e!==nr&&po(i,s,e)){let a=o.data[Jr()];ex(o,a,i,i[me],t,i[s+1]=tx(e,n),r,s)}}function KM(t,e){return e>=t.expandoStartIndex}function QM(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Jr()],s=KM(t,n);nx(o,r)&&e===null&&!s&&(e=!1),e=YM(i,o,e,r),qM(i,o,e,n,s,r)}}function YM(t,e,n,r){let i=WT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Xl(null,t,e,n,r),n=so(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Xl(i,t,e,n,r),o===null){let u=ZM(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Xl(null,t,e,u[1],r),u=so(u,e.attrs,r),JM(t,e,r,u))}else o=XM(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function ZM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Yr(r)!==0)return t[er(r)]}function JM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[er(i)]=r}function XM(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=so(r,s,n)}return so(r,e.attrs,n)}function Xl(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=so(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function so(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),zb(t,s,n?!0:e[++o]))}return t===void 0?null:t}function ex(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,c=u[a+1],l=HM(c)?Dv(u,e,n,i,Yr(c),s):void 0;if(!Xa(l)){Xa(o)||UM(c)&&(o=Dv(u,null,n,i,a,s));let d=c_(Jr(),n);XS(r,s,d,i,o)}}function Dv(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=l===null,h=n[i+1];h===nr&&(h=d?dt:void 0);let f=d?$l(h,r):l===r?h:void 0;if(c&&!Xa(f)&&(f=$l(u,r)),Xa(f)&&(a=f,s))return a;let m=t[i+1];i=s?er(m):Yr(m)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=$l(u,r))}return a}function Xa(t){return t!==void 0}function tx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=$e(fo(t)))),t}function nx(t,e){return(t.flags&(e?8:16))!==0}function rx(t,e,n,r,i,o){let s=e.consts,a=Ba(s,i),u=vu(e,t,2,r,a);return dw(e,n,u,Ba(s,o)),u.attrs!==null&&Md(u,u.attrs,!1),u.mergedAttrs!==null&&Md(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function De(t,e,n,r){let i=oe(),o=Ye(),s=En+t,a=i[me],u=o.firstCreatePass?rx(s,o,i,e,n,r):o.data[s],c=ix(o,i,u,a,e,t);i[s]=c;let l=Zd(u);return lo(u,!0),tw(a,c,u),!VM(u)&&nh()&&gh(o,i,c,u),OT()===0&&Jn(c,i),FT(),l&&(uw(o,i,u),aw(o,u,i)),r!==null&&cw(i,u),De}function Re(){let t=Ze();y_()?UT():(t=t.parent,lo(t,!1));let e=t;LT(e)&&jT(),kT();let n=Ye();return n.firstCreatePass&&(ih(n,t),i_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&eS(e)&&Iv(n,e,oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&tS(e)&&Iv(n,e,oe(),e.stylesWithoutHost,!1),Re}function Sn(t,e,n,r){return De(t,e,n,r),Re(),Sn}var ix=(t,e,n,r,i,o)=>(rh(!0),K_(r,i,YT()));function Sw(){return oe()}var eu="en-US";var ox=eu;function sx(t){typeof t=="string"&&(ox=t.toLowerCase().replace(/_/g,"-"))}function yo(t,e,n,r){let i=oe(),o=Ye(),s=Ze();return Aw(o,i,i[me],s,t,e,r),yo}function ax(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[eo],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Aw(t,e,n,r,i,o,s){let a=Zd(r),c=t.firstCreatePass&&TA(t),l=e[It],d=bA(e),h=!0;if(r.type&3||s){let I=gt(r,e),C=s?s(I):I,A=d.length,se=s?ue=>s(Ft(ue[r.index])):r.index,ee=null;if(!s&&a&&(ee=ax(t,e,i,r.index)),ee!==null){let ue=ee.__ngLastListenerFn__||ee;ue.__ngNextListenerFn__=o,ee.__ngLastListenerFn__=o,h=!1}else{o=bv(r,e,l,o,!1);let ue=n.listen(C,i,o);d.push(o,ue),c&&c.push(i,se,A,A+1)}}else o=bv(r,e,l,o,!1);let f=r.outputs,m;if(h&&f!==null&&(m=f[i])){let I=m.length;if(I)for(let C=0;C<I;C+=2){let A=m[C],se=m[C+1],Ge=e[A][se].subscribe(o),re=d.length;d.push(o,Ge),c&&c.push(i,r.index,re,-(re+1))}}}function Cv(t,e,n,r){let i=Q(null);try{return Rt(6,e,n),n(r)!==!1}catch(o){return mw(t,o),!1}finally{Rt(7,e,n),Q(i)}}function bv(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Cn(t.index,e):e;Eh(a);let u=Cv(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Cv(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function Ah(t=1){return QT(t)}function Mh(t,e,n){return Mw(t,"",e,"",n),Mh}function Mw(t,e,n,r,i){let o=oe(),s=Tw(o,e,n,r);if(s!==nr){let a=Ye(),u=du();vh(a,u,o,t,s,o[me],i,!1)}return Mw}function it(t,e=""){let n=oe(),r=Ye(),i=t+En,o=r.firstCreatePass?vu(r,i,1,e,null):r.data[i],s=ux(r,n,o,e,t);n[i]=s,nh()&&gh(r,n,s,o),lo(o,!1)}var ux=(t,e,n,r,i)=>(rh(!0),OS(e[me],r));function vo(t){return _o("",t,""),vo}function _o(t,e,n){let r=oe(),i=Tw(r,t,e,n);return i!==nr&&SA(r,Jr(),i),_o}function xh(t,e,n){Cw(e)&&(e=e());let r=oe(),i=lu();if(po(r,i,e)){let o=Ye(),s=du();vh(o,s,r,t,e,r[me],n,!1)}return xh}function xw(t,e){let n=Cw(t);return n&&t.set(e),n}function Rh(t,e){let n=oe(),r=Ye(),i=Ze();return Aw(r,n,n[me],i,t,e),Rh}function cx(t,e,n){let r=Ye();if(r.firstCreatePass){let i=In(t);Fd(n,r.data,r.blueprint,i,!0),Fd(e,r.data,r.blueprint,i,!1)}}function Fd(t,e,n,r,i){if(t=Ue(t),Array.isArray(t))for(let o=0;o<t.length;o++)Fd(t[o],e,n,r,i);else{let o=Ye(),s=oe(),a=Ze(),u=zr(t)?t:Ue(t.provide),c=e_(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(zr(t)||!t.multi){let f=new Zn(c,i,L),m=td(u,e,i?l:l+h,d);m===-1?(fd(Ha(a,s),o,u),ed(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[m]=f,s[m]=f)}else{let f=td(u,e,l+h,d),m=td(u,e,l,l+h),I=f>=0&&n[f],C=m>=0&&n[m];if(i&&!C||!i&&!I){fd(Ha(a,s),o,u);let A=hx(i?dx:lx,n.length,i,r,c);!i&&C&&(n[m].providerFactory=A),ed(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(A),s.push(A)}else{let A=Rw(n[i?m:f],c,!i&&r);ed(o,t,f>-1?f:m,A)}!i&&r&&C&&n[m].componentProviders++}}}function ed(t,e,n,r){let i=zr(e),o=hT(e);if(i||o){let u=(o?Ue(e.useClass):e).prototype.ngOnDestroy;if(u){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=c.indexOf(n);l===-1?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Rw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function td(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function lx(t,e,n,r){return kd(this.multi,[])}function dx(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Kr(n,n[H],this.providerFactory.index,r);o=a.slice(0,s),kd(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],kd(i,o);return o}function kd(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function hx(t,e,n,r,i){let o=new Zn(t,n,L);return o.multi=[],o.index=e,o.componentProviders=0,Rw(o,i,r&&!n),o}function Nh(t,e=[]){return n=>{n.providersResolver=(r,i)=>cx(r,i?i(t):t,e)}}var fx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Zv(!1,r.type),o=i.length>0?Iu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(S(rt))});let t=e;return t})();function ti(t){Ih("NgStandalone"),t.getStandaloneInjector=e=>e.get(fx).getOrCreateStandaloneInjector(t)}var Sa=null;function px(t){Sa!==null&&(t.defaultEncapsulation!==Sa.defaultEncapsulation||t.preserveWhitespaces!==Sa.preserveWhitespaces)||(Sa=t)}var bu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Ph=new M(""),wo=new M(""),Tu=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Oh||(gx(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(S(ie),S(Su),S(wo))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Su=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Oh?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function gx(t){Oh=t}var Oh;function ir(t){return!!t&&typeof t.then=="function"}function Nw(t){return!!t&&typeof t.subscribe=="function"}var Au=new M(""),Pw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=v(Au,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(ir(s))r.push(s);else if(Nw(s)){let a=new Promise((u,c)=>{s.subscribe({complete:u,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fh=new M("");function mx(){_y(()=>{throw new T(600,!1)})}function yx(t){return t.isBoundToModule}function vx(t,e,n){try{let r=n();return ir(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function Ow(t,e){return Array.isArray(e)?e.reduce(Ow,t):E(E({},t),e)}var ni=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(k_),this.afterRenderEffectManager=v(bh),this.externalTestViews=new Set,this.beforeRender=new Oe,this.afterTick=new Oe,this.componentTypes=[],this.components=[],this.isStable=v(Du).hasPendingTasks.pipe(U(r=>!r)),this._injector=v(rt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Ka;if(!this._injector.get(Pw).done){let f=!o&&Wv(r),m=!1;throw new T(405,m)}let a;o?a=r:a=this._injector.get(Eu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=yx(a)?void 0:this._injector.get(Dn),c=i||a.selector,l=a.create(bt.NULL,[],c,u),d=l.location.nativeElement,h=l.injector.get(Ph,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Na(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new T(101,!1);let i=Q(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Q(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===vw)throw new T(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)_x(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Vd(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Vd(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Na(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Fh,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Na(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new T(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Na(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function _x(t,e,n){!e&&!Vd(t)||wx(t,n,e)}function Vd(t){return Xd(t)}function wx(t,e,n){let r;n?(r=0,t[N]|=1024):t[N]&64?r=0:r=1,_w(t,e,r)}var Ld=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Mu=(()=>{let e=class e{compileModuleSync(r){return new Ja(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Kv(r),s=W_(o.declarations).reduce((a,u)=>{let c=wn(u);return c&&a.push(new Qr(c)),a},[]);return new Ld(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ex=new M("");function Ix(t,e,n){let r=new Ja(n);return Promise.resolve(r)}function Tv(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Dx=(()=>{let e=class e{constructor(){this.zone=v(ie),this.applicationRef=v(ni)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cx(t){return[{provide:ie,useFactory:t},{provide:qr,multi:!0,useFactory:()=>{let e=v(Dx,{optional:!0});return()=>e.initialize()}},{provide:qr,multi:!0,useFactory:()=>{let e=v(Sx);return()=>{e.initialize()}}},{provide:k_,useFactory:bx}]}function bx(){let t=v(ie),e=v(kt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Tx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Sx=(()=>{let e=class e{constructor(){this.subscription=new Ee,this.initialized=!1,this.zone=v(ie),this.pendingTasks=v(Du)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ax(){return typeof $localize<"u"&&$localize.locale||eu}var kh=new M("",{providedIn:"root",factory:()=>v(kh,j.Optional|j.SkipSelf)||Ax()});var Fw=new M(""),kw=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=rM(i?.ngZone,Tx({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=OM(r.moduleType,this.injector,Cx(()=>o)),a=s.injector.get(kt,null);return o.runOutsideAngular(()=>{let u=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{Na(this._modules,s),u.unsubscribe()})}),vx(a,o,()=>{let u=s.injector.get(Pw);return u.runInitializers(),u.donePromise.then(()=>{let c=s.injector.get(kh,eu);return sx(c||eu),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=Ow({},i);return Ix(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(ni);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new T(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(Fw,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(S(bt))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Yi=null,Vw=new M("");function Mx(t){if(Yi&&!Yi.get(Vw,!1))throw new T(400,!1);mx(),Yi=t;let e=t.get(kw);return Nx(t),e}function Vh(t,e,n=[]){let r=`Platform: ${e}`,i=new M(r);return(o=[])=>{let s=Lw();if(!s||s.injector.get(Vw,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):Mx(xx(a,r))}return Rx(i)}}function xx(t=[],e){return bt.create({name:e,providers:[{provide:su,useValue:"platform"},{provide:Fw,useValue:new Set([()=>Yi=null])},...t]})}function Rx(t){let e=Lw();if(!e)throw new T(401,!1);return e}function Lw(){return Yi?.get(kw)??null}function Nx(t){t.get(uh,null)?.forEach(n=>n())}var or=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Px;let t=e;return t})();function Px(t){return Ox(Ze(),oe(),(t&16)===16)}function Ox(t,e,n){if(cu(t)&&!n){let r=Cn(t.index,e);return new Xn(r,r)}else if(t.type&47){let r=e[Ot];return new Xn(r,e)}return null}var jd=class{constructor(){}supports(e){return bw(e)}create(e){return new Bd(e)}},Fx=(t,e)=>e,Bd=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Fx}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Sv(r,i,o)?n:r,a=Sv(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,m=f+h;l<=m&&m<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!bw(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,FM(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Ud(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new tu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new tu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ud=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},$d=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},tu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new $d,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Sv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Av(){return new Lh([new jd])}var Lh=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Av()),deps:[[e,new zd,new ou]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new T(901,!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:Av});let t=e;return t})();var jw=Vh(null,"core",[]),Bw=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(S(ni))},e.\u0275mod=Qe({type:e}),e.\u0275inj=Ke({});let t=e;return t})();function sr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Uw(t){let e=wn(t);if(!e)return null;let n=new Qr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Gw=null;function Lt(){return Gw}function Ww(t){Gw??=t}var xu=class{};var Xe=new M(""),qh=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>v(kx),providedIn:"platform"});let t=e;return t})(),Kw=new M(""),kx=(()=>{let e=class e extends qh{constructor(){super(),this._doc=v(Xe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Lt().getBaseHref(this._doc)}onPopState(r){let i=Lt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Lt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function zh(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function $w(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function on(t){return t&&t[0]!=="?"?"?"+t:t}var sn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>v(Gh),providedIn:"root"});let t=e;return t})(),Qw=new M(""),Gh=(()=>{let e=class e extends sn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return zh(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+on(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+on(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+on(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(qh),S(Qw,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yw=(()=>{let e=class e extends sn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=zh(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+on(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+on(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(qh),S(Qw,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),An=(()=>{let e=class e{constructor(r){this._subject=new Ie,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=jx($w(Hw(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+on(i))}normalize(r){return e.stripTrailingSlash(Lx(this._basePath,Hw(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+on(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+on(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=on,e.joinWithSlash=zh,e.stripTrailingSlash=$w,e.\u0275fac=function(i){return new(i||e)(S(sn))},e.\u0275prov=b({token:e,factory:()=>Vx(),providedIn:"root"});let t=e;return t})();function Vx(){return new An(S(sn))}function Lx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Hw(t){return t.replace(/\/index.html$/,"")}function jx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Zw(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var jh=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Jw=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new jh(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),qw(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);qw(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(L(Xr),L(wu),L(Lh))},e.\u0275dir=pt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function qw(t,e){t.context.$implicit=e.item}var Xw=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Bh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){zw("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){zw("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(L(Xr),L(wu))},e.\u0275dir=pt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Bh=class{constructor(){this.$implicit=null,this.ngIf=null}};function zw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${$e(e)}'.`)}var eE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Qe({type:e}),e.\u0275inj=Ke({});let t=e;return t})(),Wh="browser",Bx="server";function Ux(t){return t===Wh}function Kh(t){return t===Bx}var tE=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>Ux(v(Tn))?new Uh(v(Xe),window):new $h});let t=e;return t})(),Uh=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=$x(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function $x(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var $h=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ru=class{};var Zh=class extends xu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Jh=class t extends Zh{static makeCurrent(){Ww(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=qx();return n==null?null:zx(n)}resetBaseElement(){Eo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zw(document.cookie,e)}},Eo=null;function qx(){return Eo=Eo||document.querySelector("base"),Eo?Eo.getAttribute("href"):null}function zx(t){return new URL(t,document.baseURI).pathname}var Xh=class{addToWindow(e){xe.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new T(5103,!1);return o},xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),xe.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=xe.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Lt().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},Gx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),ef=new M(""),sE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new T(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(S(ef),S(ie))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Nu=class{constructor(e){this._doc=e}},Qh="ng-app-id",aE=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Kh(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Qh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Qh),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Qh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(S(Xe),S(fu),S(ch,8),S(Tn))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Yh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nf=/%COMP%/g,uE="%COMP%",Wx=`_nghost-${uE}`,Kx=`_ngcontent-${uE}`,Qx=!0,Yx=new M("",{providedIn:"root",factory:()=>Qx});function Zx(t){return Kx.replace(nf,t)}function Jx(t){return Wx.replace(nf,t)}function cE(t,e){return e.map(n=>n.replace(nf,t))}var rE=(()=>{let e=class e{constructor(r,i,o,s,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Kh(u),this.defaultRenderer=new Io(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Pt.ShadowDom&&(i=te(E({},i),{encapsulation:Pt.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Pu?o.applyToHost(r):o instanceof Do&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Pt.Emulated:s=new Pu(c,l,i,this.appId,d,a,u,h);break;case Pt.ShadowDom:return new tf(c,l,r,i,a,u,this.nonce,h);default:s=new Do(c,l,i,d,a,u,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(S(sE),S(aE),S(fu),S(Yx),S(Xe),S(Tn),S(ie),S(ch))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Io=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Yh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(iE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(iE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Yh[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Yh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(en.DashCase|en.Important)?e.style.setProperty(n,r,i&en.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&en.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Lt().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function iE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var tf=class extends Io{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=cE(i.id,i.styles);for(let l of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Do=class extends Io{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?cE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Pu=class extends Do{constructor(e,n,r,i,o,s,a,u){let c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=Zx(c),this.hostAttr=Jx(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Xx=(()=>{let e=class e extends Nu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(S(Xe))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),oE=["alt","control","meta","shift"],eR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},nR=(()=>{let e=class e extends Nu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lt().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),oE.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=eR[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),oE.forEach(a=>{if(a!==o){let u=tR[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(S(Xe))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function rR(){Jh.makeCurrent()}function iR(){return new kt}function oR(){return $_(document),document}var sR=[{provide:Tn,useValue:Wh},{provide:uh,useValue:rR,multi:!0},{provide:Xe,useFactory:oR,deps:[]}],lE=Vh(jw,"browser",sR),aR=new M(""),uR=[{provide:wo,useClass:Xh,deps:[]},{provide:Ph,useClass:Tu,deps:[ie,Su,wo]},{provide:Tu,useClass:Tu,deps:[ie,Su,wo]}],cR=[{provide:su,useValue:"root"},{provide:kt,useFactory:iR,deps:[]},{provide:ef,useClass:Xx,multi:!0,deps:[Xe,ie,Tn]},{provide:ef,useClass:nR,multi:!0,deps:[Xe]},rE,aE,sE,{provide:io,useExisting:rE},{provide:Ru,useClass:Gx,deps:[]},[]],dE=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:fu,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(S(aR,12))},e.\u0275mod=Qe({type:e}),e.\u0275inj=Ke({providers:[...cR,...uR],imports:[eE,Bw]});let t=e;return t})();var hE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(S(Xe))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EE=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(L(rr),L(bn))},e.\u0275dir=pt({type:e});let t=e;return t})(),lR=(()=>{let e=class e extends EE{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ho(e)))(o||e)}})(),e.\u0275dir=pt({type:e,features:[ei]});let t=e;return t})(),IE=new M("");var dR={provide:IE,useExisting:uo(()=>Vu),multi:!0};function hR(){let t=Lt()?Lt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var fR=new M(""),Vu=(()=>{let e=class e extends EE{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hR())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(L(rr),L(bn),L(fR,8))},e.\u0275dir=pt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&yo("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Nh([dR]),ei]});let t=e;return t})();var pR=new M(""),gR=new M("");function DE(t){return t!=null}function CE(t){return ir(t)?ce(t):t}function bE(t){let e={};return t.forEach(n=>{e=n!=null?E(E({},e),n):e}),Object.keys(e).length===0?null:e}function TE(t,e){return e.map(n=>n(t))}function mR(t){return!t.validate}function SE(t){return t.map(e=>mR(e)?e:n=>e.validate(n))}function yR(t){if(!t)return null;let e=t.filter(DE);return e.length==0?null:function(n){return bE(TE(n,e))}}function AE(t){return t!=null?yR(SE(t)):null}function vR(t){if(!t)return null;let e=t.filter(DE);return e.length==0?null:function(n){let r=TE(n,e).map(CE);return kl(r).pipe(U(bE))}}function ME(t){return t!=null?vR(SE(t)):null}function pE(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _R(t){return t._rawValidators}function wR(t){return t._rawAsyncValidators}function rf(t){return t?Array.isArray(t)?t:[t]:[]}function Fu(t,e){return Array.isArray(t)?t.includes(e):t===e}function gE(t,e){let n=rf(e);return rf(t).forEach(i=>{Fu(n,i)||n.push(i)}),n}function mE(t,e){return rf(e).filter(n=>!Fu(t,n))}var ku=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=AE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ME(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},of=class extends ku{get formDirective(){return null}get path(){return null}},To=class extends ku{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},sf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ER={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},P$=te(E({},ER),{"[class.ng-submitted]":"isSubmitted"}),xE=(()=>{let e=class e extends sf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(L(To,2))},e.\u0275dir=pt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Sh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ei]});let t=e;return t})();var Co="VALID",Ou="INVALID",ri="PENDING",bo="DISABLED";function IR(t){return(Lu(t)?t.validators:t)||null}function DR(t){return Array.isArray(t)?AE(t):t||null}function CR(t,e){return(Lu(e)?e.asyncValidators:t)||null}function bR(t){return Array.isArray(t)?ME(t):t||null}function Lu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var af=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Co}get invalid(){return this.status===Ou}get pending(){return this.status==ri}get disabled(){return this.status===bo}get enabled(){return this.status!==bo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mE(e,this._rawAsyncValidators))}hasValidator(e){return Fu(this._rawValidators,e)}hasAsyncValidator(e){return Fu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ri,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bo,this.errors=null,this._forEachChild(r=>{r.disable(te(E({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Co,this._forEachChild(r=>{r.enable(te(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Co||this.status===ri)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bo:Co}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ri,this._hasOwnPendingAsyncValidator=!0;let n=CE(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ie,this.statusChanges=new Ie}_calculateStatus(){return this._allControlsDisabled()?bo:this.errors?Ou:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ri)?ri:this._anyControlsHaveStatus(Ou)?Ou:Co}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=DR(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=bR(this._rawAsyncValidators)}};var RE=new M("CallSetDisabledState",{providedIn:"root",factory:()=>uf}),uf="always";function TR(t,e){return[...e.path,t]}function SR(t,e,n=uf){MR(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),xR(t,e),NR(t,e),RR(t,e),AR(t,e)}function yE(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function AR(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function MR(t,e){let n=_R(t);e.validator!==null?t.setValidators(pE(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=wR(t);e.asyncValidator!==null?t.setAsyncValidators(pE(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();yE(e._rawValidators,i),yE(e._rawAsyncValidators,i)}function xR(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&NE(t,e)})}function RR(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&NE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function NE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function NR(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function PR(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function OR(t){return Object.getPrototypeOf(t.constructor)===lR}function FR(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Vu?n=o:OR(o)?r=o:i=o}),i||r||n||null}function vE(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function _E(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var kR=class extends af{constructor(e=null,n,r){super(IR(n),CR(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(_E(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){_E(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var VR={provide:To,useExisting:uo(()=>cf)},wE=Promise.resolve(),cf=(()=>{let e=class e extends To{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new kR,this._registered=!1,this.name="",this.update=new Ie,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=FR(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),PR(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){SR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){wE.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&sr(i);wE.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?TR(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(L(of,9),L(pR,10),L(gR,10),L(IE,10),L(or,8),L(RE,8))},e.\u0275dir=pt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[He.None,"disabled","isDisabled"],model:[He.None,"ngModel","model"],options:[He.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Nh([VR]),ei,tr]});let t=e;return t})();var LR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Qe({type:e}),e.\u0275inj=Ke({});let t=e;return t})();var ii=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:RE,useValue:r.callSetDisabledState??uf}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Qe({type:e}),e.\u0275inj=Ke({imports:[LR]});let t=e;return t})();var k="primary",Uo=Symbol("RouteTitle"),pf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ci(t){return new pf(t)}function BR(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function UR(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!jt(t[n],e[n]))return!1;return!0}function jt(t,e){let n=t?gf(t):void 0,r=e?gf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!UE(t[i],e[i]))return!1;return!0}function gf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function UE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function $E(t){return t.length>0?t[t.length-1]:null}function Pn(t){return Fl(t)?t:ir(t)?ce(Promise.resolve(t)):R(t)}var $R={exact:qE,subset:zE},HE={exact:HR,subset:qR,ignored:()=>!0};function PE(t,e,n){return $R[n.paths](t.root,e.root,n.matrixParams)&&HE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function HR(t,e){return jt(t,e)}function qE(t,e,n){if(!ur(t.segments,e.segments)||!Uu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!qE(t.children[r],e.children[r],n))return!1;return!0}function qR(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>UE(t[n],e[n]))}function zE(t,e,n){return GE(t,e,e.segments,n)}function GE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ur(i,n)||e.hasChildren()||!Uu(i,n,r))}else if(t.segments.length===n.length){if(!ur(t.segments,n)||!Uu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!zE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ur(t.segments,i)||!Uu(t.segments,i,r)||!t.children[k]?!1:GE(t.children[k],e,o,r)}}function Uu(t,e,n){return e.every((r,i)=>HE[n](t[i].parameters,r.parameters))}var Mn=class{constructor(e=new Z([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ci(this.queryParams),this._queryParamMap}toString(){return WR.serialize(this)}},Z=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $u(this)}},ar=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ci(this.parameters),this._parameterMap}toString(){return KE(this)}};function zR(t,e){return ur(t,e)&&t.every((n,r)=>jt(n.parameters,e[r].parameters))}function ur(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function GR(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===k&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==k&&(n=n.concat(e(i,r)))}),n}var $o=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new Po,providedIn:"root"});let t=e;return t})(),Po=class{parse(e){let n=new yf(e);return new Mn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${So(e.root,!0)}`,r=YR(e.queryParams),i=typeof e.fragment=="string"?`#${KR(e.fragment)}`:"";return`${n}${r}${i}`}},WR=new Po;function $u(t){return t.segments.map(e=>KE(e)).join("/")}function So(t,e){if(!t.hasChildren())return $u(t);if(e){let n=t.children[k]?So(t.children[k],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==k&&r.push(`${i}:${So(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=GR(t,(r,i)=>i===k?[So(t.children[k],!1)]:[`${i}:${So(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[k]!=null?`${$u(t)}/${n[0]}`:`${$u(t)}/(${n.join("//")})`}}function WE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ju(t){return WE(t).replace(/%3B/gi,";")}function KR(t){return encodeURI(t)}function mf(t){return WE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hu(t){return decodeURIComponent(t)}function OE(t){return Hu(t.replace(/\+/g,"%20"))}function KE(t){return`${mf(t.path)}${QR(t.parameters)}`}function QR(t){return Object.entries(t).map(([e,n])=>`;${mf(e)}=${mf(n)}`).join("")}function YR(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ju(n)}=${ju(i)}`).join("&"):`${ju(n)}=${ju(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ZR=/^[^\/()?;#]+/;function lf(t){let e=t.match(ZR);return e?e[0]:""}var JR=/^[^\/()?;=#]+/;function XR(t){let e=t.match(JR);return e?e[0]:""}var eN=/^[^=?&#]+/;function tN(t){let e=t.match(eN);return e?e[0]:""}var nN=/^[^&#]+/;function rN(t){let e=t.match(nN);return e?e[0]:""}var yf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Z([],{}):new Z([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[k]=new Z(e,n)),r}parseSegment(){let e=lf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new ar(Hu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=XR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=lf(this.remaining);i&&(r=i,this.capture(r))}e[Hu(n)]=Hu(r)}parseQueryParam(e){let n=tN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=rN(this.remaining);s&&(r=s,this.capture(r))}let i=OE(n),o=OE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=lf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=k);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[k]:new Z([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}};function QE(t){return t.segments.length>0?new Z([],{[k]:t}):t}function YE(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=YE(i);if(r===k&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Z(t.segments,e);return iN(n)}function iN(t){if(t.numberOfChildren===1&&t.children[k]){let e=t.children[k];return new Z(t.segments.concat(e.segments),e.children)}return t}function li(t){return t instanceof Mn}function oN(t,e,n=null,r=null){let i=ZE(t);return JE(i,e,n,r)}function ZE(t){let e;function n(o){let s={};for(let u of o.children){let c=n(u);s[u.outlet]=c}let a=new Z(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=QE(r);return e??i}function JE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return df(i,i,i,n,r);let o=sN(e);if(o.toRoot())return df(i,i,new Z([],{}),n,r);let s=aN(o,i,t),a=s.processChildren?xo(s.segmentGroup,s.index,o.commands):eI(s.segmentGroup,s.index,o.commands);return df(i,s.segmentGroup,a,n,r)}function qu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Oo(t){return typeof t=="object"&&t!=null&&t.outlets}function df(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`});let s;t===e?s=n:s=XE(t,e,n);let a=QE(YE(s));return new Mn(a,o,i)}function XE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=XE(o,e,n)}),new Z(t.segments,r)}var zu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&qu(r[0]))throw new T(4003,!1);let i=r.find(Oo);if(i&&i!==$E(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new zu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new zu(n,e,r)}var ai=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function aN(t,e,n){if(t.isAbsolute)return new ai(e,!0,0);if(!n)return new ai(e,!1,NaN);if(n.parent===null)return new ai(n,!0,0);let r=qu(t.commands[0])?0:1,i=n.segments.length-1+r;return uN(n,i,t.numberOfDoubleDots)}function uN(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new ai(r,!1,i-o)}function cN(t){return Oo(t[0])?t[0].outlets:{[k]:t}}function eI(t,e,n){if(t??=new Z([],{}),t.segments.length===0&&t.hasChildren())return xo(t,e,n);let r=lN(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Z(t.segments.slice(0,r.pathIndex),{});return o.children[k]=new Z(t.segments.slice(r.pathIndex),t.children),xo(o,0,i)}else return r.match&&i.length===0?new Z(t.segments,{}):r.match&&!t.hasChildren()?vf(t,e,n):r.match?xo(t,0,i):vf(t,e,n)}function xo(t,e,n){if(n.length===0)return new Z(t.segments,{});{let r=cN(n),i={};if(Object.keys(r).some(o=>o!==k)&&t.children[k]&&t.numberOfChildren===1&&t.children[k].segments.length===0){let o=xo(t.children[k],e,n);return new Z(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=eI(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Z(t.segments,i)}}function lN(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Oo(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!kE(u,c,s))return o;r+=2}else{if(!kE(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function vf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Oo(o)){let u=dN(o.outlets);return new Z(r,u)}if(i===0&&qu(n[0])){let u=t.segments[e];r.push(new ar(u.path,FE(n[0]))),i++;continue}let s=Oo(o)?o.outlets[k]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&qu(a)?(r.push(new ar(s,FE(a))),i+=2):(r.push(new ar(s,{})),i++)}return new Z(r,{})}function dN(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=vf(new Z([],{}),0,r))}),e}function FE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function kE(t,e,n){return t==n.path&&jt(e,n.parameters)}var Ro="imperative",Ce=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ce||{}),mt=class{constructor(e,n){this.id=e,this.url=n}},di=class extends mt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ce.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Bt=class extends mt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ce.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},st=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(st||{}),Gu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Gu||{}),xn=class extends mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ce.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Rn=class extends mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ce.NavigationSkipped}},Fo=class extends mt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ce.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Wu=class extends mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ce.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_f=class extends mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ce.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wf=class extends mt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ce.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ef=class extends mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ce.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},If=class extends mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ce.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Df=class{constructor(e){this.route=e,this.type=Ce.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Cf=class{constructor(e){this.route=e,this.type=Ce.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bf=class{constructor(e){this.snapshot=e,this.type=Ce.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tf=class{constructor(e){this.snapshot=e,this.type=Ce.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sf=class{constructor(e){this.snapshot=e,this.type=Ce.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Af=class{constructor(e){this.snapshot=e,this.type=Ce.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ku=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ce.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ko=class{},Vo=class{constructor(e){this.url=e}};var Mf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ho,this.attachRef=null}},Ho=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Mf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=xf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=xf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Rf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rf(e,this._root).map(n=>n.value)}};function xf(t,e){if(t===e.value)return e;for(let n of e.children){let r=xf(t,n);if(r)return r}return null}function Rf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Rf(t,n);if(r.length)return r.unshift(e),r}return[]}var ot=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function si(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Yu=class extends Qu{constructor(e,n){super(e),this.snapshot=n,Uf(this,e)}toString(){return this.snapshot.toString()}};function tI(t){let e=hN(t),n=new Ae([new ar("",{})]),r=new Ae({}),i=new Ae({}),o=new Ae({}),s=new Ae(""),a=new an(n,r,o,s,i,k,t,e.root);return a.snapshot=e.root,new Yu(new ot(a,[]),e)}function hN(t){let e={},n={},r={},i="",o=new Lo([],e,r,i,n,k,t,null,{});return new Zu("",new ot(o,[]))}var an=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(U(c=>c[Uo]))??R(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(U(e=>ci(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(U(e=>ci(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&rI(i)&&(r.resolve[Uo]=i.title),r}var Lo=class{get title(){return this.data?.[Uo]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ci(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ci(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Zu=class extends Qu{constructor(e,n){super(n),this.url=e,Uf(this,n)}toString(){return nI(this._root)}};function Uf(t,e){e.value._routerState=t,e.children.forEach(n=>Uf(t,n))}function nI(t){let e=t.children.length>0?` { ${t.children.map(nI).join(", ")} } `:"";return`${t.value}${e}`}function hf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,jt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),jt(e.params,n.params)||t.paramsSubject.next(n.params),UR(e.url,n.url)||t.urlSubject.next(n.url),jt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Nf(t,e){let n=jt(t.params,e.params)&&zR(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Nf(t.parent,e.parent))}function rI(t){return typeof t.title=="string"||t.title===null}var $f=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=k,this.activateEvents=new Ie,this.deactivateEvents=new Ie,this.attachEvents=new Ie,this.detachEvents=new Ie,this.parentContexts=v(Ho),this.location=v(Xr),this.changeDetector=v(or),this.environmentInjector=v(rt),this.inputBinder=v(nc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new Pf(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=pt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[tr]});let t=e;return t})(),Pf=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===an?this.route:e===Ho?this.childContexts:this.parent.get(e,n)}},nc=new M(""),VE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Wi([i.queryParams,i.params,i.data]).pipe(ct(([s,a,u],c)=>(u=E(E(E({},s),a),u),c===0?R(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Uw(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function fN(t,e,n){let r=jo(t,e._root,n?n._root:void 0);return new Yu(r,e)}function jo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=pN(t,e,n);return new ot(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>jo(t,a)),s}}let r=gN(e.value),i=e.children.map(o=>jo(t,o));return new ot(r,i)}}function pN(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return jo(t,r,i);return jo(t,r)})}function gN(t){return new an(new Ae(t.url),new Ae(t.params),new Ae(t.queryParams),new Ae(t.fragment),new Ae(t.data),t.outlet,t.component,t)}var iI="ngNavigationCancelingError";function oI(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=li(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sI(!1,st.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function sI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[iI]=!0,n.cancellationCode=e,n}function mN(t){return aI(t)&&li(t.url)}function aI(t){return!!t&&t[iI]}var yN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ft({type:e,selectors:[["ng-component"]],standalone:!0,features:[ti],decls:1,vars:0,template:function(i,o){i&1&&Sn(0,"router-outlet")},dependencies:[$f],encapsulation:2});let t=e;return t})();function vN(t,e){return t.providers&&!t._injector&&(t._injector=Iu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Hf(t){let e=t.children&&t.children.map(Hf),n=e?te(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==k&&(n.component=yN),n}function Ut(t){return t.outlet||k}function _N(t,e){let n=t.filter(r=>Ut(r)===e);return n.push(...t.filter(r=>Ut(r)!==e)),n}function qo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var wN=(t,e,n,r)=>U(i=>(new Of(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Of=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),hf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=si(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=si(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=si(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=si(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Af(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Tf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(hf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hf(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=qo(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Ju=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ui=class{constructor(e,n){this.component=e,this.route=n}};function EN(t,e,n){let r=t._root,i=e?e._root:null;return Ao(r,i,n,[r.value])}function IN(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function fi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Nv(t)?t:e.get(t):r}function Ao(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=si(e);return t.children.forEach(s=>{DN(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>No(a,n.getContext(s),i)),i}function DN(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=CN(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ju(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ao(t,e,a?a.children:null,r,i):Ao(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ui(a.outlet.component,s))}else s&&No(e,a,i),i.canActivateChecks.push(new Ju(r)),o.component?Ao(t,null,a?a.children:null,r,i):Ao(t,null,n,r,i);return i}function CN(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ur(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ur(t.url,e.url)||!jt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nf(t,e)||!jt(t.queryParams,e.queryParams);case"paramsChange":default:return!Nf(t,e)}}function No(t,e,n){let r=si(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?No(s,e.children.getContext(o),n):No(s,null,n):No(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ui(e.outlet.component,i)):n.canDeactivateChecks.push(new ui(null,i)):n.canDeactivateChecks.push(new ui(null,i))}function zo(t){return typeof t=="function"}function bN(t){return typeof t=="boolean"}function TN(t){return t&&zo(t.canLoad)}function SN(t){return t&&zo(t.canActivate)}function AN(t){return t&&zo(t.canActivateChild)}function MN(t){return t&&zo(t.canDeactivate)}function xN(t){return t&&zo(t.canMatch)}function uI(t){return t instanceof Jt||t?.name==="EmptyError"}var Bu=Symbol("INITIAL_VALUE");function hi(){return ct(t=>Wi(t.map(e=>e.pipe(Xt(1),Bl(Bu)))).pipe(U(e=>{for(let n of e)if(n!==!0){if(n===Bu)return Bu;if(n===!1||n instanceof Mn)return n}return!0}),ut(e=>e!==Bu),Xt(1)))}function RN(t,e){return ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?R(te(E({},n),{guardsResult:!0})):NN(s,r,i,t).pipe(ge(a=>a&&bN(a)?PN(r,o,t,e):R(a)),U(a=>te(E({},n),{guardsResult:a})))})}function NN(t,e,n,r){return ce(t).pipe(ge(i=>LN(i.component,i.route,n,e,r)),xt(i=>i!==!0,!0))}function PN(t,e,n,r){return ce(e).pipe(zn(i=>Or(FN(i.route.parent,r),ON(i.route,r),VN(t,i.path,n),kN(t,i.route,n))),xt(i=>i!==!0,!0))}function ON(t,e){return t!==null&&e&&e(new Sf(t)),R(!0)}function FN(t,e){return t!==null&&e&&e(new bf(t)),R(!0)}function kN(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(o=>wa(()=>{let s=qo(e)??n,a=fi(o,s),u=SN(a)?a.canActivate(e,t):tn(s,()=>a(e,t));return Pn(u).pipe(xt())}));return R(i).pipe(hi())}function VN(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>IN(s)).filter(s=>s!==null).map(s=>wa(()=>{let a=s.guards.map(u=>{let c=qo(s.node)??n,l=fi(u,c),d=AN(l)?l.canActivateChild(r,t):tn(c,()=>l(r,t));return Pn(d).pipe(xt())});return R(a).pipe(hi())}));return R(o).pipe(hi())}function LN(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return R(!0);let s=o.map(a=>{let u=qo(e)??i,c=fi(a,u),l=MN(c)?c.canDeactivate(t,e,n,r):tn(u,()=>c(t,e,n,r));return Pn(l).pipe(xt())});return R(s).pipe(hi())}function jN(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return R(!0);let o=i.map(s=>{let a=fi(s,t),u=TN(a)?a.canLoad(e,n):tn(t,()=>a(e,n));return Pn(u)});return R(o).pipe(hi(),cI(r))}function cI(t){return Rl(Me(e=>{if(li(e))throw oI(t,e)}),U(e=>e===!0))}function BN(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return R(!0);let o=i.map(s=>{let a=fi(s,t),u=xN(a)?a.canMatch(e,n):tn(t,()=>a(e,n));return Pn(u)});return R(o).pipe(hi(),cI(r))}var Bo=class{constructor(e){this.segmentGroup=e||null}},Xu=class extends Error{constructor(e){super(),this.urlTree=e}};function oi(t){return Nr(new Bo(t))}function UN(t){return Nr(new T(4e3,!1))}function $N(t){return Nr(sI(!1,st.GuardRejected))}var Ff=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[k])return UN(e.redirectTo);i=i.children[k]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Xu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Mn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Z(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},kf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HN(t,e,n,r,i){let o=qf(t,e,n);return o.matched?(r=vN(e,r),BN(r,e,n,i).pipe(U(s=>s===!0?o:E({},kf)))):R(o)}function qf(t,e,n){if(e.path==="**")return qN(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},kf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||BR)(n,t,e);if(!i)return E({},kf);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function qN(t){return{matched:!0,parameters:t.length>0?$E(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function LE(t,e,n,r){return n.length>0&&WN(t,n,r)?{segmentGroup:new Z(e,GN(r,new Z(n,t.children))),slicedSegments:[]}:n.length===0&&KN(t,n,r)?{segmentGroup:new Z(t.segments,zN(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Z(t.segments,t.children),slicedSegments:n}}function zN(t,e,n,r){let i={};for(let o of n)if(rc(t,e,o)&&!r[Ut(o)]){let s=new Z([],{});i[Ut(o)]=s}return E(E({},r),i)}function GN(t,e){let n={};n[k]=e;for(let r of t)if(r.path===""&&Ut(r)!==k){let i=new Z([],{});n[Ut(r)]=i}return n}function WN(t,e,n){return n.some(r=>rc(t,e,r)&&Ut(r)!==k)}function KN(t,e,n){return n.some(r=>rc(t,e,r))}function rc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function QN(t,e,n,r){return Ut(t)!==r&&(r===k||!rc(e,n,t))?!1:qf(e,t,n).matched}function YN(t,e,n){return e.length===0&&!t.children[n]}var Vf=class{};function ZN(t,e,n,r,i,o,s="emptyOnly"){return new Lf(t,e,n,r,i,s,o).recognize()}var JN=31,Lf=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ff(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new T(4002,`'${e.segmentGroup}'`)}recognize(){let e=LE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(U(n=>{let r=new Lo([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,{},k,this.rootComponentType,null,{}),i=new ot(r,n),o=new Zu("",i),s=oN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,k).pipe(mn(r=>{if(r instanceof Xu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Bf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(U(o=>o instanceof ot?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return ce(i).pipe(zn(o=>{let s=r.children[o],a=_N(n,o);return this.processSegmentGroup(e,a,s,o)}),jl((o,s)=>(o.push(...s),o)),yn(null),Ll(),ge(o=>{if(o===null)return oi(r);let s=lI(o);return XN(s),R(s)}))}processSegment(e,n,r,i,o,s){return ce(n).pipe(zn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(mn(u=>{if(u instanceof Bo)return R(null);throw u}))),xt(a=>!!a),mn(a=>{if(uI(a))return YN(r,i,o)?R(new Vf):oi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return QN(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):oi(i):oi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:l}=qf(n,i,o);if(!a)return oi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JN&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(ge(h=>this.processSegment(e,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=HN(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(ct(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ct(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Lo(l,h,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,tP(r),Ut(r),r.component??r._loadedComponent??null,r,nP(r)),{segmentGroup:m,slicedSegments:I}=LE(n,l,d,u);if(I.length===0&&m.hasChildren())return this.processChildren(c,u,m).pipe(U(A=>A===null?null:new ot(f,A)));if(u.length===0&&I.length===0)return R(new ot(f,[]));let C=Ut(r)===o;return this.processSegment(c,u,m,I,C?k:o,!0).pipe(U(A=>new ot(f,A instanceof ot?[A]:[])))}))):oi(n)))}getChildConfig(e,n,r){return n.children?R({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):jN(e,n,r,this.urlSerializer).pipe(ge(i=>i?this.configLoader.loadChildren(e,n).pipe(Me(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):$N(n))):R({routes:[],injector:e})}};function XN(t){t.sort((e,n)=>e.value.outlet===k?-1:n.value.outlet===k?1:e.value.outlet.localeCompare(n.value.outlet))}function eP(t){let e=t.value.routeConfig;return e&&e.path===""}function lI(t){let e=[],n=new Set;for(let r of t){if(!eP(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=lI(r.children);e.push(new ot(r.value,i))}return e.filter(r=>!n.has(r))}function tP(t){return t.data||{}}function nP(t){return t.resolve||{}}function rP(t,e,n,r,i,o){return ge(s=>ZN(t,e,n,r,s.extractedUrl,i,o).pipe(U(({state:a,tree:u})=>te(E({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function iP(t,e){return ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let c of dI(u))s.add(c);let a=0;return ce(s).pipe(zn(u=>o.has(u)?oP(u,r,t,e):(u.data=Bf(u,u.parent,t).resolve,R(void 0))),Me(()=>a++),Fr(1),ge(u=>a===s.size?R(n):nt))})}function dI(t){let e=t.children.map(n=>dI(n)).flat();return[t,...e]}function oP(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!rI(i)&&(o[Uo]=i.title),sP(o,t,e,r).pipe(U(s=>(t._resolvedData=s,t.data=Bf(t,t.parent,n).resolve,null)))}function sP(t,e,n,r){let i=gf(t);if(i.length===0)return R({});let o={};return ce(i).pipe(ge(s=>aP(t[s],e,n,r).pipe(xt(),Me(a=>{o[s]=a}))),Fr(1),Vl(o),mn(s=>uI(s)?nt:Nr(s)))}function aP(t,e,n,r){let i=qo(e)??r,o=fi(t,i),s=o.resolve?o.resolve(e,n):tn(i,()=>o(e,n));return Pn(s)}function ff(t){return ct(e=>{let n=t(e);return n?ce(n).pipe(U(()=>e)):R(e)})}var hI=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===k);return i}getResolvedTitleForRoute(r){return r.data[Uo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>v(uP),providedIn:"root"});let t=e;return t})(),uP=(()=>{let e=class e extends hI{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(S(hE))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Go=new M("",{providedIn:"root",factory:()=>({})}),ec=new M(""),zf=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(Mu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return R(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Pn(r.loadComponent()).pipe(U(fI),Me(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ki(()=>{this.componentLoaders.delete(r)})),o=new Rr(i,()=>new Oe).pipe(xr());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return R({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=cP(i,this.compiler,r,this.onLoadEndListener).pipe(Ki(()=>{this.childrenLoaders.delete(i)})),a=new Rr(s,()=>new Oe).pipe(xr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cP(t,e,n,r){return Pn(t.loadChildren()).pipe(U(fI),ge(i=>i instanceof oo||Array.isArray(i)?R(i):ce(e.compileModuleAsync(i))),U(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ec,[],{optional:!0,self:!0}).flat()),{routes:s.map(Hf),injector:o}}))}function lP(t){return t&&typeof t=="object"&&"default"in t}function fI(t){return lP(t)?t.default:t}var Gf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>v(dP),providedIn:"root"});let t=e;return t})(),dP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pI=new M(""),gI=new M("");function hP(t,e,n){let r=t.get(gI),i=t.get(Xe);return t.get(ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),fP(t))),{onViewTransitionCreated:u}=r;return u&&tn(t,()=>u({transition:a,from:e,to:n})),s})}function fP(t){return new Promise(e=>{Ch(e,{injector:t})})}var Wf=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Oe,this.transitionAbortSubject=new Oe,this.configLoader=v(zf),this.environmentInjector=v(rt),this.urlSerializer=v($o),this.rootContexts=v(Ho),this.location=v(An),this.inputBindingEnabled=v(nc,{optional:!0})!==null,this.titleStrategy=v(hI),this.options=v(Go,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(Gf),this.createViewTransition=v(pI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Df(o)),i=o=>this.events.next(new Cf(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(te(E(E({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ae({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ro,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ut(s=>s.id!==0),U(s=>te(E({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ct(s=>{let a=!1,u=!1;return R(s).pipe(ct(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",st.SupersededByNewNavigation),nt;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?te(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Rn(c.id,this.urlSerializer.serialize(c.rawUrl),h,Gu.IgnoredSameUrlNavigation)),c.resolve(null),nt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return R(c).pipe(ct(h=>{let f=this.transitions?.getValue();return this.events.next(new di(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?nt:Promise.resolve(h)}),rP(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Me(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=te(E({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Wu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:m,restoredState:I,extras:C}=c,A=new di(h,this.urlSerializer.serialize(f),m,I);this.events.next(A);let se=tI(this.rootComponentType).snapshot;return this.currentTransition=s=te(E({},c),{targetSnapshot:se,urlAfterRedirects:f,extras:te(E({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,R(s)}else{let h="";return this.events.next(new Rn(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Gu.IgnoredByUrlHandlingStrategy)),c.resolve(null),nt}}),Me(c=>{let l=new _f(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),U(c=>(this.currentTransition=s=te(E({},c),{guards:EN(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),RN(this.environmentInjector,c=>this.events.next(c)),Me(c=>{if(s.guardsResult=c.guardsResult,li(c.guardsResult))throw oI(this.urlSerializer,c.guardsResult);let l=new wf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),ut(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",st.GuardRejected),!1)),ff(c=>{if(c.guards.canActivateChecks.length)return R(c).pipe(Me(l=>{let d=new Ef(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ct(l=>{let d=!1;return R(l).pipe(iP(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",st.NoDataFromResolver)}}))}),Me(l=>{let d=new If(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),ff(c=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Me(f=>{d.component=f}),U(()=>{})));for(let f of d.children)h.push(...l(f));return h};return Wi(l(c.targetSnapshot.root)).pipe(yn(null),Xt(1))}),ff(()=>this.afterPreactivation()),ct(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?ce(d).pipe(U(()=>s)):R(s)}),U(c=>{let l=fN(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=te(E({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Me(()=>{this.events.next(new ko)}),wN(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Xt(1),Me({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bt(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Ul(this.transitionAbortSubject.pipe(Me(c=>{throw c}))),Ki(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",st.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),mn(c=>{if(u=!0,aI(c))this.events.next(new xn(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),mN(c)?this.events.next(new Vo(c.url)):s.resolve(!1);else{this.events.next(new Fo(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return nt}))}))}cancelNavigationTransition(r,i,o){let s=new xn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pP(t){return t!==Ro}var gP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>v(mP),providedIn:"root"});let t=e;return t})(),jf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},mP=(()=>{let e=class e extends jf{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ho(e)))(o||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>v(yP),providedIn:"root"});let t=e;return t})(),yP=(()=>{let e=class e extends mI{constructor(){super(...arguments),this.location=v(An),this.urlSerializer=v($o),this.options=v(Go,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(Gf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof di)this.stateMemento=this.createStateMemento();else if(r instanceof Rn)this.rawUrlTree=i.initialUrl;else if(r instanceof Wu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof ko?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof xn&&(r.code===st.GuardRejected||r.code===st.NoDataFromResolver)?this.restoreHistory(i):r instanceof Fo?this.restoreHistory(i,!0):r instanceof Bt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=E(E({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=E(E({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ho(e)))(o||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Mo||{});function yI(t,e){t.events.pipe(ut(n=>n instanceof Bt||n instanceof xn||n instanceof Fo||n instanceof Rn),U(n=>n instanceof Bt||n instanceof Rn?Mo.COMPLETE:(n instanceof xn?n.code===st.Redirect||n.code===st.SupersededByNewNavigation:!1)?Mo.REDIRECTING:Mo.FAILED),ut(n=>n!==Mo.REDIRECTING),Xt(1)).subscribe(()=>{e()})}function vP(t){throw t}var _P={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(bu),this.stateManager=v(mI),this.options=v(Go,{optional:!0})||{},this.pendingTasks=v(Du),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(Wf),this.urlSerializer=v($o),this.location=v(An),this.urlHandlingStrategy=v(Gf),this._events=new Oe,this.errorHandler=this.options.errorHandler||vP,this.navigated=!1,this.routeReuseStrategy=v(gP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(ec,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(nc,{optional:!0}),this.eventsSubscription=new Ee,this.isNgZoneEnabled=v(ie)instanceof ie&&ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof xn&&i.code!==st.Redirect&&i.code!==st.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Bt)this.navigated=!0;else if(i instanceof Vo){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||pP(o.source)};this.scheduleNavigation(a,Ro,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}IP(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ro,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=E({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Hf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a,d=null;switch(u){case"merge":d=E(E({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=ZE(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return JE(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=li(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ro,null,i)}navigate(r,i={skipLocationChange:!1}){return EP(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=E({},_P):i===!1?o=E({},wP):o=i,li(r))return PE(this.currentUrlTree,r,o);let s=this.parseUrl(r);return PE(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,f)=>{u=h,c=f});let d=this.pendingTasks.add();return yI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function EP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new T(4008,!1)}function IP(t){return!(t instanceof ko)&&!(t instanceof Vo)}var ic=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new Oe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Bt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:z_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(L(Nn),L(an),sh("tabindex"),L(rr),L(bn),L(sn))},e.\u0275dir=pt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&yo("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Cu("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[He.HasDecoratorInputTransform,"preserveFragment","preserveFragment",sr],skipLocationChange:[He.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",sr],replaceUrl:[He.HasDecoratorInputTransform,"replaceUrl","replaceUrl",sr],routerLink:"routerLink"},standalone:!0,features:[Th,tr]});let t=e;return t})();var tc=class{};var DP=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ut(r=>r instanceof Bt),zn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Iu(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return ce(o).pipe(Pr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=R(null);let s=o.pipe(ge(a=>a===null?R(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ce([s,a]).pipe(Pr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(S(Nn),S(Mu),S(rt),S(tc),S(zf))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vI=new M(""),CP=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof di?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Bt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Rn&&r.code===Gu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ku&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ku(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){rw()},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function bP(t){return t.routerState.root}function Wo(t,e){return{\u0275kind:t,\u0275providers:e}}function TP(){let t=v(bt);return e=>{let n=t.get(ni);if(e!==n.components[0])return;let r=t.get(Nn),i=t.get(_I);t.get(Kf)===1&&r.initialNavigation(),t.get(wI,null,j.Optional)?.setUpPreloading(),t.get(vI,null,j.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _I=new M("",{factory:()=>new Oe}),Kf=new M("",{providedIn:"root",factory:()=>1});function SP(){return Wo(2,[{provide:Kf,useValue:0},{provide:Au,multi:!0,deps:[bt],useFactory:e=>{let n=e.get(Kw,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Nn),o=e.get(_I);yI(i,()=>{r(!0)}),e.get(Wf).afterPreactivation=()=>(r(!0),o.closed?R(void 0):o),i.initialNavigation()}))}}])}function AP(){return Wo(3,[{provide:Au,multi:!0,useFactory:()=>{let e=v(Nn);return()=>{e.setUpLocationChangeListener()}}},{provide:Kf,useValue:2}])}var wI=new M("");function MP(t){return Wo(0,[{provide:wI,useExisting:DP},{provide:tc,useExisting:t}])}function xP(){return Wo(8,[VE,{provide:nc,useExisting:VE}])}function RP(t){let e=[{provide:pI,useValue:hP},{provide:gI,useValue:E({skipNextTransition:!!t?.skipInitialTransition},t)}];return Wo(9,e)}var jE=new M("ROUTER_FORROOT_GUARD"),NP=[An,{provide:$o,useClass:Po},Nn,Ho,{provide:an,useFactory:bP,deps:[Nn]},zf,[]],Qf=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[NP,[],{provide:ec,multi:!0,useValue:r},{provide:jE,useFactory:kP,deps:[[Nn,new ou,new zd]]},{provide:Go,useValue:i||{}},i?.useHash?OP():FP(),PP(),i?.preloadingStrategy?MP(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?VP(i):[],i?.bindToComponentInputs?xP().\u0275providers:[],i?.enableViewTransitions?RP().\u0275providers:[],LP()]}}static forChild(r){return{ngModule:e,providers:[{provide:ec,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(S(jE,8))},e.\u0275mod=Qe({type:e}),e.\u0275inj=Ke({});let t=e;return t})();function PP(){return{provide:vI,useFactory:()=>{let t=v(tE),e=v(ie),n=v(Go),r=v(Wf),i=v($o);return n.scrollOffset&&t.setOffset(n.scrollOffset),new CP(i,r,t,e,n)}}}function OP(){return{provide:sn,useClass:Yw}}function FP(){return{provide:sn,useClass:Gh}}function kP(t){return"guarded"}function VP(t){return[t.initialNavigation==="disabled"?AP().\u0275providers:[],t.initialNavigation==="enabledBlocking"?SP().\u0275providers:[]]}var BE=new M("");function LP(){return[{provide:BE,useFactory:TP},{provide:Fh,multi:!0,useExisting:BE}]}var Ko=(()=>{let e=class e{constructor(){this.messages=[]}add(r){this.messages.push(r)}clear(){this.messages=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pi=(()=>{let e=class e{constructor(r){this.messageService=r}};e.\u0275fac=function(i){return new(i||e)(S(Ko))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jP(t,e){if(t&1){let n=Sw();De(0,"div")(1,"h2"),it(2),Re(),De(3,"div"),it(4),Re(),De(5,"div")(6,"label",1),it(7,"Project: "),Re(),De(8,"input",2),Rh("ngModelChange",function(i){p_(n);let o=Ah();return xw(o.project.name,i)||(o.project.name=i),g_(i)}),Re()()()}if(t&2){let n=Ah();Vt(2),_o("",n.project.name," Details:"),Vt(2),_o("id: ",n.project.id,""),Vt(4),xh("ngModel",n.project.name)}}var EI=(()=>{let e=class e{constructor(r,i,o){this.route=r,this.projectService=i,this.location=o}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(L(an),L(pi),L(An))},e.\u0275cmp=ft({type:e,selectors:[["app-project-detail"]],inputs:{project:"project"},standalone:!0,features:[ti],decls:1,vars:1,consts:[[4,"ngIf"],["for","project-name"],["id","project-name","placeholder","name",3,"ngModelChange","ngModel"]],template:function(i,o){i&1&&go(0,jP,9,3,"div",0),i&2&&mo("ngIf",o.project)},dependencies:[Xw,ii,Vu,xE,cf]});let t=e;return t})();var DI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},CI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;u||(f=64,s||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new Xf;let h=o<<2|a>>4;if(r.push(h),c!==64){let f=a<<4&240|c>>2;if(r.push(f),d!==64){let m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Xf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},UP=function(t){let e=DI(t);return CI.encodeByteArray(e,!0)},Qo=function(t){return UP(t).replace(/\./g,"")},$P=function(t){try{return CI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var qP=()=>HP().__FIREBASE_DEFAULTS__,zP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&$P(t[1]);return e&&JSON.parse(e)},ep=()=>{try{return qP()||zP()||GP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WP=t=>{var e,n;return(n=(e=ep())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bI=t=>{let e=WP(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tp=()=>{var t;return(t=ep())===null||t===void 0?void 0:t.config};var oc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function TI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qo(JSON.stringify(n)),Qo(JSON.stringify(s)),""].join(".")}function Zo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KP(){var t;let e=(t=ep())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SI(){return!KP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sc(){try{return typeof indexedDB=="object"}catch{return!1}}function AI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var QP="FirebaseError",un=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yo.prototype.create)}},Yo=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?YP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new un(i,a,r)}};function YP(t,e){return t.replace(ZP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ZP=/\{\$([^}]+)}/g;function Jo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(II(o)&&II(s)){if(!Jo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function II(t){return t!==null&&typeof t=="object"}var aH=4*60*60*1e3;function Xo(t){return t&&t._delegate?t._delegate:t}var cn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var cr="[DEFAULT]";var np=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new oc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XP(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=cr){return this.instances.has(e)}getOptions(e=cr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cr){return this.component?this.component.multipleInstances?e:cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JP(t){return t===cr?void 0:t}function XP(t){return t.instantiationMode==="EAGER"}var ac=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new np(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var eO=[],G=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(G||{}),tO={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},nO=G.INFO,rO={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},iO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=rO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},gi=class{constructor(e){this.name=e,this._logLevel=nO,this._logHandler=iO,this._userLogHandler=null,eO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...e),this._logHandler(this,G.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...e),this._logHandler(this,G.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,G.INFO,...e),this._logHandler(this,G.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,G.WARN,...e),this._logHandler(this,G.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...e),this._logHandler(this,G.ERROR,...e)}};var oO=(t,e)=>e.some(n=>t instanceof n),MI,xI;function sO(){return MI||(MI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aO(){return xI||(xI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var RI=new WeakMap,ip=new WeakMap,NI=new WeakMap,rp=new WeakMap,sp=new WeakMap;function uO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n($t(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&RI.set(n,t)}).catch(()=>{}),sp.set(e,t),e}function cO(t){if(ip.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ip.set(t,e)}var op={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ip.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $t(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PI(t){op=t(op)}function lO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(uc(this),e,...n);return NI.set(r,e.sort?e.sort():[e]),$t(r)}:aO().includes(t)?function(...e){return t.apply(uc(this),e),$t(RI.get(this))}:function(...e){return $t(t.apply(uc(this),e))}}function dO(t){return typeof t=="function"?lO(t):(t instanceof IDBTransaction&&cO(t),oO(t,sO())?new Proxy(t,op):t)}function $t(t){if(t instanceof IDBRequest)return uO(t);if(rp.has(t))return rp.get(t);let e=dO(t);return e!==t&&(rp.set(t,e),sp.set(e,t)),e}var uc=t=>sp.get(t);function FI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=$t(s);return r&&s.addEventListener("upgradeneeded",u=>{r($t(s.result),u.oldVersion,u.newVersion,$t(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var hO=["get","getKey","getAll","getAllKeys","count"],fO=["put","add","delete","clear"],ap=new Map;function OI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ap.get(e))return ap.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=fO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hO.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&u.done]))[0]})};return ap.set(e,o),o}PI(t=>te(E({},t),{get:(e,n,r)=>OI(e,n)||t.get(e,n,r),has:(e,n)=>!!OI(e,n)||t.has(e,n)}));var cp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function pO(t){let e=t.getComponent();return e?.type==="VERSION"}var lp="@firebase/app",kI="0.9.29";var lr=new gi("@firebase/app"),gO="@firebase/app-compat",mO="@firebase/analytics-compat",yO="@firebase/analytics",vO="@firebase/app-check-compat",_O="@firebase/app-check",wO="@firebase/auth",EO="@firebase/auth-compat",IO="@firebase/database",DO="@firebase/database-compat",CO="@firebase/functions",bO="@firebase/functions-compat",TO="@firebase/installations",SO="@firebase/installations-compat",AO="@firebase/messaging",MO="@firebase/messaging-compat",xO="@firebase/performance",RO="@firebase/performance-compat",NO="@firebase/remote-config",PO="@firebase/remote-config-compat",OO="@firebase/storage",FO="@firebase/storage-compat",kO="@firebase/firestore",VO="@firebase/firestore-compat",LO="firebase",jO="10.9.0";var dp="[DEFAULT]",BO={[lp]:"fire-core",[gO]:"fire-core-compat",[yO]:"fire-analytics",[mO]:"fire-analytics-compat",[_O]:"fire-app-check",[vO]:"fire-app-check-compat",[wO]:"fire-auth",[EO]:"fire-auth-compat",[IO]:"fire-rtdb",[DO]:"fire-rtdb-compat",[CO]:"fire-fn",[bO]:"fire-fn-compat",[TO]:"fire-iid",[SO]:"fire-iid-compat",[AO]:"fire-fcm",[MO]:"fire-fcm-compat",[xO]:"fire-perf",[RO]:"fire-perf-compat",[NO]:"fire-rc",[PO]:"fire-rc-compat",[OO]:"fire-gcs",[FO]:"fire-gcs-compat",[kO]:"fire-fst",[VO]:"fire-fst-compat","fire-js":"fire-js",[LO]:"fire-js-all"};var cc=new Map,hp=new Map;function UO(t,e){try{t.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function es(t){let e=t.name;if(hp.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;hp.set(e,t);for(let n of cc.values())UO(n,t);return!0}function BI(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var $O={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},On=new Yo("app","Firebase",$O);var fp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}};var UI=jO;function mp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:dp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw On.create("bad-app-name",{appName:String(i)});if(n||(n=tp()),!n)throw On.create("no-options");let o=cc.get(i);if(o){if(Jo(n,o.options)&&Jo(r,o.config))return o;throw On.create("duplicate-app",{appName:i})}let s=new ac(i);for(let u of hp.values())s.addComponent(u);let a=new fp(n,r,s);return cc.set(i,a),a}function $I(t=dp){let e=cc.get(t);if(!e&&t===dp&&tp())return mp();if(!e)throw On.create("no-app",{appName:t});return e}function Fn(t,e,n){var r;let i=(r=BO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(a.join(" "));return}es(new cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var HO="firebase-heartbeat-database",qO=1,ts="firebase-heartbeat-store",up=null;function HI(){return up||(up=FI(HO,qO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ts)}catch(n){console.warn(n)}}}}).catch(t=>{throw On.create("idb-open",{originalErrorMessage:t.message})})),up}function zO(t){return w(this,null,function*(){try{let n=(yield HI()).transaction(ts),r=yield n.objectStore(ts).get(qI(t));return yield n.done,r}catch(e){if(e instanceof un)lr.warn(e.message);else{let n=On.create("idb-get",{originalErrorMessage:e?.message});lr.warn(n.message)}}})}function VI(t,e){return w(this,null,function*(){try{let r=(yield HI()).transaction(ts,"readwrite");yield r.objectStore(ts).put(e,qI(t)),yield r.done}catch(n){if(n instanceof un)lr.warn(n.message);else{let r=On.create("idb-set",{originalErrorMessage:n?.message});lr.warn(r.message)}}})}function qI(t){return`${t.name}!${t.options.appId}`}var GO=1024,WO=30*24*60*60*1e3,pp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new gp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=LI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=WO}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return w(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=LI(),{heartbeatsToSend:r,unsentEntries:i}=KO(this._heartbeatsCache.heartbeats),o=Qo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function LI(){return new Date().toISOString().substring(0,10)}function KO(t,e=GO){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var gp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return sc()?AI().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield zO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function jI(t){return Qo(JSON.stringify({version:2,heartbeats:t})).length}function QO(t){es(new cn("platform-logger",e=>new cp(e),"PRIVATE")),es(new cn("heartbeat",e=>new pp(e),"PRIVATE")),Fn(lp,kI,t),Fn(lp,kI,"esm2017"),Fn("fire-js","")}QO("");var YO="firebase",ZO="10.9.0";Fn(YO,ZO,"app");var JO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},St={},y,Lp=Lp||{},P=JO||self;function Dc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function gs(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function XO(t){return Object.prototype.hasOwnProperty.call(t,yp)&&t[yp]||(t[yp]=++e1)}var yp="closure_uid_"+(1e9*Math.random()>>>0),e1=0;function t1(t,e,n){return t.call.apply(t.bind,arguments)}function n1(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ke(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ke=t1:ke=n1,ke.apply(null,arguments)}function lc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Te(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function kn(){this.s=this.s,this.o=this.o}var r1=0;kn.prototype.s=!1;kn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),r1!=0)&&XO(this)};kn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var rD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function jp(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function zI(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Dc(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Ve(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};var i1=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};P.addEventListener("test",n,e),P.removeEventListener("test",n,e)}catch{}return t}();function as(t){return/^[\s\xa0]*$/.test(t)}function Cc(){var t=P.navigator;return t&&(t=t.userAgent)?t:""}function Ht(t){return Cc().indexOf(t)!=-1}function Bp(t){return Bp[" "](t),t}Bp[" "]=function(){};function o1(t,e){var n=W1;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var s1=Ht("Opera"),_i=Ht("Trident")||Ht("MSIE"),iD=Ht("Edge"),Ip=iD||_i,oD=Ht("Gecko")&&!(Cc().toLowerCase().indexOf("webkit")!=-1&&!Ht("Edge"))&&!(Ht("Trident")||Ht("MSIE"))&&!Ht("Edge"),a1=Cc().toLowerCase().indexOf("webkit")!=-1&&!Ht("Edge");function sD(){var t=P.document;return t?t.documentMode:void 0}var Dp;e:{if(dc="",hc=function(){var t=Cc();if(oD)return/rv:([^\);]+)(\)|;)/.exec(t);if(iD)return/Edge\/([\d\.]+)/.exec(t);if(_i)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(a1)return/WebKit\/(\S+)/.exec(t);if(s1)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),hc&&(dc=hc?hc[1]:""),_i&&(fc=sD(),fc!=null&&fc>parseFloat(dc))){Dp=String(fc);break e}Dp=dc}var dc,hc,fc,Cp;P.document&&_i?(vp=sD(),Cp=vp||parseInt(Dp,10)||void 0):Cp=void 0;var vp,u1=Cp;function us(t,e){if(Ve.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(oD){e:{try{Bp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:c1[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&us.$.h.call(this)}}Te(us,Ve);var c1={2:"touch",3:"pen",4:"mouse"};us.prototype.h=function(){us.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ms="closure_listenable_"+(1e6*Math.random()|0),l1=0;function d1(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++l1,this.fa=this.ia=!1}function bc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Up(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function h1(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function aD(t){let e={};for(let n in t)e[n]=t[n];return e}var GI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<GI.length;o++)n=GI[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tc(t){this.src=t,this.g={},this.h=0}Tc.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Tp(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new d1(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function bp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=rD(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(bc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Tp(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var $p="closure_lm_"+(1e6*Math.random()|0),_p={};function cD(t,e,n,r,i){if(r&&r.once)return dD(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)cD(t,e[o],n,r,i);return null}return n=zp(n),t&&t[ms]?t.O(e,n,gs(r)?!!r.capture:!!r,i):lD(t,e,n,!1,r,i)}function lD(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=gs(i)?!!i.capture:!!i,a=qp(t);if(a||(t[$p]=a=new Tc(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=f1(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)i1||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function f1(){function t(n){return e.call(t.src,t.listener,n)}let e=p1;return t}function dD(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)dD(t,e[o],n,r,i);return null}return n=zp(n),t&&t[ms]?t.P(e,n,gs(r)?!!r.capture:!!r,i):lD(t,e,n,!0,r,i)}function hD(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hD(t,e[o],n,r,i);else r=gs(r)?!!r.capture:!!r,n=zp(n),t&&t[ms]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Tp(o,n,r,i),-1<n&&(bc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=qp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Tp(e,n,r,i)),(n=-1<t?e[t]:null)&&Hp(n))}function Hp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ms])bp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qp(e))?(bp(n,t),n.h==0&&(n.src=null,e[$p]=null)):bc(t)}}}function fD(t){return t in _p?_p[t]:_p[t]="on"+t}function p1(t,e){if(t.fa)t=!0;else{e=new us(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Hp(t),t=n.call(r,e)}return t}function qp(t){return t=t[$p],t instanceof Tc?t:null}var wp="__closure_events_fn_"+(1e9*Math.random()>>>0);function zp(t){return typeof t=="function"?t:(t[wp]||(t[wp]=function(e){return t.handleEvent(e)}),t[wp])}function be(){kn.call(this),this.i=new Tc(this),this.S=this,this.J=null}Te(be,kn);be.prototype[ms]=!0;be.prototype.removeEventListener=function(t,e,n,r){hD(this,t,e,n,r)};function Pe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ve(e,t);else if(e instanceof Ve)e.target=e.target||t;else{var i=e;e=new Ve(r,t),uD(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=pc(s,r,!0,e)&&i}if(s=e.g=t,i=pc(s,r,!0,e)&&i,i=pc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=pc(s,r,!1,e)&&i}be.prototype.N=function(){if(be.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bc(n[r]);delete t.g[e],t.h--}}this.J=null};be.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};be.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function pc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&bp(t.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Gp=P.JSON.stringify,Sp=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function g1(){var t=Wp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ap=class{constructor(){this.h=this.g=null}add(e,n){let r=pD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},pD=new Sp(()=>new Mp,t=>t.reset()),Mp=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function m1(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function y1(t){P.setTimeout(()=>{throw t},0)}var cs,ls=!1,Wp=new Ap,gD=()=>{let t=P.Promise.resolve(void 0);cs=()=>{t.then(v1)}},v1=()=>{for(var t;t=g1();){try{t.h.call(t.g)}catch(n){y1(n)}var e=pD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ls=!1};function Sc(t,e){be.call(this),this.h=t||1,this.g=e||P,this.j=ke(this.qb,this),this.l=Date.now()}Te(Sc,be);y=Sc.prototype;y.ga=!1;y.T=null;y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pe(this,"tick"),this.ga&&(Kp(this),this.start()))}};y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Kp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}y.N=function(){Sc.$.N.call(this),Kp(this),delete this.g};function Qp(t,e,n){if(typeof t=="function")n&&(t=ke(t,n));else if(t&&typeof t.handleEvent=="function")t=ke(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:P.setTimeout(t,e||0)}function mD(t){t.g=Qp(()=>{t.g=null,t.i&&(t.i=!1,mD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var xp=class extends kn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mD(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ds(t){kn.call(this),this.h=t,this.g={}}Te(ds,kn);var WI=[];function yD(t,e,n,r){Array.isArray(n)||(n&&(WI[0]=n.toString()),n=WI);for(var i=0;i<n.length;i++){var o=cD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function vD(t){Up(t.g,function(e,n){this.g.hasOwnProperty(n)&&Hp(e)},t),t.g={}}ds.prototype.N=function(){ds.$.N.call(this),vD(this)};ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ac(){this.g=!0}Ac.prototype.Ea=function(){this.g=!1};function _1(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&d[1]=="type"?s+(l+"="+c+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function w1(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function yi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+I1(t,n)+(r?" "+r:"")})}function E1(t,e){t.info(function(){return"TIMEOUT: "+e})}Ac.prototype.info=function(){};function I1(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Gp(n)}catch{return e}}var pr={},KI=null;function Mc(){return KI=KI||new be}pr.Ta="serverreachability";function _D(t){Ve.call(this,pr.Ta,t)}Te(_D,Ve);function hs(t){let e=Mc();Pe(e,new _D(e))}pr.STAT_EVENT="statevent";function wD(t,e){Ve.call(this,pr.STAT_EVENT,t),this.stat=e}Te(wD,Ve);function qe(t){let e=Mc();Pe(e,new wD(e,t))}pr.Ua="timingevent";function ED(t,e){Ve.call(this,pr.Ua,t),this.size=e}Te(ED,Ve);function ys(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){t()},e)}var xc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ID={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yp(){}Yp.prototype.h=null;function QI(t){return t.h||(t.h=t.i())}function DD(){}var vs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Zp(){Ve.call(this,"d")}Te(Zp,Ve);function Jp(){Ve.call(this,"c")}Te(Jp,Ve);var Rp;function Rc(){}Te(Rc,Yp);Rc.prototype.g=function(){return new XMLHttpRequest};Rc.prototype.i=function(){return{}};Rp=new Rc;function _s(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ds(this),this.P=D1,t=Ip?125:void 0,this.V=new Sc(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CD}function CD(){this.i=null,this.g="",this.h=!1}var D1=45e3,bD={},Np={};y=_s.prototype;y.setTimeout=function(t){this.P=t};function Pp(t,e,n){t.L=1,t.A=Pc(dn(e)),t.u=n,t.S=!0,TD(t,null)}function TD(t,e){t.G=Date.now(),ws(t),t.B=dn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),OD(n.i,"t",r),t.o=0,n=t.l.J,t.h=new CD,t.g=tC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new xp(ke(t.Pa,t,t.g),t.O)),yD(t.U,t.g,"readystatechange",t.nb),e=t.I?aD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),hs(),_1(t.j,t.v,t.B,t.m,t.W,t.u)}y.nb=function(t){t=t.target;let e=this.M;e&&qt(t)==3?e.l():this.Pa(t)};y.Pa=function(t){try{if(t==this.g)e:{let l=qt(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Ip||this.g&&(this.h.h||this.g.ja()||XI(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?hs(3):hs(2)),Nc(this);var n=this.g.da();this.ca=n;t:if(SD(this)){var r=XI(this.g);t="";var i=r.length,o=qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dr(this),ss(this);var s="";break t}this.h.i=new P.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,w1(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!as(a)){var c=a;break t}}c=null}if(n=c)yi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Op(this,n);else{this.i=!1,this.s=3,qe(12),dr(this),ss(this);break e}}this.S?(AD(this,l,s),Ip&&this.i&&l==3&&(yD(this.U,this.V,"tick",this.mb),this.V.start())):(yi(this.j,this.m,s,null),Op(this,s)),l==4&&dr(this),this.i&&!this.J&&(l==4?ZD(this.l,this):(this.i=!1,ws(this)))}else q1(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,qe(12)):(this.s=0,qe(13)),dr(this),ss(this)}}}catch{}finally{}};function SD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function AD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=C1(t,n),i==Np){e==4&&(t.s=4,qe(14),r=!1),yi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==bD){t.s=4,qe(15),yi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else yi(t.j,t.m,i,null),Op(t,i);SD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,qe(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ig(e),e.M=!0,qe(11))):(yi(t.j,t.m,n,"[Invalid Chunked Response]"),dr(t),ss(t))}y.mb=function(){if(this.g){var t=qt(this.g),e=this.g.ja();this.o<e.length&&(Nc(this),AD(this,t,e),this.i&&t!=4&&ws(this))}};function C1(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Np:(n=Number(e.substring(n,r)),isNaN(n)?bD:(r+=1,r+n>e.length?Np:(e=e.slice(r,r+n),t.o=r+n,e)))}y.cancel=function(){this.J=!0,dr(this)};function ws(t){t.Y=Date.now()+t.P,MD(t,t.P)}function MD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ys(ke(t.lb,t),e)}function Nc(t){t.C&&(P.clearTimeout(t.C),t.C=null)}y.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(E1(this.j,this.B),this.L!=2&&(hs(),qe(17)),dr(this),this.s=2,ss(this)):MD(this,this.Y-t)};function ss(t){t.l.H==0||t.J||ZD(t.l,t)}function dr(t){Nc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Kp(t.V),vD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Op(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Fp(n.i,t))){if(!t.K&&Fp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)_c(n),kc(n);else break e;rg(n),qe(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ys(ke(n.ib,n),6e3));if(1>=VD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else hr(n,11)}else if((t.K||n.g==t)&&_c(n),!as(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];let l=c[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Xp(o,o.h),o.h=null))}if(r.F){let I=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,ae(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=eC(r,r.J?r.pa:null,r.Y),s.K){LD(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(Nc(a),ws(a)),r.g=s}else QD(r);0<n.j.length&&Vc(n)}else c[0]!="stop"&&c[0]!="close"||hr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?hr(n,7):ng(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}hs(4)}catch{}}function b1(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Dc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function T1(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Dc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function xD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Dc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=T1(t),r=b1(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var RD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function S1(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function fr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fr){this.h=t.h,yc(this,t.j),this.s=t.s,this.g=t.g,vc(this,t.m),this.l=t.l;var e=t.i,n=new fs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),YI(this,n),this.o=t.o}else t&&(e=String(t).match(RD))?(this.h=!1,yc(this,e[1]||"",!0),this.s=is(e[2]||""),this.g=is(e[3]||"",!0),vc(this,e[4]),this.l=is(e[5]||"",!0),YI(this,e[6]||"",!0),this.o=is(e[7]||"")):(this.h=!1,this.i=new fs(null,this.h))}fr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(os(e,ZI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(os(e,ZI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(os(n,n.charAt(0)=="/"?x1:M1,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",os(n,N1)),t.join("")};function dn(t){return new fr(t)}function yc(t,e,n){t.j=n?is(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function vc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function YI(t,e,n){e instanceof fs?(t.i=e,P1(t.i,t.h)):(n||(e=os(e,R1)),t.i=new fs(e,t.h))}function ae(t,e,n){t.i.set(e,n)}function Pc(t){return ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function is(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function os(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,A1),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function A1(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ZI=/[#\/\?@]/g,M1=/[#\?:]/g,x1=/[#\?]/g,R1=/[#\?@]/g,N1=/#/g;function fs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Vn(t){t.g||(t.g=new Map,t.h=0,t.i&&S1(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}y=fs.prototype;y.add=function(t,e){Vn(this),this.i=null,t=wi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ND(t,e){Vn(t),e=wi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function PD(t,e){return Vn(t),e=wi(t,e),t.g.has(e)}y.forEach=function(t,e){Vn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};y.ta=function(){Vn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};y.Z=function(t){Vn(this);let e=[];if(typeof t=="string")PD(this,t)&&(e=e.concat(this.g.get(wi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};y.set=function(t,e){return Vn(this),this.i=null,t=wi(this,t),PD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function OD(t,e,n){ND(t,e),0<n.length&&(t.i=null,t.g.set(wi(t,e),jp(n)),t.h+=n.length)}y.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function wi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function P1(t,e){e&&!t.j&&(Vn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ND(this,r),OD(this,i,n))},t)),t.j=e}var O1=class{constructor(t,e){this.g=t,this.map=e}};function FD(t){this.l=t||F1,P.PerformanceNavigationTiming?(t=P.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(P.g&&P.g.Ka&&P.g.Ka()&&P.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var F1=10;function kD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function VD(t){return t.h?1:t.g?t.g.size:0}function Fp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Xp(t,e){t.g?t.g.add(e):t.h=e}function LD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}FD.prototype.cancel=function(){if(this.i=jD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function jD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return jp(t.i)}var k1=class{stringify(t){return P.JSON.stringify(t,void 0)}parse(t){return P.JSON.parse(t,void 0)}};function V1(){this.g=new k1}function L1(t,e,n){let r=n||"";try{xD(t,function(i,o){let s=i;gs(i)&&(s=Gp(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function j1(t,e){let n=new Ac;if(P.Image){let r=new Image;r.onload=lc(gc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lc(gc,n,r,"TestLoadImage: error",!1,e),r.onabort=lc(gc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lc(gc,n,r,"TestLoadImage: timeout",!1,e),P.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function gc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Es(t){this.l=t.ec||null,this.j=t.ob||!1}Te(Es,Yp);Es.prototype.g=function(){return new Oc(this.l,this.j)};Es.prototype.i=function(t){return function(){return t}}({});function Oc(t,e){be.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=eg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Te(Oc,be);var eg=0;y=Oc.prototype;y.open=function(t,e){if(this.readyState!=eg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ps(this)};y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||P).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=eg};y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ps(this)),this.g&&(this.readyState=3,ps(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function BD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Is(this):ps(this),this.readyState==3&&BD(this)}};y.Za=function(t){this.g&&(this.response=this.responseText=t,Is(this))};y.Ya=function(t){this.g&&(this.response=t,Is(this))};y.ka=function(){this.g&&Is(this)};function Is(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ps(t)}y.setRequestHeader=function(t,e){this.v.append(t,e)};y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};y.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ps(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Oc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var B1=P.JSON.parse;function le(t){be.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=UD,this.L=this.M=!1}Te(le,be);var UD="",U1=/^https?$/i,$1=["POST","PUT"];y=le.prototype;y.Oa=function(t){this.M=t};y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rp.g(),this.C=this.u?QI(this.u):QI(Rp),this.g.onreadystatechange=ke(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){JI(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=P.FormData&&t instanceof P.FormData,!(0<=rD($1,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qD(this),0<this.B&&((this.L=H1(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ke(this.ua,this)):this.A=Qp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){JI(this,o)}};function H1(t){return _i&&typeof t.timeout=="number"&&t.ontimeout!==void 0}y.ua=function(){typeof Lp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pe(this,"timeout"),this.abort(8))};function JI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$D(t),Fc(t)}function $D(t){t.F||(t.F=!0,Pe(t,"complete"),Pe(t,"error"))}y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Pe(this,"complete"),Pe(this,"abort"),Fc(this))};y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fc(this,!0)),le.$.N.call(this)};y.La=function(){this.s||(this.G||this.v||this.l?HD(this):this.kb())};y.kb=function(){HD(this)};function HD(t){if(t.h&&typeof Lp<"u"&&(!t.C[1]||qt(t)!=4||t.da()!=2)){if(t.v&&qt(t)==4)Qp(t.La,0,t);else if(Pe(t,"readystatechange"),qt(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(RD)[1]||null;!i&&P.self&&P.self.location&&(i=P.self.location.protocol.slice(0,-1)),r=!U1.test(i?i.toLowerCase():"")}n=r}if(n)Pe(t,"complete"),Pe(t,"success");else{t.m=6;try{var o=2<qt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",$D(t)}}finally{Fc(t)}}}}function Fc(t,e){if(t.g){qD(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Pe(t,"ready");try{n.onreadystatechange=r}catch{}}}function qD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(P.clearTimeout(t.A),t.A=null)}y.isActive=function(){return!!this.g};function qt(t){return t.g?t.g.readyState:0}y.da=function(){try{return 2<qt(this)?this.g.status:-1}catch{return-1}};y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),B1(e)}};function XI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case UD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function q1(t){let e={};t=(t.g&&2<=qt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(as(t[r]))continue;var n=m1(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}h1(e,function(r){return r.join(", ")})}y.Ia=function(){return this.m};y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function zD(t){let e="";return Up(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function tg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ae(t,e,n))}function ns(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function GD(t){this.Ga=0,this.j=[],this.l=new Ac,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ns("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ns("baseRetryDelayMs",5e3,t),this.hb=ns("retryDelaySeedMs",1e4,t),this.eb=ns("forwardChannelMaxRetries",2,t),this.xa=ns("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new FD(t&&t.concurrentRequestLimit),this.Ja=new V1,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}y=GD.prototype;y.ra=8;y.H=1;function ng(t){if(WD(t),t.H==3){var e=t.W++,n=dn(t.I);if(ae(n,"SID",t.K),ae(n,"RID",e),ae(n,"TYPE","terminate"),Ds(t,n),e=new _s(t,t.l,e),e.L=2,e.A=Pc(dn(n)),n=!1,P.navigator&&P.navigator.sendBeacon)try{n=P.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&P.Image&&(new Image().src=e.A,n=!0),n||(e.g=tC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ws(e)}XD(t)}function kc(t){t.g&&(ig(t),t.g.cancel(),t.g=null)}function WD(t){kc(t),t.u&&(P.clearTimeout(t.u),t.u=null),_c(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&P.clearTimeout(t.m),t.m=null)}function Vc(t){if(!kD(t.i)&&!t.m){t.m=!0;var e=t.Na;cs||gD(),ls||(cs(),ls=!0),Wp.add(e,t),t.C=0}}function z1(t,e){return VD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ys(ke(t.Na,t,e),JD(t,t.C)),t.C++,!0)}y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new _s(this,this.l,t),o=this.s;if(this.U&&(o?(o=aD(o),uD(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=KD(this,i,e),n=dn(this.I),ae(n,"RID",t),ae(n,"CVER",22),this.F&&ae(n,"X-HTTP-Session-Id",this.F),Ds(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(zD(o)))+"&"+e:this.o&&tg(n,this.o,o)),Xp(this.i,i),this.bb&&ae(n,"TYPE","init"),this.P?(ae(n,"$req",e),ae(n,"SID","null"),i.aa=!0,Pp(i,n,null)):Pp(i,n,e),this.H=2}}else this.H==3&&(t?eD(this,t):this.j.length==0||kD(this.i)||eD(this))};function eD(t,e){var n;e?n=e.m:n=t.W++;let r=dn(t.I);ae(r,"SID",t.K),ae(r,"RID",n),ae(r,"AID",t.V),Ds(t,r),t.o&&t.s&&tg(r,t.o,t.s),n=new _s(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=KD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Xp(t.i,n),Pp(n,r,e)}function Ds(t,e){t.na&&Up(t.na,function(n,r){ae(e,r,n)}),t.h&&xD({},function(n,r){ae(e,r,n)})}function KD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ke(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].g,l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{L1(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function QD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;cs||gD(),ls||(cs(),ls=!0),Wp.add(e,t),t.A=0}}function rg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ys(ke(t.Ma,t),JD(t,t.A)),t.A++,!0)}y.Ma=function(){if(this.u=null,YD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ys(ke(this.jb,this),t)}};y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qe(10),kc(this),YD(this))};function ig(t){t.B!=null&&(P.clearTimeout(t.B),t.B=null)}function YD(t){t.g=new _s(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=dn(t.wa);ae(e,"RID","rpc"),ae(e,"SID",t.K),ae(e,"AID",t.V),ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ae(e,"TO",t.qa),ae(e,"TYPE","xmlhttp"),Ds(t,e),t.o&&t.s&&tg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Pc(dn(e)),n.u=null,n.S=!0,TD(n,t)}y.ib=function(){this.v!=null&&(this.v=null,kc(this),rg(this),qe(19))};function _c(t){t.v!=null&&(P.clearTimeout(t.v),t.v=null)}function ZD(t,e){var n=null;if(t.g==e){_c(t),ig(t),t.g=null;var r=2}else if(Fp(t.i,e))n=e.F,LD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Mc(),Pe(r,new ED(r,n)),Vc(t)}else QD(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&z1(t,e)||r==2&&rg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:hr(t,5);break;case 4:hr(t,10);break;case 3:hr(t,6);break;default:hr(t,2)}}}function JD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function hr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ke(t.pb,t);n||(n=new fr("//www.google.com/images/cleardot.gif"),P.location&&P.location.protocol=="http"||yc(n,"https"),Pc(n)),j1(n.toString(),r)}else qe(2);t.H=0,t.h&&t.h.za(e),XD(t),WD(t)}y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),qe(2)):(this.l.info("Failed to ping google.com"),qe(1))};function XD(t){if(t.H=0,t.ma=[],t.h){let e=jD(t.i);(e.length!=0||t.j.length!=0)&&(zI(t.ma,e),zI(t.ma,t.j),t.i.i.length=0,jp(t.j),t.j.length=0),t.h.ya()}}function eC(t,e,n){var r=n instanceof fr?dn(n):new fr(n);if(r.g!="")e&&(r.g=e+"."+r.g),vc(r,r.m);else{var i=P.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new fr(null);r&&yc(o,r),e&&(o.g=e),i&&vc(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&ae(r,n,e),ae(r,"VER",t.ra),Ds(t,r),r}function tC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new le(new Es({ob:n})):new le(t.va),e.Oa(t.J),e}y.isActive=function(){return!!this.h&&this.h.isActive(this)};function nC(){}y=nC.prototype;y.Ba=function(){};y.Aa=function(){};y.za=function(){};y.ya=function(){};y.isActive=function(){return!0};y.Va=function(){};function wc(){if(_i&&!(10<=Number(u1)))throw Error("Environmental error: no available transport.")}wc.prototype.g=function(t,e){return new at(t,e)};function at(t,e){be.call(this),this.g=new GD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!as(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!as(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ei(this)}Te(at,be);at.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;qe(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=eC(t,null,t.Y),Vc(t)};at.prototype.close=function(){ng(this.g)};at.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Gp(t),t=n);e.j.push(new O1(e.fb++,t)),e.H==3&&Vc(e)};at.prototype.N=function(){this.g.h=null,delete this.j,ng(this.g),delete this.g,at.$.N.call(this)};function rC(t){Zp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Te(rC,Zp);function iC(){Jp.call(this),this.status=1}Te(iC,Jp);function Ei(t){this.g=t}Te(Ei,nC);Ei.prototype.Ba=function(){Pe(this.g,"a")};Ei.prototype.Aa=function(t){Pe(this.g,new rC(t))};Ei.prototype.za=function(t){Pe(this.g,new iC)};Ei.prototype.ya=function(){Pe(this.g,"b")};function G1(){this.blockSize=-1}function Tt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Te(Tt,G1);Tt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ep(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Tt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Ep(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Ep(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Ep(this,r),i=0;break}}this.h=i,this.i+=e};Tt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function X(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var W1={};function og(t){return-128<=t&&128>t?o1(t,function(e){return new X([e|0],0>e?-1:0)}):new X([t|0],0>t?-1:0)}function zt(t){if(isNaN(t)||!isFinite(t))return vi;if(0>t)return Ne(zt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=kp;return new X(e,0)}function oC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ne(oC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zt(Math.pow(e,8)),r=vi,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=zt(Math.pow(e,o)),r=r.R(o).add(zt(s))):(r=r.R(n),r=r.add(zt(s)))}return r}var kp=4294967296,vi=og(0),Vp=og(1),tD=og(16777216);y=X.prototype;y.ea=function(){if(yt(this))return-Ne(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:kp+r)*e,e*=kp}return t};y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ln(this))return"0";if(yt(this))return"-"+Ne(this).toString(t);for(var e=zt(Math.pow(t,6)),n=this,r="";;){var i=Ic(n,e).g;n=Ec(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ln(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ln(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function yt(t){return t.h==-1}y.X=function(t){return t=Ec(this,t),yt(t)?-1:ln(t)?0:1};function Ne(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new X(n,~t.h).add(Vp)}y.abs=function(){return yt(this)?Ne(this):this};y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new X(n,n[n.length-1]&-2147483648?-1:0)};function Ec(t,e){return t.add(Ne(e))}y.R=function(t){if(ln(this)||ln(t))return vi;if(yt(this))return yt(t)?Ne(this).R(Ne(t)):Ne(Ne(this).R(t));if(yt(t))return Ne(this.R(Ne(t)));if(0>this.X(tD)&&0>t.X(tD))return zt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=s*u,mc(n,2*r+2*i),n[2*r+2*i+1]+=o*u,mc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,mc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,mc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new X(n,0)};function mc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function rs(t,e){this.g=t,this.h=e}function Ic(t,e){if(ln(e))throw Error("division by zero");if(ln(t))return new rs(vi,vi);if(yt(t))return e=Ic(Ne(t),e),new rs(Ne(e.g),Ne(e.h));if(yt(e))return e=Ic(t,Ne(e)),new rs(Ne(e.g),e.h);if(30<t.g.length){if(yt(t)||yt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Vp,r=e;0>=r.X(t);)n=nD(n),r=nD(r);var i=mi(n,1),o=mi(r,1);for(r=mi(r,2),n=mi(n,2);!ln(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=mi(r,1),n=mi(n,1)}return e=Ec(t,i.R(e)),new rs(i,e)}for(i=vi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=zt(n),s=o.R(e);yt(s)||0<s.X(t);)n-=r,o=zt(n),s=o.R(e);ln(o)&&(o=Vp),i=i.add(o),t=Ec(t,s)}return new rs(i,t)}y.gb=function(t){return Ic(this,t).h};y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new X(n,this.h&t.h)};y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new X(n,this.h|t.h)};y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new X(n,this.h^t.h)};function nD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new X(n,t.h)}function mi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new X(i,t.h)}wc.prototype.createWebChannel=wc.prototype.g;at.prototype.send=at.prototype.u;at.prototype.open=at.prototype.m;at.prototype.close=at.prototype.close;xc.NO_ERROR=0;xc.TIMEOUT=8;xc.HTTP_ERROR=6;ID.COMPLETE="complete";DD.EventType=vs;vs.OPEN="a";vs.CLOSE="b";vs.ERROR="c";vs.MESSAGE="d";be.prototype.listen=be.prototype.O;le.prototype.listenOnce=le.prototype.P;le.prototype.getLastError=le.prototype.Sa;le.prototype.getLastErrorCode=le.prototype.Ia;le.prototype.getStatus=le.prototype.da;le.prototype.getResponseJson=le.prototype.Wa;le.prototype.getResponseText=le.prototype.ja;le.prototype.send=le.prototype.ha;le.prototype.setWithCredentials=le.prototype.Oa;Tt.prototype.digest=Tt.prototype.l;Tt.prototype.reset=Tt.prototype.reset;Tt.prototype.update=Tt.prototype.j;X.prototype.add=X.prototype.add;X.prototype.multiply=X.prototype.R;X.prototype.modulo=X.prototype.gb;X.prototype.compare=X.prototype.X;X.prototype.toNumber=X.prototype.ea;X.prototype.toString=X.prototype.toString;X.prototype.getBits=X.prototype.D;X.fromNumber=zt;X.fromString=oC;var sC=St.createWebChannelTransport=function(){return new wc},aC=St.getStatEventTarget=function(){return Mc()},Lc=St.ErrorCode=xc,uC=St.EventType=ID,cC=St.Event=pr,sg=St.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xH=St.FetchXmlHttpFactory=Es,Cs=St.WebChannel=DD,lC=St.XhrIo=le,dC=St.Md5=Tt,gr=St.Integer=X;var hC="@firebase/firestore";var Se=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Se.UNAUTHENTICATED=new Se(null),Se.GOOGLE_CREDENTIALS=new Se("google-credentials-uid"),Se.FIRST_PARTY=new Se("first-party-uid"),Se.MOCK_USER=new Se("mock-user");var Hi="10.9.0";var Er=new gi("@firebase/firestore");function bs(){return Er.logLevel}function _(t,...e){if(Er.logLevel<=G.DEBUG){let n=e.map(Zm);Er.debug(`Firestore (${Hi}): ${t}`,...n)}}function Yt(t,...e){if(Er.logLevel<=G.ERROR){let n=e.map(Zm);Er.error(`Firestore (${Hi}): ${t}`,...n)}}function Ri(t,...e){if(Er.logLevel<=G.WARN){let n=e.map(Zm);Er.warn(`Firestore (${Hi}): ${t}`,...n)}}function Zm(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function F(t="Unexpected state"){let e=`FIRESTORE (${Hi}) INTERNAL ASSERTION FAILED: `+t;throw Yt(e),new Error(e)}function we(t,e){t||F()}function K(t,e){return t}var g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=class extends un{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Wt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var $c=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},hg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Se.UNAUTHENTICATED))}shutdown(){}},fg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},pg=class{constructor(e){this.t=e,this.currentUser=Se.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Wt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wt,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{_("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(_("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wt)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new $c(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new Se(e)}},gg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Se.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},mg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Se.FIRST_PARTY))}shutdown(){}invalidateToken(){}},yg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},vg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&_("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,_("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{_("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):_("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new yg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function K1(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var _g=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=K1(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function J(t,e){return t<e?-1:t>e?1:0}function Ni(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var je=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var V=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new je(0,0))}static max(){return new t(new je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hc=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&F(),r===void 0?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},he=class t extends Hc{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new D(g.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Q1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vt=class t extends Hc{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Q1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new D(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new D(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new D(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new D(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var x=class t{constructor(e){this.path=e}static fromPath(e){return new t(he.fromString(e))}static fromName(e){return new t(he.fromString(e).popFirst(5))}static empty(){return new t(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&he.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new he(e.slice()))}};var wg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};wg.UNKNOWN_ID=-1;function Y1(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(r===1e9?new je(n+1,0):new je(n,r));return new Ir(i,x.empty(),e)}function Z1(t){return new Ir(t.readTime,t.key,-1)}var Ir=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(V.min(),x.empty(),-1)}static max(){return new t(V.max(),x.empty(),-1)}};function J1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=x.comparator(t.documentKey,e.documentKey),n!==0?n:J(t.largestBatchId,e.largestBatchId))}var X1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Eg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Jm(t){return w(this,null,function*(){if(t.code!==g.FAILED_PRECONDITION||t.message!==X1)throw t;_("LocalStore","Unexpectedly lost primary lease")})}var p=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var Ig=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Wt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new wr(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Xm(r.target.error);this.V.reject(new wr(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new wr(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(_("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Cg(n)}},qc=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Zo())===12.2&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return _("SimpleDb","Removing database:",e),mr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!sc())return!1;if(t.C())return!0;let e=Zo(),n=t.S(e),r=0<n&&n<10,i=t.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return w(this,null,function*(){return this.db||(_("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new wr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new D(g.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new D(g.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new wr(e,s))},i.onupgradeneeded=o=>{_("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{_("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return w(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=Ig.open(this.db,e,o?"readonly":"readwrite",r),u=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),p.reject(c))).toPromise();return u.catch(()=>{}),yield a.m,u}catch(a){let u=a,c=u.name!=="FirebaseError"&&s<3;if(_("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),!c)return Promise.reject(u)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Dg=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return mr(this.k.delete())}},wr=class extends D{constructor(e,n){super(g.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Ws(t){return t.name==="IndexedDbTransactionError"}var Cg=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(_("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(_("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),mr(r)}add(e){return _("SimpleDb","ADD",this.store.name,e,e),mr(this.store.add(e))}get(e){return mr(this.store.get(e)).next(n=>(n===void 0&&(n=null),_("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return _("SimpleDb","DELETE",this.store.name,e),mr(this.store.delete(e))}count(){return _("SimpleDb","COUNT",this.store.name),mr(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new p((s,a)=>{o.onerror=u=>{a(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{let o=this.cursor(r),s=[];return this.G(o,(a,u)=>{s.push(u)}).next(()=>s)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new p((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){_("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new p((r,i)=>{n.onerror=o=>{let s=Xm(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){let r=[];return new p((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let u=new Dg(a),c=n(a.primaryKey,a.value,u);if(c instanceof p){let l=c.catch(d=>(u.done(),p.reject(d)));r.push(l)}u.isDone?i():u.$===null?a.continue():a.continue(u.$)}}).next(()=>p.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function mr(t){return new p((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=Xm(r.target.error);n(i)}})}var fC=!1;function Xm(t){let e=qc.S(Zo());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new D("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fC||(fC=!0,setTimeout(()=>{throw r},0)),r}}return t}var qC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function fl(t){return t==null}function Ns(t){return t===0&&1/t==-1/0}function eF(t){return typeof t=="number"&&Number.isInteger(t)&&!Ns(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var tF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],UH=[...tF,"documentOverlays"],nF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rF=nF,$H=[...rF,"indexConfiguration","indexState","indexEntries"];function pC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var fe=class t{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bi(this.root,e,this.comparator,!1)}getReverseIterator(){return new bi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bi(this.root,e,this.comparator,!0)}},bi=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Kt=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();let e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}};Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Be=class t{constructor(e){this.comparator=e,this.data=new fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zc(this.data.getIterator())}getIteratorFrom(e){return new zc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},zc=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var yr=class t{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Be(vt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ni(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Gc=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ze=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Gc("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ze.EMPTY_BYTE_STRING=new ze("");var iF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ln(t){if(we(!!t),typeof t=="string"){let e=0,n=iF.exec(t);if(we(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:de(t.seconds),nanos:de(t.nanos)}}function de(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jn(t){return typeof t=="string"?ze.fromBase64String(t):ze.fromUint8Array(t)}function ey(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ty(t){let e=t.mapValue.fields.__previous_value__;return ey(e)?ty(e):e}function Ps(t){let e=Ln(t.mapValue.fields.__local_write_time__.timestampValue);return new je(e.seconds,e.nanos)}var bg=class{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}},Wc=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var jc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Dr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ey(t)?4:GC(t)?9007199254740991:10:F()}function Zt(t,e){if(t===e)return!0;let n=Dr(t);if(n!==Dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ps(t).isEqual(Ps(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ln(i.timestampValue),a=Ln(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return jn(i.bytesValue).isEqual(jn(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return de(i.geoPointValue.latitude)===de(o.geoPointValue.latitude)&&de(i.geoPointValue.longitude)===de(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return de(i.integerValue)===de(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=de(i.doubleValue),a=de(o.doubleValue);return s===a?Ns(s)===Ns(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ni(t.arrayValue.values||[],e.arrayValue.values||[],Zt);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(pC(s)!==pC(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Zt(s[u],a[u])))return!1;return!0}(t,e);default:return F()}}function Os(t,e){return(t.values||[]).find(n=>Zt(n,e))!==void 0}function Pi(t,e){if(t===e)return 0;let n=Dr(t),r=Dr(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=de(o.integerValue||o.doubleValue),u=de(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return gC(t.timestampValue,e.timestampValue);case 4:return gC(Ps(t),Ps(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(o,s){let a=jn(o),u=jn(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){let l=J(a[c],u[c]);if(l!==0)return l}return J(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=J(de(o.latitude),de(s.latitude));return a!==0?a:J(de(o.longitude),de(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){let l=Pi(a[c],u[c]);if(l)return l}return J(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===jc.mapValue&&s===jc.mapValue)return 0;if(o===jc.mapValue)return 1;if(s===jc.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),c=s.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){let h=J(u[d],l[d]);if(h!==0)return h;let f=Pi(a[u[d]],c[l[d]]);if(f!==0)return f}return J(u.length,l.length)}(t.mapValue,e.mapValue);default:throw F()}}function gC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return J(t,e);let n=Ln(t),r=Ln(e),i=J(n.seconds,r.seconds);return i!==0?i:J(n.nanos,r.nanos)}function Oi(t){return Tg(t)}function Tg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ln(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return x.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Tg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Tg(n.fields[s])}`;return i+"}"}(t.mapValue):F()}function mC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sg(t){return!!t&&"integerValue"in t}function ny(t){return!!t&&"arrayValue"in t}function yC(t){return!!t&&"nullValue"in t}function vC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ag(t){return!!t&&"mapValue"in t}function Ss(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ss(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ss(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var hn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ag(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ss(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ss(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());ag(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ag(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ss(this.value))}};var At=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,V.min(),V.min(),V.min(),hn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,V.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,V.min(),V.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,V.min(),V.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(V.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Fi=class{constructor(e,n){this.position=e,this.inclusive=n}};function _C(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=x.comparator(x.fromName(s.referenceValue),n.key):r=Pi(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function wC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zt(t.position[n],e.position[n]))return!1;return!0}var ki=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function oF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Kc=class{},_e=class t extends Kc{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Mg(e,n,r):n==="array-contains"?new Ng(e,r):n==="in"?new Pg(e,r):n==="not-in"?new Og(e,r):n==="array-contains-any"?new Fg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xg(e,r):new Rg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Pi(n,this.value)):n!==null&&Dr(this.value)===Dr(n)&&this.matchesComparison(Pi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Mt=class t extends Kc{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return WC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function WC(t){return t.op==="and"}function KC(t){return sF(t)&&WC(t)}function sF(t){for(let e of t.filters)if(e instanceof Mt)return!1;return!0}function Ag(t){if(t instanceof _e)return t.field.canonicalString()+t.op.toString()+Oi(t.value);if(KC(t))return t.filters.map(e=>Ag(e)).join(",");{let e=t.filters.map(n=>Ag(n)).join(",");return`${t.op}(${e})`}}function QC(t,e){return t instanceof _e?function(r,i){return i instanceof _e&&r.op===i.op&&r.field.isEqual(i.field)&&Zt(r.value,i.value)}(t,e):t instanceof Mt?function(r,i){return i instanceof Mt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&QC(s,i.filters[a]),!0):!1}(t,e):void F()}function YC(t){return t instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${Oi(n.value)}`}(t):t instanceof Mt?function(n){return n.op.toString()+" {"+n.getFilters().map(YC).join(" ,")+"}"}(t):"Filter"}var Mg=class extends _e{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){let n=x.comparator(e.key,this.key);return this.matchesComparison(n)}},xg=class extends _e{constructor(e,n){super(e,"in",n),this.keys=ZC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Rg=class extends _e{constructor(e,n){super(e,"not-in",n),this.keys=ZC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ZC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}var Ng=class extends _e{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ny(n)&&Os(n.arrayValue,this.value)}},Pg=class extends _e{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Os(this.value.arrayValue,n)}},Og=class extends _e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Os(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Os(this.value.arrayValue,n)}},Fg=class extends _e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Os(this.value.arrayValue,r))}};var kg=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function EC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new kg(t,e,n,r,i,o,s)}function ry(t){let e=K(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ag(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oi(r)).join(",")),e.ce=n}return e.ce}function iy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wC(t.startAt,e.startAt)&&wC(t.endAt,e.endAt)}function Vg(t){return x.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Cr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function aF(t,e,n,r,i,o,s,a){return new Cr(t,e,n,r,i,o,s,a)}function JC(t){return new Cr(t)}function IC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XC(t){return t.collectionGroup!==null}function As(t){let e=K(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Be(vt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new ki(o,r))}),n.has(vt.keyField().canonicalString())||e.le.push(new ki(vt.keyField(),r))}return e.le}function Qt(t){let e=K(t);return e.he||(e.he=uF(e,As(t))),e.he}function uF(t,e){if(t.limitType==="F")return EC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ki(i.field,o)});let n=t.endAt?new Fi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fi(t.startAt.position,t.startAt.inclusive):null;return EC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lg(t,e){let n=t.filters.concat([e]);return new Cr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jg(t,e,n){return new Cr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pl(t,e){return iy(Qt(t),Qt(e))&&t.limitType===e.limitType}function e0(t){return`${ry(Qt(t))}|lt:${t.limitType}`}function Ii(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>YC(i)).join(", ")}]`),fl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oi(i)).join(",")),`Target(${r})`}(Qt(t))}; limitType=${t.limitType})`}function gl(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):x.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of As(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let c=_C(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,As(r),i)||r.endAt&&!function(s,a,u){let c=_C(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,As(r),i))}(t,e)}function cF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t0(t){return(e,n)=>{let r=!1;for(let i of As(t)){let o=lF(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function lF(t,e,n){let r=t.field.isKeyField()?x.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?Pi(u,c):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}var Bn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return zC(this.inner)}size(){return this.innerSize}};var dF=new fe(x.comparator);function Un(){return dF}var n0=new fe(x.comparator);function Ts(...t){let e=n0;for(let n of t)e=e.insert(n.key,n);return e}function hF(t){let e=n0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vr(){return Ms()}function r0(){return Ms()}function Ms(){return new Bn(t=>t.toString(),(t,e)=>t.isEqual(e))}var qH=new fe(x.comparator),fF=new Be(x.comparator);function W(...t){let e=fF;for(let n of t)e=e.add(n);return e}var pF=new Be(J);function gF(){return pF}function i0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ns(e)?"-0":e}}function o0(t){return{integerValue:""+t}}function mF(t,e){return eF(e)?o0(e):i0(t,e)}var Vi=class{constructor(){this._=void 0}};function yF(t,e,n){return t instanceof Fs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ey(o)&&(o=ty(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Li?s0(t,e):t instanceof ji?a0(t,e):function(i,o){let s=_F(i,o),a=DC(s)+DC(i.Ie);return Sg(s)&&Sg(i.Ie)?o0(a):i0(i.serializer,a)}(t,e)}function vF(t,e,n){return t instanceof Li?s0(t,e):t instanceof ji?a0(t,e):n}function _F(t,e){return t instanceof ks?function(r){return Sg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Fs=class extends Vi{},Li=class extends Vi{constructor(e){super(),this.elements=e}};function s0(t,e){let n=u0(e);for(let r of t.elements)n.some(i=>Zt(i,r))||n.push(r);return{arrayValue:{values:n}}}var ji=class extends Vi{constructor(e){super(),this.elements=e}};function a0(t,e){let n=u0(e);for(let r of t.elements)n=n.filter(i=>!Zt(i,r));return{arrayValue:{values:n}}}var ks=class extends Vi{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function DC(t){return de(t.integerValue||t.doubleValue)}function u0(t){return ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function wF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Li&&i instanceof Li||r instanceof ji&&i instanceof ji?Ni(r.elements,i.elements,Zt):r instanceof ks&&i instanceof ks?Zt(r.Ie,i.Ie):r instanceof Fs&&i instanceof Fs}(t.transform,e.transform)}var xs=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Uc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Vs=class{};function c0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bg(t.key,xs.none()):new Ls(t.key,t.data,xs.none());{let n=t.data,r=hn.empty(),i=new Be(vt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Bi(t.key,r,new yr(i.toArray()),xs.none())}}function EF(t,e,n){t instanceof Ls?function(i,o,s){let a=i.value.clone(),u=bC(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bi?function(i,o,s){if(!Uc(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=bC(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(l0(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Rs(t,e,n,r){return t instanceof Ls?function(o,s,a,u){if(!Uc(o.precondition,s))return a;let c=o.value.clone(),l=TC(o.fieldTransforms,u,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bi?function(o,s,a,u){if(!Uc(o.precondition,s))return a;let c=TC(o.fieldTransforms,u,s),l=s.data;return l.setAll(l0(o)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Uc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function CC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ni(r,i,(o,s)=>wF(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ls=class extends Vs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Bi=class extends Vs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function l0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function bC(t,e,n){let r=new Map;we(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,vF(s,a,n[i]))}return r}function TC(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,yF(o,s,e))}return r}var Bg=class extends Vs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Ug=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&EF(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rs(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Rs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=r0();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=c0(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(V.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),W())}isEqual(e){return this.batchId===e.batchId&&Ni(this.mutations,e.mutations,(n,r)=>CC(n,r))&&Ni(this.baseMutations,e.baseMutations,(n,r)=>CC(n,r))}};var $g=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Hg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ye,z;function d0(t){if(t===void 0)return Yt("GRPC error has no .code"),g.UNKNOWN;switch(t){case ye.OK:return g.OK;case ye.CANCELLED:return g.CANCELLED;case ye.UNKNOWN:return g.UNKNOWN;case ye.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case ye.INTERNAL:return g.INTERNAL;case ye.UNAVAILABLE:return g.UNAVAILABLE;case ye.UNAUTHENTICATED:return g.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case ye.NOT_FOUND:return g.NOT_FOUND;case ye.ALREADY_EXISTS:return g.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return g.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case ye.ABORTED:return g.ABORTED;case ye.OUT_OF_RANGE:return g.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return g.UNIMPLEMENTED;case ye.DATA_LOSS:return g.DATA_LOSS;default:return F()}}(z=ye||(ye={}))[z.OK=0]="OK",z[z.CANCELLED=1]="CANCELLED",z[z.UNKNOWN=2]="UNKNOWN",z[z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",z[z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",z[z.NOT_FOUND=5]="NOT_FOUND",z[z.ALREADY_EXISTS=6]="ALREADY_EXISTS",z[z.PERMISSION_DENIED=7]="PERMISSION_DENIED",z[z.UNAUTHENTICATED=16]="UNAUTHENTICATED",z[z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",z[z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",z[z.ABORTED=10]="ABORTED",z[z.OUT_OF_RANGE=11]="OUT_OF_RANGE",z[z.UNIMPLEMENTED=12]="UNIMPLEMENTED",z[z.INTERNAL=13]="INTERNAL",z[z.UNAVAILABLE=14]="UNAVAILABLE",z[z.DATA_LOSS=15]="DATA_LOSS";var SC=null;function IF(){return new TextEncoder}var DF=new gr([4294967295,4294967295],0);function AC(t){let e=IF().encode(t),n=new dC;return n.update(e),new Uint8Array(n.digest())}function MC(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new gr([n,r],0),new gr([i,o],0)]}var qg=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _r(`Invalid padding: ${n}`);if(r<0)throw new _r(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _r(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _r(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=gr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(gr.fromNumber(r)));return i.compare(DF)===1&&(i=new gr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=AC(e),[r,i]=MC(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=AC(e),[r,i]=MC(n);for(let o=0;o<this.hashCount;o++){let s=this.de(r,i,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},_r=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Qc=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,js.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(V.min(),i,new fe(J),Un(),W())}},js=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,W(),W(),W())}};var Si=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Yc=class{constructor(e,n){this.targetId=e,this.fe=n}},Zc=class{constructor(e,n,r=ze.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Jc=class{constructor(){this.ge=0,this.pe=RC(),this.ye=ze.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=W(),n=W(),r=W();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new js(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=RC()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,we(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},zg=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=Un(),this.Qe=xC(),this.Ke=new fe(J)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let o=i.target;if(Vg(o))if(r===0){let s=new x(o.path);this.We(n,s,At.newNoDocument(s,V.min()))}else we(r===1);else{let s=this.Ze(n);if(s!==r){let a=this.Xe(e),u=a?this.et(a,e,s):1;if(u!==0){this.He(n);let c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}SC?.tt(function(l,d,h,f,m){var I,C,A,se,ee,ue;let Ge={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},re=d.unchangedNames;return re&&(Ge.bloomFilter={applied:m===0,hashCount:(I=re?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(se=(A=(C=re?.bits)===null||C===void 0?void 0:C.bitmap)===null||A===void 0?void 0:A.length)!==null&&se!==void 0?se:0,padding:(ue=(ee=re?.bits)===null||ee===void 0?void 0:ee.padding)!==null&&ue!==void 0?ue:0,mightContain:et=>{var pn;return(pn=f?.mightContain(et))!==null&&pn!==void 0&&pn}}),Ge}(s,e.fe,this.Be.nt(),a,u))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=jn(r).toUint8Array()}catch(u){if(u instanceof Gc)return Ri("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new qg(s,i,o)}catch(u){return Ri(u instanceof _r?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&Vg(a.target)){let u=new x(a.target.path);this.qe.get(u)!==null||this.st(s,u)||this.We(s,u,At.newNoDocument(u,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=W();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let i=new Qc(e,n,this.Ke,this.qe,r);return this.qe=Un(),this.Qe=xC(),this.Ke=new fe(J),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Jc,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Be(J),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||_("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Jc),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function xC(){return new fe(x.comparator)}function RC(){return new fe(x.comparator)}var CF={asc:"ASCENDING",desc:"DESCENDING"},bF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TF={and:"AND",or:"OR"},Gg=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Wg(t,e){return t.useProto3Json||fl(e)?e:{value:e}}function Kg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ai(t){return we(!!t),V.fromTimestamp(function(n){let r=Ln(n);return new je(r.seconds,r.nanos)}(t))}function f0(t,e){return Qg(t,e).canonicalString()}function Qg(t,e){let n=function(i){return new he(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function p0(t){let e=he.fromString(t);return we(_0(e)),e}function ug(t,e){let n=p0(e);if(n.get(1)!==t.databaseId.projectId)throw new D(g.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(g.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(m0(n))}function g0(t,e){return f0(t.databaseId,e)}function SF(t){let e=p0(t);return e.length===4?he.emptyPath():m0(e)}function NC(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function m0(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function AF(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:F()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(we(l===void 0||typeof l=="string"),ze.fromBase64String(l||"")):(we(l===void 0||l instanceof Uint8Array),ze.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){let l=c.code===void 0?g.UNKNOWN:d0(c.code);return new D(l,c.message||"")}(s);n=new Zc(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ug(t,r.document.name),o=Ai(r.document.updateTime),s=r.document.createTime?Ai(r.document.createTime):V.min(),a=new hn({mapValue:{fields:r.document.fields}}),u=At.newFoundDocument(i,o,s,a),c=r.targetIds||[],l=r.removedTargetIds||[];n=new Si(c,l,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ug(t,r.document),o=r.readTime?Ai(r.readTime):V.min(),s=At.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Si([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ug(t,r.document),o=r.removedTargetIds||[];n=new Si([],o,i,null)}else{if(!("filter"in e))return F();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Hg(i,o),a=r.targetId;n=new Yc(a,s)}}return n}function MF(t,e){return{documents:[g0(t,e.path)]}}function xF(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=g0(t,i);let o=function(c){if(c.length!==0)return v0(Mt.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(c){if(c.length!==0)return c.map(l=>function(h){return{field:Di(h.field),direction:PF(h.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Wg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function RF(t){let e=SF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){we(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){let h=y0(d);return h instanceof Mt&&KC(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(m){return new ki(Ci(m.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,fl(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(d){let h=!!d.before,f=d.values||[];return new Fi(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){let h=!d.before,f=d.values||[];return new Fi(f,h)}(n.endAt)),aF(e,i,s,o,a,"F",u,c)}function NF(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ci(n.unaryFilter.field);return _e.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ci(n.unaryFilter.field);return _e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ci(n.unaryFilter.field);return _e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ci(n.unaryFilter.field);return _e.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):t.fieldFilter!==void 0?function(n){return _e.create(Ci(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mt.create(n.compositeFilter.filters.map(r=>y0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return F()}}(n.compositeFilter.op))}(t):F()}function PF(t){return CF[t]}function OF(t){return bF[t]}function FF(t){return TF[t]}function Di(t){return{fieldPath:t.canonicalString()}}function Ci(t){return vt.fromServerFormat(t.fieldPath)}function v0(t){return t instanceof _e?function(n){if(n.op==="=="){if(vC(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NAN"}};if(yC(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vC(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NOT_NAN"}};if(yC(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Di(n.field),op:OF(n.op),value:n.value}}}(t):t instanceof Mt?function(n){let r=n.getFilters().map(i=>v0(i));return r.length===1?r[0]:{compositeFilter:{op:FF(n.op),filters:r}}}(t):F()}function _0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Bs=class t{constructor(e,n,r,i,o=V.min(),s=V.min(),a=ze.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Yg=class{constructor(e){this.ct=e}};function kF(t){let e=RF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jg(e,e.limit,"L"):e}var Xc=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(de(e.integerValue));else if("doubleValue"in e){let r=de(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Ns(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(jn(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?GC(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):F()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),x.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Xc.bt=new Xc;var Zg=class{constructor(){this._n=new Jg}addToCollectionParentIndex(e,n){return this._n.add(n),p.resolve()}getCollectionParents(e,n){return p.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return p.resolve()}deleteFieldIndex(e,n){return p.resolve()}deleteAllFieldIndexes(e){return p.resolve()}createTargetIndexes(e,n){return p.resolve()}getDocumentsMatchingTarget(e,n){return p.resolve(null)}getIndexType(e,n){return p.resolve(0)}getFieldIndexes(e,n){return p.resolve([])}getNextCollectionGroupToUpdate(e){return p.resolve(null)}getMinOffset(e,n){return p.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return p.resolve(Ir.min())}updateCollectionGroup(e,n,r){return p.resolve()}updateIndexEntries(e,n){return p.resolve()}},Jg=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Be(he.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Be(he.comparator)).toArray()}};var zH=new Uint8Array(0);var Gt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(41943040,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);var Us=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Xg=class{constructor(){this.changes=new Bn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?p.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var em=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var tm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Rs(r.mutation,i,yr.empty(),je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,W()).next(()=>r))}getLocalViewOfDocuments(e,n,r=W()){let i=vr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ts();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=vr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,W()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Un(),s=Ms(),a=function(){return Ms()}();return n.forEach((u,c)=>{let l=r.get(c.key);i.has(c.key)&&(l===void 0||l.mutation instanceof Bi)?o=o.insert(c.key,c):l!==void 0?(s.set(c.key,l.mutation.getFieldMask()),Rs(l.mutation,c,l.mutation.getFieldMask(),je.now())):s.set(c.key,yr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new em(l,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ms(),i=new fe((s,a)=>s-a),o=W();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let c=n.get(u);if(c===null)return;let l=r.get(u)||yr.empty();l=a.applyToLocalView(c,l),r.set(u,l);let d=(i.get(a.batchId)||W()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),c=u.key,l=u.value,d=r0();l.forEach(h=>{if(!o.has(h)){let f=c0(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return p.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return x.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):p.resolve(vr()),a=-1,u=o;return s.next(c=>p.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?p.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,W())).next(l=>({batchId:a,changes:hF(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Ts();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Ts();return this.indexManager.getCollectionParents(e,o).next(a=>p.forEach(a,u=>{let c=function(d,h){return new Cr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{let l=c.getKey();s.get(l)===null&&(s=s.insert(l,At.newInvalidDocument(l)))});let a=Ts();return s.forEach((u,c)=>{let l=o.get(u);l!==void 0&&Rs(l.mutation,c,yr.empty(),je.now()),gl(n,c)&&(a=a.insert(u,c))}),a})}};var nm=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return p.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ai(i.createTime)}}(n)),p.resolve()}getNamedQuery(e,n){return p.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:kF(i.bundledQuery),readTime:Ai(i.readTime)}}(n)),p.resolve()}};var rm=class{constructor(){this.overlays=new fe(x.comparator),this.hr=new Map}getOverlay(e,n){return p.resolve(this.overlays.get(n))}getOverlays(e,n){let r=vr();return p.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),p.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),p.resolve()}getOverlaysForCollection(e,n,r){let i=vr(),o=n.length+1,s=new x(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return p.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new fe((c,l)=>c-l),s=this.overlays.getIterator();for(;s.hasNext();){let c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);l===null&&(l=vr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}let a=vr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return p.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new $g(n,r));let o=this.hr.get(n);o===void 0&&(o=W(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var $s=class{constructor(){this.Pr=new Be(ve.Ir),this.Tr=new Be(ve.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new ve(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new ve(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new x(new he([])),r=new ve(n,e),i=new ve(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new x(new he([])),r=new ve(n,e),i=new ve(n,e+1),o=W();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ve(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ve=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return x.comparator(e.key,n.key)||J(e.pr,n.pr)}static Er(e,n){return J(e.pr,n.pr)||x.comparator(e.key,n.key)}};var im=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Be(ve.Ir)}checkEmpty(e){return p.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ug(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new ve(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return p.resolve(s)}lookupMutationBatch(e,n){return p.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return p.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return p.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return p.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ve(n,0),i=new ve(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),p.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Be(J);return n.forEach(i=>{let o=new ve(i,0),s=new ve(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),p.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;x.isDocumentKey(o)||(o=o.child(""));let s=new ve(new x(o),0),a=new Be(J);return this.wr.forEachWhile(u=>{let c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},s),p.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return p.forEach(n.mutations,i=>{let o=new ve(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new ve(n,0),i=this.wr.firstAfterOrEqual(r);return p.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,p.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var om=class{constructor(e){this.vr=e,this.docs=function(){return new fe(x.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return p.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=Un();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():At.newInvalidDocument(i))}),p.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Un(),s=n.path,a=new x(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||J1(Z1(l),r)<=0||(i.has(l.key)||gl(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return p.resolve(o)}getAllFromCollectionGroup(e,n,r,i){F()}Fr(e,n){return p.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new sm(this)}getSize(e){return p.resolve(this.size)}},sm=class extends Xg{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),p.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var am=class{constructor(e){this.persistence=e,this.Mr=new Bn(n=>ry(n),iy),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Or=0,this.Nr=new $s,this.targetCount=0,this.Lr=Us.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),p.resolve()}getLastRemoteSnapshotVersion(e){return p.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return p.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),p.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),p.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Us(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,p.resolve()}updateTargetData(e,n){return this.qn(n),p.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,p.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),p.waitFor(o).next(()=>i)}getTargetCount(e){return p.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return p.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),p.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),p.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),p.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return p.resolve(r)}containsKey(e,n){return p.resolve(this.Nr.containsKey(n))}};var um=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new qC(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new am(this),this.indexManager=new Zg,this.remoteDocumentCache=function(i){return new om(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Yg(n),this.$r=new nm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new im(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){_("MemoryPersistence","Starting transaction:",e);let i=new cm(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return p.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},cm=class extends Eg{constructor(e){super(),this.currentSequenceNumber=e}},lm=class t{constructor(e){this.persistence=e,this.zr=new $s,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw F()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),p.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),p.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),p.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return p.forEach(this.Jr,r=>{let i=x.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,V.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return p.or([()=>p.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var dm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=W(),i=W();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var hm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var fm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return SI()?8:qc.v(Zo())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new hm;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(bs()<=G.DEBUG&&_("QueryEngine","SDK will not create cache indexes for query:",Ii(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),p.resolve()):(bs()<=G.DEBUG&&_("QueryEngine","Query:",Ii(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(bs()<=G.DEBUG&&_("QueryEngine","The SDK decides to create cache indexes for query:",Ii(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qt(n))):p.resolve())}ji(e,n){if(IC(n))return p.resolve(null);let r=Qt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jg(n,null,"F"),r=Qt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=W(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let c=this.Zi(n,a);return this.Xi(n,c,s,u.readTime)?this.ji(e,jg(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return IC(n)||i.isEqual(V.min())?p.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?p.resolve(null):(bs()<=G.DEBUG&&_("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ii(n)),this.es(e,s,n,Y1(i,-1)).next(a=>a))})}Zi(e,n){let r=new Be(t0(e));return n.forEach((i,o)=>{gl(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return bs()<=G.DEBUG&&_("QueryEngine","Using full collection scan to execute query:",Ii(n)),this.zi.getDocumentsMatchingQuery(e,n,Ir.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var pm=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new fe(J),this.rs=new Bn(o=>ry(o),iy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function VF(t,e,n,r){return new pm(t,e,n,r)}function w0(t,e){return w(this,null,function*(){let n=K(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=W();for(let c of i){s.push(c.batchId);for(let l of c.mutations)u=u.add(l.key)}for(let c of o){a.push(c.batchId);for(let l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})})}function E0(t){let e=K(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function LF(t,e){let n=K(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(ze.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(I,C,A){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(o,f))});let u=Un(),c=W();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(jF(o,s,e.documentUpdates).next(l=>{u=l.cs,c=l.ls})),!r.isEqual(V.min())){let l=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return p.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.ns=i,o))}function jF(t,e,n){let r=W(),i=W();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Un();return n.forEach((a,u)=>{let c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(V.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):_("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:s,ls:i}})}function BF(t,e){let n=K(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,p.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Bs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function gm(t,e,n){return w(this,null,function*(){let r=K(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ws(s))throw s;_("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function PC(t,e,n){let r=K(t),i=V.min(),o=W();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,l){let d=K(u),h=d.rs.get(l);return h!==void 0?p.resolve(d.ns.get(h)):d.Qr.getTargetData(c,l)}(r,s,Qt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:V.min(),n?o:W())).next(a=>(UF(r,cF(e),a),{documents:a,hs:o})))}function UF(t,e,n){let r=t.ss.get(e)||V.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}var el=class{constructor(){this.activeTargetIds=gF()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var mm=class{constructor(){this.no=new el,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new el,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ym=class{io(e){}shutdown(){}};var tl=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Bc=null;function cg(){return Bc===null?Bc=function(){return 268435456+Math.round(2147483648*Math.random())}():Bc++,"0x"+Bc.toString(16)}var $F={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var vm=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Le="WebChannelConnection",_m=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){let a=cg(),u=this.bo(n,r.toUriEncodedString());_("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,o,s),this.Co(n,u,c,i).then(l=>(_("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Ri("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){let i=$F[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let o=cg();return new Promise((s,a)=>{let u=new lC;u.setWithCredentials(!0),u.listenOnce(uC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Lc.NO_ERROR:let l=u.getResponseJson();_(Le,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case Lc.TIMEOUT:_(Le,`RPC '${e}' ${o} timed out`),a(new D(g.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:let d=u.getStatus();if(_(Le,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let m=function(C){let A=C.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(A)>=0?A:g.UNKNOWN}(f.status);a(new D(m,f.message))}else a(new D(g.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(g.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{_(Le,`RPC '${e}' ${o} completed.`)}});let c=JSON.stringify(i);_(Le,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Fo(e,n,r){let i=cg(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=sC(),a=aC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let l=o.join("");_(Le,`Creating RPC '${e}' stream ${i}: ${l}`,u);let d=s.createWebChannel(l,u),h=!1,f=!1,m=new vm({lo:C=>{f?_(Le,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(h||(_(Le,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),_(Le,`RPC '${e}' stream ${i} sending:`,C),d.send(C))},ho:()=>d.close()}),I=(C,A,se)=>{C.listen(A,ee=>{try{se(ee)}catch(ue){setTimeout(()=>{throw ue},0)}})};return I(d,Cs.EventType.OPEN,()=>{f||_(Le,`RPC '${e}' stream ${i} transport opened.`)}),I(d,Cs.EventType.CLOSE,()=>{f||(f=!0,_(Le,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),I(d,Cs.EventType.ERROR,C=>{f||(f=!0,Ri(Le,`RPC '${e}' stream ${i} transport errored:`,C),m.Vo(new D(g.UNAVAILABLE,"The operation could not be completed")))}),I(d,Cs.EventType.MESSAGE,C=>{var A;if(!f){let se=C.data[0];we(!!se);let ee=se,ue=ee.error||((A=ee[0])===null||A===void 0?void 0:A.error);if(ue){_(Le,`RPC '${e}' stream ${i} received error:`,ue);let Ge=ue.status,re=function(wl){let Zs=ye[wl];if(Zs!==void 0)return d0(Zs)}(Ge),et=ue.message;re===void 0&&(re=g.INTERNAL,et="Unknown error status: "+Ge+" with message "+ue.message),f=!0,m.Vo(new D(re,et)),d.close()}else _(Le,`RPC '${e}' stream ${i} received:`,se),m.mo(se)}}),I(a,cC.STAT_EVENT,C=>{C.stat===sg.PROXY?_(Le,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===sg.NOPROXY&&_(Le,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}};function lg(){return typeof document<"u"?document:null}function ml(t){return new Gg(t,!0)}var nl=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&_("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var wm=class{constructor(e,n,r,i,o,s,a,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new nl(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return w(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return w(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return w(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===g.RESOURCE_EXHAUSTED?(Yt(n.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===g.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new D(g.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>w(this,null,function*(){this.state=0,this.start()}))}__(e){return _("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Em=class extends wm{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=AF(this.serializer,e),r=function(o){if(!("targetChange"in o))return V.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?Ai(s.readTime):V.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=NC(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=Vg(u)?{documents:MF(o,u)}:{query:xF(o,u).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=h0(o,s.resumeToken);let c=Wg(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(V.min())>0){a.readTime=Kg(o,s.snapshotVersion.toTimestamp());let c=Wg(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let r=NF(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=NC(this.serializer),n.removeTarget=e,this.t_(n)}};var Im=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new D(g.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Qg(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new D(g.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Qg(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(g.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Dm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Yt(n),this.g_=!1):_("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var Cm=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Ys(this)&&(_("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let c=K(u);c.v_.add(4),yield Qs(c),c.x_.set("Unknown"),c.v_.delete(4),yield yl(c)})}(this))}))}),this.x_=new Dm(r,i)}};function yl(t){return w(this,null,function*(){if(Ys(t))for(let e of t.F_)yield e(!0)})}function Qs(t){return w(this,null,function*(){for(let e of t.F_)yield e(!1)})}function I0(t,e){let n=K(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),uy(n)?ay(n):qi(n).Jo()&&sy(n,e))}function oy(t,e){let n=K(t),r=qi(n);n.C_.delete(e),r.Jo()&&D0(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ys(n)&&n.x_.set("Unknown"))}function sy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(V.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qi(t).c_(e)}function D0(t,e){t.O_.Oe(e),qi(t).l_(e)}function ay(t){t.O_=new zg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),qi(t).start(),t.x_.p_()}function uy(t){return Ys(t)&&!qi(t).Ho()&&t.C_.size>0}function Ys(t){return K(t).v_.size===0}function C0(t){t.O_=void 0}function HF(t){return w(this,null,function*(){t.C_.forEach((e,n)=>{sy(t,e)})})}function qF(t,e){return w(this,null,function*(){C0(t),uy(t)?(t.x_.S_(e),ay(t)):t.x_.set("Unknown")})}function zF(t,e,n){return w(this,null,function*(){if(t.x_.set("Online"),e instanceof Zc&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){_("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield OC(t,r)}else if(e instanceof Si?t.O_.$e(e):e instanceof Yc?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(V.min()))try{let r=yield E0(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.O_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){let l=o.C_.get(c);l&&o.C_.set(c,l.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{let l=o.C_.get(u);if(!l)return;o.C_.set(u,l.withResumeToken(ze.EMPTY_BYTE_STRING,l.snapshotVersion)),D0(o,u);let d=new Bs(l.target,u,c,l.sequenceNumber);sy(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){_("RemoteStore","Failed to raise snapshot:",r),yield OC(t,r)}})}function OC(t,e,n){return w(this,null,function*(){if(!Ws(e))throw e;t.v_.add(1),yield Qs(t),t.x_.set("Offline"),n||(n=()=>E0(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){_("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield yl(t)}))})}function FC(t,e){return w(this,null,function*(){let n=K(t);n.asyncQueue.verifyOperationInProgress(),_("RemoteStore","RemoteStore received new credentials");let r=Ys(n);n.v_.add(3),yield Qs(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield yl(n)})}function GF(t,e){return w(this,null,function*(){let n=K(t);e?(n.v_.delete(2),yield yl(n)):e||(n.v_.add(2),yield Qs(n),n.x_.set("Unknown"))})}function qi(t){return t.N_||(t.N_=function(n,r,i){let o=K(n);return o.R_(),new Em(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:HF.bind(null,t),To:qF.bind(null,t),u_:zF.bind(null,t)}),t.F_.push(e=>w(this,null,function*(){e?(t.N_.Zo(),uy(t)?ay(t):t.x_.set("Unknown")):(yield t.N_.stop(),C0(t))}))),t.N_}var bm=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function b0(t,e){if(Yt("AsyncQueue",`${e}: ${t}`),Ws(t))return new D(g.UNAVAILABLE,`${e}: ${t}`);throw t}var rl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Ts(),this.sortedSet=new fe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var il=class{constructor(){this.B_=new fe(x.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):F():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ui=class t{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,rl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Tm=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},Sm=class{constructor(){this.queries=new Bn(e=>e0(e),pl),this.onlineState="Unknown",this.W_=new Set}};function WF(t,e){return w(this,null,function*(){let n=K(t),r=3,i=e.query,o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new Tm,r=e.U_()?0:1);try{switch(r){case 0:o.q_=yield n.onListen(i,!0);break;case 1:o.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=b0(s,`Initialization of query '${Ii(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&cy(n)})}function KF(t,e){return w(this,null,function*(){let n=K(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function QF(t,e){let n=K(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&cy(n)}function YF(t,e,n){let r=K(t),i=r.queries.get(e);if(i)for(let o of i.Q_)o.onError(n);r.queries.delete(e)}function cy(t){t.W_.forEach(e=>{e.next()})}var Am,kC;(kC=Am||(Am={})).j_="default",kC.Cache="cache";var Mm=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ui(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Ui.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Am.Cache}};var ol=class{constructor(e){this.key=e}},sl=class{constructor(e){this.key=e}},xm=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=W(),this.mutatedKeys=W(),this.ha=t0(e),this.Pa=new rl(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new il,i=n?n.Pa:this.Pa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=gl(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),I=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),C=!1;h&&f?h.data.isEqual(f.data)?m!==I&&(r.track({type:3,doc:f}),C=!0):this.da(h,f)||(r.track({type:2,doc:f}),C=!0,(u&&this.ha(f,u)>0||c&&this.ha(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),C=!0):h&&!f&&(r.track({type:1,doc:h}),C=!0,(u||c)&&(a=!0)),C&&(f?(s=s.add(f),o=I?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let s=e.Ea.k_();s.sort((l,d)=>function(f,m){let I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return I(f)-I(m)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],u=this.la.size===0&&this.current&&!i?1:0,c=u!==this.ca;return this.ca=u,s.length!==0||c?{snapshot:new Ui(this.query,e.Pa,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new il,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=W(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new sl(r))}),this.la.forEach(r=>{e.has(r)||n.push(new ol(r))}),n}fa(e){this.ua=e.hs,this.la=W();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Ui.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},Rm=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Nm=class{constructor(e){this.key=e,this.pa=!1}},Pm=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Bn(a=>e0(a),pl),this.Sa=new Map,this.ba=new Set,this.Da=new fe(x.comparator),this.Ca=new Map,this.va=new $s,this.Fa={},this.Ma=new Map,this.xa=Us.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function ZF(t,e,n=!0){return w(this,null,function*(){let r=x0(t),i,o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=yield T0(r,e,n,!0),i})}function JF(t,e){return w(this,null,function*(){let n=x0(t);yield T0(n,e,!0,!1)})}function T0(t,e,n,r){return w(this,null,function*(){let i=yield BF(t.localStore,Qt(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield XF(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&I0(t.remoteStore,i),a})}function XF(t,e,n,r,i){return w(this,null,function*(){t.Na=(d,h,f)=>function(I,C,A,se){return w(this,null,function*(){let ee=C.view.Ta(A);ee.Xi&&(ee=yield PC(I.localStore,C.query,!1).then(({documents:et})=>C.view.Ta(et,ee)));let ue=se&&se.targetChanges.get(C.targetId),Ge=se&&se.targetMismatches.get(C.targetId)!=null,re=C.view.applyChanges(ee,I.isPrimaryClient,ue,Ge);return LC(I,C.targetId,re.Va),re.snapshot})}(t,d,h,f);let o=yield PC(t.localStore,e,!0),s=new xm(e,o.hs),a=s.Ta(o.documents),u=js.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);LC(t,n,c.Va);let l=new Rm(e,n,s);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot})}function ek(t,e,n){return w(this,null,function*(){let r=K(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!pl(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&oy(r.remoteStore,i.targetId),Om(r,i.targetId)}).catch(Jm))):(Om(r,i.targetId),yield gm(r.localStore,i.targetId,!0))})}function tk(t,e){return w(this,null,function*(){let n=K(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oy(n.remoteStore,r.targetId))})}function S0(t,e){return w(this,null,function*(){let n=K(t);try{let r=yield LF(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Ca.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?we(s.pa):i.removedDocuments.size>0&&(we(s.pa),s.pa=!1))}),yield M0(n,r,e)}catch(r){yield Jm(r)}})}function VC(t,e,n){let r=K(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((o,s)=>{let a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=K(s);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(c=!0)}),c&&cy(u)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function nk(t,e,n){return w(this,null,function*(){let r=K(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),o=i&&i.key;if(o){let s=new fe(x.comparator);s=s.insert(o,At.newNoDocument(o,V.min()));let a=W().add(o),u=new Qc(V.min(),new Map,new fe(J),s,a);yield S0(r,u),r.Da=r.Da.remove(o),r.Ca.delete(e),ly(r)}else yield gm(r.localStore,e,!1).then(()=>Om(r,e,n)).catch(Jm)})}function Om(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||A0(t,r)})}function A0(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(oy(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),ly(t))}function LC(t,e,n){for(let r of n)r instanceof ol?(t.va.addReference(r.key,e),rk(t,r)):r instanceof sl?(_("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||A0(t,r.key)):F()}function rk(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(_("SyncEngine","New document in limbo: "+n),t.ba.add(r),ly(t))}function ly(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new x(he.fromString(e)),r=t.xa.next();t.Ca.set(r,new Nm(n)),t.Da=t.Da.insert(n,r),I0(t.remoteStore,new Bs(Qt(JC(n.path)),r,"TargetPurposeLimboResolution",qC._e))}}function M0(t,e,n){return w(this,null,function*(){let r=K(t),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach((a,u)=>{s.push(r.Na(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);let l=dm.Ki(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.ya.u_(i),yield function(u,c){return w(this,null,function*(){let l=K(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>p.forEach(c,h=>p.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>p.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ws(d))throw d;_("LocalStore","Failed to update sequence numbers: "+d)}for(let d of c){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),m=f.snapshotVersion,I=f.withLastLimboFreeSnapshotVersion(m);l.ns=l.ns.insert(h,I)}}})}(r.localStore,o))})}function ik(t,e){return w(this,null,function*(){let n=K(t);if(!n.currentUser.isEqual(e)){_("SyncEngine","User change. New user:",e.toKey());let r=yield w0(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(u=>{u.reject(new D(g.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield M0(n,r.us)}})}function ok(t,e){let n=K(t),r=n.Ca.get(e);if(r&&r.pa)return W().add(r.key);{let i=W(),o=n.Sa.get(e);if(!o)return i;for(let s of o){let a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function x0(t){let e=K(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=S0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ok.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nk.bind(null,e),e.ya.u_=QF.bind(null,e.eventManager),e.ya.La=YF.bind(null,e.eventManager),e}var al=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=ml(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return VF(this.persistence,new fm,e.initialUser,this.serializer)}createPersistence(e){return new um(lm.Hr,this.serializer)}createSharedClientState(e){return new mm}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Fm=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ik.bind(null,this.syncEngine),yield GF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Sm}()}createDatastore(e){let n=ml(e.databaseInfo.databaseId),r=function(o){return new _m(o)}(e.databaseInfo);return function(o,s,a,u){return new Im(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Cm(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>VC(this.syncEngine,n,0),function(){return tl.D()?new tl:new ym}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,l){let d=new Pm(i,o,s,a,u,c);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e;yield function(r){return w(this,null,function*(){let i=K(r);_("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Qs(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var km=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Vm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Se.UNAUTHENTICATED,this.clientId=_g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>w(this,null,function*(){_("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(_("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=b0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function dg(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),_("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield w0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function jC(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield ak(t);_("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>FC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>FC(e.remoteStore,i)),t._onlineComponents=e})}function sk(t){return t.name==="FirebaseError"?t.code===g.FAILED_PRECONDITION||t.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function ak(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!sk(n))throw n;Ri("Error using user provided cache. Falling back to memory cache: "+n),yield dg(t,new al)}}else _("FirestoreClient","Using default OfflineComponentProvider"),yield dg(t,new al);return t._offlineComponents})}function uk(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(_("FirestoreClient","Using user provided OnlineComponentProvider"),yield jC(t,t._uninitializedComponentsProvider._online)):(_("FirestoreClient","Using default OnlineComponentProvider"),yield jC(t,new Fm))),t._onlineComponents})}function ck(t){return w(this,null,function*(){let e=yield uk(t),n=e.eventManager;return n.onListen=ZF.bind(null,e.syncEngine),n.onUnlisten=ek.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tk.bind(null,e.syncEngine),n})}function lk(t,e,n={}){let r=new Wt;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(o,s,a,u,c){let l=new km({next:h=>{s.enqueueAndForget(()=>KF(o,d)),h.fromCache&&u.source==="server"?c.reject(new D(g.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Mm(a,l,{includeMetadataChanges:!0,ta:!0});return WF(o,d)}(yield ck(t),t.asyncQueue,e,n,r)})),r.promise}function R0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var BC=new Map;function dk(t,e,n){if(!n)throw new D(g.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hk(t,e,n,r){if(e===!0&&r===!0)throw new D(g.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UC(t){if(x.isDocumentKey(t))throw new D(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":F()}function Lm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=vl(t);throw new D(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ul=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new D(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new D(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new D(g.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new D(g.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new D(g.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Hs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ul({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new D(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ul(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hg;switch(r.type){case"firstParty":return new mg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new D(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=BC.get(n);r&&(_("ComponentProvider","Removing Datastore"),BC.delete(n),r.terminate())}(this),Promise.resolve()}};function fk(t,e,n,r={}){var i;let o=(t=Lm(t,Hs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Se.MOCK_USER;else{a=TI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Se(c)}t._authCredentials=new fg(new $c(a,u))}}var $i=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},fn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Mi=class t extends $i{constructor(e,n,r){super(e,n,JC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new x(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function N0(t,e,...n){if(t=Xo(t),dk("collection","path",e),t instanceof Hs){let r=he.fromString(e,...n);return UC(r),new Mi(t,null,r)}{if(!(t instanceof fn||t instanceof Mi))throw new D(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(he.fromString(e,...n));return UC(r),new Mi(t.firestore,null,r)}}var jm=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new nl(this,"async_queue_retry"),this.cu=()=>{let n=lg();n&&_("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=lg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new Wt;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return w(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Ws(e))throw e;_("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Yt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=bm.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&F()}verifyOperationInProgress(){}Tu(){return w(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var cl=class extends Hs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new jm}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||O0(this),this._firestoreClient.terminate()}};function P0(t,e){let n=typeof t=="object"?t:$I(),r=typeof t=="string"?t:e||"(default)",i=BI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=bI("firestore");o&&fk(i,...o)}return i}function pk(t){return t._firestoreClient||O0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function O0(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,c,l){return new bg(a,u,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,R0(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Vm(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var qs=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ze.fromBase64String(e))}catch(n){throw new D(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ll=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new D(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var dl=class{constructor(e){this._methodName=e}};var zs=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}};var gk=/^__.*__$/;function F0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}var Bm=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return $m(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(F0(this.Vu)&&gk.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},Um=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ml(e)}Cu(e,n,r,i=!1){return new Bm({Vu:e,methodName:n,Du:r,path:vt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function mk(t){let e=t._freezeSettings(),n=ml(t._databaseId);return new Um(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yk(t,e,n,r=!1){return dy(n,t.Cu(r?4:3,e))}function dy(t,e){if(k0(t=Xo(t)))return _k("Unsupported field value:",e,t),vk(t,e);if(t instanceof dl)return function(r,i){if(!F0(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=dy(a,i.wu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Xo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=je.fromDate(r);return{timestampValue:Kg(i.serializer,o)}}if(r instanceof je){let o=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kg(i.serializer,o)}}if(r instanceof zs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qs)return{bytesValue:h0(i.serializer,r._byteString)};if(r instanceof fn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:f0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${vl(r)}`)}(t,e)}function vk(t,e){let n={};return zC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,i)=>{let o=dy(i,e.fu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function k0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof zs||t instanceof qs||t instanceof fn||t instanceof dl)}function _k(t,e,n){if(!k0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=vl(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}var wk=new RegExp("[~\\*/\\[\\]]");function Ek(t,e,n){if(e.search(wk)>=0)throw $m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ll(...e.split("."))._internalPath}catch{throw $m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $m(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new D(g.INVALID_ARGUMENT,a+t+u)}var hl=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Hm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(V0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Hm=class extends hl{data(){return super.data()}};function V0(t,e){return typeof e=="string"?Ek(t,e):e instanceof ll?e._internalPath:e._delegate._internalPath}function Ik(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new D(g.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gs=class{},qm=class extends Gs{};function L0(t,e,...n){let r=[];e instanceof Gs&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof Gm).length,a=o.filter(u=>u instanceof zm).length;if(s>1||s>0&&a>0)throw new D(g.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var zm=class t extends qm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return j0(e._query,n),new $i(e.firestore,e.converter,Lg(e._query,n))}_parse(e){let n=mk(e.firestore);return function(o,s,a,u,c,l,d){let h;if(c.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new D(g.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){HC(d,l);let f=[];for(let m of d)f.push($C(u,o,m));h={arrayValue:{values:f}}}else h=$C(u,o,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||HC(d,l),h=yk(a,s,d,l==="in"||l==="not-in");return _e.create(c,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var Gm=class t extends Gs{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)j0(s,u),s=Lg(s,u)}(e._query,n),new $i(e.firestore,e.converter,Lg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function $C(t,e,n){if(typeof(n=Xo(n))=="string"){if(n==="")throw new D(g.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XC(e)&&n.indexOf("/")!==-1)throw new D(g.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(he.fromString(n));if(!x.isDocumentKey(r))throw new D(g.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mC(t,new x(r))}if(n instanceof fn)return mC(t,n._key);throw new D(g.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vl(n)}.`)}function HC(t,e){if(!Array.isArray(t)||t.length===0)throw new D(g.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j0(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new D(g.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new D(g.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Wm=class{convertValue(e,n="none"){switch(Dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ks(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new zs(de(e.latitude),de(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ty(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ps(e));default:return null}}convertTimestamp(e){let n=Ln(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=he.fromString(e);we(_0(r));let i=new Wc(r.get(1),r.get(3)),o=new x(r.popFirst(5));return i.isEqual(n)||Yt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var Ti=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Km=class extends hl{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new xi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(V0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},xi=class extends Km{data(e={}){return super.data(e)}},Qm=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ti(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xi(this._firestore,this._userDataWriter,r.key,r,new Ti(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(g.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new xi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ti(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new xi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ti(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),c=-1,l=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:Dk(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Dk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}var Ym=class extends Wm{constructor(e){super(),this.firestore=e}convertBytes(e){return new qs(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}};function B0(t){t=Lm(t,$i);let e=Lm(t.firestore,cl),n=pk(e),r=new Ym(e);return Ik(t._query),lk(n,t._query).then(i=>new Qm(e,r,t,i))}(function(e,n=!0){(function(i){Hi=i})(UI),es(new cn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new cl(new pg(r.getProvider("auth-internal")),new vg(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new D(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(c.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Fn(hC,"4.5.0",e),Fn(hC,"4.5.0","esm2017")})();var Ck={apiKey:"AIzaSyBMDG_5lDDr2YeB9GwJGP_C3XO5hdcltbk",authDomain:"trippbarker-31e6e.firebaseapp.com",projectId:"trippbarker-31e6e",storageBucket:"trippbarker-31e6e.appspot.com",messagingSenderId:"648512597814",appId:"1:648512597814:web:25016cb4a291e39ee4cd97"},bk=mp(Ck),U0=P0(bk);function Tk(t,e){if(t&1&&(De(0,"div",2)(1,"a",3),Sn(2,"img",4),De(3,"h2"),it(4),Re()()()),t&2){let n=e.$implicit;Vt(),Mh("href",n.link,hh),Vt(3),vo(n.name)}}var _l=(()=>{let e=class e{ngOnInit(){this.getProjects()}constructor(r,i){this.projectService=r,this.messageService=i,this.projects=new Array}getProjects(){return w(this,null,function*(){(yield B0(L0(N0(U0,"project")))).forEach(i=>{let o={id:i.id,ref:i.data().ref,images:i.data().images,technologies:i.data().technologies,name:i.data().name,link:i.data().link,description:i.data().description};this.projects.push(o)})})}};e.\u0275fac=function(i){return new(i||e)(L(pi),L(Ko))},e.\u0275cmp=ft({type:e,selectors:[["app-projects"]],standalone:!0,features:[ti],decls:2,vars:1,consts:[["id","projects"],["class","projectCont",4,"ngFor","ngForOf"],[1,"projectCont"],["target","_blank",1,"project",3,"href"],["src","","alt","",1,"projectImg"]],template:function(i,o){i&1&&(De(0,"div",0),go(1,Tk,5,2,"div",1),Re()),i&2&&(Vt(),mo("ngForOf",o.projects))},dependencies:[Jw,ii],styles:["*[_ngcontent-%COMP%]{font-family:Azeret Mono,monospace}body[_ngcontent-%COMP%]{background-color:#e0fbfc}#projects[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;width:100%;max-width:500rem}.projectCont[_ngcontent-%COMP%]{margin:1rem;background-color:green;width:50%;max-width:35rem;height:25rem;display:flex;flex-direction:column;justify-content:center;align-items:center}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#293241;text-decoration:none}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ee6c4d}.project[_ngcontent-%COMP%]{background-color:#98c1d9;height:100%;width:100%;min-width:25rem;max-width:35rem;display:flex;flex-direction:column;padding:1rem;border-radius:1rem}.projectImg[_ngcontent-%COMP%]{background-color:#293241;height:90%;border-radius:.75rem .75rem 0 0}"]});let t=e;return t})();var $0=(()=>{let e=class e{constructor(r){this.projectService=r,this.projects=[]}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(L(pi))},e.\u0275cmp=ft({type:e,selectors:[["app-dashboard"]],decls:9,vars:0,consts:[["routerLink","/dashboard"],["routerLink","/projects"],["routerLink","/bike"]],template:function(i,o){i&1&&(De(0,"nav")(1,"a",0),it(2,"ABOUT ME"),Re(),De(3,"a",1),it(4,"PROJECTS"),Re(),De(5,"a",2),it(6,"BIKE"),Re(),De(7,"a"),it(8,"COOKING"),Re()())},dependencies:[ic],styles:["nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:0}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:.5rem 0rem .5rem 2rem;text-decoration:none;font-family:Azeret Mono,monospace;font-weight:bolder;font-size:2rem;color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff4500;margin-left:3rem;transition:.1s}"]});let t=e;return t})();var H0=(()=>{let e=class e{constructor(){}printHello(){console.log("hello")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var q0=(()=>{let e=class e{constructor(r){this.stravaService=r}ngOnInit(){this.stravaService.printHello()}};e.\u0275fac=function(i){return new(i||e)(L(H0))},e.\u0275cmp=ft({type:e,selectors:[["app-bike"]],decls:0,vars:0,template:function(i,o){}});let t=e;return t})();var Ak=[{path:"projects",component:_l},{path:"dashboard",component:$0},{path:"project/:ref",component:EI},{path:"bike",component:q0},{path:"",redirectTo:"/dashboard",pathMatch:"full"}],z0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Qe({type:e}),e.\u0275inj=Ke({imports:[Qf.forRoot(Ak),Qf]});let t=e;return t})();var G0=(()=>{let e=class e{constructor(){this.title="Tripp Barker"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ft({type:e,selectors:[["app-root"]],decls:7,vars:1,consts:[["rel","preconnect","href",gu`https://fonts.googleapis.com`],["rel","preconnect","href",gu`https://fonts.gstatic.com`,"crossorigin",""],["href",gu`https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100..900;1,100..900&display=swap`,"rel","stylesheet"],["routerLink","/dashboard","id","title"]],template:function(i,o){i&1&&(Sn(0,"link",0)(1,"link",1)(2,"link",2),De(3,"a",3)(4,"h1"),it(5),Re()(),Sn(6,"router-outlet")),i&2&&(Vt(5),vo(o.title))},dependencies:[$f,ic],styles:["*[_ngcontent-%COMP%]{font-family:Azeret Mono,monospace}body[_ngcontent-%COMP%]{background-color:#e0fbfc}#title[_ngcontent-%COMP%]{text-decoration:none;color:#024d8b}"]});let t=e;return t})();var W0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Qe({type:e,bootstrap:[G0]}),e.\u0275inj=Ke({imports:[dE,z0,ii,_l]});let t=e;return t})();lE().bootstrapModule(W0).catch(t=>console.error(t));
