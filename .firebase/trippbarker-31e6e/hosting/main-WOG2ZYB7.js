var FC=Object.defineProperty,LC=Object.defineProperties;var VC=Object.getOwnPropertyDescriptors;var oy=Object.getOwnPropertySymbols;var jC=Object.prototype.hasOwnProperty,BC=Object.prototype.propertyIsEnumerable;var ay=(t,e,n)=>e in t?FC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})jC.call(e,n)&&ay(t,n,e[n]);if(oy)for(var n of oy(e))BC.call(e,n)&&ay(t,n,e[n]);return t},ue=(t,e)=>LC(t,VC(e));var m=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var cy=null;var Sl=1,uy=Symbol("SIGNAL");function ee(t){let e=cy;return cy=t,e}var ly={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function UC(t){if(!(xl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Sl)){if(!t.producerMustRecompute(t)&&!Ml(t)){t.dirty=!1,t.lastCleanEpoch=Sl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Sl}}function dy(t){return t&&(t.nextProducerIndex=0),ee(t)}function hy(t,e){if(ee(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(xl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Al(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ml(t){ea(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(UC(n),r!==n.version))return!0}return!1}function fy(t){if(ea(t),xl(t))for(let e=0;e<t.producerNode.length;e++)Al(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Al(t,e){if(zC(t),ea(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Al(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ea(i),i.producerIndexOfThis[r]=e}}function xl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ea(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function zC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function $C(){throw new Error}var HC=$C;function py(t){HC=t}function V(t){return typeof t=="function"}function Or(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ta=Or(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Yi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(V(r))try{r()}catch(s){e=s instanceof ta?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{gy(s)}catch(o){e=e??[],o instanceof ta?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ta(e)}}add(e){var n;if(e&&e!==this)if(this.closed)gy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Yi(n,e)}remove(e){let{_finalizers:n}=this;n&&Yi(n,e),e instanceof t&&e._removeParent(this)}};Te.EMPTY=(()=>{let t=new Te;return t.closed=!0,t})();var Rl=Te.EMPTY;function na(t){return t instanceof Te||t&&"closed"in t&&V(t.remove)&&V(t.add)&&V(t.unsubscribe)}function gy(t){V(t)?t():t.unsubscribe()}var St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var kr={setTimeout(t,e,...n){let{delegate:r}=kr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=kr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ra(t){kr.setTimeout(()=>{let{onUnhandledError:e}=St;if(e)e(t);else throw t})}function Xi(){}var my=Nl("C",void 0,void 0);function yy(t){return Nl("E",void 0,t)}function vy(t){return Nl("N",t,void 0)}function Nl(t,e,n){return{kind:t,value:e,error:n}}var Kn=null;function Fr(t){if(St.useDeprecatedSynchronousErrorHandling){let e=!Kn;if(e&&(Kn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Kn;if(Kn=null,n)throw r}}else t()}function _y(t){St.useDeprecatedSynchronousErrorHandling&&Kn&&(Kn.errorThrown=!0,Kn.error=t)}var Qn=class extends Te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,na(e)&&e.add(this)):this.destination=WC}static create(e,n,r){return new Lr(e,n,r)}next(e){this.isStopped?Ol(vy(e),this):this._next(e)}error(e){this.isStopped?Ol(yy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ol(my,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qC=Function.prototype.bind;function Pl(t,e){return qC.call(t,e)}var kl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ia(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ia(r)}else ia(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ia(n)}}},Lr=class extends Qn{constructor(e,n,r){super();let i;if(V(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&St.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pl(e.next,s),error:e.error&&Pl(e.error,s),complete:e.complete&&Pl(e.complete,s)}):i=e}this.destination=new kl(i)}};function ia(t){St.useDeprecatedSynchronousErrorHandling?_y(t):ra(t)}function GC(t){throw t}function Ol(t,e){let{onStoppedNotification:n}=St;n&&kr.setTimeout(()=>n(t,e))}var WC={closed:!0,next:Xi,error:GC,complete:Xi};var Vr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rt(t){return t}function Fl(...t){return Ll(t)}function Ll(t){return t.length===0?rt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=QC(n)?n:new Lr(n,r,i);return Fr(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=wy(r),new r((i,s)=>{let o=new Lr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vr](){return this}pipe(...n){return Ll(n)(this)}toPromise(n){return n=wy(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function wy(t){var e;return(e=t??St.Promise)!==null&&e!==void 0?e:Promise}function KC(t){return t&&V(t.next)&&V(t.error)&&V(t.complete)}function QC(t){return t&&t instanceof Qn||KC(t)&&na(t)}function Vl(t){return V(t?.lift)}function q(t){return e=>{if(Vl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(t,e,n,r,i){return new jl(t,e,n,r,i)}var jl=class extends Qn{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function jr(){return q((t,e)=>{let n=null;t._refCount++;let r=G(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Br=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Vl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Te;let n=this.getSubject();e.add(this.source.subscribe(G(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Te.EMPTY)}return e}refCount(){return jr()(this)}};var Iy=Or(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new sa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Iy}next(n){Fr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Fr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Rl:(this.currentObservers=null,s.push(n),new Te(()=>{this.currentObservers=null,Yi(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new sa(e,n),t})(),sa=class extends ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Rl}};var Pe=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var it=new se(t=>t.complete());function Ey(t){return t&&V(t.schedule)}function Dy(t){return t[t.length-1]}function by(t){return V(Dy(t))?t.pop():void 0}function Cn(t){return Ey(Dy(t))?t.pop():void 0}function Ty(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Cy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zn(t){return this instanceof Zn?(this.v=t,this):new Zn(t)}function Sy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(y,T){s.push([h,f,y,T])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(y){d(s[0][3],y)}}function c(h){h.value instanceof Zn?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function My(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Cy=="function"?Cy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var oa=t=>t&&typeof t.length=="number"&&typeof t!="function";function aa(t){return V(t?.then)}function ca(t){return V(t[Vr])}function ua(t){return Symbol.asyncIterator&&V(t?.[Symbol.asyncIterator])}function la(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ZC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var da=ZC();function ha(t){return V(t?.[da])}function fa(t){return Sy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Zn(n.read());if(i)return yield Zn(void 0);yield yield Zn(r)}}finally{n.releaseLock()}})}function pa(t){return V(t?.getReader)}function Se(t){if(t instanceof se)return t;if(t!=null){if(ca(t))return YC(t);if(oa(t))return XC(t);if(aa(t))return JC(t);if(ua(t))return Ay(t);if(ha(t))return e0(t);if(pa(t))return t0(t)}throw la(t)}function YC(t){return new se(e=>{let n=t[Vr]();if(V(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XC(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function JC(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ra)})}function e0(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Ay(t){return new se(e=>{n0(t,e).catch(n=>e.error(n))})}function t0(t){return Ay(fa(t))}function n0(t,e){var n,r,i,s;return Ty(this,void 0,void 0,function*(){try{for(n=My(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function tt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ga(t,e=0){return q((n,r)=>{n.subscribe(G(r,i=>tt(r,t,()=>r.next(i),e),()=>tt(r,t,()=>r.complete(),e),i=>tt(r,t,()=>r.error(i),e)))})}function ma(t,e=0){return q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function xy(t,e){return Se(t).pipe(ma(e),ga(e))}function Ry(t,e){return Se(t).pipe(ma(e),ga(e))}function Ny(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Py(t,e){return new se(n=>{let r;return tt(n,e,()=>{r=t[da](),tt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>V(r?.return)&&r.return()})}function ya(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{tt(n,e,()=>{let r=t[Symbol.asyncIterator]();tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Oy(t,e){return ya(fa(t),e)}function ky(t,e){if(t!=null){if(ca(t))return xy(t,e);if(oa(t))return Ny(t,e);if(aa(t))return Ry(t,e);if(ua(t))return ya(t,e);if(ha(t))return Py(t,e);if(pa(t))return Oy(t,e)}throw la(t)}function ye(t,e){return e?ky(t,e):Se(t)}function P(...t){let e=Cn(t);return ye(t,e)}function Ur(t,e){let n=V(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Bl(t){return!!t&&(t instanceof se||V(t.lift)&&V(t.subscribe))}var dn=Or(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function W(t,e){return q((n,r)=>{let i=0;n.subscribe(G(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:r0}=Array;function i0(t,e){return r0(e)?t(...e):t(e)}function Fy(t){return W(e=>i0(t,e))}var{isArray:s0}=Array,{getPrototypeOf:o0,prototype:a0,keys:c0}=Object;function Ly(t){if(t.length===1){let e=t[0];if(s0(e))return{args:e,keys:null};if(u0(e)){let n=c0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function u0(t){return t&&typeof t=="object"&&o0(t)===a0}function Vy(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ji(...t){let e=Cn(t),n=by(t),{args:r,keys:i}=Ly(t);if(r.length===0)return ye([],e);let s=new se(l0(r,e,i?o=>Vy(i,o):rt));return n?s.pipe(Fy(n)):s}function l0(t,e,n=rt){return r=>{jy(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)jy(e,()=>{let u=ye(t[c],e),l=!1;u.subscribe(G(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function jy(t,e,n){t?tt(n,t,e):e()}function By(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=T=>u<r?y(T):c.push(T),y=T=>{s&&e.next(T),u++;let b=!1;Se(n(T,l++)).subscribe(G(e,N=>{i?.(N),s?f(N):e.next(N)},()=>{b=!0},void 0,()=>{if(b)try{for(u--;c.length&&u<r;){let N=c.shift();o?tt(e,o,()=>y(N)):y(N)}h()}catch(N){e.error(N)}}))};return t.subscribe(G(e,f,()=>{d=!0,h()})),()=>{a?.()}}function _e(t,e,n=1/0){return V(e)?_e((r,i)=>W((s,o)=>e(r,s,i,o))(Se(t(r,i))),n):(typeof e=="number"&&(n=e),q((r,i)=>By(r,i,t,n)))}function zr(t=1/0){return _e(rt,t)}function Uy(){return zr(1)}function $r(...t){return Uy()(ye(t,Cn(t)))}function va(t){return new se(e=>{Se(t()).subscribe(e)})}function ft(t,e){return q((n,r)=>{let i=0;n.subscribe(G(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Tn(t){return q((e,n)=>{let r=null,i=!1,s;r=e.subscribe(G(n,void 0,void 0,o=>{s=Se(t(o,Tn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function zy(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(G(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Yn(t,e){return V(e)?_e(t,e,1):_e(t,1)}function Sn(t){return q((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function hn(t){return t<=0?()=>it:q((e,n)=>{let r=0;e.subscribe(G(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ul(t){return W(()=>t)}function _a(t=d0){return q((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function d0(){return new dn}function es(t){return q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function $t(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,s)=>t(i,s,r)):rt,hn(1),n?Sn(e):_a(()=>new dn))}function Hr(t){return t<=0?()=>it:q((e,n)=>{let r=[];e.subscribe(G(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,s)=>t(i,s,r)):rt,Hr(1),n?Sn(e):_a(()=>new dn))}function $l(t,e){return q(zy(t,e,arguments.length>=2,!0))}function Hl(...t){let e=Cn(t);return q((n,r)=>{(e?$r(t,n,e):$r(t,n)).subscribe(r)})}function pt(t,e){return q((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(G(r,c=>{i?.unsubscribe();let u=0,l=s++;Se(t(c,l)).subscribe(i=G(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ql(t){return q((e,n)=>{Se(t).subscribe(G(n,()=>n.complete(),Xi)),!n.closed&&e.subscribe(n)})}function Oe(t,e,n){let r=V(t)||e||n?{next:t,error:e,complete:n}:t;return r?q((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(G(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):rt}var Tv="https://g.co/ng/security#xss",A=class extends Error{constructor(e,n){super(jd(e,n)),this.code=e}};function jd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function gs(t){return{toString:t}.toString()}var wa="__parameters__";function h0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Sv(t,e,n){return gs(()=>{let r=h0(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(wa)?c[wa]:Object.defineProperty(c,wa,{value:[]})[wa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ke=globalThis;function ce(t){for(let e in t)if(t[e]===ce)return e;throw Error("Could not find renamed property on target object.")}function st(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(st).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $y(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var f0=ce({__forward_ref__:ce});function Bd(t){return t.__forward_ref__=Bd,t.toString=function(){return st(this())},t}function mt(t){return Mv(t)?t():t}function Mv(t){return typeof t=="function"&&t.hasOwnProperty(f0)&&t.__forward_ref__===Bd}function M(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qe(t){return{providers:t.providers||[],imports:t.imports||[]}}function Za(t){return Hy(t,xv)||Hy(t,Rv)}function Av(t){return Za(t)!==null}function Hy(t,e){return t.hasOwnProperty(e)?t[e]:null}function p0(t){let e=t&&(t[xv]||t[Rv]);return e||null}function qy(t){return t&&(t.hasOwnProperty(Gy)||t.hasOwnProperty(g0))?t[Gy]:null}var xv=ce({\u0275prov:ce}),Gy=ce({\u0275inj:ce}),Rv=ce({ngInjectableDef:ce}),g0=ce({ngInjectorDef:ce}),F=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Nv(t){return t&&!!t.\u0275providers}var m0=ce({\u0275cmp:ce}),y0=ce({\u0275dir:ce}),v0=ce({\u0275pipe:ce}),_0=ce({\u0275mod:ce}),Aa=ce({\u0275fac:ce}),ts=ce({__NG_ELEMENT_ID__:ce}),Wy=ce({__NG_ENV_ID__:ce});function Ht(t){return typeof t=="string"?t:t==null?"":String(t)}function w0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ht(t)}function I0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,t)}function Ud(t,e){throw new A(-201,!1)}var z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(z||{}),td;function Pv(){return td}function gt(t){let e=td;return td=t,e}function Ov(t,e,n){let r=Za(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&z.Optional)return null;if(e!==void 0)return e;Ud(t,"Injector")}var E0={},rs=E0,nd="__NG_DI_FLAG__",xa="ngTempTokenPath",D0="ngTokenPath",b0=/\n/gm,C0="\u0275",Ky="__source",Qr;function T0(){return Qr}function Mn(t){let e=Qr;return Qr=t,e}function S0(t,e=z.Default){if(Qr===void 0)throw new A(-203,!1);return Qr===null?Ov(t,void 0,e):Qr.get(t,e&z.Optional?null:void 0,e)}function R(t,e=z.Default){return(Pv()||S0)(mt(t),e)}function w(t,e=z.Default){return R(t,Ya(e))}function Ya(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rd(t){let e=[];for(let n=0;n<t.length;n++){let r=mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){let a=r[o],c=M0(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(R(i,s))}else e.push(R(r))}return e}function kv(t,e){return t[nd]=e,t.prototype[nd]=e,t}function M0(t){return t[nd]}function A0(t,e,n,r){let i=t[xa];throw e[Ky]&&i.unshift(e[Ky]),t.message=x0(`
`+t.message,i,n,r),t[D0]=i,t[xa]=null,t}function x0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==C0?t.slice(2):t;let i=st(e);if(Array.isArray(e))i=e.map(st).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):st(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(b0,`
  `)}`}var Xa=kv(Sv("Optional"),8);var zd=kv(Sv("SkipSelf"),4);function Yr(t,e){let n=t.hasOwnProperty(Aa);return n?t[Aa]:null}function $d(t,e){t.forEach(n=>Array.isArray(n)?$d(n,e):e(n))}function Fv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ra(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var is={},qt=[],Xr=new F(""),Lv=new F("",-1),Vv=new F(""),Na=class{get(e,n=rs){if(n===rs){let r=new Error(`NullInjectorError: No provider for ${st(e)}!`);throw r.name="NullInjectorError",r}return n}},jv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(jv||{}),Kt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Kt||{}),vt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(vt||{});function R0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function id(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];N0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Bv(t){return t===3||t===4||t===6}function N0(t){return t.charCodeAt(0)===64}function Hd(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Qy(t,n,i,null,e[++r]):Qy(t,n,i,null,null))}}return t}function Qy(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Uv="ng-template";function P0(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&R0(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(qd(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function qd(t){return t.type===4&&t.value!==Uv}function O0(t,e,n){let r=t.type===4&&!n?Uv:t.value;return e===r}function k0(t,e,n){let r=4,i=t.attrs,s=i!==null?V0(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Mt(r)&&!Mt(c))return!1;if(o&&Mt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!O0(t,c,n)||c===""&&e.length===1){if(Mt(r))return!1;o=!0}}else if(r&8){if(i===null||!P0(t,i,c,n)){if(Mt(r))return!1;o=!0}}else{let u=e[++a],l=F0(c,i,qd(t),n);if(l===-1){if(Mt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Mt(r))return!1;o=!0}}}}return Mt(r)||o}function Mt(t){return(t&1)===0}function F0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return j0(e,t)}function L0(t,e,n=!1){for(let r=0;r<e.length;r++)if(k0(t,e[r],n))return!0;return!1}function V0(t){for(let e=0;e<t.length;e++){let n=t[e];if(Bv(n))return e}return t.length}function j0(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Zy(t,e){return t?":not("+e.trim()+")":e}function B0(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Mt(o)&&(e+=Zy(s,i),i=""),r=o,s=s||!Mt(r);n++}return i!==""&&(e+=Zy(s,i)),e}function U0(t){return t.map(B0).join(",")}function z0(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Mt(i))break;i=s}r++}return{attrs:e,classes:n}}function Le(t){return gs(()=>{let e=Gv(t),n=ue(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===jv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Kt.Emulated,styles:t.styles||qt,_:null,schemas:t.schemas||null,tView:null,id:""});Wv(n);let r=t.dependencies;return n.directiveDefs=Xy(r,!1),n.pipeDefs=Xy(r,!0),n.id=q0(n),n})}function $0(t){return xn(t)||zv(t)}function H0(t){return t!==null}function Ge(t){return gs(()=>({type:t.type,bootstrap:t.bootstrap||qt,declarations:t.declarations||qt,imports:t.imports||qt,exports:t.exports||qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Yy(t,e){if(t==null)return is;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=vt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==vt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function sr(t){return gs(()=>{let e=Gv(t);return Wv(e),e})}function xn(t){return t[m0]||null}function zv(t){return t[y0]||null}function $v(t){return t[v0]||null}function Hv(t){let e=xn(t)||zv(t)||$v(t);return e!==null?e.standalone:!1}function qv(t,e){let n=t[_0]||null;if(!n&&e===!0)throw new Error(`Type ${st(t)} does not have '\u0275mod' property.`);return n}function Gv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||is,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yy(t.inputs,e),outputs:Yy(t.outputs),debugInfo:null}}function Wv(t){t.features?.forEach(e=>e(t))}function Xy(t,e){if(!t)return null;let n=e?$v:$0;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(H0)}function q0(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function G0(...t){return{\u0275providers:Kv(!0,t),\u0275fromNgModule:!0}}function Kv(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return $d(e,o=>{let a=o;sd(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Qv(i,s),n}function Qv(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Gd(i,s=>{e(s,r)})}}function sd(t,e,n,r){if(t=mt(t),!t)return!1;let i=null,s=qy(t),o=!s&&xn(t);if(!s&&!o){let c=t.ngModule;if(s=qy(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)sd(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{$d(s.imports,l=>{sd(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Qv(u,e)}if(!a){let u=Yr(i)||(()=>new i);e({provide:i,useFactory:u,deps:qt},i),e({provide:Vv,useValue:i,multi:!0},i),e({provide:Xr,useValue:()=>R(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Gd(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Gd(t,e){for(let n of t)Nv(n)&&(n=n.\u0275providers),Array.isArray(n)?Gd(n,e):e(n)}var W0=ce({provide:String,useValue:ce});function Zv(t){return t!==null&&typeof t=="object"&&W0 in t}function K0(t){return!!(t&&t.useExisting)}function Q0(t){return!!(t&&t.useFactory)}function od(t){return typeof t=="function"}var Ja=new F(""),ba={},Z0={},Gl;function Wd(){return Gl===void 0&&(Gl=new Na),Gl}var ot=class{},ss=class extends ot{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cd(e,o=>this.processProvider(o)),this.records.set(Lv,qr(void 0,this)),i.has("environment")&&this.records.set(ot,qr(void 0,this));let s=this.records.get(Ja);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Vv,qt,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Mn(this),r=gt(void 0),i;try{return e()}finally{Mn(n),gt(r)}}get(e,n=rs,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Wy))return e[Wy](this);r=Ya(r);let i,s=Mn(this),o=gt(void 0);try{if(!(r&z.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=nT(e)&&Za(e);u&&this.injectableDefInScope(u)?c=qr(ad(e),ba):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&z.Self?Wd():this.parent;return n=r&z.Optional&&n===rs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[xa]=a[xa]||[]).unshift(st(e)),s)throw a;return A0(a,e,"R3InjectorError",this.source)}else throw a}finally{gt(o),Mn(s)}}resolveInjectorInitializers(){let e=ee(null),n=Mn(this),r=gt(void 0),i;try{let s=this.get(Xr,qt,z.Self);for(let o of s)o()}finally{Mn(n),gt(r),ee(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(st(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){e=mt(e);let n=od(e)?e:mt(e&&e.provide),r=X0(e);if(!od(e)&&e.multi===!0){let i=this.records.get(n);i||(i=qr(void 0,ba,!0),i.factory=()=>rd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ee(null);try{return n.value===ba&&(n.value=Z0,n.value=n.factory()),typeof n.value=="object"&&n.value&&tT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ad(t){let e=Za(t),n=e!==null?e.factory:Yr(t);if(n!==null)return n;if(t instanceof F)throw new A(204,!1);if(t instanceof Function)return Y0(t);throw new A(204,!1)}function Y0(t){if(t.length>0)throw new A(204,!1);let n=p0(t);return n!==null?()=>n.factory(t):()=>new t}function X0(t){if(Zv(t))return qr(void 0,t.useValue);{let e=J0(t);return qr(e,ba)}}function J0(t,e,n){let r;if(od(t)){let i=mt(t);return Yr(i)||ad(i)}else if(Zv(t))r=()=>mt(t.useValue);else if(Q0(t))r=()=>t.useFactory(...rd(t.deps||[]));else if(K0(t))r=()=>R(mt(t.useExisting));else{let i=mt(t&&(t.useClass||t.provide));if(eT(t))r=()=>new i(...rd(t.deps));else return Yr(i)||ad(i)}return r}function qr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function eT(t){return!!t.deps}function tT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nT(t){return typeof t=="function"||typeof t=="object"&&t instanceof F}function cd(t,e){for(let n of t)Array.isArray(n)?cd(n,e):n&&Nv(n)?cd(n.\u0275providers,e):e(n)}function pn(t,e){t instanceof ss&&t.assertNotDestroyed();let n,r=Mn(t),i=gt(void 0);try{return e()}finally{Mn(r),gt(i)}}function Yv(){return Pv()!==void 0||T0()!=null}function rT(t){if(!Yv())throw new A(-203,!1)}function iT(t){let e=ke.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function sT(t){return typeof t=="function"}var gn=0,K=1,O=2,He=3,At=4,Rt=5,Pa=6,os=7,fn=8,Jr=9,xt=10,Fe=11,as=12,Jy=13,ms=14,Qt=15,ec=16,Gr=17,ei=18,tc=19,Xv=20,An=21,Wl=22,er=23,Rn=25,Jv=1;var tr=7,Oa=8,ka=9,yt=10,Kd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Kd||{});function Xn(t){return Array.isArray(t)&&typeof t[Jv]=="object"}function mn(t){return Array.isArray(t)&&t[Jv]===!0}function e_(t){return(t.flags&4)!==0}function nc(t){return t.componentOffset>-1}function Qd(t){return(t.flags&1)===1}function ys(t){return!!t.template}function oT(t){return(t[O]&512)!==0}var ud=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function t_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function or(){return n_}function n_(t){return t.type.prototype.ngOnChanges&&(t.setInput=cT),aT}or.ngInherit=!0;function aT(){let t=i_(this),e=t?.current;if(e){let n=t.previous;if(n===is)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function cT(t,e,n,r,i){let s=this.declaredInputs[r],o=i_(t)||uT(t,{previous:is,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new ud(u&&u.currentValue,n,c===is),t_(t,e,i,n)}var r_="__ngSimpleChanges__";function i_(t){return t[r_]||null}function uT(t,e){return t[r_]=e}var ev=null;var Gt=function(t,e,n){ev?.(t,e,n)},lT="svg",dT="math",hT=!1;function fT(){return hT}function Zt(t){for(;Array.isArray(t);)t=t[gn];return t}function pT(t,e){return Zt(e[t])}function _t(t,e){return Zt(e[t.index])}function s_(t,e){return t.data[e]}function Pn(t,e){let n=e[t];return Xn(n)?n:n[gn]}function Zd(t){return(t[O]&128)===128}function gT(t){return mn(t[He])}function Fa(t,e){return e==null?null:t[e]}function o_(t){t[Gr]=0}function mT(t){t[O]&1024||(t[O]|=1024,Zd(t)&&cs(t))}function Yd(t){return!!(t[O]&9216||t[er]?.dirty)}function ld(t){t[xt].changeDetectionScheduler?.notify(1),Yd(t)?cs(t):t[O]&64&&(fT()?(t[O]|=1024,cs(t)):t[xt].changeDetectionScheduler?.notify())}function cs(t){t[xt].changeDetectionScheduler?.notify();let e=us(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!Zd(e)));)e=us(e)}function a_(t,e){if((t[O]&256)===256)throw new A(911,!1);t[An]===null&&(t[An]=[]),t[An].push(e)}function yT(t,e){if(t[An]===null)return;let n=t[An].indexOf(e);n!==-1&&t[An].splice(n,1)}function us(t){let e=t[He];return mn(e)?e[He]:e}var J={lFrame:m_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vT(){return J.lFrame.elementDepthCount}function _T(){J.lFrame.elementDepthCount++}function wT(){J.lFrame.elementDepthCount--}function c_(){return J.bindingsEnabled}function IT(){return J.skipHydrationRootTNode!==null}function ET(t){return J.skipHydrationRootTNode===t}function DT(){J.skipHydrationRootTNode=null}function fe(){return J.lFrame.lView}function yn(){return J.lFrame.tView}function wt(){let t=u_();for(;t!==null&&t.type===64;)t=t.parent;return t}function u_(){return J.lFrame.currentTNode}function bT(){let t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function vs(t,e){let n=J.lFrame;n.currentTNode=t,n.isParent=e}function l_(){return J.lFrame.isParent}function CT(){J.lFrame.isParent=!1}function d_(){return J.lFrame.bindingIndex}function TT(t){return J.lFrame.bindingIndex=t}function Xd(){return J.lFrame.bindingIndex++}function h_(t){let e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ST(){return J.lFrame.inI18n}function MT(t,e){let n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,dd(e)}function AT(){return J.lFrame.currentDirectiveIndex}function dd(t){J.lFrame.currentDirectiveIndex=t}function f_(t){J.lFrame.currentQueryIndex=t}function xT(t){let e=t[K];return e.type===2?e.declTNode:e.type===1?t[Rt]:null}function p_(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&z.Host);)if(i=xT(s),i===null||(s=s[ms],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=J.lFrame=g_();return r.currentTNode=e,r.lView=t,!0}function Jd(t){let e=g_(),n=t[K];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function g_(){let t=J.lFrame,e=t===null?null:t.child;return e===null?m_(t):e}function m_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function y_(){let t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var v_=y_;function eh(){let t=y_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _s(){return J.lFrame.selectedIndex}function nr(t){J.lFrame.selectedIndex=t}function th(){let t=J.lFrame;return s_(t.tView,t.selectedIndex)}function RT(){return J.lFrame.currentNamespace}var __=!0;function nh(){return __}function rh(t){__=t}function NT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=n_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function ih(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Ca(t,e,n){w_(t,e,3,n)}function Ta(t,e,n,r){(t[O]&3)===n&&w_(t,e,n,r)}function Kl(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function w_(t,e,n,r){let i=r!==void 0?t[Gr]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Gr]+=65536),(a<s||s==-1)&&(PT(t,n,e,c),t[Gr]=(t[Gr]&4294901760)+c+2),c++}function tv(t,e){Gt(4,t,e);let n=ee(null);try{e.call(t)}finally{ee(n),Gt(5,t,e)}}function PT(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[O]>>14<t[Gr]>>16&&(t[O]&3)===e&&(t[O]+=16384,tv(a,s)):tv(a,s)}var Zr=-1,ls=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function OT(t){return t instanceof ls}function kT(t){return(t.flags&8)!==0}function FT(t){return(t.flags&16)!==0}function I_(t){return t!==Zr}function La(t){return t&32767}function LT(t){return t>>16}function Va(t,e){let n=LT(t),r=e;for(;n>0;)r=r[ms],n--;return r}var hd=!0;function nv(t){let e=hd;return hd=t,e}var VT=256,E_=VT-1,D_=5,jT=0,Wt={};function BT(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ts)&&(r=n[ts]),r==null&&(r=n[ts]=jT++);let i=r&E_,s=1<<i;e.data[t+(i>>D_)]|=s}function b_(t,e){let n=C_(t,e);if(n!==-1)return n;let r=e[K];r.firstCreatePass&&(t.injectorIndex=e.length,Ql(r.data,t),Ql(e,null),Ql(r.blueprint,null));let i=sh(t,e),s=t.injectorIndex;if(I_(i)){let o=La(i),a=Va(i,e),c=a[K].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Ql(t,e){t.push(0,0,0,0,0,0,0,0,e)}function C_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=x_(i),r===null)return Zr;if(n++,i=i[ms],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zr}function UT(t,e,n){BT(t,e,n)}function zT(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Bv(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function T_(t,e,n){if(n&z.Optional||t!==void 0)return t;Ud(e,"NodeInjector")}function S_(t,e,n,r){if(n&z.Optional&&r===void 0&&(r=null),!(n&(z.Self|z.Host))){let i=t[Jr],s=gt(void 0);try{return i?i.get(e,r,n&z.Optional):Ov(e,r,n&z.Optional)}finally{gt(s)}}return T_(r,e,n)}function M_(t,e,n,r=z.Default,i){if(t!==null){if(e[O]&2048&&!(r&z.Self)){let o=WT(t,e,n,r,Wt);if(o!==Wt)return o}let s=A_(t,e,n,r,Wt);if(s!==Wt)return s}return S_(e,n,r,i)}function A_(t,e,n,r,i){let s=qT(n);if(typeof s=="function"){if(!p_(e,t,r))return r&z.Host?T_(i,n,r):S_(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&z.Optional))Ud(n);else return o}finally{v_()}}else if(typeof s=="number"){let o=null,a=C_(t,e),c=Zr,u=r&z.Host?e[Qt][Rt]:null;for((a===-1||r&z.SkipSelf)&&(c=a===-1?sh(t,e):e[a+8],c===Zr||!iv(r,!1)?a=-1:(o=e[K],a=La(c),e=Va(c,e)));a!==-1;){let l=e[K];if(rv(s,a,l.data)){let d=$T(a,e,n,o,r,u);if(d!==Wt)return d}c=e[a+8],c!==Zr&&iv(r,e[K].data[a+8]===u)&&rv(s,a,e)?(o=l,a=La(c),e=Va(c,e)):a=-1}}return i}function $T(t,e,n,r,i,s){let o=e[K],a=o.data[t+8],c=r==null?nc(a)&&hd:r!=o&&(a.type&3)!==0,u=i&z.Host&&s===a,l=HT(a,o,n,c,u);return l!==null?ds(e,o,l,a):Wt}function HT(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let y=o[f];if(f<c&&n===y||f>=c&&y.type===n)return f}if(i){let f=o[c];if(f&&ys(f)&&f.type===n)return c}return null}function ds(t,e,n,r){let i=t[n],s=e.data;if(OT(i)){let o=i;o.resolving&&I0(w0(s[n]));let a=nv(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?gt(o.injectImpl):null,l=p_(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&NT(n,s[n],e)}finally{u!==null&&gt(u),nv(a),o.resolving=!1,v_()}}return i}function qT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ts)?t[ts]:void 0;return typeof e=="number"?e>=0?e&E_:GT:e}function rv(t,e,n){let r=1<<t;return!!(n[e+(t>>D_)]&r)}function iv(t,e){return!(t&z.Self)&&!(t&z.Host&&e)}var Jn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return M_(this._tNode,this._lView,e,Ya(r),n)}};function GT(){return new Jn(wt(),fe())}function rc(t){return gs(()=>{let e=t.prototype.constructor,n=e[Aa]||fd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Aa]||fd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function fd(t){return Mv(t)?()=>{let e=fd(mt(t));return e&&e()}:Yr(t)}function WT(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[O]&2048&&!(o[O]&512);){let a=A_(s,o,n,r|z.Self,Wt);if(a!==Wt)return a;let c=s.parent;if(!c){let u=o[Xv];if(u){let l=u.get(n,Wt,r);if(l!==Wt)return l}c=x_(o),o=o[ms]}s=c}return i}function x_(t){let e=t[K],n=e.type;return n===2?e.declTNode:n===1?t[Rt]:null}function oh(t){return zT(wt(),t)}function sv(t,e=null,n=null,r){let i=R_(t,e,n,r);return i.resolveInjectorInitializers(),i}function R_(t,e=null,n=null,r,i=new Set){let s=[n||qt,G0(t)];return r=r||(typeof t=="object"?void 0:st(t)),new ss(s,e||Wd(),r||null,i)}var Nt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return sv({name:""},i,r,"");{let s=r.name??"";return sv({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=rs,e.NULL=new Na,e.\u0275prov=M({token:e,providedIn:"any",factory:()=>R(Lv)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var KT="ngOriginalError";function Zl(t){return t[KT]}var Yt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Zl(e);for(;n&&Zl(n);)n=Zl(n);return n||null}},N_=new F("",{providedIn:"root",factory:()=>w(Yt).handleError.bind(void 0)}),ah=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=QT,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),pd=class extends ah{constructor(e){super(),this._lView=e}onDestroy(e){return a_(this._lView,e),()=>yT(this._lView,e)}};function QT(){return new pd(fe())}function ZT(){return ic(wt(),fe())}function ic(t,e){return new ar(_t(t,e))}var ar=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=ZT;let t=e;return t})();var gd=class extends ze{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Yv()&&(this.destroyRef=w(ah,{optional:!0})??void 0)}emit(e){let n=ee(null);try{super.next(e)}finally{ee(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Yl(s),i&&(i=Yl(i)),o&&(o=Yl(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Te&&e.add(a),a}};function Yl(t){return e=>{setTimeout(t,void 0,e)}}var $e=gd;function P_(t){return(t.flags&128)===128}var O_=new Map,YT=0;function XT(){return YT++}function JT(t){O_.set(t[tc],t)}function eS(t){O_.delete(t[tc])}var ov="__ngContext__";function rr(t,e){Xn(e)?(t[ov]=e[tc],JT(e)):t[ov]=e}function k_(t){return L_(t[as])}function F_(t){return L_(t[At])}function L_(t){for(;t!==null&&!mn(t);)t=t[At];return t}var md;function V_(t){md=t}function tS(){if(md!==void 0)return md;if(typeof document<"u")return document;throw new A(210,!1)}var sc=new F("",{providedIn:"root",factory:()=>nS}),nS="ng",ch=new F(""),On=new F("",{providedIn:"platform",factory:()=>"unknown"});var uh=new F("",{providedIn:"root",factory:()=>tS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rS="h",iS="b";var sS=()=>null;function lh(t,e,n=!1){return sS(t,e,n)}var j_=!1,oS=new F("",{providedIn:"root",factory:()=>j_});var Ia;function aS(){if(Ia===void 0&&(Ia=null,ke.trustedTypes))try{Ia=ke.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ia}function cS(t){return aS()?.createScriptURL(t)||t}var Ea;function uS(){if(Ea===void 0&&(Ea=null,ke.trustedTypes))try{Ea=ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ea}function av(t){return uS()?.createScriptURL(t)||t}var ja=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tv})`}};function oc(t){return t instanceof ja?t.changingThisBreaksApplicationSecurity:t}function dh(t,e){let n=lS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Tv})`)}return n===e}function lS(t){return t instanceof ja&&t.getTypeName()||null}var dS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function B_(t){return t=String(t),t.match(dS)?t:"unsafe:"+t}var ac=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ac||{});function hh(t){let e=z_();return e?e.sanitize(ac.URL,t)||"":dh(t,"URL")?oc(t):B_(Ht(t))}function hS(t){let e=z_();if(e)return av(e.sanitize(ac.RESOURCE_URL,t)||"");if(dh(t,"ResourceURL"))return av(oc(t));throw new A(904,!1)}function cc(t){return cS(t[0])}function fS(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?hS:hh}function U_(t,e,n){return fS(e,n)(t)}function z_(){let t=fe();return t&&t[xt].sanitizer}function $_(t){return t instanceof Function?t():t}function pS(t){return(t??w(Nt)).get(On)==="browser"}var cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(cr||{}),gS;function fh(t,e){return gS(t,e)}function Wr(t,e,n,r,i){if(r!=null){let s,o=!1;mn(r)?s=r:Xn(r)&&(o=!0,r=r[gn]);let a=Zt(r);t===0&&n!==null?i==null?K_(e,n,a):Ba(e,n,a,i||null,!0):t===1&&n!==null?Ba(e,n,a,i||null,!0):t===2?NS(e,a,o):t===3&&e.destroyNode(a),s!=null&&OS(e,t,s,n,i)}}function mS(t,e){return t.createText(e)}function yS(t,e,n){t.setValue(e,n)}function H_(t,e,n){return t.createElement(e,n)}function vS(t,e){q_(t,e),e[gn]=null,e[Rt]=null}function _S(t,e,n,r,i,s){r[gn]=i,r[Rt]=e,uc(t,r,n,1,i,s)}function q_(t,e){e[xt].changeDetectionScheduler?.notify(1),uc(t,e,e[Fe],2,null,null)}function wS(t){let e=t[as];if(!e)return Xl(t[K],t);for(;e;){let n=null;if(Xn(e))n=e[as];else{let r=e[yt];r&&(n=r)}if(!n){for(;e&&!e[At]&&e!==t;)Xn(e)&&Xl(e[K],e),e=e[He];e===null&&(e=t),Xn(e)&&Xl(e[K],e),n=e&&e[At]}e=n}}function IS(t,e,n,r){let i=yt+r,s=n.length;r>0&&(n[i-1][At]=e),r<s-yt?(e[At]=n[i],Fv(n,yt+r,e)):(n.push(e),e[At]=null),e[He]=n;let o=e[ec];o!==null&&n!==o&&ES(o,e);let a=e[ei];a!==null&&a.insertView(t),ld(e),e[O]|=128}function ES(t,e){let n=t[ka],i=e[He][He][Qt];e[Qt]!==i&&(t[O]|=Kd.HasTransplantedViews),n===null?t[ka]=[e]:n.push(e)}function G_(t,e){let n=t[ka],r=n.indexOf(e);n.splice(r,1)}function yd(t,e){if(t.length<=yt)return;let n=yt+e,r=t[n];if(r){let i=r[ec];i!==null&&i!==t&&G_(i,r),e>0&&(t[n-1][At]=r[At]);let s=Ra(t,yt+e);vS(r[K],r);let o=s[ei];o!==null&&o.detachView(s[K]),r[He]=null,r[At]=null,r[O]&=-129}return r}function W_(t,e){if(!(e[O]&256)){let n=e[Fe];n.destroyNode&&uc(t,e,n,3,null,null),wS(e)}}function Xl(t,e){if(e[O]&256)return;let n=ee(null);try{e[O]&=-129,e[O]|=256,e[er]&&fy(e[er]),bS(t,e),DS(t,e),e[K].type===1&&e[Fe].destroy();let r=e[ec];if(r!==null&&mn(e[He])){r!==e[He]&&G_(r,e);let i=e[ei];i!==null&&i.detachView(t)}eS(e)}finally{ee(n)}}function DS(t,e){let n=t.cleanup,r=e[os];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[os]=null);let i=e[An];if(i!==null){e[An]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function bS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ls)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Gt(4,a,c);try{c.call(a)}finally{Gt(5,a,c)}}else{Gt(4,i,s);try{s.call(i)}finally{Gt(5,i,s)}}}}}function CS(t,e,n){return TS(t,e.parent,n)}function TS(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[gn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Kt.None||s===Kt.Emulated)return null}return _t(r,n)}}function Ba(t,e,n,r,i){t.insertBefore(e,n,r,i)}function K_(t,e,n){t.appendChild(e,n)}function cv(t,e,n,r,i){r!==null?Ba(t,e,n,r,i):K_(t,e,n)}function SS(t,e,n,r){t.removeChild(e,n,r)}function ph(t,e){return t.parentNode(e)}function MS(t,e){return t.nextSibling(e)}function AS(t,e,n){return RS(t,e,n)}function xS(t,e,n){return t.type&40?_t(t,n):null}var RS=xS,uv;function gh(t,e,n,r){let i=CS(t,r,e),s=e[Fe],o=r.parent||e[Rt],a=AS(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)cv(s,i,n[c],a,!1);else cv(s,i,n,a,!1);uv!==void 0&&uv(s,r,e,n,i)}function Sa(t,e){if(e!==null){let n=e.type;if(n&3)return _t(e,t);if(n&4)return vd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Sa(t,r);{let i=t[e.index];return mn(i)?vd(-1,i):Zt(i)}}else{if(n&32)return fh(e,t)()||Zt(t[e.index]);{let r=Q_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=us(t[Qt]);return Sa(i,r)}else return Sa(t,e.next)}}}return null}function Q_(t,e){if(e!==null){let r=t[Qt][Rt],i=e.projection;return r.projection[i]}return null}function vd(t,e){let n=yt+t+1;if(n<e.length){let r=e[n],i=r[K].firstChild;if(i!==null)return Sa(r,i)}return e[tr]}function NS(t,e,n){let r=ph(t,e);r&&SS(t,r,e,n)}function mh(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&rr(Zt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)mh(t,e,n.child,r,i,s,!1),Wr(e,t,i,a,s);else if(c&32){let u=fh(n,r),l;for(;l=u();)Wr(e,t,i,l,s);Wr(e,t,i,a,s)}else c&16?PS(t,e,r,n,i,s):Wr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function uc(t,e,n,r,i,s){mh(n,r,t.firstChild,e,i,s,!1)}function PS(t,e,n,r,i,s){let o=n[Qt],c=o[Rt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Wr(e,t,i,l,s)}else{let u=c,l=o[He];P_(r)&&(u.flags|=128),mh(t,e,u,l,i,s,!0)}}function OS(t,e,n,r,i){let s=n[tr],o=Zt(n);s!==o&&Wr(e,t,r,s,i);for(let a=yt;a<n.length;a++){let c=n[a];uc(c[K],c,t,e,r,s)}}function kS(t,e,n){t.setAttribute(e,"style",n)}function Z_(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Y_(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&id(t,e,r),i!==null&&Z_(t,e,i),s!==null&&kS(t,e,s)}var vn={};function de(t=1){X_(yn(),fe(),_s()+t,!1)}function X_(t,e,n,r){if(!r)if((e[O]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ca(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Ta(e,s,0,n)}nr(n)}function he(t,e=z.Default){let n=fe();if(n===null)return R(t,e);let r=wt();return M_(r,n,mt(t),e)}function J_(){let t="invalid";throw new Error(t)}function ew(t,e,n,r,i,s){let o=ee(null);try{let a=null;i&vt.SignalBased&&(a=e[r][uy]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&vt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):t_(e,a,r,s)}finally{ee(o)}}function FS(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)nr(~i);else{let s=i,o=n[++r],a=n[++r];MT(o,s);let c=e[s];a(2,c)}}}finally{nr(-1)}}function lc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[gn]=i,d[O]=r|4|128|8|64,(u!==null||t&&t[O]&2048)&&(d[O]|=2048),o_(d),d[He]=d[ms]=t,d[fn]=n,d[xt]=o||t&&t[xt],d[Fe]=a||t&&t[Fe],d[Jr]=c||t&&t[Jr]||null,d[Rt]=s,d[tc]=XT(),d[Pa]=l,d[Xv]=u,d[Qt]=e.type==2?t[Qt]:d,d}function dc(t,e,n,r,i){let s=t.data[e];if(s===null)s=LS(t,e,n,r,i),ST()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=bT();s.injectorIndex=o===null?-1:o.injectorIndex}return vs(s,!0),s}function LS(t,e,n,r,i){let s=u_(),o=l_(),a=o?s:s&&s.parent,c=t.data[e]=zS(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function tw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function nw(t,e,n,r,i){let s=_s(),o=r&2;try{nr(-1),o&&e.length>Rn&&X_(t,e,Rn,!1),Gt(o?2:0,i),n(r,i)}finally{nr(s),Gt(o?3:1,i)}}function rw(t,e,n){if(e_(e)){let r=ee(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{ee(r)}}}function iw(t,e,n){c_()&&(KS(t,e,n,_t(n,e)),(n.flags&64)===64&&lw(t,e,n))}function sw(t,e,n=_t){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function ow(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=yh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function yh(t,e,n,r,i,s,o,a,c,u,l){let d=Rn+r,h=d+i,f=VS(d,h),y=typeof u=="function"?u():u;return f[K]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function VS(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:vn);return n}function jS(t,e,n,r){let s=r.get(oS,j_)||n===Kt.ShadowDom,o=t.selectRootElement(e,s);return BS(o),o}function BS(t){US(t)}var US=()=>null;function zS(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return IT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function lv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=vt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?dv(r,n,u,a,c):dv(r,n,u,a)}return r}function dv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function $S(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,y=h?h.outputs:null;c=lv(0,d.inputs,l,c,f),u=lv(1,d.outputs,l,u,y);let T=c!==null&&o!==null&&!qd(e)?sM(c,l,o):null;a.push(T)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function HS(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function aw(t,e,n,r,i,s,o,a){let c=_t(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(vh(t,n,l,r,i),nc(e)&&qS(n,e.index)):e.type&3?(r=HS(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function qS(t,e){let n=Pn(e,t);n[O]&16||(n[O]|=64)}function cw(t,e,n,r){if(c_()){let i=r===null?null:{"":-1},s=ZS(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&uw(t,e,n,o,i,a),i&&YS(n,r,i)}n.mergedAttrs=Hd(n.mergedAttrs,n.attrs)}function uw(t,e,n,r,i,s){for(let u=0;u<r.length;u++)UT(b_(n,e),t,r[u].type);JS(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=tw(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Hd(n.mergedAttrs,l.hostAttrs),eM(t,n,e,c,l),XS(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}$S(t,n,s)}function GS(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;WS(o)!=a&&o.push(a),o.push(n,r,s)}}function WS(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function KS(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;nc(n)&&tM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||b_(n,e),rr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=ds(e,t,a,n);if(rr(u,e),o!==null&&iM(e,a-i,u,c,n,o),ys(c)){let l=Pn(n.index,e);l[fn]=ds(e,t,a,n)}}}function lw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=AT();try{nr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];dd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&QS(c,u)}}finally{nr(-1),dd(o)}}function QS(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ZS(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(L0(e,o.selectors,!1))if(r||(r=[]),ys(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;_d(t,e,c)}else r.unshift(o),_d(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function _d(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function YS(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new A(-301,!1);r.push(e[i],s)}}}function XS(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ys(e)&&(n[""]=t)}}function JS(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function eM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Yr(i.type,!0)),o=new ls(s,ys(i),he);t.blueprint[r]=o,n[r]=o,GS(t,e,r,tw(t,n,i.hostVars,vn),i)}function tM(t,e,n){let r=_t(e,t),i=ow(n),s=t[xt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=hc(t,lc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function nM(t,e,n,r,i,s){let o=_t(t,e);rM(e[Fe],o,s,t.value,n,r,i)}function rM(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Ht(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function iM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];ew(r,n,c,u,l,d)}}function sM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function dw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function hw(t,e){let n=t.contentQueries;if(n!==null){let r=ee(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];f_(s),a.contentQueries(2,e[o],o)}}}finally{ee(r)}}}function hc(t,e){return t[as]?t[Jy][At]=e:t[as]=e,t[Jy]=e,e}function wd(t,e,n){f_(0);let r=ee(null);try{e(t,n)}finally{ee(r)}}function oM(t){return t[os]||(t[os]=[])}function aM(t){return t.cleanup||(t.cleanup=[])}function fw(t,e){let n=t[Jr],r=n?n.get(Yt,null):null;r&&r.handleError(e)}function vh(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];ew(l,u,r,a,c,i)}}function _h(t,e,n){let r=pT(e,t);yS(t[Fe],r,n)}function cM(t,e){let n=Pn(e,t),r=n[K];uM(r,n);let i=n[gn];i!==null&&n[Pa]===null&&(n[Pa]=lh(i,n[Jr])),wh(r,n,n[fn])}function uM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function wh(t,e,n){Jd(e);try{let r=t.viewQuery;r!==null&&wd(1,r,n);let i=t.template;i!==null&&nw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ei]?.finishViewCreation(t),t.staticContentQueries&&hw(t,e),t.staticViewQueries&&wd(2,t.viewQuery,n);let s=t.components;s!==null&&lM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,eh()}}function lM(t,e){for(let n=0;n<e.length;n++)cM(t,e[n])}function dM(t,e,n,r){let i=ee(null);try{let s=e.tView,a=t[O]&4096?4096:16,c=lc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[ec]=u;let l=t[ei];return l!==null&&(c[ei]=l.createEmbeddedView(s)),wh(s,c,n),c}finally{ee(i)}}function hv(t,e){return!e||e.firstChild===null||P_(t)}function hM(t,e,n,r=!0){let i=e[K];if(IS(i,e,t,n),r){let o=vd(n,t),a=e[Fe],c=ph(a,t[tr]);c!==null&&_S(i,t[Rt],a,e,c,o)}let s=e[Pa];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Ua(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Zt(s)),mn(s)&&fM(s,r);let o=n.type;if(o&8)Ua(t,e,n.child,r);else if(o&32){let a=fh(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=Q_(e,n);if(Array.isArray(a))r.push(...a);else{let c=us(e[Qt]);Ua(c[K],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function fM(t,e){for(let n=yt;n<t.length;n++){let r=t[n],i=r[K].firstChild;i!==null&&Ua(r[K],r,i,e)}t[tr]!==t[gn]&&e.push(t[tr])}var pw=[];function pM(t){return t[er]??gM(t)}function gM(t){let e=pw.pop()??Object.create(yM);return e.lView=t,e}function mM(t){t.lView[er]!==t&&(t.lView=null,pw.push(t))}var yM=ue(S({},ly),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{cs(t.lView)},consumerOnSignalRead(){this.lView[er]=this}}),gw=100;function mw(t,e=!0,n=0){let r=t[xt],i=r.rendererFactory,s=!1;s||i.begin?.();try{vM(t,n)}catch(o){throw e&&fw(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function vM(t,e){Id(t,e);let n=0;for(;Yd(t);){if(n===gw)throw new A(103,!1);n++,Id(t,1)}}function _M(t,e,n,r){let i=e[O];if((i&256)===256)return;let s=!1;!s&&e[xt].inlineEffectRunner?.flush(),Jd(e);let o=null,a=null;!s&&wM(t)&&(a=pM(e),o=dy(a));try{o_(e),TT(t.bindingStartIndex),n!==null&&nw(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Ca(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Ta(e,d,0,null),Kl(e,0)}if(IM(e),yw(e,0),t.contentQueries!==null&&hw(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Ca(e,d)}else{let d=t.contentHooks;d!==null&&Ta(e,d,1),Kl(e,1)}FS(t,e);let u=t.components;u!==null&&_w(e,u,0);let l=t.viewQuery;if(l!==null&&wd(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Ca(e,d)}else{let d=t.viewHooks;d!==null&&Ta(e,d,2),Kl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Wl]){for(let d of e[Wl])d();e[Wl]=null}s||(e[O]&=-73)}catch(c){throw cs(e),c}finally{a!==null&&(hy(a,o),mM(a)),eh()}}function wM(t){return t.type!==2}function yw(t,e){for(let n=k_(t);n!==null;n=F_(n))for(let r=yt;r<n.length;r++){let i=n[r];vw(i,e)}}function IM(t){for(let e=k_(t);e!==null;e=F_(e)){if(!(e[O]&Kd.HasTransplantedViews))continue;let n=e[ka];for(let r=0;r<n.length;r++){let i=n[r],s=i[He];mT(i)}}}function EM(t,e,n){let r=Pn(e,t);vw(r,n)}function vw(t,e){Zd(t)&&Id(t,e)}function Id(t,e){let r=t[K],i=t[O],s=t[er],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Ml(s)),s&&(s.dirty=!1),t[O]&=-9217,o)_M(r,t,r.template,t[fn]);else if(i&8192){yw(t,1);let a=r.components;a!==null&&_w(t,a,1)}}function _w(t,e,n){for(let r=0;r<e.length;r++)EM(t,e[r],n)}function Ih(t){for(t[xt].changeDetectionScheduler?.notify();t;){t[O]|=64;let e=us(t);if(oT(t)&&!e)return t;t=e}return null}var ir=class{get rootNodes(){let e=this._lView,n=e[K];return Ua(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(e){this._lView[fn]=e}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[He];if(mn(e)){let n=e[Oa],r=n?n.indexOf(this):-1;r>-1&&(yd(e,r),Ra(n,r))}this._attachedToViewContainer=!1}W_(this._lView[K],this._lView)}onDestroy(e){a_(this._lView,e)}markForCheck(){Ih(this._cdRefInjectingView||this._lView)}detach(){this._lView[O]&=-129}reattach(){ld(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,mw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,q_(this._lView[K],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e,ld(this._lView)}},Eh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=CM;let t=e;return t})(),DM=Eh,bM=class extends DM{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=dM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ir(i)}};function CM(){return TM(wt(),fe())}function TM(t,e){return t.type&4?new bM(e,t,ic(t,e)):null}var YB=new RegExp(`^(\\d+)*(${iS}|${rS})*(.*)`);var SM=()=>null;function fv(t,e){return SM(t,e)}var za=class{},Ed=class{},$a=class{};function MM(t){let e=Error(`No component factory found for ${st(t)}.`);return e[AM]=t,e}var AM="ngComponent";var Dd=class{resolveComponentFactory(e){throw MM(e)}},fc=(()=>{let e=class e{};e.NULL=new Dd;let t=e;return t})(),hs=class{},ws=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>xM();let t=e;return t})();function xM(){let t=fe(),e=wt(),n=Pn(e.index,t);return(Xn(n)?n:t)[Fe]}var RM=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Jl={};var pv=new Set;function Dh(t){pv.has(t)||(pv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function gv(...t){}function NM(){let t=typeof ke.requestAnimationFrame=="function",e=ke[t?"requestAnimationFrame":"setTimeout"],n=ke[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ae=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=NM().nativeRequestAnimationFrame,kM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,PM,gv,gv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},PM={};function bh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function OM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bd(t),t.isCheckStableRunning=!0,bh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bd(t))}function kM(t){let e=()=>{OM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(FM(a))return n.invokeTask(i,s,o,a);try{return mv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),yv(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return mv(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),yv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,bd(t),bh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function bd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function mv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yv(t){t._nesting--,bh(t)}var Cd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function FM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function LM(t="zone.js",e){return t==="noop"?new Cd:t==="zone.js"?new ae(e):t}var Kr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Kr||{}),VM={destroy(){}};function Ch(t,e){!e&&rT(Ch);let n=e?.injector??w(Nt);if(!pS(n))return VM;Dh("NgAfterNextRender");let r=n.get(Th),i=r.handler??=new Sd,s=e?.phase??Kr.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(ah).onDestroy(o),c=pn(n,()=>new Td(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var Td=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=w(ae),this.errorHandler=w(Yt,{optional:!0}),w(za,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Sd=class{constructor(){this.executingCallbacks=!1,this.buckets={[Kr.EarlyRead]:new Set,[Kr.Write]:new Set,[Kr.MixedReadWrite]:new Set,[Kr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Th=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Md(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=$y(i,a);else if(s==2){let c=a,u=e[++o];r=$y(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ha=class extends fc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=xn(e);return new ti(n,this.ngModule)}};function vv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function jM(t){let e=t.toLowerCase();return e==="svg"?lT:e==="math"?dT:null}var Ad=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ya(r);let i=this.injector.get(e,Jl,r);return i!==Jl||n===Jl?i:this.parentInjector.get(e,n,r)}},ti=class extends $a{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=vv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return vv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=U0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ee(null);try{i=i||this.ngModule;let o=i instanceof ot?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Ad(e,o):e,c=a.get(hs,null);if(c===null)throw new A(407,!1);let u=a.get(RM,null),l=a.get(Th,null),d=a.get(za,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",T=r?jS(f,r,this.componentDef.encapsulation,a):H_(f,y,jM(y)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let N=null;T!==null&&(N=lh(T,a,!0));let oe=yh(0,null,null,1,0,null,null,null,null,null,null),$=lc(null,oe,null,b,null,null,h,f,a,null,N);Jd($);let H,Ce;try{let te=this.componentDef,Xe,ht=null;te.findHostDirectiveDefs?(Xe=[],ht=new Map,te.findHostDirectiveDefs(te,Xe,ht),Xe.push(te)):Xe=[te];let Tl=BM($,T),Jo=UM(Tl,T,te,Xe,$,h,f);Ce=s_(oe,Rn),T&&HM(f,te,T,r),n!==void 0&&qM(Ce,this.ngContentSelectors,n),H=$M(Jo,te,Xe,ht,$,[GM]),wh(oe,$,null)}finally{eh()}return new xd(this.componentType,H,ic(Ce,$),$,Ce)}finally{ee(s)}}},xd=class extends Ed{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ir(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;vh(s[K],s,i,e,n),this.previousInputValues.set(e,n);let o=Pn(this._tNode.index,s);Ih(o)}}get injector(){return new Jn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BM(t,e){let n=t[K],r=Rn;return t[r]=e,dc(n,r,2,"#host",null)}function UM(t,e,n,r,i,s,o){let a=i[K];zM(r,t,e,o);let c=null;e!==null&&(c=lh(e,i[Jr]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=lc(i,ow(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&_d(a,t,r.length-1),hc(i,d),i[t.index]=d}function zM(t,e,n,r){for(let i of t)e.mergedAttrs=Hd(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Md(e,e.mergedAttrs,!0),n!==null&&Y_(r,n,e))}function $M(t,e,n,r,i,s){let o=wt(),a=i[K],c=_t(o,i);uw(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=ds(i,a,d,o);rr(h,i)}lw(a,i,o),c&&rr(c,i);let u=ds(i,a,o.directiveStart+o.componentOffset,o);if(t[fn]=i[fn]=u,s!==null)for(let l of s)l(u,e);return rw(a,o,i),u}function HM(t,e,n,r){if(r)id(t,n,["ng-version","17.3.1"]);else{let{attrs:i,classes:s}=z0(e.selectors[0]);i&&id(t,n,i),s&&s.length>0&&Z_(t,n,s.join(" "))}}function qM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function GM(){let t=wt();ih(fe()[K],t)}var Is=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=WM;let t=e;return t})();function WM(){let t=wt();return QM(t,fe())}var KM=Is,ww=class extends KM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ic(this._hostTNode,this._hostLView)}get injector(){return new Jn(this._hostTNode,this._hostLView)}get parentInjector(){let e=sh(this._hostTNode,this._hostLView);if(I_(e)){let n=Va(e,this._hostLView),r=La(e),i=n[K].data[r+8];return new Jn(i,n)}else return new Jn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=_v(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=fv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,hv(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!sT(e),a;if(o)a=n;else{let y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let c=o?e:new ti(xn(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let T=(o?u:this.parentInjector).get(ot,null);T&&(s=T)}let l=xn(c.componentType??{}),d=fv(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,hv(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(gT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[He],u=new ww(c,c[Rt],c[He]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return hM(o,i,s,r),e.attachToViewContainerRef(),Fv(ed(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=_v(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=yd(this._lContainer,n);r&&(Ra(ed(this._lContainer),n),W_(r[K],r))}detach(e){let n=this._adjustIndex(e,-1),r=yd(this._lContainer,n);return r&&Ra(ed(this._lContainer),n)!=null?new ir(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function _v(t){return t[Oa]}function ed(t){return t[Oa]||(t[Oa]=[])}function QM(t,e){let n,r=e[t.index];return mn(r)?n=r:(n=dw(r,e,null,t),e[t.index]=n,hc(e,n)),YM(n,e,t,r),new ww(n,t,e)}function ZM(t,e){let n=t[Fe],r=n.createComment(""),i=_t(e,t),s=ph(n,i);return Ba(n,s,r,MS(n,i),!1),r}var YM=eA,XM=()=>!1;function JM(t,e,n){return XM(t,e,n)}function eA(t,e,n,r){if(t[tr])return;let i;n.type&8?i=Zt(r):i=ZM(e,n),t[tr]=i}function tA(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(sA))}return s}return qa.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),o.push(r(d).then(f=>{a[u+h]=f,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(o).then(()=>oA(s));e.push(c)}),rA(),Promise.all(e).then(()=>{})}var qa=new Map,nA=new Set;function rA(){let t=qa;return qa=new Map,t}function iA(){return qa.size===0}function sA(t){return typeof t=="string"?t:t.text()}function oA(t){nA.delete(t)}function Sh(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Nn=class{},fs=class{};var Ga=class extends Nn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ha(this);let i=qv(e);this._bootstrapComponents=$_(i.bootstrap),this._r3Injector=R_(e,n,[{provide:Nn,useValue:this},{provide:fc,useValue:this.componentFactoryResolver},...r],st(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wa=class extends fs{constructor(e){super(),this.moduleType=e}create(e){return new Ga(this.moduleType,e,[])}};function aA(t,e,n){return new Ga(t,e,n)}var Rd=class extends Nn{constructor(e){super(),this.componentFactoryResolver=new Ha(this),this.instance=null;let n=new ss([...e.providers,{provide:Nn,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],e.parent||Wd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function pc(t,e,n=null){return new Rd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var gc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Iw(t){return uA(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function cA(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function uA(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ps(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Nd(t,e,n,r){let i=ps(t,e,n);return ps(t,e+1,r)||i}function lA(t,e,n,r,i,s){let o=Nd(t,e,n,r);return Nd(t,e+2,i,s)||o}function dA(t){return(t.flags&32)===32}function hA(t,e,n,r,i,s,o,a,c){let u=e.consts,l=dc(e,t,4,o||null,Fa(u,a));cw(e,n,l,Fa(u,c)),ih(e,l);let d=l.tView=yh(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function ur(t,e,n,r,i,s,o,a){let c=fe(),u=yn(),l=t+Rn,d=u.firstCreatePass?hA(l,u,c,e,n,r,i,s,o):u.data[l];vs(d,!1);let h=fA(u,c,d,t);nh()&&gh(u,c,h,d),rr(h,c);let f=dw(h,c,h,d);return c[l]=f,hc(c,f),JM(f,d,c),Qd(d)&&iw(u,c,d),o!=null&&sw(c,d,a),ur}var fA=pA;function pA(t,e,n,r){return rh(!0),e[Fe].createComment("")}function mc(t,e,n,r){let i=fe(),s=Xd();if(ps(i,s,e)){let o=yn(),a=th();nM(a,i,t,e,n,r)}return mc}function Ew(t,e,n,r){return ps(t,Xd(),n)?e+Ht(n)+r:vn}function gA(t,e,n,r,i,s){let o=d_(),a=Nd(t,o,n,i);return h_(2),a?e+Ht(n)+r+Ht(i)+s:vn}function mA(t,e,n,r,i,s,o,a,c,u){let l=d_(),d=lA(t,l,n,i,o,c);return h_(4),d?e+Ht(n)+r+Ht(i)+s+Ht(o)+a+Ht(c)+u:vn}function lr(t,e,n){let r=fe(),i=Xd();if(ps(r,i,e)){let s=yn(),o=th();aw(s,o,r,t,e,r[Fe],n,!1)}return lr}function wv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";vh(t,n,s[o],o,r)}function yA(t,e,n,r,i,s){let o=e.consts,a=Fa(o,i),c=dc(e,t,2,r,a);return cw(e,n,c,Fa(o,s)),c.attrs!==null&&Md(c,c.attrs,!1),c.mergedAttrs!==null&&Md(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function E(t,e,n,r){let i=fe(),s=yn(),o=Rn+t,a=i[Fe],c=s.firstCreatePass?yA(o,s,i,e,n,r):s.data[o],u=vA(s,i,c,a,e,t);i[o]=u;let l=Qd(c);return vs(c,!0),Y_(a,u,c),!dA(c)&&nh()&&gh(s,i,u,c),vT()===0&&rr(u,i),_T(),l&&(iw(s,i,c),rw(s,c,i)),r!==null&&sw(i,c),E}function v(){let t=wt();l_()?CT():(t=t.parent,vs(t,!1));let e=t;ET(e)&&DT(),wT();let n=yn();return n.firstCreatePass&&(ih(n,t),e_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&kT(e)&&wv(n,e,fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&FT(e)&&wv(n,e,fe(),e.stylesWithoutHost,!1),v}function k(t,e,n,r){return E(t,e,n,r),v(),k}var vA=(t,e,n,r,i,s)=>(rh(!0),H_(r,i,RT()));var Ka="en-US";var _A=Ka;function wA(t){typeof t=="string"&&(_A=t.toLowerCase().replace(/_/g,"-"))}function yc(t,e,n,r){let i=fe(),s=yn(),o=wt();return EA(s,i,i[Fe],o,t,e,r),yc}function IA(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[os],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function EA(t,e,n,r,i,s,o){let a=Qd(r),u=t.firstCreatePass&&aM(t),l=e[fn],d=oM(e),h=!0;if(r.type&3||o){let T=_t(r,e),b=o?o(T):T,N=d.length,oe=o?H=>o(Zt(H[r.index])):r.index,$=null;if(!o&&a&&($=IA(t,e,i,r.index)),$!==null){let H=$.__ngLastListenerFn__||$;H.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,h=!1}else{s=Ev(r,e,l,s,!1);let H=n.listen(b,i,s);d.push(s,H),u&&u.push(i,oe,N,N+1)}}else s=Ev(r,e,l,s,!1);let f=r.outputs,y;if(h&&f!==null&&(y=f[i])){let T=y.length;if(T)for(let b=0;b<T;b+=2){let N=y[b],oe=y[b+1],Ce=e[N][oe].subscribe(s),te=d.length;d.push(s,Ce),u&&u.push(i,r.index,te,-(te+1))}}}function Iv(t,e,n,r){let i=ee(null);try{return Gt(6,e,n),n(r)!==!1}catch(s){return fw(t,s),!1}finally{Gt(7,e,n),ee(i)}}function Ev(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Pn(t.index,e):e;Ih(a);let c=Iv(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Iv(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Mh(t,e,n){return _n(t,"",e,"",n),Mh}function _n(t,e,n,r,i){let s=fe(),o=Ew(s,e,n,r);if(o!==vn){let a=yn(),c=th();aw(a,c,s,t,o,s[Fe],i,!1)}return _n}function D(t,e=""){let n=fe(),r=yn(),i=t+Rn,s=r.firstCreatePass?dc(r,i,1,e,null):r.data[i],o=DA(r,n,s,e,t);n[i]=o,nh()&&gh(r,n,o,s),vs(s,!1)}var DA=(t,e,n,r,i)=>(rh(!0),mS(e[Fe],r));function It(t){return dr("",t,""),It}function dr(t,e,n){let r=fe(),i=Ew(r,t,e,n);return i!==vn&&_h(r,_s(),i),dr}function Ah(t,e,n,r,i){let s=fe(),o=gA(s,t,e,n,r,i);return o!==vn&&_h(s,_s(),o),Ah}function xh(t,e,n,r,i,s,o,a,c){let u=fe(),l=mA(u,t,e,n,r,i,s,o,a,c);return l!==vn&&_h(u,_s(),l),xh}var bA=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Kv(!1,r.type),s=i.length>0?pc([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(R(ot))});let t=e;return t})();function hr(t){Dh("NgStandalone"),t.getStandaloneInjector=e=>e.get(bA).getOrCreateStandaloneInjector(t)}var Da=null;function CA(t){Da!==null&&(t.defaultEncapsulation!==Da.defaultEncapsulation||t.preserveWhitespaces!==Da.preserveWhitespaces)||(Da=t)}var vc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Rh=new F(""),Es=new F(""),_c=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Nh||(TA(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(wc),R(Es))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),wc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Nh?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function TA(t){Nh=t}var Nh;function ni(t){return!!t&&typeof t.then=="function"}function Dw(t){return!!t&&typeof t.subscribe=="function"}var Ic=new F(""),bw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=w(Ic,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ni(o))r.push(o);else if(Dw(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ph=new F("");function SA(){py(()=>{throw new A(600,!1)})}function MA(t){return t.isBoundToModule}function AA(t,e,n){try{let r=n();return ni(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function Cw(t,e){return Array.isArray(e)?e.reduce(Cw,t):S(S({},t),e)}var ri=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(N_),this.afterRenderEffectManager=w(Th),this.externalTestViews=new Set,this.beforeRender=new ze,this.afterTick=new ze,this.componentTypes=[],this.components=[],this.isStable=w(gc).hasPendingTasks.pipe(W(r=>!r)),this._injector=w(ot)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof $a;if(!this._injector.get(bw).done){let f=!s&&Hv(r),y=!1;throw new A(405,y)}let a;s?a=r:a=this._injector.get(fc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=MA(a)?void 0:this._injector.get(Nn),u=i||a.selector,l=a.create(Nt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(Rh,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Ma(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new A(101,!1);let i=ee(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ee(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===gw)throw new A(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)xA(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Pd(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Pd(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ma(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ph,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ma(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new A(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ma(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xA(t,e,n){!e&&!Pd(t)||RA(t,n,e)}function Pd(t){return Yd(t)}function RA(t,e,n){let r;n?(r=0,t[O]|=1024):t[O]&64?r=0:r=1,mw(t,e,r)}var Od=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ec=(()=>{let e=class e{compileModuleSync(r){return new Wa(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=qv(r),o=$_(s.declarations).reduce((a,c)=>{let u=xn(c);return u&&a.push(new ti(u)),a},[]);return new Od(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NA=new F("");function PA(t,e,n){let r=new Wa(n);return Promise.resolve(r)}function Dv(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var OA=(()=>{let e=class e{constructor(){this.zone=w(ae),this.applicationRef=w(ri)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kA(t){return[{provide:ae,useFactory:t},{provide:Xr,multi:!0,useFactory:()=>{let e=w(OA,{optional:!0});return()=>e.initialize()}},{provide:Xr,multi:!0,useFactory:()=>{let e=w(VA);return()=>{e.initialize()}}},{provide:N_,useFactory:FA}]}function FA(){let t=w(ae),e=w(Yt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function LA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VA=(()=>{let e=class e{constructor(){this.subscription=new Te,this.initialized=!1,this.zone=w(ae),this.pendingTasks=w(gc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jA(){return typeof $localize<"u"&&$localize.locale||Ka}var Oh=new F("",{providedIn:"root",factory:()=>w(Oh,z.Optional|z.SkipSelf)||jA()});var Tw=new F(""),Sw=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=LM(i?.ngZone,LA({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let o=aA(r.moduleType,this.injector,kA(()=>s)),a=o.injector.get(Yt,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{Ma(this._modules,o),c.unsubscribe()})}),AA(a,s,()=>{let c=o.injector.get(bw);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(Oh,Ka);return wA(u||Ka),this._moduleDoBootstrap(o),o})})})}bootstrapModule(r,i=[]){let s=Cw({},i);return PA(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){let i=r.injector.get(ri);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new A(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(Tw,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(R(Nt))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ns=null,Mw=new F("");function BA(t){if(ns&&!ns.get(Mw,!1))throw new A(400,!1);SA(),ns=t;let e=t.get(Sw);return $A(t),e}function kh(t,e,n=[]){let r=`Platform: ${e}`,i=new F(r);return(s=[])=>{let o=Aw();if(!o||o.injector.get(Mw,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):BA(UA(a,r))}return zA(i)}}function UA(t=[],e){return Nt.create({name:e,providers:[{provide:Ja,useValue:"platform"},{provide:Tw,useValue:new Set([()=>ns=null])},...t]})}function zA(t){let e=Aw();if(!e)throw new A(401,!1);return e}function Aw(){return ns?.get(Sw)??null}function $A(t){t.get(ch,null)?.forEach(n=>n())}var ii=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HA;let t=e;return t})();function HA(t){return qA(wt(),fe(),(t&16)===16)}function qA(t,e,n){if(nc(t)&&!n){let r=Pn(t.index,e);return new ir(r,r)}else if(t.type&47){let r=e[Qt];return new ir(r,e)}return null}var kd=class{constructor(){}supports(e){return Iw(e)}create(e){return new Fd(e)}},GA=(t,e)=>e,Fd=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||GA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<bv(r,i,s)?n:r,a=bv(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,y=f+h;l<=y&&y<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Iw(e))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,cA(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Ld(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Qa),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Qa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ld=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Vd=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Qa=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Vd,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Cv(){return new Fh([new kd])}var Fh=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Cv()),deps:[[e,new zd,new Xa]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new A(901,!1)}};e.\u0275prov=M({token:e,providedIn:"root",factory:Cv});let t=e;return t})();var xw=kh(null,"core",[]),Rw=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(R(ri))},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})();function si(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Nw(t){let e=xn(t);if(!e)return null;let n=new ti(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Fw=null;function fr(){return Fw}function Lw(t){Fw??=t}var Dc=class{};var nt=new F(""),Uh=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>w(WA),providedIn:"platform"});let t=e;return t})(),Vw=new F(""),WA=(()=>{let e=class e extends Uh{constructor(){super(),this._doc=w(nt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fr().getBaseHref(this._doc)}onPopState(r){let i=fr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=fr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function zh(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Pw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function wn(t){return t&&t[0]!=="?"?"?"+t:t}var In=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>w($h),providedIn:"root"});let t=e;return t})(),jw=new F(""),$h=(()=>{let e=class e extends In{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??w(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return zh(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+wn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+wn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+wn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(Uh),R(jw,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bw=(()=>{let e=class e extends In{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=zh(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+wn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+wn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(Uh),R(jw,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),oi=(()=>{let e=class e{constructor(r){this._subject=new $e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=ZA(Pw(Ow(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+wn(i))}normalize(r){return e.stripTrailingSlash(QA(this._basePath,Ow(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+wn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+wn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=wn,e.joinWithSlash=zh,e.stripTrailingSlash=Pw,e.\u0275fac=function(i){return new(i||e)(R(In))},e.\u0275prov=M({token:e,factory:()=>KA(),providedIn:"root"});let t=e;return t})();function KA(){return new oi(R(In))}function QA(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ow(t){return t.replace(/\/index.html$/,"")}function ZA(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Uw(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Lh=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ai=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Lh(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),kw(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);kw(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(he(Is),he(Eh),he(Fh))},e.\u0275dir=sr({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function kw(t,e){t.context.$implicit=e.item}var zw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})(),Hh="browser",YA="server";function XA(t){return t===Hh}function qh(t){return t===YA}var $w=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>XA(w(On))?new Vh(w(nt),window):new jh});let t=e;return t})(),Vh=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=JA(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function JA(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var jh=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},bc=class{};var Qh=class extends Dc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Zh=class t extends Qh{static makeCurrent(){Lw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=tx();return n==null?null:nx(n)}resetBaseElement(){Ds=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Uw(document.cookie,e)}},Ds=null;function tx(){return Ds=Ds||document.querySelector("base"),Ds?Ds.getAttribute("href"):null}function nx(t){return new URL(t,document.baseURI).pathname}var Yh=class{addToWindow(e){ke.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new A(5103,!1);return s},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=ke.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?fr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},rx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Xh=new F(""),Ww=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(R(Xh),R(ae))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Cc=class{constructor(e){this._doc=e}},Wh="ng-app-id",Kw=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qh(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Wh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Wh),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Wh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(R(nt),R(sc),R(uh,8),R(On))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Kh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ef=/%COMP%/g,Qw="%COMP%",ix=`_nghost-${Qw}`,sx=`_ngcontent-${Qw}`,ox=!0,ax=new F("",{providedIn:"root",factory:()=>ox});function cx(t){return sx.replace(ef,t)}function ux(t){return ix.replace(ef,t)}function Zw(t,e){return e.map(n=>n.replace(ef,t))}var Hw=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=qh(c),this.defaultRenderer=new bs(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Kt.ShadowDom&&(i=ue(S({},i),{encapsulation:Kt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Tc?s.applyToHost(r):s instanceof Cs&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Kt.Emulated:o=new Tc(u,l,i,this.appId,d,a,c,h);break;case Kt.ShadowDom:return new Jh(u,l,r,i,a,c,this.nonce,h);default:o=new Cs(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(R(Ww),R(Kw),R(sc),R(ax),R(nt),R(On),R(ae),R(uh))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),bs=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Kh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(qw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(qw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Kh[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Kh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(cr.DashCase|cr.Important)?e.style.setProperty(n,r,i&cr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&cr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=fr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function qw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Jh=class extends bs{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Zw(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cs=class extends bs{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Zw(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Tc=class extends Cs{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=cx(u),this.hostAttr=ux(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},lx=(()=>{let e=class e extends Cc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(R(nt))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Gw=["alt","control","meta","shift"],dx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},fx=(()=>{let e=class e extends Cc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Gw.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=dx[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Gw.forEach(a=>{if(a!==s){let c=hx[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(R(nt))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function px(){Zh.makeCurrent()}function gx(){return new Yt}function mx(){return V_(document),document}var yx=[{provide:On,useValue:Hh},{provide:ch,useValue:px,multi:!0},{provide:nt,useFactory:mx,deps:[]}],Yw=kh(xw,"browser",yx),vx=new F(""),_x=[{provide:Es,useClass:Yh,deps:[]},{provide:Rh,useClass:_c,deps:[ae,wc,Es]},{provide:_c,useClass:_c,deps:[ae,wc,Es]}],wx=[{provide:Ja,useValue:"root"},{provide:Yt,useFactory:gx,deps:[]},{provide:Xh,useClass:lx,multi:!0,deps:[nt,ae,On]},{provide:Xh,useClass:fx,multi:!0,deps:[nt]},Hw,Kw,Ww,{provide:hs,useExisting:Hw},{provide:bc,useClass:rx,deps:[]},[]],Xw=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:sc,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(R(vx,12))},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({providers:[...wx,..._x],imports:[zw,Rw]});let t=e;return t})();var Jw=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(R(nt))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ix={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},sz=ue(S({},Ix),{"[class.ng-submitted]":"isSubmitted"});var Ex=new F("CallSetDisabledState",{providedIn:"root",factory:()=>tI}),tI="always";var Dx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})();var ci=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ex,useValue:r.callSetDisabledState??tI}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({imports:[Dx]});let t=e;return t})();var B="primary",Bs=Symbol("RouteTitle"),of=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function fi(t){return new of(t)}function Sx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Mx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xt(t[n],e[n]))return!1;return!0}function Xt(t,e){let n=t?af(t):void 0,r=e?af(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!lI(t[i],e[i]))return!1;return!0}function af(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function lI(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function dI(t){return t.length>0?t[t.length-1]:null}function Vn(t){return Bl(t)?t:ni(t)?ye(Promise.resolve(t)):P(t)}var Ax={exact:fI,subset:pI},hI={exact:xx,subset:Rx,ignored:()=>!0};function nI(t,e,n){return Ax[n.paths](t.root,e.root,n.matrixParams)&&hI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function xx(t,e){return Xt(t,e)}function fI(t,e,n){if(!gr(t.segments,e.segments)||!Ac(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!fI(t.children[r],e.children[r],n))return!1;return!0}function Rx(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>lI(t[n],e[n]))}function pI(t,e,n){return gI(t,e,e.segments,n)}function gI(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!gr(i,n)||e.hasChildren()||!Ac(i,n,r))}else if(t.segments.length===n.length){if(!gr(t.segments,n)||!Ac(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!pI(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!gr(t.segments,i)||!Ac(t.segments,i,r)||!t.children[B]?!1:gI(t.children[B],e,s,r)}}function Ac(t,e,n){return e.every((r,i)=>hI[n](t[i].parameters,r.parameters))}var kn=class{constructor(e=new ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fi(this.queryParams),this._queryParamMap}toString(){return Ox.serialize(this)}},ne=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xc(this)}},pr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=fi(this.parameters),this._parameterMap}toString(){return yI(this)}};function Nx(t,e){return gr(t,e)&&t.every((n,r)=>Xt(n.parameters,e[r].parameters))}function gr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Px(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===B&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==B&&(n=n.concat(e(i,r)))}),n}var Us=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>new Ns,providedIn:"root"});let t=e;return t})(),Ns=class{parse(e){let n=new uf(e);return new kn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ts(e.root,!0)}`,r=Lx(e.queryParams),i=typeof e.fragment=="string"?`#${kx(e.fragment)}`:"";return`${n}${r}${i}`}},Ox=new Ns;function xc(t){return t.segments.map(e=>yI(e)).join("/")}function Ts(t,e){if(!t.hasChildren())return xc(t);if(e){let n=t.children[B]?Ts(t.children[B],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==B&&r.push(`${i}:${Ts(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Px(t,(r,i)=>i===B?[Ts(t.children[B],!1)]:[`${i}:${Ts(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[B]!=null?`${xc(t)}/${n[0]}`:`${xc(t)}/(${n.join("//")})`}}function mI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sc(t){return mI(t).replace(/%3B/gi,";")}function kx(t){return encodeURI(t)}function cf(t){return mI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rc(t){return decodeURIComponent(t)}function rI(t){return Rc(t.replace(/\+/g,"%20"))}function yI(t){return`${cf(t.path)}${Fx(t.parameters)}`}function Fx(t){return Object.entries(t).map(([e,n])=>`;${cf(e)}=${cf(n)}`).join("")}function Lx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Sc(n)}=${Sc(i)}`).join("&"):`${Sc(n)}=${Sc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Vx=/^[^\/()?;#]+/;function tf(t){let e=t.match(Vx);return e?e[0]:""}var jx=/^[^\/()?;=#]+/;function Bx(t){let e=t.match(jx);return e?e[0]:""}var Ux=/^[^=?&#]+/;function zx(t){let e=t.match(Ux);return e?e[0]:""}var $x=/^[^&#]+/;function Hx(t){let e=t.match($x);return e?e[0]:""}var uf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[B]=new ne(e,n)),r}parseSegment(){let e=tf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new pr(Rc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Bx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=tf(this.remaining);i&&(r=i,this.capture(r))}e[Rc(n)]=Rc(r)}parseQueryParam(e){let n=zx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Hx(this.remaining);o&&(r=o,this.capture(r))}let i=rI(n),s=rI(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=tf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=B);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[B]:new ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};function vI(t){return t.segments.length>0?new ne([],{[B]:t}):t}function _I(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=_I(i);if(r===B&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ne(t.segments,e);return qx(n)}function qx(t){if(t.numberOfChildren===1&&t.children[B]){let e=t.children[B];return new ne(t.segments.concat(e.segments),e.children)}return t}function pi(t){return t instanceof kn}function Gx(t,e,n=null,r=null){let i=wI(t);return II(i,e,n,r)}function wI(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ne(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=vI(r);return e??i}function II(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return nf(i,i,i,n,r);let s=Wx(e);if(s.toRoot())return nf(i,i,new ne([],{}),n,r);let o=Kx(s,i,t),a=o.processChildren?As(o.segmentGroup,o.index,s.commands):DI(o.segmentGroup,o.index,s.commands);return nf(i,o.segmentGroup,a,n,r)}function Nc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ps(t){return typeof t=="object"&&t!=null&&t.outlets}function nf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=EI(t,e,n);let a=vI(_I(o));return new kn(a,s,i)}function EI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=EI(s,e,n)}),new ne(t.segments,r)}var Pc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Nc(r[0]))throw new A(4003,!1);let i=r.find(Ps);if(i&&i!==dI(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Wx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Pc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Pc(n,e,r)}var di=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Kx(t,e,n){if(t.isAbsolute)return new di(e,!0,0);if(!n)return new di(e,!1,NaN);if(n.parent===null)return new di(n,!0,0);let r=Nc(t.commands[0])?0:1,i=n.segments.length-1+r;return Qx(n,i,t.numberOfDoubleDots)}function Qx(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new di(r,!1,i-s)}function Zx(t){return Ps(t[0])?t[0].outlets:{[B]:t}}function DI(t,e,n){if(t??=new ne([],{}),t.segments.length===0&&t.hasChildren())return As(t,e,n);let r=Yx(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ne(t.segments.slice(0,r.pathIndex),{});return s.children[B]=new ne(t.segments.slice(r.pathIndex),t.children),As(s,0,i)}else return r.match&&i.length===0?new ne(t.segments,{}):r.match&&!t.hasChildren()?lf(t,e,n):r.match?As(t,0,i):lf(t,e,n)}function As(t,e,n){if(n.length===0)return new ne(t.segments,{});{let r=Zx(n),i={};if(Object.keys(r).some(s=>s!==B)&&t.children[B]&&t.numberOfChildren===1&&t.children[B].segments.length===0){let s=As(t.children[B],e,n);return new ne(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=DI(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ne(t.segments,i)}}function Yx(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ps(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!sI(c,u,o))return s;r+=2}else{if(!sI(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function lf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ps(s)){let c=Xx(s.outlets);return new ne(r,c)}if(i===0&&Nc(n[0])){let c=t.segments[e];r.push(new pr(c.path,iI(n[0]))),i++;continue}let o=Ps(s)?s.outlets[B]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Nc(a)?(r.push(new pr(o,iI(a))),i+=2):(r.push(new pr(o,{})),i++)}return new ne(r,{})}function Xx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=lf(new ne([],{}),0,r))}),e}function iI(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function sI(t,e,n){return t==n.path&&Xt(e,n.parameters)}var xs="imperative",Me=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Me||{}),Et=class{constructor(e,n){this.id=e,this.url=n}},gi=class extends Et{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Me.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jt=class extends Et{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Me.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ct=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ct||{}),Oc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Oc||{}),Fn=class extends Et{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Me.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ln=class extends Et{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Me.NavigationSkipped}},Os=class extends Et{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Me.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},kc=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Me.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},df=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Me.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hf=class extends Et{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Me.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ff=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Me.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pf=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Me.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gf=class{constructor(e){this.route=e,this.type=Me.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mf=class{constructor(e){this.route=e,this.type=Me.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},yf=class{constructor(e){this.snapshot=e,this.type=Me.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vf=class{constructor(e){this.snapshot=e,this.type=Me.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_f=class{constructor(e){this.snapshot=e,this.type=Me.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wf=class{constructor(e){this.snapshot=e,this.type=Me.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Me.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ks=class{},Fs=class{constructor(e){this.url=e}};var If=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zs,this.attachRef=null}},zs=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new If,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ef(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ef(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Df(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Df(e,this._root).map(n=>n.value)}};function Ef(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ef(t,n);if(r)return r}return null}function Df(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Df(t,n);if(r.length)return r.unshift(e),r}return[]}var at=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function li(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Vc=class extends Lc{constructor(e,n){super(e),this.snapshot=n,Pf(this,e)}toString(){return this.snapshot.toString()}};function bI(t){let e=Jx(t),n=new Pe([new pr("",{})]),r=new Pe({}),i=new Pe({}),s=new Pe({}),o=new Pe(""),a=new Pt(n,r,s,o,i,B,t,e.root);return a.snapshot=e.root,new Vc(new at(a,[]),e)}function Jx(t){let e={},n={},r={},i="",s=new Ls([],e,r,i,n,B,t,null,{});return new jc("",new at(s,[]))}var Pt=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(W(u=>u[Bs]))??P(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(e=>fi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(e=>fi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),t.params),data:S(S({},e.data),t.data),resolve:S(S(S(S({},t.data),e.data),i?.data),t._resolvedData)}:r={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},i&&TI(i)&&(r.resolve[Bs]=i.title),r}var Ls=class{get title(){return this.data?.[Bs]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},jc=class extends Lc{constructor(e,n){super(n),this.url=e,Pf(this,n)}toString(){return CI(this._root)}};function Pf(t,e){e.value._routerState=t,e.children.forEach(n=>Pf(t,n))}function CI(t){let e=t.children.length>0?` { ${t.children.map(CI).join(", ")} } `:"";return`${t.value}${e}`}function rf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xt(e.params,n.params)||t.paramsSubject.next(n.params),Mx(e.url,n.url)||t.urlSubject.next(n.url),Xt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function bf(t,e){let n=Xt(t.params,e.params)&&Nx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||bf(t.parent,e.parent))}function TI(t){return typeof t.title=="string"||t.title===null}var Of=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=B,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.parentContexts=w(zs),this.location=w(Is),this.changeDetector=w(ii),this.environmentInjector=w(ot),this.inputBinder=w(Hc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Cf(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=sr({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[or]});let t=e;return t})(),Cf=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Pt?this.route:e===zs?this.childContexts:this.parent.get(e,n)}},Hc=new F(""),oI=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Ji([i.queryParams,i.params,i.data]).pipe(pt(([o,a,c],u)=>(c=S(S(S({},o),a),c),u===0?P(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Nw(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function eR(t,e,n){let r=Vs(t,e._root,n?n._root:void 0);return new Vc(r,e)}function Vs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=tR(t,e,n);return new at(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Vs(t,a)),o}}let r=nR(e.value),i=e.children.map(s=>Vs(t,s));return new at(r,i)}}function tR(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Vs(t,r,i);return Vs(t,r)})}function nR(t){return new Pt(new Pe(t.url),new Pe(t.params),new Pe(t.queryParams),new Pe(t.fragment),new Pe(t.data),t.outlet,t.component,t)}var SI="ngNavigationCancelingError";function MI(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=pi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=AI(!1,ct.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function AI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[SI]=!0,n.cancellationCode=e,n}function rR(t){return xI(t)&&pi(t.url)}function xI(t){return!!t&&t[SI]}var iR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["ng-component"]],standalone:!0,features:[hr],decls:1,vars:0,template:function(i,s){i&1&&k(0,"router-outlet")},dependencies:[Of],encapsulation:2});let t=e;return t})();function sR(t,e){return t.providers&&!t._injector&&(t._injector=pc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function kf(t){let e=t.children&&t.children.map(kf),n=e?ue(S({},t),{children:e}):S({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==B&&(n.component=iR),n}function en(t){return t.outlet||B}function oR(t,e){let n=t.filter(r=>en(r)===e);return n.push(...t.filter(r=>en(r)!==e)),n}function $s(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var aR=(t,e,n,r)=>W(i=>(new Tf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Tf=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),rf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=li(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=li(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=li(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=li(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new wf(s.value.snapshot))}),e.children.length&&this.forwardEvent(new vf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(rf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),rf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=$s(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Bc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hi=class{constructor(e,n){this.component=e,this.route=n}};function cR(t,e,n){let r=t._root,i=e?e._root:null;return Ss(r,i,n,[r.value])}function uR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function yi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Av(t)?t:e.get(t):r}function Ss(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=li(e);return t.children.forEach(o=>{lR(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Rs(a,n.getContext(o),i)),i}function lR(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=dR(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Bc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ss(t,e,a?a.children:null,r,i):Ss(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hi(a.outlet.component,o))}else o&&Rs(e,a,i),i.canActivateChecks.push(new Bc(r)),s.component?Ss(t,null,a?a.children:null,r,i):Ss(t,null,n,r,i);return i}function dR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!gr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!gr(t.url,e.url)||!Xt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bf(t,e)||!Xt(t.queryParams,e.queryParams);case"paramsChange":default:return!bf(t,e)}}function Rs(t,e,n){let r=li(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Rs(o,e.children.getContext(s),n):Rs(o,null,n):Rs(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new hi(e.outlet.component,i)):n.canDeactivateChecks.push(new hi(null,i)):n.canDeactivateChecks.push(new hi(null,i))}function Hs(t){return typeof t=="function"}function hR(t){return typeof t=="boolean"}function fR(t){return t&&Hs(t.canLoad)}function pR(t){return t&&Hs(t.canActivate)}function gR(t){return t&&Hs(t.canActivateChild)}function mR(t){return t&&Hs(t.canDeactivate)}function yR(t){return t&&Hs(t.canMatch)}function RI(t){return t instanceof dn||t?.name==="EmptyError"}var Mc=Symbol("INITIAL_VALUE");function mi(){return pt(t=>Ji(t.map(e=>e.pipe(hn(1),Hl(Mc)))).pipe(W(e=>{for(let n of e)if(n!==!0){if(n===Mc)return Mc;if(n===!1||n instanceof kn)return n}return!0}),ft(e=>e!==Mc),hn(1)))}function vR(t,e){return _e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?P(ue(S({},n),{guardsResult:!0})):_R(o,r,i,t).pipe(_e(a=>a&&hR(a)?wR(r,s,t,e):P(a)),W(a=>ue(S({},n),{guardsResult:a})))})}function _R(t,e,n,r){return ye(t).pipe(_e(i=>CR(i.component,i.route,n,e,r)),$t(i=>i!==!0,!0))}function wR(t,e,n,r){return ye(e).pipe(Yn(i=>$r(ER(i.route.parent,r),IR(i.route,r),bR(t,i.path,n),DR(t,i.route,n))),$t(i=>i!==!0,!0))}function IR(t,e){return t!==null&&e&&e(new _f(t)),P(!0)}function ER(t,e){return t!==null&&e&&e(new yf(t)),P(!0)}function DR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let i=r.map(s=>va(()=>{let o=$s(e)??n,a=yi(s,o),c=pR(a)?a.canActivate(e,t):pn(o,()=>a(e,t));return Vn(c).pipe($t())}));return P(i).pipe(mi())}function bR(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>uR(o)).filter(o=>o!==null).map(o=>va(()=>{let a=o.guards.map(c=>{let u=$s(o.node)??n,l=yi(c,u),d=gR(l)?l.canActivateChild(r,t):pn(u,()=>l(r,t));return Vn(d).pipe($t())});return P(a).pipe(mi())}));return P(s).pipe(mi())}function CR(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return P(!0);let o=s.map(a=>{let c=$s(e)??i,u=yi(a,c),l=mR(u)?u.canDeactivate(t,e,n,r):pn(c,()=>u(t,e,n,r));return Vn(l).pipe($t())});return P(o).pipe(mi())}function TR(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return P(!0);let s=i.map(o=>{let a=yi(o,t),c=fR(a)?a.canLoad(e,n):pn(t,()=>a(e,n));return Vn(c)});return P(s).pipe(mi(),NI(r))}function NI(t){return Fl(Oe(e=>{if(pi(e))throw MI(t,e)}),W(e=>e===!0))}function SR(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return P(!0);let s=i.map(o=>{let a=yi(o,t),c=yR(a)?a.canMatch(e,n):pn(t,()=>a(e,n));return Vn(c)});return P(s).pipe(mi(),NI(r))}var js=class{constructor(e){this.segmentGroup=e||null}},Uc=class extends Error{constructor(e){super(),this.urlTree=e}};function ui(t){return Ur(new js(t))}function MR(t){return Ur(new A(4e3,!1))}function AR(t){return Ur(AI(!1,ct.GuardRejected))}var Sf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return P(r);if(i.numberOfChildren>1||!i.children[B])return MR(e.redirectTo);i=i.children[B]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Uc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new kn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Mf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xR(t,e,n,r,i){let s=Ff(t,e,n);return s.matched?(r=sR(e,r),SR(r,e,n,i).pipe(W(o=>o===!0?s:S({},Mf)))):P(s)}function Ff(t,e,n){if(e.path==="**")return RR(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?S({},Mf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Sx)(n,t,e);if(!i)return S({},Mf);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?S(S({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function RR(t){return{matched:!0,parameters:t.length>0?dI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function aI(t,e,n,r){return n.length>0&&OR(t,n,r)?{segmentGroup:new ne(e,PR(r,new ne(n,t.children))),slicedSegments:[]}:n.length===0&&kR(t,n,r)?{segmentGroup:new ne(t.segments,NR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ne(t.segments,t.children),slicedSegments:n}}function NR(t,e,n,r){let i={};for(let s of n)if(qc(t,e,s)&&!r[en(s)]){let o=new ne([],{});i[en(s)]=o}return S(S({},r),i)}function PR(t,e){let n={};n[B]=e;for(let r of t)if(r.path===""&&en(r)!==B){let i=new ne([],{});n[en(r)]=i}return n}function OR(t,e,n){return n.some(r=>qc(t,e,r)&&en(r)!==B)}function kR(t,e,n){return n.some(r=>qc(t,e,r))}function qc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function FR(t,e,n,r){return en(t)!==r&&(r===B||!qc(e,n,t))?!1:Ff(e,t,n).matched}function LR(t,e,n){return e.length===0&&!t.children[n]}var Af=class{};function VR(t,e,n,r,i,s,o="emptyOnly"){return new xf(t,e,n,r,i,o,s).recognize()}var jR=31,xf=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Sf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=aI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(W(n=>{let r=new Ls([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},B,this.rootComponentType,null,{}),i=new at(r,n),s=new jc("",i),o=Gx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,B).pipe(Tn(r=>{if(r instanceof Uc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof js?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Nf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(W(s=>s instanceof at?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ye(i).pipe(Yn(s=>{let o=r.children[s],a=oR(n,s);return this.processSegmentGroup(e,a,o,s)}),$l((s,o)=>(s.push(...o),s)),Sn(null),zl(),_e(s=>{if(s===null)return ui(r);let o=PI(s);return BR(o),P(o)}))}processSegment(e,n,r,i,s,o){return ye(n).pipe(Yn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Tn(c=>{if(c instanceof js)return P(null);throw c}))),$t(a=>!!a),Tn(a=>{if(RI(a))return LR(r,i,s)?P(new Af):ui(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return FR(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ui(i):ui(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Ff(n,i,s);if(!a)return ui(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jR&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(_e(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=xR(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(pt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(pt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Ls(l,h,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,zR(r),en(r),r.component??r._loadedComponent??null,r,$R(r)),{segmentGroup:y,slicedSegments:T}=aI(n,l,d,c);if(T.length===0&&y.hasChildren())return this.processChildren(u,c,y).pipe(W(N=>N===null?null:new at(f,N)));if(c.length===0&&T.length===0)return P(new at(f,[]));let b=en(r)===s;return this.processSegment(u,c,y,T,b?B:s,!0).pipe(W(N=>new at(f,N instanceof at?[N]:[])))}))):ui(n)))}getChildConfig(e,n,r){return n.children?P({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?P({routes:n._loadedRoutes,injector:n._loadedInjector}):TR(e,n,r,this.urlSerializer).pipe(_e(i=>i?this.configLoader.loadChildren(e,n).pipe(Oe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):AR(n))):P({routes:[],injector:e})}};function BR(t){t.sort((e,n)=>e.value.outlet===B?-1:n.value.outlet===B?1:e.value.outlet.localeCompare(n.value.outlet))}function UR(t){let e=t.value.routeConfig;return e&&e.path===""}function PI(t){let e=[],n=new Set;for(let r of t){if(!UR(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=PI(r.children);e.push(new at(r.value,i))}return e.filter(r=>!n.has(r))}function zR(t){return t.data||{}}function $R(t){return t.resolve||{}}function HR(t,e,n,r,i,s){return _e(o=>VR(t,e,n,r,o.extractedUrl,i,s).pipe(W(({state:a,tree:c})=>ue(S({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function qR(t,e){return _e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return P(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of OI(c))o.add(u);let a=0;return ye(o).pipe(Yn(c=>s.has(c)?GR(c,r,t,e):(c.data=Nf(c,c.parent,t).resolve,P(void 0))),Oe(()=>a++),Hr(1),_e(c=>a===o.size?P(n):it))})}function OI(t){let e=t.children.map(n=>OI(n)).flat();return[t,...e]}function GR(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!TI(i)&&(s[Bs]=i.title),WR(s,t,e,r).pipe(W(o=>(t._resolvedData=o,t.data=Nf(t,t.parent,n).resolve,null)))}function WR(t,e,n,r){let i=af(t);if(i.length===0)return P({});let s={};return ye(i).pipe(_e(o=>KR(t[o],e,n,r).pipe($t(),Oe(a=>{s[o]=a}))),Hr(1),Ul(s),Tn(o=>RI(o)?it:Ur(o)))}function KR(t,e,n,r){let i=$s(e)??r,s=yi(t,i),o=s.resolve?s.resolve(e,n):pn(i,()=>s(e,n));return Vn(o)}function sf(t){return pt(e=>{let n=t(e);return n?ye(n).pipe(W(()=>e)):P(e)})}var kI=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===B);return i}getResolvedTitleForRoute(r){return r.data[Bs]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>w(QR),providedIn:"root"});let t=e;return t})(),QR=(()=>{let e=class e extends kI{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(R(Jw))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qs=new F("",{providedIn:"root",factory:()=>({})}),zc=new F(""),Lf=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(Ec)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return P(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Vn(r.loadComponent()).pipe(W(FI),Oe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),es(()=>{this.componentLoaders.delete(r)})),s=new Br(i,()=>new ze).pipe(jr());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return P({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=ZR(i,this.compiler,r,this.onLoadEndListener).pipe(es(()=>{this.childrenLoaders.delete(i)})),a=new Br(o,()=>new ze).pipe(jr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZR(t,e,n,r){return Vn(t.loadChildren()).pipe(W(FI),_e(i=>i instanceof fs||Array.isArray(i)?P(i):ye(e.compileModuleAsync(i))),W(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(zc,[],{optional:!0,self:!0}).flat()),{routes:o.map(kf),injector:s}}))}function YR(t){return t&&typeof t=="object"&&"default"in t}function FI(t){return YR(t)?t.default:t}var Vf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>w(XR),providedIn:"root"});let t=e;return t})(),XR=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LI=new F(""),VI=new F("");function JR(t,e,n){let r=t.get(VI),i=t.get(nt);return t.get(ae).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),eN(t))),{onViewTransitionCreated:c}=r;return c&&pn(t,()=>c({transition:a,from:e,to:n})),o})}function eN(t){return new Promise(e=>{Ch(e,{injector:t})})}var jf=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ze,this.transitionAbortSubject=new ze,this.configLoader=w(Lf),this.environmentInjector=w(ot),this.urlSerializer=w(Us),this.rootContexts=w(zs),this.location=w(oi),this.inputBindingEnabled=w(Hc,{optional:!0})!==null,this.titleStrategy=w(kI),this.options=w(qs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(Vf),this.createViewTransition=w(LI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>P(void 0),this.rootComponentType=null;let r=s=>this.events.next(new gf(s)),i=s=>this.events.next(new mf(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ue(S(S({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Pe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xs,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ft(o=>o.id!==0),W(o=>ue(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),pt(o=>{let a=!1,c=!1;return P(o).pipe(pt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ct.SupersededByNewNavigation),it;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ue(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Ln(u.id,this.urlSerializer.serialize(u.rawUrl),h,Oc.IgnoredSameUrlNavigation)),u.resolve(null),it}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return P(u).pipe(pt(h=>{let f=this.transitions?.getValue();return this.events.next(new gi(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?it:Promise.resolve(h)}),HR(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Oe(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ue(S({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new kc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:y,restoredState:T,extras:b}=u,N=new gi(h,this.urlSerializer.serialize(f),y,T);this.events.next(N);let oe=bI(this.rootComponentType).snapshot;return this.currentTransition=o=ue(S({},u),{targetSnapshot:oe,urlAfterRedirects:f,extras:ue(S({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,P(o)}else{let h="";return this.events.next(new Ln(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Oc.IgnoredByUrlHandlingStrategy)),u.resolve(null),it}}),Oe(u=>{let l=new df(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),W(u=>(this.currentTransition=o=ue(S({},u),{guards:cR(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),vR(this.environmentInjector,u=>this.events.next(u)),Oe(u=>{if(o.guardsResult=u.guardsResult,pi(u.guardsResult))throw MI(this.urlSerializer,u.guardsResult);let l=new hf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ft(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ct.GuardRejected),!1)),sf(u=>{if(u.guards.canActivateChecks.length)return P(u).pipe(Oe(l=>{let d=new ff(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),pt(l=>{let d=!1;return P(l).pipe(qR(this.paramsInheritanceStrategy,this.environmentInjector),Oe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",ct.NoDataFromResolver)}}))}),Oe(l=>{let d=new pf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),sf(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Oe(f=>{d.component=f}),W(()=>{})));for(let f of d.children)h.push(...l(f));return h};return Ji(l(u.targetSnapshot.root)).pipe(Sn(null),hn(1))}),sf(()=>this.afterPreactivation()),pt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?ye(d).pipe(W(()=>o)):P(o)}),W(u=>{let l=eR(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ue(S({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Oe(()=>{this.events.next(new ks)}),aR(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),hn(1),Oe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),ql(this.transitionAbortSubject.pipe(Oe(u=>{throw u}))),es(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",ct.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Tn(u=>{if(c=!0,xI(u))this.events.next(new Fn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),rR(u)?this.events.next(new Fs(u.url)):o.resolve(!1);else{this.events.next(new Os(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return it}))}))}cancelNavigationTransition(r,i,s){let o=new Fn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tN(t){return t!==xs}var nN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>w(rN),providedIn:"root"});let t=e;return t})(),Rf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},rN=(()=>{let e=class e extends Rf{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=rc(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>w(iN),providedIn:"root"});let t=e;return t})(),iN=(()=>{let e=class e extends jI{constructor(){super(...arguments),this.location=w(oi),this.urlSerializer=w(Us),this.options=w(qs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(Vf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof gi)this.stateMemento=this.createStateMemento();else if(r instanceof Ln)this.rawUrlTree=i.initialUrl;else if(r instanceof kc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ks?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Fn&&(r.code===ct.GuardRejected||r.code===ct.NoDataFromResolver)?this.restoreHistory(i):r instanceof Os?this.restoreHistory(i,!0):r instanceof Jt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=S(S({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=S(S({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=rc(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ms=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ms||{});function BI(t,e){t.events.pipe(ft(n=>n instanceof Jt||n instanceof Fn||n instanceof Os||n instanceof Ln),W(n=>n instanceof Jt||n instanceof Ln?Ms.COMPLETE:(n instanceof Fn?n.code===ct.Redirect||n.code===ct.SupersededByNewNavigation:!1)?Ms.REDIRECTING:Ms.FAILED),ft(n=>n!==Ms.REDIRECTING),hn(1)).subscribe(()=>{e()})}function sN(t){throw t}var oN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=w(vc),this.stateManager=w(jI),this.options=w(qs,{optional:!0})||{},this.pendingTasks=w(gc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(jf),this.urlSerializer=w(Us),this.location=w(oi),this.urlHandlingStrategy=w(Vf),this._events=new ze,this.errorHandler=this.options.errorHandler||sN,this.navigated=!1,this.routeReuseStrategy=w(nN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(zc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(Hc,{optional:!0}),this.eventsSubscription=new Te,this.isNgZoneEnabled=w(ae)instanceof ae&&ae.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Fn&&i.code!==ct.Redirect&&i.code!==ct.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Jt)this.navigated=!0;else if(i instanceof Fs){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||tN(s.source)};this.scheduleNavigation(a,xs,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}uN(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=S({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(kf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=wI(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return II(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=pi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,xs,null,i)}navigate(r,i={skipLocationChange:!1}){return cN(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=S({},oN):i===!1?s=S({},aN):s=i,pi(r))return nI(this.currentUrlTree,r,s);let o=this.parseUrl(r);return nI(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return BI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function uN(t){return!(t instanceof ks)&&!(t instanceof Fs)}var bt=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ze,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Jt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:U_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(he(Dt),he(Pt),oh("tabindex"),he(ws),he(ar),he(In))},e.\u0275dir=sr({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&yc("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&mc("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[vt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",si],skipLocationChange:[vt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",si],replaceUrl:[vt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",si],routerLink:"routerLink"},standalone:!0,features:[Sh,or]});let t=e;return t})();var $c=class{};var lN=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ft(r=>r instanceof Jt),Yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=pc(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return ye(s).pipe(zr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=P(null);let o=s.pipe(_e(a=>a===null?P(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ye([o,a]).pipe(zr())}else return o})}};e.\u0275fac=function(i){return new(i||e)(R(Dt),R(Ec),R(ot),R($c),R(Lf))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UI=new F(""),dN=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof gi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Jt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Ln&&r.code===Oc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Fc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){J_()},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function hN(t){return t.routerState.root}function Gs(t,e){return{\u0275kind:t,\u0275providers:e}}function fN(){let t=w(Nt);return e=>{let n=t.get(ri);if(e!==n.components[0])return;let r=t.get(Dt),i=t.get(zI);t.get(Bf)===1&&r.initialNavigation(),t.get($I,null,z.Optional)?.setUpPreloading(),t.get(UI,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var zI=new F("",{factory:()=>new ze}),Bf=new F("",{providedIn:"root",factory:()=>1});function pN(){return Gs(2,[{provide:Bf,useValue:0},{provide:Ic,multi:!0,deps:[Nt],useFactory:e=>{let n=e.get(Vw,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Dt),s=e.get(zI);BI(i,()=>{r(!0)}),e.get(jf).afterPreactivation=()=>(r(!0),s.closed?P(void 0):s),i.initialNavigation()}))}}])}function gN(){return Gs(3,[{provide:Ic,multi:!0,useFactory:()=>{let e=w(Dt);return()=>{e.setUpLocationChangeListener()}}},{provide:Bf,useValue:2}])}var $I=new F("");function mN(t){return Gs(0,[{provide:$I,useExisting:lN},{provide:$c,useExisting:t}])}function yN(){return Gs(8,[oI,{provide:Hc,useExisting:oI}])}function vN(t){let e=[{provide:LI,useValue:JR},{provide:VI,useValue:S({skipNextTransition:!!t?.skipInitialTransition},t)}];return Gs(9,e)}var cI=new F("ROUTER_FORROOT_GUARD"),_N=[oi,{provide:Us,useClass:Ns},Dt,zs,{provide:Pt,useFactory:hN,deps:[Dt]},Lf,[]],Uf=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[_N,[],{provide:zc,multi:!0,useValue:r},{provide:cI,useFactory:DN,deps:[[Dt,new Xa,new zd]]},{provide:qs,useValue:i||{}},i?.useHash?IN():EN(),wN(),i?.preloadingStrategy?mN(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?bN(i):[],i?.bindToComponentInputs?yN().\u0275providers:[],i?.enableViewTransitions?vN().\u0275providers:[],CN()]}}static forChild(r){return{ngModule:e,providers:[{provide:zc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(R(cI,8))},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})();function wN(){return{provide:UI,useFactory:()=>{let t=w($w),e=w(ae),n=w(qs),r=w(jf),i=w(Us);return n.scrollOffset&&t.setOffset(n.scrollOffset),new dN(i,r,t,e,n)}}}function IN(){return{provide:In,useClass:Bw}}function EN(){return{provide:In,useClass:$h}}function DN(t){return"guarded"}function bN(t){return[t.initialNavigation==="disabled"?gN().\u0275providers:[],t.initialNavigation==="enabledBlocking"?pN().\u0275providers:[]]}var uI=new F("");function CN(){return[{provide:uI,useFactory:fN},{provide:Ph,multi:!0,useExisting:uI}]}var qI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TN=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},GI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new zf;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},zf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},SN=function(t){let e=qI(t);return GI.encodeByteArray(e,!0)},Ws=function(t){return SN(t).replace(/\./g,"")},MN=function(t){try{return GI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xN=()=>AN().__FIREBASE_DEFAULTS__,RN=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&MN(t[1]);return e&&JSON.parse(e)},$f=()=>{try{return xN()||RN()||NN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PN=t=>{var e,n;return(n=(e=$f())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Wc=t=>{let e=PN(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hf=()=>{var t;return(t=$f())===null||t===void 0?void 0:t.config};var Gc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Kc(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ws(JSON.stringify(n)),Ws(JSON.stringify(o)),""].join(".")}function Qs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ON(){var t;let e=(t=$f())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WI(){return!ON()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qc(){try{return typeof indexedDB=="object"}catch{return!1}}function KI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var kN="FirebaseError",Ot=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kN,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ks.prototype.create)}},Ks=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?FN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ot(i,a,r)}};function FN(t,e){return t.replace(LN,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var LN=/\{\$([^}]+)}/g;function Zs(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(HI(s)&&HI(o)){if(!Zs(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function HI(t){return t!==null&&typeof t=="object"}var Cz=4*60*60*1e3;function kt(t){return t&&t._delegate?t._delegate:t}var Ft=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var mr="[DEFAULT]";var qf=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Gc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jN(e))try{this.getOrInitializeService({instanceIdentifier:mr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=mr){return this.instances.has(e)}getOptions(e=mr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mr){return this.component?this.component.multipleInstances?e:mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function VN(t){return t===mr?void 0:t}function jN(t){return t.instantiationMode==="EAGER"}var Zc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new qf(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var BN=[],Z=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Z||{}),UN={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},zN=Z.INFO,$N={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},HN=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=$N[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_i=class{constructor(e){this.name=e,this._logLevel=zN,this._logHandler=HN,this._userLogHandler=null,BN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}};var qN=(t,e)=>e.some(n=>t instanceof n),QI,ZI;function GN(){return QI||(QI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WN(){return ZI||(ZI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var YI=new WeakMap,Wf=new WeakMap,XI=new WeakMap,Gf=new WeakMap,Qf=new WeakMap;function KN(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(tn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YI.set(n,t)}).catch(()=>{}),Qf.set(e,t),e}function QN(t){if(Wf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wf.set(t,e)}var Kf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JI(t){Kf=t(Kf)}function ZN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Yc(this),e,...n);return XI.set(r,e.sort?e.sort():[e]),tn(r)}:WN().includes(t)?function(...e){return t.apply(Yc(this),e),tn(YI.get(this))}:function(...e){return tn(t.apply(Yc(this),e))}}function YN(t){return typeof t=="function"?ZN(t):(t instanceof IDBTransaction&&QN(t),qN(t,GN())?new Proxy(t,Kf):t)}function tn(t){if(t instanceof IDBRequest)return KN(t);if(Gf.has(t))return Gf.get(t);let e=YN(t);return e!==t&&(Gf.set(t,e),Qf.set(e,t)),e}var Yc=t=>Qf.get(t);function tE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=tn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(tn(o.result),c.oldVersion,c.newVersion,tn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var XN=["get","getKey","getAll","getAllKeys","count"],JN=["put","add","delete","clear"],Zf=new Map;function eE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=JN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XN.includes(n)))return;let s=function(o,...a){return m(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Zf.set(e,s),s}JI(t=>ue(S({},t),{get:(e,n,r)=>eE(e,n)||t.get(e,n,r),has:(e,n)=>!!eE(e,n)||t.has(e,n)}));var Xf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function eP(t){let e=t.getComponent();return e?.type==="VERSION"}var Jf="@firebase/app",nE="0.9.29";var yr=new _i("@firebase/app"),tP="@firebase/app-compat",nP="@firebase/analytics-compat",rP="@firebase/analytics",iP="@firebase/app-check-compat",sP="@firebase/app-check",oP="@firebase/auth",aP="@firebase/auth-compat",cP="@firebase/database",uP="@firebase/database-compat",lP="@firebase/functions",dP="@firebase/functions-compat",hP="@firebase/installations",fP="@firebase/installations-compat",pP="@firebase/messaging",gP="@firebase/messaging-compat",mP="@firebase/performance",yP="@firebase/performance-compat",vP="@firebase/remote-config",_P="@firebase/remote-config-compat",wP="@firebase/storage",IP="@firebase/storage-compat",EP="@firebase/firestore",DP="@firebase/firestore-compat",bP="firebase",CP="10.9.0";var ep="[DEFAULT]",TP={[Jf]:"fire-core",[tP]:"fire-core-compat",[rP]:"fire-analytics",[nP]:"fire-analytics-compat",[sP]:"fire-app-check",[iP]:"fire-app-check-compat",[oP]:"fire-auth",[aP]:"fire-auth-compat",[cP]:"fire-rtdb",[uP]:"fire-rtdb-compat",[lP]:"fire-fn",[dP]:"fire-fn-compat",[hP]:"fire-iid",[fP]:"fire-iid-compat",[pP]:"fire-fcm",[gP]:"fire-fcm-compat",[mP]:"fire-perf",[yP]:"fire-perf-compat",[vP]:"fire-rc",[_P]:"fire-rc-compat",[wP]:"fire-gcs",[IP]:"fire-gcs-compat",[EP]:"fire-fst",[DP]:"fire-fst-compat","fire-js":"fire-js",[bP]:"fire-js-all"};var Xc=new Map,tp=new Map;function SP(t,e){try{t.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vr(t){let e=t.name;if(tp.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,t);for(let n of Xc.values())SP(n,t);return!0}function Jc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var MP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},jn=new Ks("app","Firebase",MP);var np=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}};var eu=CP;function sp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ep,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jn.create("bad-app-name",{appName:String(i)});if(n||(n=Hf()),!n)throw jn.create("no-options");let s=Xc.get(i);if(s){if(Zs(n,s.options)&&Zs(r,s.config))return s;throw jn.create("duplicate-app",{appName:i})}let o=new Zc(i);for(let c of tp.values())o.addComponent(c);let a=new np(n,r,o);return Xc.set(i,a),a}function tu(t=ep){let e=Xc.get(t);if(!e&&t===ep&&Hf())return sp();if(!e)throw jn.create("no-app",{appName:t});return e}function Lt(t,e,n){var r;let i=(r=TP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(a.join(" "));return}vr(new Ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var AP="firebase-heartbeat-database",xP=1,Ys="firebase-heartbeat-store",Yf=null;function oE(){return Yf||(Yf=tE(AP,xP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ys)}catch(n){console.warn(n)}}}}).catch(t=>{throw jn.create("idb-open",{originalErrorMessage:t.message})})),Yf}function RP(t){return m(this,null,function*(){try{let n=(yield oE()).transaction(Ys),r=yield n.objectStore(Ys).get(aE(t));return yield n.done,r}catch(e){if(e instanceof Ot)yr.warn(e.message);else{let n=jn.create("idb-get",{originalErrorMessage:e?.message});yr.warn(n.message)}}})}function rE(t,e){return m(this,null,function*(){try{let r=(yield oE()).transaction(Ys,"readwrite");yield r.objectStore(Ys).put(e,aE(t)),yield r.done}catch(n){if(n instanceof Ot)yr.warn(n.message);else{let r=jn.create("idb-set",{originalErrorMessage:n?.message});yr.warn(r.message)}}})}function aE(t){return`${t.name}!${t.options.appId}`}var NP=1024,PP=30*24*60*60*1e3,rp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ip(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=PP}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return m(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=iE(),{heartbeatsToSend:r,unsentEntries:i}=OP(this._heartbeatsCache.heartbeats),s=Ws(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function iE(){return new Date().toISOString().substring(0,10)}function OP(t,e=NP){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ip=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Qc()?KI().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield RP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function sE(t){return Ws(JSON.stringify({version:2,heartbeats:t})).length}function kP(t){vr(new Ft("platform-logger",e=>new Xf(e),"PRIVATE")),vr(new Ft("heartbeat",e=>new rp(e),"PRIVATE")),Lt(Jf,nE,t),Lt(Jf,nE,"esm2017"),Lt("fire-js","")}kP("");var FP="firebase",LP="10.9.0";Lt(FP,LP,"app");var VP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jt={},_,Sp=Sp||{},L=VP||self;function gu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ho(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function jP(t){return Object.prototype.hasOwnProperty.call(t,op)&&t[op]||(t[op]=++BP)}var op="closure_uid_"+(1e9*Math.random()>>>0),BP=0;function UP(t,e,n){return t.call.apply(t.bind,arguments)}function zP(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ke(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ke=UP:Ke=zP,Ke.apply(null,arguments)}function nu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Bn(){this.s=this.s,this.o=this.o}var $P=0;Bn.prototype.s=!1;Bn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$P!=0)&&jP(this)};Bn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Mp(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function cE(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(gu(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Qe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var HP=function(){if(!L.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};L.addEventListener("test",n,e),L.removeEventListener("test",n,e)}catch{}return t}();function ro(t){return/^[\s\xa0]*$/.test(t)}function mu(){var t=L.navigator;return t&&(t=t.userAgent)?t:""}function nn(t){return mu().indexOf(t)!=-1}function Ap(t){return Ap[" "](t),t}Ap[" "]=function(){};function qP(t,e){var n=PO;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var GP=nn("Opera"),Di=nn("Trident")||nn("MSIE"),IE=nn("Edge"),dp=IE||Di,EE=nn("Gecko")&&!(mu().toLowerCase().indexOf("webkit")!=-1&&!nn("Edge"))&&!(nn("Trident")||nn("MSIE"))&&!nn("Edge"),WP=mu().toLowerCase().indexOf("webkit")!=-1&&!nn("Edge");function DE(){var t=L.document;return t?t.documentMode:void 0}var hp;e:{if(ru="",iu=function(){var t=mu();if(EE)return/rv:([^\);]+)(\)|;)/.exec(t);if(IE)return/Edge\/([\d\.]+)/.exec(t);if(Di)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(WP)return/WebKit\/(\S+)/.exec(t);if(GP)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),iu&&(ru=iu?iu[1]:""),Di&&(su=DE(),su!=null&&su>parseFloat(ru))){hp=String(su);break e}hp=ru}var ru,iu,su,fp;L.document&&Di?(ap=DE(),fp=ap||parseInt(hp,10)||void 0):fp=void 0;var ap,KP=fp;function io(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(EE){e:{try{Ap(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:QP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&io.$.h.call(this)}}xe(io,Qe);var QP={2:"touch",3:"pen",4:"mouse"};io.prototype.h=function(){io.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var fo="closure_listenable_"+(1e6*Math.random()|0),ZP=0;function YP(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++ZP,this.fa=this.ia=!1}function yu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xp(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function XP(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function bE(t){let e={};for(let n in t)e[n]=t[n];return e}var uE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CE(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<uE.length;s++)n=uE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vu(t){this.src=t,this.g={},this.h=0}vu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=gp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new YP(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function pp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=wE(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(yu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function gp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Rp="closure_lm_"+(1e6*Math.random()|0),cp={};function TE(t,e,n,r,i){if(r&&r.once)return ME(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)TE(t,e[s],n,r,i);return null}return n=Op(n),t&&t[fo]?t.O(e,n,ho(r)?!!r.capture:!!r,i):SE(t,e,n,!1,r,i)}function SE(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ho(i)?!!i.capture:!!i,a=Pp(t);if(a||(t[Rp]=a=new vu(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=JP(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)HP||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xE(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function JP(){function t(n){return e.call(t.src,t.listener,n)}let e=eO;return t}function ME(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ME(t,e[s],n,r,i);return null}return n=Op(n),t&&t[fo]?t.P(e,n,ho(r)?!!r.capture:!!r,i):SE(t,e,n,!0,r,i)}function AE(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)AE(t,e[s],n,r,i);else r=ho(r)?!!r.capture:!!r,n=Op(n),t&&t[fo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=gp(s,n,r,i),-1<n&&(yu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Pp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gp(e,n,r,i)),(n=-1<t?e[t]:null)&&Np(n))}function Np(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[fo])pp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Pp(e))?(pp(n,t),n.h==0&&(n.src=null,e[Rp]=null)):yu(t)}}}function xE(t){return t in cp?cp[t]:cp[t]="on"+t}function eO(t,e){if(t.fa)t=!0;else{e=new io(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Np(t),t=n.call(r,e)}return t}function Pp(t){return t=t[Rp],t instanceof vu?t:null}var up="__closure_events_fn_"+(1e9*Math.random()>>>0);function Op(t){return typeof t=="function"?t:(t[up]||(t[up]=function(e){return t.handleEvent(e)}),t[up])}function Ae(){Bn.call(this),this.i=new vu(this),this.S=this,this.J=null}xe(Ae,Bn);Ae.prototype[fo]=!0;Ae.prototype.removeEventListener=function(t,e,n,r){AE(this,t,e,n,r)};function je(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Qe(e,t);else if(e instanceof Qe)e.target=e.target||t;else{var i=e;e=new Qe(r,t),CE(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ou(o,r,!0,e)&&i}if(o=e.g=t,i=ou(o,r,!0,e)&&i,i=ou(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ou(o,r,!1,e)&&i}Ae.prototype.N=function(){if(Ae.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yu(n[r]);delete t.g[e],t.h--}}this.J=null};Ae.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ae.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ou(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&pp(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var kp=L.JSON.stringify,mp=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function tO(){var t=Fp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var yp=class{constructor(){this.h=this.g=null}add(e,n){let r=RE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},RE=new mp(()=>new vp,t=>t.reset()),vp=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function nO(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function rO(t){L.setTimeout(()=>{throw t},0)}var so,oo=!1,Fp=new yp,NE=()=>{let t=L.Promise.resolve(void 0);so=()=>{t.then(iO)}},iO=()=>{for(var t;t=tO();){try{t.h.call(t.g)}catch(n){rO(n)}var e=RE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}oo=!1};function _u(t,e){Ae.call(this),this.h=t||1,this.g=e||L,this.j=Ke(this.qb,this),this.l=Date.now()}xe(_u,Ae);_=_u.prototype;_.ga=!1;_.T=null;_.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),je(this,"tick"),this.ga&&(Lp(this),this.start()))}};_.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Lp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}_.N=function(){_u.$.N.call(this),Lp(this),delete this.g};function Vp(t,e,n){if(typeof t=="function")n&&(t=Ke(t,n));else if(t&&typeof t.handleEvent=="function")t=Ke(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:L.setTimeout(t,e||0)}function PE(t){t.g=Vp(()=>{t.g=null,t.i&&(t.i=!1,PE(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var _p=class extends Bn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PE(this)}N(){super.N(),this.g&&(L.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ao(t){Bn.call(this),this.h=t,this.g={}}xe(ao,Bn);var lE=[];function OE(t,e,n,r){Array.isArray(n)||(n&&(lE[0]=n.toString()),n=lE);for(var i=0;i<n.length;i++){var s=TE(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function kE(t){xp(t.g,function(e,n){this.g.hasOwnProperty(n)&&Np(e)},t),t.g={}}ao.prototype.N=function(){ao.$.N.call(this),kE(this)};ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wu(){this.g=!0}wu.prototype.Ea=function(){this.g=!1};function sO(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function oO(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ii(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+cO(t,n)+(r?" "+r:"")})}function aO(t,e){t.info(function(){return"TIMEOUT: "+e})}wu.prototype.info=function(){};function cO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return kp(n)}catch{return e}}var Er={},dE=null;function Iu(){return dE=dE||new Ae}Er.Ta="serverreachability";function FE(t){Qe.call(this,Er.Ta,t)}xe(FE,Qe);function co(t){let e=Iu();je(e,new FE(e))}Er.STAT_EVENT="statevent";function LE(t,e){Qe.call(this,Er.STAT_EVENT,t),this.stat=e}xe(LE,Qe);function Je(t){let e=Iu();je(e,new LE(e,t))}Er.Ua="timingevent";function VE(t,e){Qe.call(this,Er.Ua,t),this.size=e}xe(VE,Qe);function po(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return L.setTimeout(function(){t()},e)}var Eu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jp(){}jp.prototype.h=null;function hE(t){return t.h||(t.h=t.i())}function BE(){}var go={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bp(){Qe.call(this,"d")}xe(Bp,Qe);function Up(){Qe.call(this,"c")}xe(Up,Qe);var wp;function Du(){}xe(Du,jp);Du.prototype.g=function(){return new XMLHttpRequest};Du.prototype.i=function(){return{}};wp=new Du;function mo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ao(this),this.P=uO,t=dp?125:void 0,this.V=new _u(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new UE}function UE(){this.i=null,this.g="",this.h=!1}var uO=45e3,zE={},Ip={};_=mo.prototype;_.setTimeout=function(t){this.P=t};function Ep(t,e,n){t.L=1,t.A=Cu(Dn(e)),t.u=n,t.S=!0,$E(t,null)}function $E(t,e){t.G=Date.now(),yo(t),t.B=Dn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),YE(n.i,"t",r),t.o=0,n=t.l.J,t.h=new UE,t.g=vD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new _p(Ke(t.Pa,t,t.g),t.O)),OE(t.U,t.g,"readystatechange",t.nb),e=t.I?bE(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),co(),sO(t.j,t.v,t.B,t.m,t.W,t.u)}_.nb=function(t){t=t.target;let e=this.M;e&&rn(t)==3?e.l():this.Pa(t)};_.Pa=function(t){try{if(t==this.g)e:{let l=rn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||dp||this.g&&(this.h.h||this.g.ja()||mE(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?co(3):co(2)),bu(this);var n=this.g.da();this.ca=n;t:if(HE(this)){var r=mE(this.g);t="";var i=r.length,s=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_r(this),no(this);var o="";break t}this.h.i=new L.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,oO(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ro(a)){var u=a;break t}}u=null}if(n=u)Ii(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dp(this,n);else{this.i=!1,this.s=3,Je(12),_r(this),no(this);break e}}this.S?(qE(this,l,o),dp&&this.i&&l==3&&(OE(this.U,this.V,"tick",this.mb),this.V.start())):(Ii(this.j,this.m,o,null),Dp(this,o)),l==4&&_r(this),this.i&&!this.J&&(l==4?pD(this.l,this):(this.i=!1,yo(this)))}else xO(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),_r(this),no(this)}}}catch{}finally{}};function HE(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function qE(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=lO(t,n),i==Ip){e==4&&(t.s=4,Je(14),r=!1),Ii(t.j,t.m,null,"[Incomplete Response]");break}else if(i==zE){t.s=4,Je(15),Ii(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ii(t.j,t.m,i,null),Dp(t,i);HE(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Je(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wp(e),e.M=!0,Je(11))):(Ii(t.j,t.m,n,"[Invalid Chunked Response]"),_r(t),no(t))}_.mb=function(){if(this.g){var t=rn(this.g),e=this.g.ja();this.o<e.length&&(bu(this),qE(this,t,e),this.i&&t!=4&&yo(this))}};function lO(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ip:(n=Number(e.substring(n,r)),isNaN(n)?zE:(r+=1,r+n>e.length?Ip:(e=e.slice(r,r+n),t.o=r+n,e)))}_.cancel=function(){this.J=!0,_r(this)};function yo(t){t.Y=Date.now()+t.P,GE(t,t.P)}function GE(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=po(Ke(t.lb,t),e)}function bu(t){t.C&&(L.clearTimeout(t.C),t.C=null)}_.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(aO(this.j,this.B),this.L!=2&&(co(),Je(17)),_r(this),this.s=2,no(this)):GE(this,this.Y-t)};function no(t){t.l.H==0||t.J||pD(t.l,t)}function _r(t){bu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Lp(t.V),kE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Dp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||bp(n.i,t))){if(!t.K&&bp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)du(n),Mu(n);else break e;Gp(n),Je(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=po(Ke(n.ib,n),6e3));if(1>=eD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else wr(n,11)}else if((t.K||n.g==t)&&du(n),!ro(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let y=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(zp(s,s.h),s.h=null))}if(r.F){let T=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,le(r.I,r.F,T))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=yD(r,r.J?r.pa:null,r.Y),o.K){tD(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(bu(a),yo(a)),r.g=o}else hD(r);0<n.j.length&&Au(n)}else u[0]!="stop"&&u[0]!="close"||wr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?wr(n,7):qp(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}co(4)}catch{}}function dO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(gu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function hO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function WE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(gu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=hO(t),r=dO(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var KE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ir(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ir){this.h=t.h,uu(this,t.j),this.s=t.s,this.g=t.g,lu(this,t.m),this.l=t.l;var e=t.i,n=new uo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),fE(this,n),this.o=t.o}else t&&(e=String(t).match(KE))?(this.h=!1,uu(this,e[1]||"",!0),this.s=eo(e[2]||""),this.g=eo(e[3]||"",!0),lu(this,e[4]),this.l=eo(e[5]||"",!0),fE(this,e[6]||"",!0),this.o=eo(e[7]||"")):(this.h=!1,this.i=new uo(null,this.h))}Ir.prototype.toString=function(){var t=[],e=this.j;e&&t.push(to(e,pE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(to(e,pE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(to(n,n.charAt(0)=="/"?mO:gO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",to(n,vO)),t.join("")};function Dn(t){return new Ir(t)}function uu(t,e,n){t.j=n?eo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function lu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function fE(t,e,n){e instanceof uo?(t.i=e,_O(t.i,t.h)):(n||(e=to(e,yO)),t.i=new uo(e,t.h))}function le(t,e,n){t.i.set(e,n)}function Cu(t){return le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function eo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function to(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,pO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var pE=/[#\/\?@]/g,gO=/[#\?:]/g,mO=/[#\?]/g,yO=/[#\?@]/g,vO=/#/g;function uo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Un(t){t.g||(t.g=new Map,t.h=0,t.i&&fO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}_=uo.prototype;_.add=function(t,e){Un(this),this.i=null,t=bi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function QE(t,e){Un(t),e=bi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ZE(t,e){return Un(t),e=bi(t,e),t.g.has(e)}_.forEach=function(t,e){Un(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};_.ta=function(){Un(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};_.Z=function(t){Un(this);let e=[];if(typeof t=="string")ZE(this,t)&&(e=e.concat(this.g.get(bi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};_.set=function(t,e){return Un(this),this.i=null,t=bi(this,t),ZE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};_.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function YE(t,e,n){QE(t,e),0<n.length&&(t.i=null,t.g.set(bi(t,e),Mp(n)),t.h+=n.length)}_.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function bi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function _O(t,e){e&&!t.j&&(Un(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(QE(this,r),YE(this,i,n))},t)),t.j=e}var wO=class{constructor(t,e){this.g=t,this.map=e}};function XE(t){this.l=t||IO,L.PerformanceNavigationTiming?(t=L.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(L.g&&L.g.Ka&&L.g.Ka()&&L.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var IO=10;function JE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function eD(t){return t.h?1:t.g?t.g.size:0}function bp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function zp(t,e){t.g?t.g.add(e):t.h=e}function tD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}XE.prototype.cancel=function(){if(this.i=nD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function nD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Mp(t.i)}var EO=class{stringify(t){return L.JSON.stringify(t,void 0)}parse(t){return L.JSON.parse(t,void 0)}};function DO(){this.g=new EO}function bO(t,e,n){let r=n||"";try{WE(t,function(i,s){let o=i;ho(i)&&(o=kp(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function CO(t,e){let n=new wu;if(L.Image){let r=new Image;r.onload=nu(au,n,r,"TestLoadImage: loaded",!0,e),r.onerror=nu(au,n,r,"TestLoadImage: error",!1,e),r.onabort=nu(au,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=nu(au,n,r,"TestLoadImage: timeout",!1,e),L.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function au(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function vo(t){this.l=t.ec||null,this.j=t.ob||!1}xe(vo,jp);vo.prototype.g=function(){return new Tu(this.l,this.j)};vo.prototype.i=function(t){return function(){return t}}({});function Tu(t,e){Ae.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=$p,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xe(Tu,Ae);var $p=0;_=Tu.prototype;_.open=function(t,e){if(this.readyState!=$p)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,lo(this)};_.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||L).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};_.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=$p};_.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,lo(this)),this.g&&(this.readyState=3,lo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof L.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function rD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}_.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_o(this):lo(this),this.readyState==3&&rD(this)}};_.Za=function(t){this.g&&(this.response=this.responseText=t,_o(this))};_.Ya=function(t){this.g&&(this.response=t,_o(this))};_.ka=function(){this.g&&_o(this)};function _o(t){t.readyState=4,t.l=null,t.j=null,t.A=null,lo(t)}_.setRequestHeader=function(t,e){this.v.append(t,e)};_.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};_.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function lo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var TO=L.JSON.parse;function ge(t){Ae.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iD,this.L=this.M=!1}xe(ge,Ae);var iD="",SO=/^https?$/i,MO=["POST","PUT"];_=ge.prototype;_.Oa=function(t){this.M=t};_.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wp.g(),this.C=this.u?hE(this.u):hE(wp),this.g.onreadystatechange=Ke(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){gE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=L.FormData&&t instanceof L.FormData,!(0<=wE(MO,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{aD(this),0<this.B&&((this.L=AO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ke(this.ua,this)):this.A=Vp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){gE(this,s)}};function AO(t){return Di&&typeof t.timeout=="number"&&t.ontimeout!==void 0}_.ua=function(){typeof Sp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))};function gE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,sD(t),Su(t)}function sD(t){t.F||(t.F=!0,je(t,"complete"),je(t,"error"))}_.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,je(this,"complete"),je(this,"abort"),Su(this))};_.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Su(this,!0)),ge.$.N.call(this)};_.La=function(){this.s||(this.G||this.v||this.l?oD(this):this.kb())};_.kb=function(){oD(this)};function oD(t){if(t.h&&typeof Sp<"u"&&(!t.C[1]||rn(t)!=4||t.da()!=2)){if(t.v&&rn(t)==4)Vp(t.La,0,t);else if(je(t,"readystatechange"),rn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(KE)[1]||null;!i&&L.self&&L.self.location&&(i=L.self.location.protocol.slice(0,-1)),r=!SO.test(i?i.toLowerCase():"")}n=r}if(n)je(t,"complete"),je(t,"success");else{t.m=6;try{var s=2<rn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",sD(t)}}finally{Su(t)}}}}function Su(t,e){if(t.g){aD(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||je(t,"ready");try{n.onreadystatechange=r}catch{}}}function aD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(L.clearTimeout(t.A),t.A=null)}_.isActive=function(){return!!this.g};function rn(t){return t.g?t.g.readyState:0}_.da=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}};_.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};_.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),TO(e)}};function mE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case iD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function xO(t){let e={};t=(t.g&&2<=rn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ro(t[r]))continue;var n=nO(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}XP(e,function(r){return r.join(", ")})}_.Ia=function(){return this.m};_.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function cD(t){let e="";return xp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Hp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=cD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):le(t,e,n))}function Xs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function uD(t){this.Ga=0,this.j=[],this.l=new wu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xs("baseRetryDelayMs",5e3,t),this.hb=Xs("retryDelaySeedMs",1e4,t),this.eb=Xs("forwardChannelMaxRetries",2,t),this.xa=Xs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new XE(t&&t.concurrentRequestLimit),this.Ja=new DO,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}_=uD.prototype;_.ra=8;_.H=1;function qp(t){if(lD(t),t.H==3){var e=t.W++,n=Dn(t.I);if(le(n,"SID",t.K),le(n,"RID",e),le(n,"TYPE","terminate"),wo(t,n),e=new mo(t,t.l,e),e.L=2,e.A=Cu(Dn(n)),n=!1,L.navigator&&L.navigator.sendBeacon)try{n=L.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&L.Image&&(new Image().src=e.A,n=!0),n||(e.g=vD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),yo(e)}mD(t)}function Mu(t){t.g&&(Wp(t),t.g.cancel(),t.g=null)}function lD(t){Mu(t),t.u&&(L.clearTimeout(t.u),t.u=null),du(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&L.clearTimeout(t.m),t.m=null)}function Au(t){if(!JE(t.i)&&!t.m){t.m=!0;var e=t.Na;so||NE(),oo||(so(),oo=!0),Fp.add(e,t),t.C=0}}function RO(t,e){return eD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=po(Ke(t.Na,t,e),gD(t,t.C)),t.C++,!0)}_.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new mo(this,this.l,t),s=this.s;if(this.U&&(s?(s=bE(s),CE(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=dD(this,i,e),n=Dn(this.I),le(n,"RID",t),le(n,"CVER",22),this.F&&le(n,"X-HTTP-Session-Id",this.F),wo(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(cD(s)))+"&"+e:this.o&&Hp(n,this.o,s)),zp(this.i,i),this.bb&&le(n,"TYPE","init"),this.P?(le(n,"$req",e),le(n,"SID","null"),i.aa=!0,Ep(i,n,null)):Ep(i,n,e),this.H=2}}else this.H==3&&(t?yE(this,t):this.j.length==0||JE(this.i)||yE(this))};function yE(t,e){var n;e?n=e.m:n=t.W++;let r=Dn(t.I);le(r,"SID",t.K),le(r,"RID",n),le(r,"AID",t.V),wo(t,r),t.o&&t.s&&Hp(r,t.o,t.s),n=new mo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=dD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),zp(t.i,n),Ep(n,r,e)}function wo(t,e){t.na&&xp(t.na,function(n,r){le(e,r,n)}),t.h&&WE({},function(n,r){le(e,r,n)})}function dD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ke(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{bO(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function hD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;so||NE(),oo||(so(),oo=!0),Fp.add(e,t),t.A=0}}function Gp(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=po(Ke(t.Ma,t),gD(t,t.A)),t.A++,!0)}_.Ma=function(){if(this.u=null,fD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=po(Ke(this.jb,this),t)}};_.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Je(10),Mu(this),fD(this))};function Wp(t){t.B!=null&&(L.clearTimeout(t.B),t.B=null)}function fD(t){t.g=new mo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Dn(t.wa);le(e,"RID","rpc"),le(e,"SID",t.K),le(e,"AID",t.V),le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&le(e,"TO",t.qa),le(e,"TYPE","xmlhttp"),wo(t,e),t.o&&t.s&&Hp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Cu(Dn(e)),n.u=null,n.S=!0,$E(n,t)}_.ib=function(){this.v!=null&&(this.v=null,Mu(this),Gp(this),Je(19))};function du(t){t.v!=null&&(L.clearTimeout(t.v),t.v=null)}function pD(t,e){var n=null;if(t.g==e){du(t),Wp(t),t.g=null;var r=2}else if(bp(t.i,e))n=e.F,tD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Iu(),je(r,new VE(r,n)),Au(t)}else hD(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&RO(t,e)||r==2&&Gp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:wr(t,5);break;case 4:wr(t,10);break;case 3:wr(t,6);break;default:wr(t,2)}}}function gD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function wr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ke(t.pb,t);n||(n=new Ir("//www.google.com/images/cleardot.gif"),L.location&&L.location.protocol=="http"||uu(n,"https"),Cu(n)),CO(n.toString(),r)}else Je(2);t.H=0,t.h&&t.h.za(e),mD(t),lD(t)}_.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Je(2)):(this.l.info("Failed to ping google.com"),Je(1))};function mD(t){if(t.H=0,t.ma=[],t.h){let e=nD(t.i);(e.length!=0||t.j.length!=0)&&(cE(t.ma,e),cE(t.ma,t.j),t.i.i.length=0,Mp(t.j),t.j.length=0),t.h.ya()}}function yD(t,e,n){var r=n instanceof Ir?Dn(n):new Ir(n);if(r.g!="")e&&(r.g=e+"."+r.g),lu(r,r.m);else{var i=L.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ir(null);r&&uu(s,r),e&&(s.g=e),i&&lu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&le(r,n,e),le(r,"VER",t.ra),wo(t,r),r}function vD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ge(new vo({ob:n})):new ge(t.va),e.Oa(t.J),e}_.isActive=function(){return!!this.h&&this.h.isActive(this)};function _D(){}_=_D.prototype;_.Ba=function(){};_.Aa=function(){};_.za=function(){};_.ya=function(){};_.isActive=function(){return!0};_.Va=function(){};function hu(){if(Di&&!(10<=Number(KP)))throw Error("Environmental error: no available transport.")}hu.prototype.g=function(t,e){return new ut(t,e)};function ut(t,e){Ae.call(this),this.g=new uD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ro(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ro(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ci(this)}xe(ut,Ae);ut.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Je(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=yD(t,null,t.Y),Au(t)};ut.prototype.close=function(){qp(this.g)};ut.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=kp(t),t=n);e.j.push(new wO(e.fb++,t)),e.H==3&&Au(e)};ut.prototype.N=function(){this.g.h=null,delete this.j,qp(this.g),delete this.g,ut.$.N.call(this)};function wD(t){Bp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xe(wD,Bp);function ID(){Up.call(this),this.status=1}xe(ID,Up);function Ci(t){this.g=t}xe(Ci,_D);Ci.prototype.Ba=function(){je(this.g,"a")};Ci.prototype.Aa=function(t){je(this.g,new wD(t))};Ci.prototype.za=function(t){je(this.g,new ID)};Ci.prototype.ya=function(){je(this.g,"b")};function NO(){this.blockSize=-1}function Vt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xe(Vt,NO);Vt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function lp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Vt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)lp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){lp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){lp(this,r),i=0;break}}this.h=i,this.i+=e};Vt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ie(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var PO={};function Kp(t){return-128<=t&&128>t?qP(t,function(e){return new ie([e|0],0>e?-1:0)}):new ie([t|0],0>t?-1:0)}function sn(t){if(isNaN(t)||!isFinite(t))return Ei;if(0>t)return Ve(sn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Cp;return new ie(e,0)}function ED(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ve(ED(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=sn(Math.pow(e,8)),r=Ei,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=sn(Math.pow(e,s)),r=r.R(s).add(sn(o))):(r=r.R(n),r=r.add(sn(o)))}return r}var Cp=4294967296,Ei=Kp(0),Tp=Kp(1),vE=Kp(16777216);_=ie.prototype;_.ea=function(){if(Ct(this))return-Ve(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Cp+r)*e,e*=Cp}return t};_.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(En(this))return"0";if(Ct(this))return"-"+Ve(this).toString(t);for(var e=sn(Math.pow(t,6)),n=this,r="";;){var i=pu(n,e).g;n=fu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,En(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};_.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function En(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ct(t){return t.h==-1}_.X=function(t){return t=fu(this,t),Ct(t)?-1:En(t)?0:1};function Ve(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ie(n,~t.h).add(Tp)}_.abs=function(){return Ct(this)?Ve(this):this};_.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ie(n,n[n.length-1]&-2147483648?-1:0)};function fu(t,e){return t.add(Ve(e))}_.R=function(t){if(En(this)||En(t))return Ei;if(Ct(this))return Ct(t)?Ve(this).R(Ve(t)):Ve(Ve(this).R(t));if(Ct(t))return Ve(this.R(Ve(t)));if(0>this.X(vE)&&0>t.X(vE))return sn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,cu(n,2*r+2*i),n[2*r+2*i+1]+=s*c,cu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,cu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,cu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ie(n,0)};function cu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Js(t,e){this.g=t,this.h=e}function pu(t,e){if(En(e))throw Error("division by zero");if(En(t))return new Js(Ei,Ei);if(Ct(t))return e=pu(Ve(t),e),new Js(Ve(e.g),Ve(e.h));if(Ct(e))return e=pu(t,Ve(e)),new Js(Ve(e.g),e.h);if(30<t.g.length){if(Ct(t)||Ct(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Tp,r=e;0>=r.X(t);)n=_E(n),r=_E(r);var i=wi(n,1),s=wi(r,1);for(r=wi(r,2),n=wi(n,2);!En(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=wi(r,1),n=wi(n,1)}return e=fu(t,i.R(e)),new Js(i,e)}for(i=Ei;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=sn(n),o=s.R(e);Ct(o)||0<o.X(t);)n-=r,s=sn(n),o=s.R(e);En(s)&&(s=Tp),i=i.add(s),t=fu(t,o)}return new Js(i,t)}_.gb=function(t){return pu(this,t).h};_.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ie(n,this.h&t.h)};_.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ie(n,this.h|t.h)};_.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ie(n,this.h^t.h)};function _E(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ie(n,t.h)}function wi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ie(i,t.h)}hu.prototype.createWebChannel=hu.prototype.g;ut.prototype.send=ut.prototype.u;ut.prototype.open=ut.prototype.m;ut.prototype.close=ut.prototype.close;Eu.NO_ERROR=0;Eu.TIMEOUT=8;Eu.HTTP_ERROR=6;jE.COMPLETE="complete";BE.EventType=go;go.OPEN="a";go.CLOSE="b";go.ERROR="c";go.MESSAGE="d";Ae.prototype.listen=Ae.prototype.O;ge.prototype.listenOnce=ge.prototype.P;ge.prototype.getLastError=ge.prototype.Sa;ge.prototype.getLastErrorCode=ge.prototype.Ia;ge.prototype.getStatus=ge.prototype.da;ge.prototype.getResponseJson=ge.prototype.Wa;ge.prototype.getResponseText=ge.prototype.ja;ge.prototype.send=ge.prototype.ha;ge.prototype.setWithCredentials=ge.prototype.Oa;Vt.prototype.digest=Vt.prototype.l;Vt.prototype.reset=Vt.prototype.reset;Vt.prototype.update=Vt.prototype.j;ie.prototype.add=ie.prototype.add;ie.prototype.multiply=ie.prototype.R;ie.prototype.modulo=ie.prototype.gb;ie.prototype.compare=ie.prototype.X;ie.prototype.toNumber=ie.prototype.ea;ie.prototype.toString=ie.prototype.toString;ie.prototype.getBits=ie.prototype.D;ie.fromNumber=sn;ie.fromString=ED;var DD=jt.createWebChannelTransport=function(){return new hu},bD=jt.getStatEventTarget=function(){return Iu()},xu=jt.ErrorCode=Eu,CD=jt.EventType=jE,TD=jt.Event=Er,Qp=jt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kz=jt.FetchXmlHttpFactory=vo,Io=jt.WebChannel=BE,SD=jt.XhrIo=ge,MD=jt.Md5=Vt,Dr=jt.Integer=ie;var AD="@firebase/firestore";var Re=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Re.UNAUTHENTICATED=new Re(null),Re.GOOGLE_CREDENTIALS=new Re("google-credentials-uid"),Re.FIRST_PARTY=new Re("first-party-uid"),Re.MOCK_USER=new Re("mock-user");var Gi="10.9.0";var xr=new _i("@firebase/firestore");function Eo(){return xr.logLevel}function I(t,...e){if(xr.logLevel<=Z.DEBUG){let n=e.map(Om);xr.debug(`Firestore (${Gi}): ${t}`,...n)}}function un(t,...e){if(xr.logLevel<=Z.ERROR){let n=e.map(Om);xr.error(`Firestore (${Gi}): ${t}`,...n)}}function Pi(t,...e){if(xr.logLevel<=Z.WARN){let n=e.map(Om);xr.warn(`Firestore (${Gi}): ${t}`,...n)}}function Om(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function j(t="Unexpected state"){let e=`FIRESTORE (${Gi}) INTERNAL ASSERTION FAILED: `+t;throw un(e),new Error(e)}function De(t,e){t||j()}function X(t,e){return t}var g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=class extends Ot{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Bt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ou=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},tg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Re.UNAUTHENTICATED))}shutdown(){}},ng=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},rg=class{constructor(e){this.t=e,this.currentUser=Re.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Bt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Bt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>m(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Bt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Ou(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Re(e)}},ig=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Re.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},sg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ig(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Re.FIRST_PARTY))}shutdown(){}invalidateToken(){}},og=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ag=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,I("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new og(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function OO(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ku=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=OO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function re(t,e){return t<e?-1:t>e?1:0}function Oi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var be=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var U=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new be(0,0))}static max(){return new t(new be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Fu=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&j(),r===void 0?r=e.length-n:r>e.length-n&&j(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},pe=class t extends Fu{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new C(g.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},kO=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tt=class t extends Fu{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return kO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new C(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new C(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var x=class t{constructor(e){this.path=e}static fromPath(e){return new t(pe.fromString(e))}static fromName(e){return new t(pe.fromString(e).popFirst(5))}static empty(){return new t(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new pe(e.slice()))}};var cg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};cg.UNKNOWN_ID=-1;function FO(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(r===1e9?new be(n+1,0):new be(n,r));return new Rr(i,x.empty(),e)}function LO(t){return new Rr(t.readTime,t.key,-1)}var Rr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(U.min(),x.empty(),-1)}static max(){return new t(U.max(),x.empty(),-1)}};function VO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=x.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}var jO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ug=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function km(t){return m(this,null,function*(){if(t.code!==g.FAILED_PRECONDITION||t.message!==jO)throw t;I("LocalStore","Unexpectedly lost primary lease")})}var p=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var lg=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Bt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ar(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Fm(r.target.error);this.V.reject(new Ar(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Ar(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(I("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new hg(n)}},Lu=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Qs())===12.2&&un("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return I("SimpleDb","Removing database:",e),br(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Qc())return!1;if(t.C())return!0;let e=Qs(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return m(this,null,function*(){return this.db||(I("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Ar(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new C(g.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new C(g.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ar(e,o))},i.onupgradeneeded=s=>{I("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{I("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return m(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=lg.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),p.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(I("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},dg=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return br(this.k.delete())}},Ar=class extends C{constructor(e,n){super(g.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function qo(t){return t.name==="IndexedDbTransactionError"}var hg=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(I("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(I("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),br(r)}add(e){return I("SimpleDb","ADD",this.store.name,e,e),br(this.store.add(e))}get(e){return br(this.store.get(e)).next(n=>(n===void 0&&(n=null),I("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return I("SimpleDb","DELETE",this.store.name,e),br(this.store.delete(e))}count(){return I("SimpleDb","COUNT",this.store.name),br(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new p((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new p((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){I("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new p((r,i)=>{n.onerror=s=>{let o=Fm(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new p((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new dg(a),u=n(a.primaryKey,a.value,c);if(u instanceof p){let l=u.catch(d=>(c.done(),p.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>p.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function br(t){return new p((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=Fm(r.target.error);n(i)}})}var xD=!1;function Fm(t){let e=Lu.S(Qs());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xD||(xD=!0,setTimeout(()=>{throw r},0)),r}}return t}var cb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function ul(t){return t==null}function Ao(t){return t===0&&1/t==-1/0}function BO(t){return typeof t=="number"&&Number.isInteger(t)&&!Ao(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var UO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],s$=[...UO,"documentOverlays"],zO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$O=zO,o$=[...$O,"indexConfiguration","indexState","indexEntries"];function RD(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Go(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ub(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ve=class t{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ai(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ai(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ai(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ai(this.root,e,this.comparator,!0)}},Ai=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},an=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();let e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}};an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(e,n,r,i,s){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ye=class t{constructor(e){this.comparator=e,this.data=new ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vu(this.data.getIterator())}getIteratorFrom(e){return new Vu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Vu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Cr=class t{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ye(Tt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oi(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ju=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ju("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};et.EMPTY_BYTE_STRING=new et("");var HO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $n(t){if(De(!!t),typeof t=="string"){let e=0,n=HO.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(t.seconds),nanos:me(t.nanos)}}function me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hn(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}function Lm(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vm(t){let e=t.mapValue.fields.__previous_value__;return Lm(e)?Vm(e):e}function xo(t){let e=$n(t.mapValue.fields.__local_write_time__.timestampValue);return new be(e.seconds,e.nanos)}var fg=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Bu=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ru={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lm(t)?4:lb(t)?9007199254740991:10:j()}function ln(t,e){if(t===e)return!0;let n=Nr(t);if(n!==Nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xo(t).isEqual(xo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=$n(i.timestampValue),a=$n(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Hn(i.bytesValue).isEqual(Hn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return me(i.geoPointValue.latitude)===me(s.geoPointValue.latitude)&&me(i.geoPointValue.longitude)===me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return me(i.integerValue)===me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=me(i.doubleValue),a=me(s.doubleValue);return o===a?Ao(o)===Ao(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Oi(t.arrayValue.values||[],e.arrayValue.values||[],ln);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(RD(o)!==RD(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ln(o[c],a[c])))return!1;return!0}(t,e);default:return j()}}function Ro(t,e){return(t.values||[]).find(n=>ln(n,e))!==void 0}function ki(t,e){if(t===e)return 0;let n=Nr(t),r=Nr(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=me(s.integerValue||s.doubleValue),c=me(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return ND(t.timestampValue,e.timestampValue);case 4:return ND(xo(t),xo(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Hn(s),c=Hn(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=re(a[u],c[u]);if(l!==0)return l}return re(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=re(me(s.latitude),me(o.latitude));return a!==0?a:re(me(s.longitude),me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=ki(a[u],c[u]);if(l)return l}return re(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ru.mapValue&&o===Ru.mapValue)return 0;if(s===Ru.mapValue)return 1;if(o===Ru.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=re(c[d],l[d]);if(h!==0)return h;let f=ki(a[c[d]],u[l[d]]);if(f!==0)return f}return re(c.length,l.length)}(t.mapValue,e.mapValue);default:throw j()}}function ND(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);let n=$n(t),r=$n(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function Fi(t){return pg(t)}function pg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=$n(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return x.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=pg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${pg(n.fields[o])}`;return i+"}"}(t.mapValue):j()}function PD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gg(t){return!!t&&"integerValue"in t}function jm(t){return!!t&&"arrayValue"in t}function OD(t){return!!t&&"nullValue"in t}function kD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zp(t){return!!t&&"mapValue"in t}function bo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Go(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bo(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var bn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bo(n)}setAll(e){let n=Tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=bo(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Zp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Go(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(bo(this.value))}};var Ut=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,U.min(),U.min(),U.min(),bn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,U.min(),U.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,U.min(),U.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Li=class{constructor(e,n){this.position=e,this.inclusive=n}};function FD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=x.comparator(x.fromName(o.referenceValue),n.key):r=ki(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function LD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ln(t.position[n],e.position[n]))return!1;return!0}var Vi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function qO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Uu=class{},Ee=class t extends Uu{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yg(e,n,r):n==="array-contains"?new wg(e,r):n==="in"?new Ig(e,r):n==="not-in"?new Eg(e,r):n==="array-contains-any"?new Dg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vg(e,r):new _g(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ki(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(ki(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return j()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},zt=class t extends Uu{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return db(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function db(t){return t.op==="and"}function hb(t){return GO(t)&&db(t)}function GO(t){for(let e of t.filters)if(e instanceof zt)return!1;return!0}function mg(t){if(t instanceof Ee)return t.field.canonicalString()+t.op.toString()+Fi(t.value);if(hb(t))return t.filters.map(e=>mg(e)).join(",");{let e=t.filters.map(n=>mg(n)).join(",");return`${t.op}(${e})`}}function fb(t,e){return t instanceof Ee?function(r,i){return i instanceof Ee&&r.op===i.op&&r.field.isEqual(i.field)&&ln(r.value,i.value)}(t,e):t instanceof zt?function(r,i){return i instanceof zt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&fb(o,i.filters[a]),!0):!1}(t,e):void j()}function pb(t){return t instanceof Ee?function(n){return`${n.field.canonicalString()} ${n.op} ${Fi(n.value)}`}(t):t instanceof zt?function(n){return n.op.toString()+" {"+n.getFilters().map(pb).join(" ,")+"}"}(t):"Filter"}var yg=class extends Ee{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){let n=x.comparator(e.key,this.key);return this.matchesComparison(n)}},vg=class extends Ee{constructor(e,n){super(e,"in",n),this.keys=gb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},_g=class extends Ee{constructor(e,n){super(e,"not-in",n),this.keys=gb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function gb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}var wg=class extends Ee{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return jm(n)&&Ro(n.arrayValue,this.value)}},Ig=class extends Ee{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ro(this.value.arrayValue,n)}},Eg=class extends Ee{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ro(this.value.arrayValue,n)}},Dg=class extends Ee{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ro(this.value.arrayValue,r))}};var bg=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function VD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bg(t,e,n,r,i,s,o)}function Bm(t){let e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ul(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fi(r)).join(",")),e.ce=n}return e.ce}function Um(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LD(t.startAt,e.startAt)&&LD(t.endAt,e.endAt)}function Cg(t){return x.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Pr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function WO(t,e,n,r,i,s,o,a){return new Pr(t,e,n,r,i,s,o,a)}function zm(t){return new Pr(t)}function jD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mb(t){return t.collectionGroup!==null}function Co(t){let e=X(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ye(Tt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Vi(s,r))}),n.has(Tt.keyField().canonicalString())||e.le.push(new Vi(Tt.keyField(),r))}return e.le}function cn(t){let e=X(t);return e.he||(e.he=KO(e,Co(t))),e.he}function KO(t,e){if(t.limitType==="F")return VD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Vi(i.field,s)});let n=t.endAt?new Li(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Li(t.startAt.position,t.startAt.inclusive):null;return VD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tg(t,e){let n=t.filters.concat([e]);return new Pr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sg(t,e,n){return new Pr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ll(t,e){return Um(cn(t),cn(e))&&t.limitType===e.limitType}function yb(t){return`${Bm(cn(t))}|lt:${t.limitType}`}function Ti(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>pb(i)).join(", ")}]`),ul(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fi(i)).join(",")),`Target(${r})`}(cn(t))}; limitType=${t.limitType})`}function dl(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):x.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Co(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=FD(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Co(r),i)||r.endAt&&!function(o,a,c){let u=FD(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Co(r),i))}(t,e)}function QO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vb(t){return(e,n)=>{let r=!1;for(let i of Co(t)){let s=ZO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ZO(t,e,n){let r=t.field.isKeyField()?x.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?ki(c,u):j()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}var qn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return ub(this.inner)}size(){return this.innerSize}};var YO=new ve(x.comparator);function Gn(){return YO}var _b=new ve(x.comparator);function Do(...t){let e=_b;for(let n of t)e=e.insert(n.key,n);return e}function XO(t){let e=_b;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Tr(){return To()}function wb(){return To()}function To(){return new qn(t=>t.toString(),(t,e)=>t.isEqual(e))}var c$=new ve(x.comparator),JO=new Ye(x.comparator);function Y(...t){let e=JO;for(let n of t)e=e.add(n);return e}var ek=new Ye(re);function tk(){return ek}function Ib(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ao(e)?"-0":e}}function Eb(t){return{integerValue:""+t}}function nk(t,e){return BO(e)?Eb(e):Ib(t,e)}var ji=class{constructor(){this._=void 0}};function rk(t,e,n){return t instanceof No?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Lm(s)&&(s=Vm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Bi?Db(t,e):t instanceof Ui?bb(t,e):function(i,s){let o=sk(i,s),a=BD(o)+BD(i.Ie);return gg(o)&&gg(i.Ie)?Eb(a):Ib(i.serializer,a)}(t,e)}function ik(t,e,n){return t instanceof Bi?Db(t,e):t instanceof Ui?bb(t,e):n}function sk(t,e){return t instanceof Po?function(r){return gg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var No=class extends ji{},Bi=class extends ji{constructor(e){super(),this.elements=e}};function Db(t,e){let n=Cb(e);for(let r of t.elements)n.some(i=>ln(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ui=class extends ji{constructor(e){super(),this.elements=e}};function bb(t,e){let n=Cb(e);for(let r of t.elements)n=n.filter(i=>!ln(i,r));return{arrayValue:{values:n}}}var Po=class extends ji{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function BD(t){return me(t.integerValue||t.doubleValue)}function Cb(t){return jm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ok(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Bi&&i instanceof Bi||r instanceof Ui&&i instanceof Ui?Oi(r.elements,i.elements,ln):r instanceof Po&&i instanceof Po?ln(r.Ie,i.Ie):r instanceof No&&i instanceof No}(t.transform,e.transform)}var So=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Pu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Oo=class{};function Tb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mg(t.key,So.none()):new ko(t.key,t.data,So.none());{let n=t.data,r=bn.empty(),i=new Ye(Tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new zi(t.key,r,new Cr(i.toArray()),So.none())}}function ak(t,e,n){t instanceof ko?function(i,s,o){let a=i.value.clone(),c=zD(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zi?function(i,s,o){if(!Pu(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=zD(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Sb(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Mo(t,e,n,r){return t instanceof ko?function(s,o,a,c){if(!Pu(s.precondition,o))return a;let u=s.value.clone(),l=$D(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof zi?function(s,o,a,c){if(!Pu(s.precondition,o))return a;let u=$D(s.fieldTransforms,c,o),l=o.data;return l.setAll(Sb(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Pu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function UD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oi(r,i,(s,o)=>ok(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ko=class extends Oo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},zi=class extends Oo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Sb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function zD(t,e,n){let r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ik(o,a,n[i]))}return r}function $D(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,rk(s,o,e))}return r}var Mg=class extends Oo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Ag=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&ak(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mo(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Mo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=wb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=Tb(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Y())}isEqual(e){return this.batchId===e.batchId&&Oi(this.mutations,e.mutations,(n,r)=>UD(n,r))&&Oi(this.baseMutations,e.baseMutations,(n,r)=>UD(n,r))}};var xg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Rg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var we,Q;function Mb(t){if(t===void 0)return un("GRPC error has no .code"),g.UNKNOWN;switch(t){case we.OK:return g.OK;case we.CANCELLED:return g.CANCELLED;case we.UNKNOWN:return g.UNKNOWN;case we.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case we.INTERNAL:return g.INTERNAL;case we.UNAVAILABLE:return g.UNAVAILABLE;case we.UNAUTHENTICATED:return g.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case we.NOT_FOUND:return g.NOT_FOUND;case we.ALREADY_EXISTS:return g.ALREADY_EXISTS;case we.PERMISSION_DENIED:return g.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case we.ABORTED:return g.ABORTED;case we.OUT_OF_RANGE:return g.OUT_OF_RANGE;case we.UNIMPLEMENTED:return g.UNIMPLEMENTED;case we.DATA_LOSS:return g.DATA_LOSS;default:return j()}}(Q=we||(we={}))[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";var HD=null;function ck(){return new TextEncoder}var uk=new Dr([4294967295,4294967295],0);function qD(t){let e=ck().encode(t),n=new MD;return n.update(e),new Uint8Array(n.digest())}function GD(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Dr([n,r],0),new Dr([i,s],0)]}var Ng=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sr(`Invalid padding: ${n}`);if(r<0)throw new Sr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Dr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Dr.fromNumber(r)));return i.compare(uk)===1&&(i=new Dr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=qD(e),[r,i]=GD(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=qD(e),[r,i]=GD(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Sr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var zu=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Fo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(U.min(),i,new ve(re),Gn(),Y())}},Fo=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Y(),Y(),Y())}};var xi=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},$u=class{constructor(e,n){this.targetId=e,this.fe=n}},Hu=class{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},qu=class{constructor(){this.ge=0,this.pe=KD(),this.ye=et.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Y(),n=Y(),r=Y();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new Fo(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=KD()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,De(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},Pg=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=Gn(),this.Qe=WD(),this.Ke=new ve(re)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(Cg(s))if(r===0){let o=new x(s.path);this.We(n,o,Ut.newNoDocument(o,U.min()))}else De(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}HD?.tt(function(l,d,h,f,y){var T,b,N,oe,$,H;let Ce={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},te=d.unchangedNames;return te&&(Ce.bloomFilter={applied:y===0,hashCount:(T=te?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(oe=(N=(b=te?.bits)===null||b===void 0?void 0:b.bitmap)===null||N===void 0?void 0:N.length)!==null&&oe!==void 0?oe:0,padding:(H=($=te?.bits)===null||$===void 0?void 0:$.padding)!==null&&H!==void 0?H:0,mightContain:Xe=>{var ht;return(ht=f?.mightContain(Xe))!==null&&ht!==void 0&&ht}}),Ce}(o,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Hn(r).toUint8Array()}catch(c){if(c instanceof ju)return Pi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Ng(o,i,s)}catch(c){return Pi(c instanceof Sr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Cg(a.target)){let c=new x(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Ut.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Y();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new zu(e,n,this.Ke,this.qe,r);return this.qe=Gn(),this.Qe=WD(),this.Ke=new ve(re),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new qu,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ye(re),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||I("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new qu),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function WD(){return new ve(x.comparator)}function KD(){return new ve(x.comparator)}var lk={asc:"ASCENDING",desc:"DESCENDING"},dk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hk={and:"AND",or:"OR"},Og=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function kg(t,e){return t.useProto3Json||ul(e)?e:{value:e}}function Fg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ab(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ri(t){return De(!!t),U.fromTimestamp(function(n){let r=$n(n);return new be(r.seconds,r.nanos)}(t))}function xb(t,e){return Lg(t,e).canonicalString()}function Lg(t,e){let n=function(i){return new pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Rb(t){let e=pe.fromString(t);return De(Fb(e)),e}function Yp(t,e){let n=Rb(e);if(n.get(1)!==t.databaseId.projectId)throw new C(g.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(g.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(Pb(n))}function Nb(t,e){return xb(t.databaseId,e)}function fk(t){let e=Rb(t);return e.length===4?pe.emptyPath():Pb(e)}function QD(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Pb(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pk(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:j()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(De(l===void 0||typeof l=="string"),et.fromBase64String(l||"")):(De(l===void 0||l instanceof Uint8Array),et.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?g.UNKNOWN:Mb(u.code);return new C(l,u.message||"")}(o);n=new Hu(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Yp(t,r.document.name),s=Ri(r.document.updateTime),o=r.document.createTime?Ri(r.document.createTime):U.min(),a=new bn({mapValue:{fields:r.document.fields}}),c=Ut.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new xi(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Yp(t,r.document),s=r.readTime?Ri(r.readTime):U.min(),o=Ut.newNoDocument(i,s),a=r.removedTargetIds||[];n=new xi([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Yp(t,r.document),s=r.removedTargetIds||[];n=new xi([],s,i,null)}else{if(!("filter"in e))return j();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Rg(i,s),a=r.targetId;n=new $u(a,o)}}return n}function gk(t,e){return{documents:[Nb(t,e.path)]}}function mk(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Nb(t,i);let s=function(u){if(u.length!==0)return kb(zt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Si(h.field),direction:_k(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=kg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function yk(t){let e=fk(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){De(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=Ob(d);return h instanceof zt&&hb(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(y){return new Vi(Mi(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,ul(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Li(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new Li(f,h)}(n.endAt)),WO(e,i,o,s,a,"F",c,u)}function vk(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ob(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Mi(n.unaryFilter.field);return Ee.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Mi(n.unaryFilter.field);return Ee.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Mi(n.unaryFilter.field);return Ee.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Mi(n.unaryFilter.field);return Ee.create(o,"!=",{nullValue:"NULL_VALUE"});default:return j()}}(t):t.fieldFilter!==void 0?function(n){return Ee.create(Mi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zt.create(n.compositeFilter.filters.map(r=>Ob(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return j()}}(n.compositeFilter.op))}(t):j()}function _k(t){return lk[t]}function wk(t){return dk[t]}function Ik(t){return hk[t]}function Si(t){return{fieldPath:t.canonicalString()}}function Mi(t){return Tt.fromServerFormat(t.fieldPath)}function kb(t){return t instanceof Ee?function(n){if(n.op==="=="){if(kD(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NAN"}};if(OD(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kD(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NOT_NAN"}};if(OD(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Si(n.field),op:wk(n.op),value:n.value}}}(t):t instanceof zt?function(n){let r=n.getFilters().map(i=>kb(i));return r.length===1?r[0]:{compositeFilter:{op:Ik(n.op),filters:r}}}(t):j()}function Fb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Lo=class t{constructor(e,n,r,i,s=U.min(),o=U.min(),a=et.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Vg=class{constructor(e){this.ct=e}};function Ek(t){let e=yk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sg(e,e.limit,"L"):e}var Gu=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(me(e.integerValue));else if("doubleValue"in e){let r=me(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Ao(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Hn(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?lb(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):j()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),x.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Gu.bt=new Gu;var jg=class{constructor(){this._n=new Bg}addToCollectionParentIndex(e,n){return this._n.add(n),p.resolve()}getCollectionParents(e,n){return p.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return p.resolve()}deleteFieldIndex(e,n){return p.resolve()}deleteAllFieldIndexes(e){return p.resolve()}createTargetIndexes(e,n){return p.resolve()}getDocumentsMatchingTarget(e,n){return p.resolve(null)}getIndexType(e,n){return p.resolve(0)}getFieldIndexes(e,n){return p.resolve([])}getNextCollectionGroupToUpdate(e){return p.resolve(null)}getMinOffset(e,n){return p.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,n){return p.resolve(Rr.min())}updateCollectionGroup(e,n,r){return p.resolve()}updateIndexEntries(e,n){return p.resolve()}},Bg=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(pe.comparator)).toArray()}};var u$=new Uint8Array(0);var on=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);var Vo=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Ug=class{constructor(){this.changes=new qn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?p.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var zg=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var $g=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mo(r.mutation,i,Cr.empty(),be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Y()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Y()){let i=Tr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Do();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Tr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Y()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gn(),o=To(),a=function(){return To()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof zi)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Mo(l.mutation,u,l.mutation.getFieldMask(),be.now())):o.set(u.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new zg(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=To(),i=new ve((o,a)=>o-a),s=Y();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Cr.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||Y()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=wb();l.forEach(h=>{if(!s.has(h)){let f=Tb(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return p.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return x.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):p.resolve(Tr()),a=-1,c=s;return o.next(u=>p.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?p.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Y())).next(l=>({batchId:a,changes:XO(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Do();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Do();return this.indexManager.getCollectionParents(e,s).next(a=>p.forEach(a,c=>{let u=function(d,h){return new Pr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Ut.newInvalidDocument(l)))});let a=Do();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Mo(l.mutation,u,Cr.empty(),be.now()),dl(n,u)&&(a=a.insert(c,u))}),a})}};var Hg=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return p.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ri(i.createTime)}}(n)),p.resolve()}getNamedQuery(e,n){return p.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Ek(i.bundledQuery),readTime:Ri(i.readTime)}}(n)),p.resolve()}};var qg=class{constructor(){this.overlays=new ve(x.comparator),this.hr=new Map}getOverlay(e,n){return p.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Tr();return p.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),p.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),p.resolve()}getOverlaysForCollection(e,n,r){let i=Tr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return p.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ve((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Tr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Tr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return p.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xg(n,r));let s=this.hr.get(n);s===void 0&&(s=Y(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var jo=class{constructor(){this.Pr=new Ye(Ie.Ir),this.Tr=new Ye(Ie.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ie(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ie(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new x(new pe([])),r=new Ie(n,e),i=new Ie(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new x(new pe([])),r=new Ie(n,e),i=new Ie(n,e+1),s=Y();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ie(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ie=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return x.comparator(e.key,n.key)||re(e.pr,n.pr)}static Er(e,n){return re(e.pr,n.pr)||x.comparator(e.key,n.key)}};var Gg=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ye(Ie.Ir)}checkEmpty(e){return p.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Ag(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Ie(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return p.resolve(o)}lookupMutationBatch(e,n){return p.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return p.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return p.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return p.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ie(n,0),i=new Ie(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),p.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(re);return n.forEach(i=>{let s=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),p.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;x.isDocumentKey(s)||(s=s.child(""));let o=new Ie(new x(s),0),a=new Ye(re);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),p.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return p.forEach(n.mutations,i=>{let s=new Ie(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ie(n,0),i=this.wr.firstAfterOrEqual(r);return p.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,p.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Wg=class{constructor(e){this.vr=e,this.docs=function(){return new ve(x.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return p.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=Gn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ut.newInvalidDocument(i))}),p.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gn(),o=n.path,a=new x(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||VO(LO(l),r)<=0||(i.has(l.key)||dl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return p.resolve(s)}getAllFromCollectionGroup(e,n,r,i){j()}Fr(e,n){return p.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Kg(this)}getSize(e){return p.resolve(this.size)}},Kg=class extends Ug{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),p.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Qg=class{constructor(e){this.persistence=e,this.Mr=new qn(n=>Bm(n),Um),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Or=0,this.Nr=new jo,this.targetCount=0,this.Lr=Vo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),p.resolve()}getLastRemoteSnapshotVersion(e){return p.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return p.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),p.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),p.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,p.resolve()}updateTargetData(e,n){return this.qn(n),p.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,p.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),p.waitFor(s).next(()=>i)}getTargetCount(e){return p.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return p.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),p.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),p.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),p.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return p.resolve(r)}containsKey(e,n){return p.resolve(this.Nr.containsKey(n))}};var Zg=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new cb(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Qg(this),this.indexManager=new jg,this.remoteDocumentCache=function(i){return new Wg(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Vg(n),this.$r=new Hg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qg,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Gg(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){I("MemoryPersistence","Starting transaction:",e);let i=new Yg(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return p.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},Yg=class extends ug{constructor(e){super(),this.currentSequenceNumber=e}},Xg=class t{constructor(e){this.persistence=e,this.zr=new jo,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw j()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),p.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),p.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),p.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return p.forEach(this.Jr,r=>{let i=x.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return p.or([()=>p.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Jg=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Y(),i=Y();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var em=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var tm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return WI()?8:Lu.v(Qs())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new em;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Eo()<=Z.DEBUG&&I("QueryEngine","SDK will not create cache indexes for query:",Ti(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),p.resolve()):(Eo()<=Z.DEBUG&&I("QueryEngine","Query:",Ti(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Eo()<=Z.DEBUG&&I("QueryEngine","The SDK decides to create cache indexes for query:",Ti(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(n))):p.resolve())}ji(e,n){if(jD(n))return p.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sg(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Y(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,Sg(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return jD(n)||i.isEqual(U.min())?p.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?p.resolve(null):(Eo()<=Z.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ti(n)),this.es(e,o,n,FO(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ye(vb(e));return n.forEach((i,s)=>{dl(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Eo()<=Z.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",Ti(n)),this.zi.getDocumentsMatchingQuery(e,n,Rr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var nm=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ve(re),this.rs=new qn(s=>Bm(s),Um),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $g(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function Dk(t,e,n,r){return new nm(t,e,n,r)}function Lb(t,e){return m(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Y();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function Vb(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function bk(t,e){let n=X(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(et.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(T,b,N){return T.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=Gn(),u=Y();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(Ck(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(U.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return p.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function Ck(t,e,n){let r=Y(),i=Y();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(U.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):I("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function Tk(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,p.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Lo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function rm(t,e,n){return m(this,null,function*(){let r=X(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!qo(o))throw o;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function ZD(t,e,n){let r=X(t),i=U.min(),s=Y();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=X(c),h=d.rs.get(l);return h!==void 0?p.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:Y())).next(a=>(Sk(r,QO(e),a),{documents:a,hs:s})))}function Sk(t,e,n){let r=t.ss.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Wu=class{constructor(){this.activeTargetIds=tk()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var im=class{constructor(){this.no=new Wu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Wu,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var sm=class{io(e){}shutdown(){}};var Ku=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Nu=null;function Xp(){return Nu===null?Nu=function(){return 268435456+Math.round(2147483648*Math.random())}():Nu++,"0x"+Nu.toString(16)}var Mk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var om=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Ze="WebChannelConnection",am=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Xp(),c=this.bo(n,r.toUriEncodedString());I("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(I("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Pi("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=Mk[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Xp();return new Promise((o,a)=>{let c=new SD;c.setWithCredentials(!0),c.listenOnce(CD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case xu.NO_ERROR:let l=c.getResponseJson();I(Ze,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case xu.TIMEOUT:I(Ze,`RPC '${e}' ${s} timed out`),a(new C(g.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:let d=c.getStatus();if(I(Ze,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let y=function(b){let N=b.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(N)>=0?N:g.UNKNOWN}(f.status);a(new C(y,f.message))}else a(new C(g.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new C(g.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{I(Ze,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);I(Ze,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Xp(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=DD(),a=bD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");I(Ze,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,y=new om({lo:b=>{f?I(Ze,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(I(Ze,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),I(Ze,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},ho:()=>d.close()}),T=(b,N,oe)=>{b.listen(N,$=>{try{oe($)}catch(H){setTimeout(()=>{throw H},0)}})};return T(d,Io.EventType.OPEN,()=>{f||I(Ze,`RPC '${e}' stream ${i} transport opened.`)}),T(d,Io.EventType.CLOSE,()=>{f||(f=!0,I(Ze,`RPC '${e}' stream ${i} transport closed`),y.Vo())}),T(d,Io.EventType.ERROR,b=>{f||(f=!0,Pi(Ze,`RPC '${e}' stream ${i} transport errored:`,b),y.Vo(new C(g.UNAVAILABLE,"The operation could not be completed")))}),T(d,Io.EventType.MESSAGE,b=>{var N;if(!f){let oe=b.data[0];De(!!oe);let $=oe,H=$.error||((N=$[0])===null||N===void 0?void 0:N.error);if(H){I(Ze,`RPC '${e}' stream ${i} received error:`,H);let Ce=H.status,te=function(Tl){let Jo=we[Tl];if(Jo!==void 0)return Mb(Jo)}(Ce),Xe=H.message;te===void 0&&(te=g.INTERNAL,Xe="Unknown error status: "+Ce+" with message "+H.message),f=!0,y.Vo(new C(te,Xe)),d.close()}else I(Ze,`RPC '${e}' stream ${i} received:`,oe),y.mo(oe)}}),T(a,TD.STAT_EVENT,b=>{b.stat===Qp.PROXY?I(Ze,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Qp.NOPROXY&&I(Ze,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}};function Jp(){return typeof document<"u"?document:null}function hl(t){return new Og(t,!0)}var Qu=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&I("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var cm=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Qu(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return m(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return m(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return m(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===g.RESOURCE_EXHAUSTED?(un(n.toString()),un("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===g.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new C(g.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>m(this,null,function*(){this.state=0,this.start()}))}__(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},um=class extends cm{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=pk(this.serializer,e),r=function(s){if(!("targetChange"in s))return U.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?U.min():o.readTime?Ri(o.readTime):U.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=QD(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Cg(c)?{documents:gk(s,c)}:{query:mk(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ab(s,o.resumeToken);let u=kg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(U.min())>0){a.readTime=Fg(s,o.snapshotVersion.toTimestamp());let u=kg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=vk(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=QD(this.serializer),n.removeTarget=e,this.t_(n)}};var lm=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new C(g.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Lg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(g.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Lg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new C(g.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var dm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(un(n),this.g_=!1):I("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var hm=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>m(this,null,function*(){Ko(this)&&(I("RemoteStore","Restarting streams for network reachability change."),yield function(c){return m(this,null,function*(){let u=X(c);u.v_.add(4),yield Wo(u),u.x_.set("Unknown"),u.v_.delete(4),yield fl(u)})}(this))}))}),this.x_=new dm(r,i)}};function fl(t){return m(this,null,function*(){if(Ko(t))for(let e of t.F_)yield e(!0)})}function Wo(t){return m(this,null,function*(){for(let e of t.F_)yield e(!1)})}function jb(t,e){let n=X(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Gm(n)?qm(n):Wi(n).Jo()&&Hm(n,e))}function $m(t,e){let n=X(t),r=Wi(n);n.C_.delete(e),r.Jo()&&Bb(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ko(n)&&n.x_.set("Unknown"))}function Hm(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(U.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wi(t).c_(e)}function Bb(t,e){t.O_.Oe(e),Wi(t).l_(e)}function qm(t){t.O_=new Pg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Wi(t).start(),t.x_.p_()}function Gm(t){return Ko(t)&&!Wi(t).Ho()&&t.C_.size>0}function Ko(t){return X(t).v_.size===0}function Ub(t){t.O_=void 0}function Ak(t){return m(this,null,function*(){t.C_.forEach((e,n)=>{Hm(t,e)})})}function xk(t,e){return m(this,null,function*(){Ub(t),Gm(t)?(t.x_.S_(e),qm(t)):t.x_.set("Unknown")})}function Rk(t,e,n){return m(this,null,function*(){if(t.x_.set("Online"),e instanceof Hu&&e.state===2&&e.cause)try{yield function(i,s){return m(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield YD(t,r)}else if(e instanceof xi?t.O_.$e(e):e instanceof $u?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(U.min()))try{let r=yield Vb(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(et.EMPTY_BYTE_STRING,l.snapshotVersion)),Bb(s,c);let d=new Lo(l.target,c,u,l.sequenceNumber);Hm(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){I("RemoteStore","Failed to raise snapshot:",r),yield YD(t,r)}})}function YD(t,e,n){return m(this,null,function*(){if(!qo(e))throw e;t.v_.add(1),yield Wo(t),t.x_.set("Offline"),n||(n=()=>Vb(t.localStore)),t.asyncQueue.enqueueRetryable(()=>m(this,null,function*(){I("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield fl(t)}))})}function XD(t,e){return m(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");let r=Ko(n);n.v_.add(3),yield Wo(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield fl(n)})}function Nk(t,e){return m(this,null,function*(){let n=X(t);e?(n.v_.delete(2),yield fl(n)):e||(n.v_.add(2),yield Wo(n),n.x_.set("Unknown"))})}function Wi(t){return t.N_||(t.N_=function(n,r,i){let s=X(n);return s.R_(),new um(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Ak.bind(null,t),To:xk.bind(null,t),u_:Rk.bind(null,t)}),t.F_.push(e=>m(this,null,function*(){e?(t.N_.Zo(),Gm(t)?qm(t):t.x_.set("Unknown")):(yield t.N_.stop(),Ub(t))}))),t.N_}var fm=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function zb(t,e){if(un("AsyncQueue",`${e}: ${t}`),qo(t))return new C(g.UNAVAILABLE,`${e}: ${t}`);throw t}var Zu=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Do(),this.sortedSet=new ve(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Yu=class{constructor(){this.B_=new ve(x.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):j():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},$i=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Zu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ll(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var pm=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},gm=class{constructor(){this.queries=new qn(e=>yb(e),ll),this.onlineState="Unknown",this.W_=new Set}};function $b(t,e){return m(this,null,function*(){let n=X(t),r=3,i=e.query,s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new pm,r=e.U_()?0:1);try{switch(r){case 0:s.q_=yield n.onListen(i,!0);break;case 1:s.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=zb(o,`Initialization of query '${Ti(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&Wm(n)})}function Hb(t,e){return m(this,null,function*(){let n=X(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Pk(t,e){let n=X(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&Wm(n)}function Ok(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function Wm(t){t.W_.forEach(e=>{e.next()})}var mm,JD;(JD=mm||(mm={})).j_="default",JD.Cache="cache";var Xu=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new $i(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=$i.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==mm.Cache}};var Ju=class{constructor(e){this.key=e}},el=class{constructor(e){this.key=e}},ym=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Y(),this.mutatedKeys=Y(),this.ha=vb(e),this.Pa=new Zu(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new Yu,i=n?n.Pa:this.Pa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=dl(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),T=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),b=!1;h&&f?h.data.isEqual(f.data)?y!==T&&(r.track({type:3,doc:f}),b=!0):this.da(h,f)||(r.track({type:2,doc:f}),b=!0,(c&&this.ha(f,c)>0||u&&this.ha(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),b=!0):h&&!f&&(r.track({type:1,doc:h}),b=!0,(c||u)&&(a=!0)),b&&(f?(o=o.add(f),s=T?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let o=e.Ea.k_();o.sort((l,d)=>function(f,y){let T=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return T(f)-T(y)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,u=c!==this.ca;return this.ca=c,o.length!==0||u?{snapshot:new $i(this.query,e.Pa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Yu,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=Y(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new el(r))}),this.la.forEach(r=>{e.has(r)||n.push(new Ju(r))}),n}fa(e){this.ua=e.hs,this.la=Y();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return $i.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},vm=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},_m=class{constructor(e){this.key=e,this.pa=!1}},wm=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new qn(a=>yb(a),ll),this.Sa=new Map,this.ba=new Set,this.Da=new ve(x.comparator),this.Ca=new Map,this.va=new jo,this.Fa={},this.Ma=new Map,this.xa=Vo.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function kk(t,e,n=!0){return m(this,null,function*(){let r=Qb(t),i,s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=yield qb(r,e,n,!0),i})}function Fk(t,e){return m(this,null,function*(){let n=Qb(t);yield qb(n,e,!0,!1)})}function qb(t,e,n,r){return m(this,null,function*(){let i=yield Tk(t.localStore,cn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield Lk(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&jb(t.remoteStore,i),a})}function Lk(t,e,n,r,i){return m(this,null,function*(){t.Na=(d,h,f)=>function(T,b,N,oe){return m(this,null,function*(){let $=b.view.Ta(N);$.Xi&&($=yield ZD(T.localStore,b.query,!1).then(({documents:Xe})=>b.view.Ta(Xe,$)));let H=oe&&oe.targetChanges.get(b.targetId),Ce=oe&&oe.targetMismatches.get(b.targetId)!=null,te=b.view.applyChanges($,T.isPrimaryClient,H,Ce);return tb(T,b.targetId,te.Va),te.snapshot})}(t,d,h,f);let s=yield ZD(t.localStore,e,!0),o=new ym(e,s.hs),a=o.Ta(s.documents),c=Fo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);tb(t,n,u.Va);let l=new vm(e,n,o);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot})}function Vk(t,e,n){return m(this,null,function*(){let r=X(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!ll(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield rm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$m(r.remoteStore,i.targetId),Im(r,i.targetId)}).catch(km))):(Im(r,i.targetId),yield rm(r.localStore,i.targetId,!0))})}function jk(t,e){return m(this,null,function*(){let n=X(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$m(n.remoteStore,r.targetId))})}function Gb(t,e){return m(this,null,function*(){let n=X(t);try{let r=yield bk(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Ca.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?De(o.pa):i.removedDocuments.size>0&&(De(o.pa),o.pa=!1))}),yield Kb(n,r,e)}catch(r){yield km(r)}})}function eb(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((s,o)=>{let a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=X(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(u=!0)}),u&&Wm(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Bk(t,e,n){return m(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),s=i&&i.key;if(s){let o=new ve(x.comparator);o=o.insert(s,Ut.newNoDocument(s,U.min()));let a=Y().add(s),c=new zu(U.min(),new Map,new ve(re),o,a);yield Gb(r,c),r.Da=r.Da.remove(s),r.Ca.delete(e),Km(r)}else yield rm(r.localStore,e,!1).then(()=>Im(r,e,n)).catch(km)})}function Im(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||Wb(t,r)})}function Wb(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&($m(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Km(t))}function tb(t,e,n){for(let r of n)r instanceof Ju?(t.va.addReference(r.key,e),Uk(t,r)):r instanceof el?(I("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||Wb(t,r.key)):j()}function Uk(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(I("SyncEngine","New document in limbo: "+n),t.ba.add(r),Km(t))}function Km(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new x(pe.fromString(e)),r=t.xa.next();t.Ca.set(r,new _m(n)),t.Da=t.Da.insert(n,r),jb(t.remoteStore,new Lo(cn(zm(n.path)),r,"TargetPurposeLimboResolution",cb._e))}}function Kb(t,e,n){return m(this,null,function*(){let r=X(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{o.push(r.Na(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Jg.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.ya.u_(i),yield function(c,u){return m(this,null,function*(){let l=X(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>p.forEach(u,h=>p.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>p.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!qo(d))throw d;I("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),y=f.snapshotVersion,T=f.withLastLimboFreeSnapshotVersion(y);l.ns=l.ns.insert(h,T)}}})}(r.localStore,s))})}function zk(t,e){return m(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());let r=yield Lb(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(c=>{c.reject(new C(g.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Kb(n,r.us)}})}function $k(t,e){let n=X(t),r=n.Ca.get(e);if(r&&r.pa)return Y().add(r.key);{let i=Y(),s=n.Sa.get(e);if(!s)return i;for(let o of s){let a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function Qb(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$k.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bk.bind(null,e),e.ya.u_=Pk.bind(null,e.eventManager),e.ya.La=Ok.bind(null,e.eventManager),e}var tl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return m(this,null,function*(){this.serializer=hl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Dk(this.persistence,new tm,e.initialUser,this.serializer)}createPersistence(e){return new Zg(Xg.Hr,this.serializer)}createSharedClientState(e){return new im}terminate(){return m(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Em=class{initialize(e,n){return m(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zk.bind(null,this.syncEngine),yield Nk(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new gm}()}createDatastore(e){let n=hl(e.databaseInfo.databaseId),r=function(s){return new am(s)}(e.databaseInfo);return function(s,o,a,c){return new lm(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new hm(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>eb(this.syncEngine,n,0),function(){return Ku.D()?new Ku:new sm}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new wm(i,s,o,a,c,u);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return m(this,null,function*(){var e;yield function(r){return m(this,null,function*(){let i=X(r);I("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Wo(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var nl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):un("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Dm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Re.UNAUTHENTICATED,this.clientId=ku.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>m(this,null,function*(){I("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(I("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>m(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=zb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function eg(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>m(this,null,function*(){r.isEqual(i)||(yield Lb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function nb(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield qk(t);I("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>XD(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>XD(e.remoteStore,i)),t._onlineComponents=e})}function Hk(t){return t.name==="FirebaseError"?t.code===g.FAILED_PRECONDITION||t.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function qk(t){return m(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){I("FirestoreClient","Using user provided OfflineComponentProvider");try{yield eg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Hk(n))throw n;Pi("Error using user provided cache. Falling back to memory cache: "+n),yield eg(t,new tl)}}else I("FirestoreClient","Using default OfflineComponentProvider"),yield eg(t,new tl);return t._offlineComponents})}function Gk(t){return m(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(I("FirestoreClient","Using user provided OnlineComponentProvider"),yield nb(t,t._uninitializedComponentsProvider._online)):(I("FirestoreClient","Using default OnlineComponentProvider"),yield nb(t,new Em))),t._onlineComponents})}function Zb(t){return m(this,null,function*(){let e=yield Gk(t),n=e.eventManager;return n.onListen=kk.bind(null,e.syncEngine),n.onUnlisten=Vk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Fk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jk.bind(null,e.syncEngine),n})}function Wk(t,e,n={}){let r=new Bt;return t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return function(s,o,a,c,u){let l=new nl({next:h=>{o.enqueueAndForget(()=>Hb(s,d));let f=h.docs.has(a);!f&&h.fromCache?u.reject(new C(g.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?u.reject(new C(g.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Xu(zm(a.path),l,{includeMetadataChanges:!0,ta:!0});return $b(s,d)}(yield Zb(t),t.asyncQueue,e,n,r)})),r.promise}function Kk(t,e,n={}){let r=new Bt;return t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return function(s,o,a,c,u){let l=new nl({next:h=>{o.enqueueAndForget(()=>Hb(s,d)),h.fromCache&&c.source==="server"?u.reject(new C(g.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Xu(a,l,{includeMetadataChanges:!0,ta:!0});return $b(s,d)}(yield Zb(t),t.asyncQueue,e,n,r)})),r.promise}function Yb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var rb=new Map;function Xb(t,e,n){if(!n)throw new C(g.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qk(t,e,n,r){if(e===!0&&r===!0)throw new C(g.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ib(t){if(!x.isDocumentKey(t))throw new C(g.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sb(t){if(x.isDocumentKey(t))throw new C(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":j()}function Bo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=pl(t);throw new C(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var rl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Hi=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tg;switch(r.type){case"firstParty":return new sg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=rb.get(n);r&&(I("ComponentProvider","Removing Datastore"),rb.delete(n),r.terminate())}(this),Promise.resolve()}};function Zk(t,e,n,r={}){var i;let s=(t=Bo(t,Hi))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Re.MOCK_USER;else{a=Kc(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Re(u)}t._authCredentials=new ng(new Ou(a,c))}}var qi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},zn=class t extends qi{constructor(e,n,r){super(e,n,zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new x(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function gl(t,e,...n){if(t=kt(t),Xb("collection","path",e),t instanceof Hi){let r=pe.fromString(e,...n);return sb(r),new zn(t,null,r)}{if(!(t instanceof lt||t instanceof zn))throw new C(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(pe.fromString(e,...n));return sb(r),new zn(t.firestore,null,r)}}function ml(t,e,...n){if(t=kt(t),arguments.length===1&&(e=ku.newId()),Xb("doc","path",e),t instanceof Hi){let r=pe.fromString(e,...n);return ib(r),new lt(t,null,new x(r))}{if(!(t instanceof lt||t instanceof zn))throw new C(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(pe.fromString(e,...n));return ib(r),new lt(t.firestore,t instanceof zn?t.converter:null,new x(r))}}var bm=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Qu(this,"async_queue_retry"),this.cu=()=>{let n=Jp();n&&I("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Jp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new Bt;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return m(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!qo(e))throw e;I("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw un("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=fm.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&j()}verifyOperationInProgress(){}Tu(){return m(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var Uo=class extends Hi{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new bm}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tC(this),this._firestoreClient.terminate()}};function Jb(t,e){let n=typeof t=="object"?t:tu(),r=typeof t=="string"?t:e||"(default)",i=Jc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Wc("firestore");s&&Zk(i,...s)}return i}function eC(t){return t._firestoreClient||tC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tC(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new fg(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Yb(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Dm(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var zo=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(et.fromBase64String(e))}catch(n){throw new C(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var il=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var sl=class{constructor(e){this._methodName=e}};var $o=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}};var Yk=/^__.*__$/;function nC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}var Cm=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Sm(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(nC(this.Vu)&&Yk.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},Tm=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hl(e)}Cu(e,n,r,i=!1){return new Cm({Vu:e,methodName:n,Du:r,path:Tt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Xk(t){let e=t._freezeSettings(),n=hl(t._databaseId);return new Tm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Jk(t,e,n,r=!1){return Qm(n,t.Cu(r?4:3,e))}function Qm(t,e){if(rC(t=kt(t)))return t1("Unsupported field value:",e,t),e1(t,e);if(t instanceof sl)return function(r,i){if(!nC(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Qm(a,i.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=be.fromDate(r);return{timestampValue:Fg(i.serializer,s)}}if(r instanceof be){let s=new be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fg(i.serializer,s)}}if(r instanceof $o)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zo)return{bytesValue:Ab(i.serializer,r._byteString)};if(r instanceof lt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${pl(r)}`)}(t,e)}function e1(t,e){let n={};return ub(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(t,(r,i)=>{let s=Qm(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof be||t instanceof $o||t instanceof zo||t instanceof lt||t instanceof sl)}function t1(t,e,n){if(!rC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=pl(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}var n1=new RegExp("[~\\*/\\[\\]]");function r1(t,e,n){if(e.search(n1)>=0)throw Sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new il(...e.split("."))._internalPath}catch{throw Sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sm(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new C(g.INVALID_ARGUMENT,a+t+c)}var ol=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Mm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(iC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Mm=class extends ol{data(){return super.data()}};function iC(t,e){return typeof e=="string"?r1(t,e):e instanceof il?e._internalPath:e._delegate._internalPath}function i1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(g.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ho=class{},Am=class extends Ho{};function yl(t,e,...n){let r=[];e instanceof Ho&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof Rm).length,a=s.filter(c=>c instanceof xm).length;if(o>1||o>0&&a>0)throw new C(g.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var xm=class t extends Am{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return sC(e._query,n),new qi(e.firestore,e.converter,Tg(e._query,n))}_parse(e){let n=Xk(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new C(g.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){ab(d,l);let f=[];for(let y of d)f.push(ob(c,s,y));h={arrayValue:{values:f}}}else h=ob(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||ab(d,l),h=Jk(a,o,d,l==="in"||l==="not-in");return Ee.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var Rm=class t extends Ho{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)sC(o,c),o=Tg(o,c)}(e._query,n),new qi(e.firestore,e.converter,Tg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function ob(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new C(g.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mb(e)&&n.indexOf("/")!==-1)throw new C(g.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(pe.fromString(n));if(!x.isDocumentKey(r))throw new C(g.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return PD(t,new x(r))}if(n instanceof lt)return PD(t,n._key);throw new C(g.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pl(n)}.`)}function ab(t,e){if(!Array.isArray(t)||t.length===0)throw new C(g.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sC(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new C(g.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new C(g.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Nm=class{convertValue(e,n="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Go(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new $o(me(e.latitude),me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Vm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xo(e));default:return null}}convertTimestamp(e){let n=$n(e);return new be(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=pe.fromString(e);De(Fb(r));let i=new Bu(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||un(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var Mr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},al=class extends ol{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ni(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(iC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ni=class extends al{data(e={}){return super.data(e)}},Pm=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ni(this._firestore,this._userDataWriter,r.key,r,new Mr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(g.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Ni(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Ni(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:s1(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function s1(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}function vl(t){t=Bo(t,lt);let e=Bo(t.firestore,Uo);return Wk(eC(e),t._key).then(n=>o1(e,t,n))}var cl=class extends Nm{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}};function _l(t){t=Bo(t,qi);let e=Bo(t.firestore,Uo),n=eC(e),r=new cl(e);return i1(t._query),Kk(n,t._query).then(i=>new Pm(e,r,t,i))}function o1(t,e,n){let r=n.docs.get(e._key),i=new cl(t);return new al(t,i,e._key,r,new Mr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Gi=i})(eu),vr(new Ft("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Uo(new rg(r.getProvider("auth-internal")),new ag(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new C(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Lt(AD,"4.5.0",e),Lt(AD,"4.5.0","esm2017")})();var a1={apiKey:"AIzaSyBMDG_5lDDr2YeB9GwJGP_C3XO5hdcltbk",authDomain:"trippbarker-31e6e.firebaseapp.com",projectId:"trippbarker-31e6e",storageBucket:"trippbarker-31e6e.appspot.com",messagingSenderId:"648512597814",appId:"1:648512597814:web:25016cb4a291e39ee4cd97"},c1=sp(a1),Wn=Jb(c1);var oC=(()=>{let e=class e{constructor(r,i){this.route=r,this.router=i,this.project={id:"",ref:"",technologies:new Array,name:"",link:"",description:""}}ngOnInit(){return m(this,null,function*(){yield this.getProject()})}getProject(){return m(this,null,function*(){let r=this.route.snapshot.paramMap.get("ref");if(r){let i=yield vl(ml(Wn,"project",r));this.project.name=i.get("id"),this.project.ref=i.get("ref"),this.project.technologies=i.get("technologies"),this.project.name=i.get("name"),this.project.link=i.get("link"),this.project.description=i.get("desc")}})}};e.\u0275fac=function(i){return new(i||e)(he(Pt),he(Dt))},e.\u0275cmp=Le({type:e,selectors:[["app-project-detail"]],standalone:!0,features:[hr],decls:5,vars:2,template:function(i,s){i&1&&(E(0,"div")(1,"h1"),D(2),v(),E(3,"h2"),D(4),v()()),i&2&&(de(2),It(s.project.name),de(2),It(s.project.description))},dependencies:[ci]});let t=e;return t})();var fC="firebasestorage.googleapis.com",pC="storageBucket",u1=2*60*1e3,l1=10*60*1e3;var Ne=class t extends Ot{constructor(e,n,r=0){super(Zm(e),`Firebase Storage: ${n} (${Zm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ue=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ue||{});function Zm(t){return"storage/"+t}function gC(){let t="An unknown error occurred, please check the error payload for server response.";return new Ne(Ue.UNKNOWN,t)}function d1(t){return new Ne(Ue.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function h1(t){return new Ne(Ue.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function f1(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ne(Ue.UNAUTHENTICATED,t)}function p1(){return new Ne(Ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function g1(t){return new Ne(Ue.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function m1(){return new Ne(Ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function y1(){return new Ne(Ue.CANCELED,"User canceled the upload/download.")}function v1(t){return new Ne(Ue.INVALID_URL,"Invalid URL '"+t+"'.")}function _1(t){return new Ne(Ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function w1(){return new Ne(Ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pC+"' property when initializing the app?")}function I1(){return new Ne(Ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ym(t){return new Ne(Ue.INVALID_ARGUMENT,t)}function mC(){return new Ne(Ue.APP_DELETED,"The Firebase app was deleted.")}function E1(t){return new Ne(Ue.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qo(t){throw new Ne(Ue.INTERNAL_ERROR,"Internal error: "+t)}var dt=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw _1(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(H){H.path_=decodeURIComponent(H.path)}let l="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${l}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},T=n===fC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",N=new RegExp(`^https?://${T}/${i}/${b}`,"i"),$=[{regex:a,indices:c,postModify:s},{regex:f,indices:y,postModify:u},{regex:N,indices:{bucket:1,path:2},postModify:u}];for(let H=0;H<$.length;H++){let Ce=$[H],te=Ce.regex.exec(e);if(te){let Xe=te[Ce.indices.bucket],ht=te[Ce.indices.path];ht||(ht=""),r=new t(Xe,ht),Ce.postModify(r);break}}if(r==null)throw v1(e);return r}},Xm=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function D1(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...b){u||(u=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(f,c())},b)}function h(){s&&clearTimeout(s)}function f(b,...N){if(u){h();return}if(b){h(),l.call(null,b,...N);return}if(c()||o){h(),l.call(null,b,...N);return}r<64&&(r*=2);let $;a===1?(a=2,$=0):$=(r+Math.random())*1e3,d($)}let y=!1;function T(b){y||(y=!0,h(),!u&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,T(!0)},n),T}function b1(t){t(!1)}function C1(t){return t!==void 0}function T1(t){return typeof t=="object"&&!Array.isArray(t)}function yC(t){return typeof t=="string"||t instanceof String}function Jm(t,e,n,r){if(r<e)throw Ym(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ym(`Invalid value for '${t}'. Expected ${n} or less.`)}function ry(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function vC(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Qi=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Qi||{});function S1(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var ey=class{constructor(e,n,r,i,s,o,a,c,u,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,y)=>{this.resolve_=f,this.reject_=y,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Ki(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Qi.NO_ERROR,c=s.getStatus();if(!a||S1(c,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===Qi.ABORT;r(!1,new Ki(!1,null,l));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Ki(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());C1(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=gC();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?mC():y1();o(c)}else{let c=m1();o(c)}};this.canceled_?n(!1,new Ki(!1,null,!0)):this.backoffId_=D1(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&b1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Ki=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function M1(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function A1(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function x1(t,e){e&&(t["X-Firebase-GMPID"]=e)}function R1(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function N1(t,e,n,r,i,s,o=!0){let a=vC(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return x1(u,e),M1(u,n),A1(u,s),R1(u,r),new ey(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function iy(t){let e;try{e=JSON.parse(t)}catch{return null}return T1(e)?e:null}function P1(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function O1(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function _C(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function k1(t,e){return e}var Be=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||k1}},wl=null;function F1(t){return!yC(t)||t.length<2?t:_C(t)}function L1(){if(wl)return wl;let t=[];t.push(new Be("bucket")),t.push(new Be("generation")),t.push(new Be("metageneration")),t.push(new Be("name","fullPath",!0));function e(s,o){return F1(o)}let n=new Be("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new Be("size");return i.xform=r,t.push(i),t.push(new Be("timeCreated")),t.push(new Be("updated")),t.push(new Be("md5Hash",null,!0)),t.push(new Be("cacheControl",null,!0)),t.push(new Be("contentDisposition",null,!0)),t.push(new Be("contentEncoding",null,!0)),t.push(new Be("contentLanguage",null,!0)),t.push(new Be("contentType",null,!0)),t.push(new Be("metadata","customMetadata",!0)),wl=t,wl}function V1(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new dt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function j1(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return V1(r,t),r}function B1(t,e,n){let r=iy(e);return r===null?null:j1(t,r,n)}function U1(t,e,n,r){let i=iy(e);if(i===null||!yC(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let l=t.bucket,d=t.fullPath,h="/b/"+o(l)+"/o/"+o(d),f=ry(h,n,r),y=vC({alt:"media",token:u});return f+y})[0]}var aC="prefixes",cC="items";function z1(t,e,n){let r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[aC])for(let i of n[aC]){let s=i.replace(/\/$/,""),o=t._makeStorageReference(new dt(e,s));r.prefixes.push(o)}if(n[cC])for(let i of n[cC]){let s=t._makeStorageReference(new dt(e,i.name));r.items.push(s)}return r}function $1(t,e,n){let r=iy(n);return r===null?null:z1(t,e,r)}var Il=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function wC(t){if(!t)throw gC()}function H1(t,e){function n(r,i){let s=$1(t,e,i);return wC(s!==null),s}return n}function q1(t,e){function n(r,i){let s=B1(t,i,e);return wC(s!==null),U1(s,i,t.host,t._protocol)}return n}function IC(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=p1():i=f1():n.getStatus()===402?i=h1(t.bucket):n.getStatus()===403?i=g1(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function G1(t){let e=IC(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=d1(t.path)),s.serverResponse=i.serverResponse,s}return n}function W1(t,e,n,r,i){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);let o=e.bucketOnlyServerUrl(),a=ry(o,t.host,t._protocol),c="GET",u=t.maxOperationRetryTime,l=new Il(a,c,H1(t,e.bucket),u);return l.urlParams=s,l.errorHandler=IC(e),l}function K1(t,e,n){let r=e.fullServerUrl(),i=ry(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Il(i,s,q1(t,n),o);return a.errorHandler=G1(e),a}var S$=256*1024;var uC=null,ty=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Qo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},ny=class extends ty{initXhr(){this.xhr_.responseType="text"}};function EC(){return uC?uC():new ny}var Zi=class t{constructor(e,n){this._service=e,n instanceof dt?this._location=n:this._location=dt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new dt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _C(this._location.path)}get storage(){return this._service}get parent(){let e=P1(this._location.path);if(e===null)return null;let n=new dt(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw E1(e)}};function Q1(t){let e={prefixes:[],items:[]};return DC(t,e).then(()=>e)}function DC(t,e,n){return m(this,null,function*(){let i=yield Z1(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield DC(t,e,i.nextPageToken))})}function Z1(t,e){e!=null&&typeof e.maxResults=="number"&&Jm("options.maxResults",1,1e3,e.maxResults);let n=e||{},r=W1(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,EC)}function Y1(t){t._throwIfRoot("getDownloadURL");let e=K1(t.storage,t._location,L1());return t.storage.makeRequestWithTokens(e,EC).then(n=>{if(n===null)throw I1();return n})}function X1(t,e){let n=O1(t._location.path,e),r=new dt(t._location.bucket,n);return new Zi(t.storage,r)}function J1(t){return/^[A-Za-z]+:\/\//.test(t)}function eF(t,e){return new Zi(t,e)}function bC(t,e){if(t instanceof Zo){let n=t;if(n._bucket==null)throw w1();let r=new Zi(n,n._bucket);return e!=null?bC(r,e):r}else return e!==void 0?X1(t,e):t}function tF(t,e){if(e&&J1(e)){if(t instanceof Zo)return eF(t,e);throw Ym("To use ref(service, url), the first argument must be a Storage instance.")}else return bC(t,e)}function lC(t,e){let n=e?.[pC];return n==null?null:dt.makeFromBucketSpec(n,t)}function nF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Kc(i,t.app.options.projectId))}var Zo=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=fC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u1,this._maxUploadRetryTime=l1,this._requests=new Set,i!=null?this._bucket=dt.makeFromBucketSpec(i,this._host):this._bucket=lC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=dt.makeFromBucketSpec(this._url,e):this._bucket=lC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return m(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return m(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zi(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Xm(mC());{let o=N1(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return m(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},dC="@firebase/storage",hC="0.12.2";var CC="storage";function TC(t){return t=kt(t),Q1(t)}function El(t){return t=kt(t),Y1(t)}function Yo(t,e){return t=kt(t),tF(t,e)}function Dl(t=tu(),e){t=kt(t);let r=Jc(t,CC).getImmediate({identifier:e}),i=Wc("storage");return i&&rF(r,...i),r}function rF(t,e,n,r={}){nF(t,e,n,r)}function iF(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Zo(n,r,i,e,eu)}function sF(){vr(new Ft(CC,iF,"PUBLIC").setMultipleInstances(!0)),Lt(dC,hC,""),Lt(dC,hC,"esm2017")}sF();var Xo=(()=>{let e=class e{constructor(){this.messages=[]}add(r){this.messages.push(r)}clear(){this.messages=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bl=(()=>{let e=class e{constructor(r){this.messageService=r}};e.\u0275fac=function(i){return new(i||e)(R(Xo))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oF(t,e){if(t&1&&(E(0,"div",2)(1,"a",3),k(2,"img",4),E(3,"h2"),D(4),v()()()),t&2){let n=e.$implicit;de(),_n("routerLink","/project/",n.ref,""),de(),_n("id","",n.ref,"IMG"),de(2),It(n.name)}}var Cl=(()=>{let e=class e{ngOnInit(){this.getProjects()}constructor(r,i){this.projectService=r,this.messageService=i,this.projects=new Array}getProjects(){return m(this,null,function*(){(yield _l(yl(gl(Wn,"project")))).forEach(i=>{let s={id:i.id,ref:i.data().ref,technologies:i.data().technologies,name:i.data().name,link:i.data().link,description:i.data().description};this.projects.push(s)}),this.projects.forEach(i=>{this.getProjectImage(i.ref)})})}getProjectImage(r){return m(this,null,function*(){let i=Dl(),s=Yo(i,"project/"+r+"/main.png");El(s).then(o=>{let a=document.getElementById(r+"IMG");a.style.backgroundImage="url("+o+")"})})}};e.\u0275fac=function(i){return new(i||e)(he(bl),he(Xo))},e.\u0275cmp=Le({type:e,selectors:[["app-projects"]],standalone:!0,features:[hr],decls:2,vars:1,consts:[["id","projects"],["class","projectCont",4,"ngFor","ngForOf"],[1,"projectCont"],[1,"project",3,"routerLink"],["src","","alt","",1,"projectImg",3,"id"]],template:function(i,s){i&1&&(E(0,"div",0),ur(1,oF,5,5,"div",1),v()),i&2&&(de(),lr("ngForOf",s.projects))},dependencies:[ai,ci,bt],styles:["*[_ngcontent-%COMP%]{font-family:Azeret Mono,monospace}body[_ngcontent-%COMP%]{background-color:#e0fbfc}#projects[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;width:100%;max-width:500rem}.projectCont[_ngcontent-%COMP%]{margin:1rem;background-color:green;width:50%;max-width:35rem;height:25rem;display:flex;flex-direction:column;justify-content:center;align-items:center}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#293241;text-decoration:none}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ee6c4d}.project[_ngcontent-%COMP%]{background-color:#98c1d9;max-height:25rem;width:100%;min-width:25rem;max-width:35rem;display:flex;flex-direction:column;padding:1rem;border-radius:1rem;overflow:hidden}.projectImg[_ngcontent-%COMP%]{background-color:#293241;height:100rem;overflow-x:hidden;border-radius:.75rem .75rem 0 0;background-size:cover}"]});let t=e;return t})();var MC=(()=>{let e=class e{constructor(r){this.projectService=r,this.projects=[]}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(he(bl))},e.\u0275cmp=Le({type:e,selectors:[["app-dashboard"]],decls:9,vars:0,consts:[["routerLink","/dashboard"],["routerLink","/projects"],["routerLink","/bike"]],template:function(i,s){i&1&&(E(0,"nav")(1,"a",0),D(2,"ABOUT ME"),v(),E(3,"a",1),D(4,"PROJECTS"),v(),E(5,"a",2),D(6,"BIKE"),v(),E(7,"a"),D(8,"COOKING"),v()())},dependencies:[bt],styles:["nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:0}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:.5rem 0rem .5rem 2rem;text-decoration:none;font-family:Azeret Mono,monospace;font-weight:bolder;font-size:2rem;color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff4500;margin-left:3rem;transition:.1s}"]});let t=e;return t})();function aF(t,e){if(t&1&&(E(0,"div",4)(1,"h2"),D(2),v(),E(3,"h3"),D(4),v()()),t&2){let n=e.$implicit;_n("routerLink","/brag/",n.year,""),de(2),dr("BRAG ",n.year,""),de(2),xh("",n.days[0].startLocation," to ",n.days[7].endLocation," (",n.distance," miles, ",n.elevation," feet climbed)")}}var AC=(()=>{let e=class e{constructor(){this.brags=new Array}ngOnInit(){this.getBrags()}getBrags(){return m(this,null,function*(){let r=new Intl.NumberFormat("en-US");(yield _l(yl(gl(Wn,"brag")))).forEach(s=>{let o=new Array,a=0,c=0;for(let l=0;l<8;l++){let h={date:new be(s.data()["day"+l].date.seconds,s.data()["day"+l].date.nanoseconds).toDate(),day:s.data()["day"+l].day,number:s.data()["day"+l].number,distance:s.data()["day"+l].distance,elevation:s.data()["day"+l].elevation,movingTime:s.data()["day"+l].movingTime,endLocation:s.data()["day"+l].endLocation,startLocation:s.data()["day"+l].startLocation,stravaLink:s.data()["day"+l].stravaLink};a+=s.data()["day"+l].distance,c+=s.data()["day"+l].elevation,console.log(c),o.push(h)}let u={year:s.data().year,days:o,distance:r.format(Math.round((a+Number.EPSILON)*100)/100),elevation:r.format(Math.round((c+Number.EPSILON)*100)/100)};this.brags.push(u)}),console.log(this.brags)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-bike"]],decls:12,vars:1,consts:[["id","brags",1,"bikeContainer"],["routerLink","/checklist",1,"bragContainer"],["class","bragContainer",3,"routerLink",4,"ngFor","ngForOf"],["id","gear",1,"gearContainer"],[1,"bragContainer",3,"routerLink"]],template:function(i,s){i&1&&(E(0,"div",0)(1,"h1"),D(2,"Bike Ride Across Georgia"),v(),E(3,"div",1)(4,"h2"),D(5,"BRAG CHECKLIST"),v(),E(6,"h3"),D(7,"A checklist for BRAG including everything I need for showering, camping, and riding."),v()(),ur(8,aF,5,7,"div",2),v(),E(9,"div",3)(10,"h1"),D(11,"GEAR"),v()()),i&2&&(de(8),lr("ngForOf",s.brags))},dependencies:[ai,bt],styles:[".bikeContainer[_ngcontent-%COMP%], .bragContainer[_ngcontent-%COMP%], .gearContainer[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 2rem}.bragContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#00008b}.bragContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:1rem}.bragContainer[_ngcontent-%COMP%]:hover{cursor:pointer;margin-left:3rem;transition:.1s}.bragContainer[_ngcontent-%COMP%]:hover   h2[_ngcontent-%COMP%]{color:#ff4500}"]});let t=e;return t})();function cF(t,e){if(t&1&&(E(0,"div",3)(1,"h2",4),D(2),E(3,"i"),D(4),v()(),E(5,"div",5)(6,"div",6)(7,"p"),D(8,"distance"),v(),E(9,"p")(10,"b",7),D(11),v(),D(12," mi"),v()(),E(13,"div",8)(14,"p"),D(15,"elevation gain"),v(),E(16,"p")(17,"b",7),D(18),v(),D(19," ft"),v()(),E(20,"div",9)(21,"p"),D(22,"moving time"),v(),E(23,"p")(24,"b",7),D(25),v()()()(),E(26,"p"),D(27,"see the ride "),E(28,"a",10),D(29,"here"),v()(),k(30,"div",11),v()),t&2){let n=e.$implicit;de(2),dr("day ",n.day," "),de(2),Ah("",n.startLocation," to ",n.endLocation,""),de(7),It(n.distance),de(7),It(n.elevation),de(7),It(n.movingTime),de(3),Mh("href",n.stravaLink,hh),de(2),_n("id","day",n.number,"images")}}var xC=(()=>{let e=class e{constructor(r,i){this.route=r,this.router=i,this.brag={year:0,days:new Array,distance:"",elevation:""}}ngOnInit(){return m(this,null,function*(){yield this.getBrag(),this.brag.days.forEach(r=>{console.log("hello"),console.log(this.brag.year.toString()),this.getImages(this.brag.year.toString(),r.number)})})}getBrag(){return m(this,null,function*(){let r=this.route.snapshot.paramMap.get("year"),i=yield vl(ml(Wn,"brag","brag"+r)),s=new Intl.NumberFormat("en-US"),o=new Array,a=0,c=0;for(let l=0;l<8;l++){let h={date:new be(i.get("day"+l).date.seconds,i.get("day"+l).date.nanoseconds).toDate(),day:i.get("day"+l).day,number:i.get("day"+l).number,distance:i.get("day"+l).distance,movingTime:i.get("day"+l).movingTime,elevation:i.get("day"+l).elevation,endLocation:i.get("day"+l).endLocation,startLocation:i.get("day"+l).startLocation,stravaLink:i.get("day"+l).stravaLink};a+=i.get("day"+l).distance,c+=i.get("day"+l).elevation,o.push(h)}let u={year:i.get("year"),days:o,distance:s.format(Math.round((a+Number.EPSILON)*100)/100),elevation:s.format(Math.round((c+Number.EPSILON)*100)/100)};this.brag=u})}getImages(r,i){return m(this,null,function*(){let s=Dl(),o=Yo(s,"brag/"+r+"/day"+i+"/thumbnails");TC(o).then(a=>{a.items.forEach(c=>{El(Yo(s,c.fullPath)).then(u=>{let l=document.createElement("img");l.id=c.name,l.src=u,l.setAttribute("height","100%"),l.style.setProperty("margin-right",".5rem"),l.style.setProperty("border-radius",".25rem"),document.getElementById("day"+i+"images")?.appendChild(l)})})})})}};e.\u0275fac=function(i){return new(i||e)(he(Pt),he(Dt))},e.\u0275cmp=Le({type:e,selectors:[["app-brag"]],decls:6,vars:2,consts:[["routerLink","/bike","id","back"],["id","bragContainer"],["class","dayContainer",4,"ngFor","ngForOf"],[1,"dayContainer"],[1,"header"],[1,"stats"],[1,"distance"],[1,"stat"],[1,"elevation"],[1,"time"],["target","_blank",3,"href"],[1,"bragImages",3,"id"]],template:function(i,s){i&1&&(E(0,"a",0),D(1,"[BACK]"),v(),E(2,"div",1)(3,"h1"),D(4),v(),ur(5,cF,31,9,"div",2),v()),i&2&&(de(4),dr("BRAG ",s.brag.year,""),de(),lr("ngForOf",s.brag.days))},dependencies:[ai,bt],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ee6c4d}#bragContainer[_ngcontent-%COMP%], .dayContainer[_ngcontent-%COMP%], #back[_ngcontent-%COMP%]{margin-left:1rem}.dayContainer[_ngcontent-%COMP%]{padding:1rem;margin:1rem;border-radius:.5rem;background-color:#eff5fe;box-shadow:0 25px 50px gray}.header[_ngcontent-%COMP%]{color:#293241}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:bolder;color:#293241}.stats[_ngcontent-%COMP%]{display:flex}.stat[_ngcontent-%COMP%]{font-size:2rem;color:#293241}.distance[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{font-size:1rem}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-top:.5rem;padding-right:1rem;padding-bottom:.5rem}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]{border-right:1px solid #EE6C4D}.elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-left:1rem}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ee6c4d}.bragImages[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:20rem;padding-bottom:1rem;overflow-x:scroll;overflow-y:hidden}google-map[_ngcontent-%COMP%]{margin-right:1rem}img[_ngcontent-%COMP%]{margin:1rem}@media only screen and (max-width: 768px){.stats[_ngcontent-%COMP%]{flex-direction:column}.elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-left:0}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]{border-right:none}}[_ngcontent-%COMP%]::-webkit-scrollbar{height:12px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ee6c4d;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#b64225;cursor:grab}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{cursor:grabbing}"]});let t=e;return t})();var RC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-checklist"]],decls:133,vars:0,consts:[["routerLink","/bike","id","back"],["type","checkbox","name","camping","id","tent"],["for","tent"],["type","checkbox","name","camping","id","groundcloth"],["for","groundcloth"],["type","checkbox","name","camping","id","stakes"],["for","stakes"],["type","checkbox","name","camping","id","mallet"],["for","mallet"],["type","checkbox","name","camping","id","chair"],["for","chair"],["type","checkbox","name","camping","id","bugrepellent"],["for","bugrepellent"],["type","checkbox","name","camping","id","sunscreen"],["for","sunscreen"],["type","checkbox","name","camping","id","batterybank"],["for","batterybank"],["type","checkbox","name","camping","id","clothes"],["for","clothes"],["type","checkbox","name","camping","id","shoes"],["for","shoes"],["type","checkbox","name","camping","id","clothingline"],["for","clothingline"],["type","checkbox","name","sleeping","id","sleepingpad"],["for","sleepingpad"],["type","checkbox","name","sleeping","id","sleepingbag"],["for","sleepingbag"],["type","checkbox","name","sleeping","id","pillow"],["for","pillow"],["type","checkbox","name","sleeping","id","airpump"],["for","airpump"],["type","checkbox","name","sleeping","id","eyemask"],["for","eyemask"],["type","checkbox","name","sleeping","id","earplugs"],["for","earplugs"],["type","checkbox","name","sleeping","id","fans"],["for","fans"],["type","checkbox","name","shower","id","soap"],["for","soap"],["type","checkbox","name","shower","id","shampoo"],["for","shampoo"],["type","checkbox","name","shower","id","towel"],["for","towel"],["type","checkbox","name","shower","id","toothpaste"],["for","toothpaste"],["type","checkbox","name","shower","id","toothbrush"],["for","toothbrush"],["type","checkbox","name","shower","id","comb"],["for","comb"],["type","checkbox","name","shower","id","chamoiscream"],["for","chamoiscream"],["type","checkbox","name","bike","id","bike"],["for","bike"],["type","checkbox","name","bike","id","bottles"],["for","bottles"],["type","checkbox","name","bike","id","helmet"],["for","helmet"],["for","glasses"],["type","checkbox","name","bike","id","cyclingshoes"],["for","cyclingshoes"]],template:function(i,s){i&1&&(E(0,"a",0),D(1,"[BACK]"),v(),E(2,"div")(3,"h2"),D(4,"BRAG Checklist"),v(),E(5,"h3"),D(6,"Camping"),v(),k(7,"input",1),E(8,"label",2),D(9,"tent"),v(),k(10,"br")(11,"input",3),E(12,"label",4),D(13,"ground cloth"),v(),k(14,"br")(15,"input",5),E(16,"label",6),D(17,"stakes"),v(),k(18,"br")(19,"input",7),E(20,"label",8),D(21,"mallet"),v(),k(22,"br")(23,"input",9),E(24,"label",10),D(25,"camping chair"),v(),k(26,"br")(27,"input",11),E(28,"label",12),D(29,"bug repellent"),v(),k(30,"br")(31,"input",13),E(32,"label",14),D(33,"sun sunscreen"),v(),k(34,"br")(35,"input",15),E(36,"label",16),D(37,"battery bank"),v(),k(38,"br")(39,"input",17),E(40,"label",18),D(41,"clothes"),v(),k(42,"br")(43,"input",19),E(44,"label",20),D(45,"shoes"),v(),k(46,"br")(47,"input",21),E(48,"label",22),D(49,"clothing line"),v(),k(50,"br"),E(51,"h3"),D(52,"Sleeping"),v(),k(53,"input",23),E(54,"label",24),D(55,"sleeping pad"),v(),k(56,"br")(57,"input",25),E(58,"label",26),D(59,"sleeping bag"),v(),k(60,"br")(61,"input",27),E(62,"label",28),D(63,"pillow"),v(),k(64,"br")(65,"input",29),E(66,"label",30),D(67,"air pump"),v(),k(68,"br")(69,"input",31),E(70,"label",32),D(71,"eyemask"),v(),k(72,"br")(73,"input",33),E(74,"label",34),D(75,"earplugs"),v(),k(76,"br")(77,"input",35),E(78,"label",36),D(79,"fans"),v(),k(80,"br"),E(81,"h3"),D(82,"Shower Bag"),v(),k(83,"input",37),E(84,"label",38),D(85,"soap"),v(),k(86,"br")(87,"input",39),E(88,"label",40),D(89,"shampoo"),v(),k(90,"br")(91,"input",41),E(92,"label",42),D(93,"towel"),v(),k(94,"br")(95,"input",43),E(96,"label",44),D(97,"toothpaste"),v(),k(98,"br")(99,"input",45),E(100,"label",46),D(101,"toothbrush"),v(),k(102,"br")(103,"input",47),E(104,"label",48),D(105,"comb"),v(),k(106,"br")(107,"input",49),E(108,"label",50),D(109,"chamois cream"),v(),k(110,"br"),E(111,"h3"),D(112,"Bike"),v(),k(113,"input",51),E(114,"label",52),D(115,"bike"),v(),k(116,"br")(117,"input",53),E(118,"label",54),D(119,"water bottles"),v(),k(120,"br")(121,"input",55),E(122,"label",56),D(123,"helmet"),v(),k(124,"br")(125,"input",55),E(126,"label",57),D(127,"glasses"),v(),k(128,"br")(129,"input",58),E(130,"label",59),D(131,"cycling shoes"),v(),k(132,"br"),v())},dependencies:[bt],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ff4500}div[_ngcontent-%COMP%]{margin-left:1rem}h2[_ngcontent-%COMP%]{font-size:2rem}h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-left:2rem}input[_ngcontent-%COMP%]{margin-left:3rem}"]});let t=e;return t})();var uF=[{path:"projects",component:Cl},{path:"dashboard",component:MC},{path:"project/:ref",component:oC},{path:"bike",component:AC},{path:"brag/:year",component:xC},{path:"checklist",component:RC},{path:"",redirectTo:"/dashboard",pathMatch:"full"}],NC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({imports:[Uf.forRoot(uF),Uf]});let t=e;return t})();var PC=(()=>{let e=class e{constructor(){this.title="Tripp Barker"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-root"]],decls:7,vars:1,consts:[["rel","preconnect","href",cc`https://fonts.googleapis.com`],["rel","preconnect","href",cc`https://fonts.gstatic.com`,"crossorigin",""],["href",cc`https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100..900;1,100..900&display=swap`,"rel","stylesheet"],["routerLink","/dashboard","id","title"]],template:function(i,s){i&1&&(k(0,"link",0)(1,"link",1)(2,"link",2),E(3,"a",3)(4,"h1"),D(5),v()(),k(6,"router-outlet")),i&2&&(de(5),It(s.title))},dependencies:[Of,bt]});let t=e;return t})();var OC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})();var kC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e,bootstrap:[PC]}),e.\u0275inj=qe({imports:[Xw,NC,ci,Cl,OC]});let t=e;return t})();Yw().bootstrapModule(kC).catch(t=>console.error(t));
