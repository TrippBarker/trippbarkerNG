var FC=Object.defineProperty,LC=Object.defineProperties;var VC=Object.getOwnPropertyDescriptors;var oy=Object.getOwnPropertySymbols;var jC=Object.prototype.hasOwnProperty,BC=Object.prototype.propertyIsEnumerable;var ay=(t,e,n)=>e in t?FC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})jC.call(e,n)&&ay(t,n,e[n]);if(oy)for(var n of oy(e))BC.call(e,n)&&ay(t,n,e[n]);return t},le=(t,e)=>LC(t,VC(e));var m=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var cy=null;var Sl=1,uy=Symbol("SIGNAL");function ee(t){let e=cy;return cy=t,e}var ly={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function UC(t){if(!(xl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Sl)){if(!t.producerMustRecompute(t)&&!Ml(t)){t.dirty=!1,t.lastCleanEpoch=Sl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Sl}}function dy(t){return t&&(t.nextProducerIndex=0),ee(t)}function hy(t,e){if(ee(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(xl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Al(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ml(t){ia(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(UC(n),r!==n.version))return!0}return!1}function fy(t){if(ia(t),xl(t))for(let e=0;e<t.producerNode.length;e++)Al(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Al(t,e){if(zC(t),ia(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Al(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ia(i),i.producerIndexOfThis[r]=e}}function xl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ia(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function zC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function $C(){throw new Error}var HC=$C;function py(t){HC=t}function V(t){return typeof t=="function"}function Fr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var sa=Fr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function es(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(V(r))try{r()}catch(s){e=s instanceof sa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{gy(s)}catch(o){e=e??[],o instanceof sa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new sa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)gy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&es(n,e)}remove(e){let{_finalizers:n}=this;n&&es(n,e),e instanceof t&&e._removeParent(this)}};Te.EMPTY=(()=>{let t=new Te;return t.closed=!0,t})();var Rl=Te.EMPTY;function oa(t){return t instanceof Te||t&&"closed"in t&&V(t.remove)&&V(t.add)&&V(t.unsubscribe)}function gy(t){V(t)?t():t.unsubscribe()}var Mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Lr={setTimeout(t,e,...n){let{delegate:r}=Lr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Lr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function aa(t){Lr.setTimeout(()=>{let{onUnhandledError:e}=Mt;if(e)e(t);else throw t})}function ts(){}var my=Nl("C",void 0,void 0);function yy(t){return Nl("E",void 0,t)}function vy(t){return Nl("N",t,void 0)}function Nl(t,e,n){return{kind:t,value:e,error:n}}var Yn=null;function Vr(t){if(Mt.useDeprecatedSynchronousErrorHandling){let e=!Yn;if(e&&(Yn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Yn;if(Yn=null,n)throw r}}else t()}function _y(t){Mt.useDeprecatedSynchronousErrorHandling&&Yn&&(Yn.errorThrown=!0,Yn.error=t)}var Xn=class extends Te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oa(e)&&e.add(this)):this.destination=WC}static create(e,n,r){return new jr(e,n,r)}next(e){this.isStopped?Ol(vy(e),this):this._next(e)}error(e){this.isStopped?Ol(yy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ol(my,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qC=Function.prototype.bind;function Pl(t,e){return qC.call(t,e)}var kl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ca(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ca(r)}else ca(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ca(n)}}},jr=class extends Xn{constructor(e,n,r){super();let i;if(V(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Mt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pl(e.next,s),error:e.error&&Pl(e.error,s),complete:e.complete&&Pl(e.complete,s)}):i=e}this.destination=new kl(i)}};function ca(t){Mt.useDeprecatedSynchronousErrorHandling?_y(t):aa(t)}function GC(t){throw t}function Ol(t,e){let{onStoppedNotification:n}=Mt;n&&Lr.setTimeout(()=>n(t,e))}var WC={closed:!0,next:ts,error:GC,complete:ts};var Br=typeof Symbol=="function"&&Symbol.observable||"@@observable";function it(t){return t}function Fl(...t){return Ll(t)}function Ll(t){return t.length===0?it:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=QC(n)?n:new jr(n,r,i);return Vr(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=wy(r),new r((i,s)=>{let o=new jr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Br](){return this}pipe(...n){return Ll(n)(this)}toPromise(n){return n=wy(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function wy(t){var e;return(e=t??Mt.Promise)!==null&&e!==void 0?e:Promise}function KC(t){return t&&V(t.next)&&V(t.error)&&V(t.complete)}function QC(t){return t&&t instanceof Xn||KC(t)&&oa(t)}function Vl(t){return V(t?.lift)}function q(t){return e=>{if(Vl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(t,e,n,r,i){return new jl(t,e,n,r,i)}var jl=class extends Xn{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ur(){return q((t,e)=>{let n=null;t._refCount++;let r=G(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var zr=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Vl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Te;let n=this.getSubject();e.add(this.source.subscribe(G(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Te.EMPTY)}return e}refCount(){return Ur()(this)}};var Iy=Fr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ua(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Iy}next(n){Vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Rl:(this.currentObservers=null,s.push(n),new Te(()=>{this.currentObservers=null,es(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new ua(e,n),t})(),ua=class extends ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Rl}};var Pe=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var st=new se(t=>t.complete());function Ey(t){return t&&V(t.schedule)}function Dy(t){return t[t.length-1]}function by(t){return V(Dy(t))?t.pop():void 0}function Mn(t){return Ey(Dy(t))?t.pop():void 0}function Ty(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Cy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jn(t){return this instanceof Jn?(this.v=t,this):new Jn(t)}function Sy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(y,T){s.push([h,f,y,T])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(y){d(s[0][3],y)}}function c(h){h.value instanceof Jn?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function My(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Cy=="function"?Cy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var la=t=>t&&typeof t.length=="number"&&typeof t!="function";function da(t){return V(t?.then)}function ha(t){return V(t[Br])}function fa(t){return Symbol.asyncIterator&&V(t?.[Symbol.asyncIterator])}function pa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ZC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ga=ZC();function ma(t){return V(t?.[ga])}function ya(t){return Sy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Jn(n.read());if(i)return yield Jn(void 0);yield yield Jn(r)}}finally{n.releaseLock()}})}function va(t){return V(t?.getReader)}function Se(t){if(t instanceof se)return t;if(t!=null){if(ha(t))return YC(t);if(la(t))return XC(t);if(da(t))return JC(t);if(fa(t))return Ay(t);if(ma(t))return e0(t);if(va(t))return t0(t)}throw pa(t)}function YC(t){return new se(e=>{let n=t[Br]();if(V(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XC(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function JC(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,aa)})}function e0(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Ay(t){return new se(e=>{n0(t,e).catch(n=>e.error(n))})}function t0(t){return Ay(ya(t))}function n0(t,e){var n,r,i,s;return Ty(this,void 0,void 0,function*(){try{for(n=My(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function tt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function _a(t,e=0){return q((n,r)=>{n.subscribe(G(r,i=>tt(r,t,()=>r.next(i),e),()=>tt(r,t,()=>r.complete(),e),i=>tt(r,t,()=>r.error(i),e)))})}function wa(t,e=0){return q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function xy(t,e){return Se(t).pipe(wa(e),_a(e))}function Ry(t,e){return Se(t).pipe(wa(e),_a(e))}function Ny(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Py(t,e){return new se(n=>{let r;return tt(n,e,()=>{r=t[ga](),tt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>V(r?.return)&&r.return()})}function Ia(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{tt(n,e,()=>{let r=t[Symbol.asyncIterator]();tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Oy(t,e){return Ia(ya(t),e)}function ky(t,e){if(t!=null){if(ha(t))return xy(t,e);if(la(t))return Ny(t,e);if(da(t))return Ry(t,e);if(fa(t))return Ia(t,e);if(ma(t))return Py(t,e);if(va(t))return Oy(t,e)}throw pa(t)}function ye(t,e){return e?ky(t,e):Se(t)}function O(...t){let e=Mn(t);return ye(t,e)}function $r(t,e){let n=V(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Bl(t){return!!t&&(t instanceof se||V(t.lift)&&V(t.subscribe))}var hn=Fr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function W(t,e){return q((n,r)=>{let i=0;n.subscribe(G(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:r0}=Array;function i0(t,e){return r0(e)?t(...e):t(e)}function Fy(t){return W(e=>i0(t,e))}var{isArray:s0}=Array,{getPrototypeOf:o0,prototype:a0,keys:c0}=Object;function Ly(t){if(t.length===1){let e=t[0];if(s0(e))return{args:e,keys:null};if(u0(e)){let n=c0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function u0(t){return t&&typeof t=="object"&&o0(t)===a0}function Vy(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ns(...t){let e=Mn(t),n=by(t),{args:r,keys:i}=Ly(t);if(r.length===0)return ye([],e);let s=new se(l0(r,e,i?o=>Vy(i,o):it));return n?s.pipe(Fy(n)):s}function l0(t,e,n=it){return r=>{jy(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)jy(e,()=>{let u=ye(t[c],e),l=!1;u.subscribe(G(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function jy(t,e,n){t?tt(n,t,e):e()}function By(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=T=>u<r?y(T):c.push(T),y=T=>{s&&e.next(T),u++;let b=!1;Se(n(T,l++)).subscribe(G(e,P=>{i?.(P),s?f(P):e.next(P)},()=>{b=!0},void 0,()=>{if(b)try{for(u--;c.length&&u<r;){let P=c.shift();o?tt(e,o,()=>y(P)):y(P)}h()}catch(P){e.error(P)}}))};return t.subscribe(G(e,f,()=>{d=!0,h()})),()=>{a?.()}}function _e(t,e,n=1/0){return V(e)?_e((r,i)=>W((s,o)=>e(r,s,i,o))(Se(t(r,i))),n):(typeof e=="number"&&(n=e),q((r,i)=>By(r,i,t,n)))}function Hr(t=1/0){return _e(it,t)}function Uy(){return Hr(1)}function qr(...t){return Uy()(ye(t,Mn(t)))}function Ea(t){return new se(e=>{Se(t()).subscribe(e)})}function pt(t,e){return q((n,r)=>{let i=0;n.subscribe(G(r,s=>t.call(e,s,i++)&&r.next(s)))})}function An(t){return q((e,n)=>{let r=null,i=!1,s;r=e.subscribe(G(n,void 0,void 0,o=>{s=Se(t(o,An(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function zy(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(G(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function er(t,e){return V(e)?_e(t,e,1):_e(t,1)}function xn(t){return q((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function fn(t){return t<=0?()=>st:q((e,n)=>{let r=0;e.subscribe(G(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ul(t){return W(()=>t)}function Da(t=d0){return q((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function d0(){return new hn}function rs(t){return q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ht(t,e){let n=arguments.length>=2;return r=>r.pipe(t?pt((i,s)=>t(i,s,r)):it,fn(1),n?xn(e):Da(()=>new hn))}function Gr(t){return t<=0?()=>st:q((e,n)=>{let r=[];e.subscribe(G(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?pt((i,s)=>t(i,s,r)):it,Gr(1),n?xn(e):Da(()=>new hn))}function $l(t,e){return q(zy(t,e,arguments.length>=2,!0))}function Hl(...t){let e=Mn(t);return q((n,r)=>{(e?qr(t,n,e):qr(t,n)).subscribe(r)})}function gt(t,e){return q((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(G(r,c=>{i?.unsubscribe();let u=0,l=s++;Se(t(c,l)).subscribe(i=G(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ql(t){return q((e,n)=>{Se(t).subscribe(G(n,()=>n.complete(),ts)),!n.closed&&e.subscribe(n)})}function Oe(t,e,n){let r=V(t)||e||n?{next:t,error:e,complete:n}:t;return r?q((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(G(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):it}var Tv="https://g.co/ng/security#xss",A=class extends Error{constructor(e,n){super(jd(e,n)),this.code=e}};function jd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function vs(t){return{toString:t}.toString()}var ba="__parameters__";function h0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Sv(t,e,n){return vs(()=>{let r=h0(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(ba)?c[ba]:Object.defineProperty(c,ba,{value:[]})[ba];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ke=globalThis;function ue(t){for(let e in t)if(t[e]===ue)return e;throw Error("Could not find renamed property on target object.")}function ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ot).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $y(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var f0=ue({__forward_ref__:ue});function Bd(t){return t.__forward_ref__=Bd,t.toString=function(){return ot(this())},t}function yt(t){return Mv(t)?t():t}function Mv(t){return typeof t=="function"&&t.hasOwnProperty(f0)&&t.__forward_ref__===Bd}function M(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qe(t){return{providers:t.providers||[],imports:t.imports||[]}}function ec(t){return Hy(t,xv)||Hy(t,Rv)}function Av(t){return ec(t)!==null}function Hy(t,e){return t.hasOwnProperty(e)?t[e]:null}function p0(t){let e=t&&(t[xv]||t[Rv]);return e||null}function qy(t){return t&&(t.hasOwnProperty(Gy)||t.hasOwnProperty(g0))?t[Gy]:null}var xv=ue({\u0275prov:ue}),Gy=ue({\u0275inj:ue}),Rv=ue({ngInjectableDef:ue}),g0=ue({ngInjectorDef:ue}),F=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Nv(t){return t&&!!t.\u0275providers}var m0=ue({\u0275cmp:ue}),y0=ue({\u0275dir:ue}),v0=ue({\u0275pipe:ue}),_0=ue({\u0275mod:ue}),Pa=ue({\u0275fac:ue}),is=ue({__NG_ELEMENT_ID__:ue}),Wy=ue({__NG_ENV_ID__:ue});function qt(t){return typeof t=="string"?t:t==null?"":String(t)}function w0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():qt(t)}function I0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,t)}function Ud(t,e){throw new A(-201,!1)}var z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(z||{}),td;function Pv(){return td}function mt(t){let e=td;return td=t,e}function Ov(t,e,n){let r=ec(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&z.Optional)return null;if(e!==void 0)return e;Ud(t,"Injector")}var E0={},os=E0,nd="__NG_DI_FLAG__",Oa="ngTempTokenPath",D0="ngTokenPath",b0=/\n/gm,C0="\u0275",Ky="__source",Yr;function T0(){return Yr}function Rn(t){let e=Yr;return Yr=t,e}function S0(t,e=z.Default){if(Yr===void 0)throw new A(-203,!1);return Yr===null?Ov(t,void 0,e):Yr.get(t,e&z.Optional?null:void 0,e)}function R(t,e=z.Default){return(Pv()||S0)(yt(t),e)}function I(t,e=z.Default){return R(t,tc(e))}function tc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rd(t){let e=[];for(let n=0;n<t.length;n++){let r=yt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){let a=r[o],c=M0(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(R(i,s))}else e.push(R(r))}return e}function kv(t,e){return t[nd]=e,t.prototype[nd]=e,t}function M0(t){return t[nd]}function A0(t,e,n,r){let i=t[Oa];throw e[Ky]&&i.unshift(e[Ky]),t.message=x0(`
`+t.message,i,n,r),t[D0]=i,t[Oa]=null,t}function x0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==C0?t.slice(2):t;let i=ot(e);if(Array.isArray(e))i=e.map(ot).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ot(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(b0,`
  `)}`}var nc=kv(Sv("Optional"),8);var zd=kv(Sv("SkipSelf"),4);function Jr(t,e){let n=t.hasOwnProperty(Pa);return n?t[Pa]:null}function $d(t,e){t.forEach(n=>Array.isArray(n)?$d(n,e):e(n))}function Fv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ka(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var as={},Gt=[],ei=new F(""),Lv=new F("",-1),Vv=new F(""),Fa=class{get(e,n=os){if(n===os){let r=new Error(`NullInjectorError: No provider for ${ot(e)}!`);throw r.name="NullInjectorError",r}return n}},jv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(jv||{}),Qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qt||{}),_t=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(_t||{});function R0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function id(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];N0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Bv(t){return t===3||t===4||t===6}function N0(t){return t.charCodeAt(0)===64}function Hd(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Qy(t,n,i,null,e[++r]):Qy(t,n,i,null,null))}}return t}function Qy(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Uv="ng-template";function P0(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&R0(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(qd(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function qd(t){return t.type===4&&t.value!==Uv}function O0(t,e,n){let r=t.type===4&&!n?Uv:t.value;return e===r}function k0(t,e,n){let r=4,i=t.attrs,s=i!==null?V0(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!At(r)&&!At(c))return!1;if(o&&At(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!O0(t,c,n)||c===""&&e.length===1){if(At(r))return!1;o=!0}}else if(r&8){if(i===null||!P0(t,i,c,n)){if(At(r))return!1;o=!0}}else{let u=e[++a],l=F0(c,i,qd(t),n);if(l===-1){if(At(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(At(r))return!1;o=!0}}}}return At(r)||o}function At(t){return(t&1)===0}function F0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return j0(e,t)}function L0(t,e,n=!1){for(let r=0;r<e.length;r++)if(k0(t,e[r],n))return!0;return!1}function V0(t){for(let e=0;e<t.length;e++){let n=t[e];if(Bv(n))return e}return t.length}function j0(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Zy(t,e){return t?":not("+e.trim()+")":e}function B0(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!At(o)&&(e+=Zy(s,i),i=""),r=o,s=s||!At(r);n++}return i!==""&&(e+=Zy(s,i)),e}function U0(t){return t.map(B0).join(",")}function z0(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!At(i))break;i=s}r++}return{attrs:e,classes:n}}function Le(t){return vs(()=>{let e=Gv(t),n=le(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===jv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qt.Emulated,styles:t.styles||Gt,_:null,schemas:t.schemas||null,tView:null,id:""});Wv(n);let r=t.dependencies;return n.directiveDefs=Xy(r,!1),n.pipeDefs=Xy(r,!0),n.id=q0(n),n})}function $0(t){return Pn(t)||zv(t)}function H0(t){return t!==null}function Ge(t){return vs(()=>({type:t.type,bootstrap:t.bootstrap||Gt,declarations:t.declarations||Gt,imports:t.imports||Gt,exports:t.exports||Gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Yy(t,e){if(t==null)return as;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=_t.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==_t.None?[r,a]:r,e[s]=o):n[s]=r}return n}function cr(t){return vs(()=>{let e=Gv(t);return Wv(e),e})}function Pn(t){return t[m0]||null}function zv(t){return t[y0]||null}function $v(t){return t[v0]||null}function Hv(t){let e=Pn(t)||zv(t)||$v(t);return e!==null?e.standalone:!1}function qv(t,e){let n=t[_0]||null;if(!n&&e===!0)throw new Error(`Type ${ot(t)} does not have '\u0275mod' property.`);return n}function Gv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||as,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Gt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yy(t.inputs,e),outputs:Yy(t.outputs),debugInfo:null}}function Wv(t){t.features?.forEach(e=>e(t))}function Xy(t,e){if(!t)return null;let n=e?$v:$0;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(H0)}function q0(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function G0(...t){return{\u0275providers:Kv(!0,t),\u0275fromNgModule:!0}}function Kv(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return $d(e,o=>{let a=o;sd(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Qv(i,s),n}function Qv(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Gd(i,s=>{e(s,r)})}}function sd(t,e,n,r){if(t=yt(t),!t)return!1;let i=null,s=qy(t),o=!s&&Pn(t);if(!s&&!o){let c=t.ngModule;if(s=qy(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)sd(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{$d(s.imports,l=>{sd(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Qv(u,e)}if(!a){let u=Jr(i)||(()=>new i);e({provide:i,useFactory:u,deps:Gt},i),e({provide:Vv,useValue:i,multi:!0},i),e({provide:ei,useValue:()=>R(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Gd(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Gd(t,e){for(let n of t)Nv(n)&&(n=n.\u0275providers),Array.isArray(n)?Gd(n,e):e(n)}var W0=ue({provide:String,useValue:ue});function Zv(t){return t!==null&&typeof t=="object"&&W0 in t}function K0(t){return!!(t&&t.useExisting)}function Q0(t){return!!(t&&t.useFactory)}function od(t){return typeof t=="function"}var rc=new F(""),Ma={},Z0={},Gl;function Wd(){return Gl===void 0&&(Gl=new Fa),Gl}var at=class{},cs=class extends at{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cd(e,o=>this.processProvider(o)),this.records.set(Lv,Wr(void 0,this)),i.has("environment")&&this.records.set(at,Wr(void 0,this));let s=this.records.get(rc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Vv,Gt,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Rn(this),r=mt(void 0),i;try{return e()}finally{Rn(n),mt(r)}}get(e,n=os,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Wy))return e[Wy](this);r=tc(r);let i,s=Rn(this),o=mt(void 0);try{if(!(r&z.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=nT(e)&&ec(e);u&&this.injectableDefInScope(u)?c=Wr(ad(e),Ma):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&z.Self?Wd():this.parent;return n=r&z.Optional&&n===os?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Oa]=a[Oa]||[]).unshift(ot(e)),s)throw a;return A0(a,e,"R3InjectorError",this.source)}else throw a}finally{mt(o),Rn(s)}}resolveInjectorInitializers(){let e=ee(null),n=Rn(this),r=mt(void 0),i;try{let s=this.get(ei,Gt,z.Self);for(let o of s)o()}finally{Rn(n),mt(r),ee(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){e=yt(e);let n=od(e)?e:yt(e&&e.provide),r=X0(e);if(!od(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Wr(void 0,Ma,!0),i.factory=()=>rd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ee(null);try{return n.value===Ma&&(n.value=Z0,n.value=n.factory()),typeof n.value=="object"&&n.value&&tT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=yt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ad(t){let e=ec(t),n=e!==null?e.factory:Jr(t);if(n!==null)return n;if(t instanceof F)throw new A(204,!1);if(t instanceof Function)return Y0(t);throw new A(204,!1)}function Y0(t){if(t.length>0)throw new A(204,!1);let n=p0(t);return n!==null?()=>n.factory(t):()=>new t}function X0(t){if(Zv(t))return Wr(void 0,t.useValue);{let e=J0(t);return Wr(e,Ma)}}function J0(t,e,n){let r;if(od(t)){let i=yt(t);return Jr(i)||ad(i)}else if(Zv(t))r=()=>yt(t.useValue);else if(Q0(t))r=()=>t.useFactory(...rd(t.deps||[]));else if(K0(t))r=()=>R(yt(t.useExisting));else{let i=yt(t&&(t.useClass||t.provide));if(eT(t))r=()=>new i(...rd(t.deps));else return Jr(i)||ad(i)}return r}function Wr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function eT(t){return!!t.deps}function tT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nT(t){return typeof t=="function"||typeof t=="object"&&t instanceof F}function cd(t,e){for(let n of t)Array.isArray(n)?cd(n,e):n&&Nv(n)?cd(n.\u0275providers,e):e(n)}function gn(t,e){t instanceof cs&&t.assertNotDestroyed();let n,r=Rn(t),i=mt(void 0);try{return e()}finally{Rn(r),mt(i)}}function Yv(){return Pv()!==void 0||T0()!=null}function rT(t){if(!Yv())throw new A(-203,!1)}function iT(t){let e=ke.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function sT(t){return typeof t=="function"}var mn=0,K=1,k=2,He=3,xt=4,Nt=5,La=6,us=7,pn=8,ti=9,Rt=10,Fe=11,ls=12,Jy=13,_s=14,Zt=15,ic=16,Kr=17,ni=18,sc=19,Xv=20,Nn=21,Wl=22,rr=23,On=25,Jv=1;var ir=7,Va=8,ja=9,vt=10,Kd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Kd||{});function tr(t){return Array.isArray(t)&&typeof t[Jv]=="object"}function yn(t){return Array.isArray(t)&&t[Jv]===!0}function e_(t){return(t.flags&4)!==0}function oc(t){return t.componentOffset>-1}function Qd(t){return(t.flags&1)===1}function ws(t){return!!t.template}function oT(t){return(t[k]&512)!==0}var ud=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function t_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ur(){return n_}function n_(t){return t.type.prototype.ngOnChanges&&(t.setInput=cT),aT}ur.ngInherit=!0;function aT(){let t=i_(this),e=t?.current;if(e){let n=t.previous;if(n===as)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function cT(t,e,n,r,i){let s=this.declaredInputs[r],o=i_(t)||uT(t,{previous:as,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new ud(u&&u.currentValue,n,c===as),t_(t,e,i,n)}var r_="__ngSimpleChanges__";function i_(t){return t[r_]||null}function uT(t,e){return t[r_]=e}var ev=null;var Wt=function(t,e,n){ev?.(t,e,n)},lT="svg",dT="math",hT=!1;function fT(){return hT}function Yt(t){for(;Array.isArray(t);)t=t[mn];return t}function pT(t,e){return Yt(e[t])}function wt(t,e){return Yt(e[t.index])}function s_(t,e){return t.data[e]}function Fn(t,e){let n=e[t];return tr(n)?n:n[mn]}function Zd(t){return(t[k]&128)===128}function gT(t){return yn(t[He])}function Ba(t,e){return e==null?null:t[e]}function o_(t){t[Kr]=0}function mT(t){t[k]&1024||(t[k]|=1024,Zd(t)&&ds(t))}function Yd(t){return!!(t[k]&9216||t[rr]?.dirty)}function ld(t){t[Rt].changeDetectionScheduler?.notify(1),Yd(t)?ds(t):t[k]&64&&(fT()?(t[k]|=1024,ds(t)):t[Rt].changeDetectionScheduler?.notify())}function ds(t){t[Rt].changeDetectionScheduler?.notify();let e=hs(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!Zd(e)));)e=hs(e)}function a_(t,e){if((t[k]&256)===256)throw new A(911,!1);t[Nn]===null&&(t[Nn]=[]),t[Nn].push(e)}function yT(t,e){if(t[Nn]===null)return;let n=t[Nn].indexOf(e);n!==-1&&t[Nn].splice(n,1)}function hs(t){let e=t[He];return yn(e)?e[He]:e}var J={lFrame:m_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vT(){return J.lFrame.elementDepthCount}function _T(){J.lFrame.elementDepthCount++}function wT(){J.lFrame.elementDepthCount--}function c_(){return J.bindingsEnabled}function IT(){return J.skipHydrationRootTNode!==null}function ET(t){return J.skipHydrationRootTNode===t}function DT(){J.skipHydrationRootTNode=null}function fe(){return J.lFrame.lView}function vn(){return J.lFrame.tView}function It(){let t=u_();for(;t!==null&&t.type===64;)t=t.parent;return t}function u_(){return J.lFrame.currentTNode}function bT(){let t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Is(t,e){let n=J.lFrame;n.currentTNode=t,n.isParent=e}function l_(){return J.lFrame.isParent}function CT(){J.lFrame.isParent=!1}function d_(){return J.lFrame.bindingIndex}function TT(t){return J.lFrame.bindingIndex=t}function Xd(){return J.lFrame.bindingIndex++}function h_(t){let e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ST(){return J.lFrame.inI18n}function MT(t,e){let n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,dd(e)}function AT(){return J.lFrame.currentDirectiveIndex}function dd(t){J.lFrame.currentDirectiveIndex=t}function f_(t){J.lFrame.currentQueryIndex=t}function xT(t){let e=t[K];return e.type===2?e.declTNode:e.type===1?t[Nt]:null}function p_(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&z.Host);)if(i=xT(s),i===null||(s=s[_s],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=J.lFrame=g_();return r.currentTNode=e,r.lView=t,!0}function Jd(t){let e=g_(),n=t[K];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function g_(){let t=J.lFrame,e=t===null?null:t.child;return e===null?m_(t):e}function m_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function y_(){let t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var v_=y_;function eh(){let t=y_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Es(){return J.lFrame.selectedIndex}function sr(t){J.lFrame.selectedIndex=t}function th(){let t=J.lFrame;return s_(t.tView,t.selectedIndex)}function RT(){return J.lFrame.currentNamespace}var __=!0;function nh(){return __}function rh(t){__=t}function NT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=n_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function ih(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Aa(t,e,n){w_(t,e,3,n)}function xa(t,e,n,r){(t[k]&3)===n&&w_(t,e,n,r)}function Kl(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function w_(t,e,n,r){let i=r!==void 0?t[Kr]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Kr]+=65536),(a<s||s==-1)&&(PT(t,n,e,c),t[Kr]=(t[Kr]&4294901760)+c+2),c++}function tv(t,e){Wt(4,t,e);let n=ee(null);try{e.call(t)}finally{ee(n),Wt(5,t,e)}}function PT(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[k]>>14<t[Kr]>>16&&(t[k]&3)===e&&(t[k]+=16384,tv(a,s)):tv(a,s)}var Xr=-1,fs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function OT(t){return t instanceof fs}function kT(t){return(t.flags&8)!==0}function FT(t){return(t.flags&16)!==0}function I_(t){return t!==Xr}function Ua(t){return t&32767}function LT(t){return t>>16}function za(t,e){let n=LT(t),r=e;for(;n>0;)r=r[_s],n--;return r}var hd=!0;function nv(t){let e=hd;return hd=t,e}var VT=256,E_=VT-1,D_=5,jT=0,Kt={};function BT(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(is)&&(r=n[is]),r==null&&(r=n[is]=jT++);let i=r&E_,s=1<<i;e.data[t+(i>>D_)]|=s}function b_(t,e){let n=C_(t,e);if(n!==-1)return n;let r=e[K];r.firstCreatePass&&(t.injectorIndex=e.length,Ql(r.data,t),Ql(e,null),Ql(r.blueprint,null));let i=sh(t,e),s=t.injectorIndex;if(I_(i)){let o=Ua(i),a=za(i,e),c=a[K].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Ql(t,e){t.push(0,0,0,0,0,0,0,0,e)}function C_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=x_(i),r===null)return Xr;if(n++,i=i[_s],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xr}function UT(t,e,n){BT(t,e,n)}function zT(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Bv(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function T_(t,e,n){if(n&z.Optional||t!==void 0)return t;Ud(e,"NodeInjector")}function S_(t,e,n,r){if(n&z.Optional&&r===void 0&&(r=null),!(n&(z.Self|z.Host))){let i=t[ti],s=mt(void 0);try{return i?i.get(e,r,n&z.Optional):Ov(e,r,n&z.Optional)}finally{mt(s)}}return T_(r,e,n)}function M_(t,e,n,r=z.Default,i){if(t!==null){if(e[k]&2048&&!(r&z.Self)){let o=WT(t,e,n,r,Kt);if(o!==Kt)return o}let s=A_(t,e,n,r,Kt);if(s!==Kt)return s}return S_(e,n,r,i)}function A_(t,e,n,r,i){let s=qT(n);if(typeof s=="function"){if(!p_(e,t,r))return r&z.Host?T_(i,n,r):S_(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&z.Optional))Ud(n);else return o}finally{v_()}}else if(typeof s=="number"){let o=null,a=C_(t,e),c=Xr,u=r&z.Host?e[Zt][Nt]:null;for((a===-1||r&z.SkipSelf)&&(c=a===-1?sh(t,e):e[a+8],c===Xr||!iv(r,!1)?a=-1:(o=e[K],a=Ua(c),e=za(c,e)));a!==-1;){let l=e[K];if(rv(s,a,l.data)){let d=$T(a,e,n,o,r,u);if(d!==Kt)return d}c=e[a+8],c!==Xr&&iv(r,e[K].data[a+8]===u)&&rv(s,a,e)?(o=l,a=Ua(c),e=za(c,e)):a=-1}}return i}function $T(t,e,n,r,i,s){let o=e[K],a=o.data[t+8],c=r==null?oc(a)&&hd:r!=o&&(a.type&3)!==0,u=i&z.Host&&s===a,l=HT(a,o,n,c,u);return l!==null?ps(e,o,l,a):Kt}function HT(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let y=o[f];if(f<c&&n===y||f>=c&&y.type===n)return f}if(i){let f=o[c];if(f&&ws(f)&&f.type===n)return c}return null}function ps(t,e,n,r){let i=t[n],s=e.data;if(OT(i)){let o=i;o.resolving&&I0(w0(s[n]));let a=nv(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?mt(o.injectImpl):null,l=p_(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&NT(n,s[n],e)}finally{u!==null&&mt(u),nv(a),o.resolving=!1,v_()}}return i}function qT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(is)?t[is]:void 0;return typeof e=="number"?e>=0?e&E_:GT:e}function rv(t,e,n){let r=1<<t;return!!(n[e+(t>>D_)]&r)}function iv(t,e){return!(t&z.Self)&&!(t&z.Host&&e)}var nr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return M_(this._tNode,this._lView,e,tc(r),n)}};function GT(){return new nr(It(),fe())}function ac(t){return vs(()=>{let e=t.prototype.constructor,n=e[Pa]||fd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Pa]||fd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function fd(t){return Mv(t)?()=>{let e=fd(yt(t));return e&&e()}:Jr(t)}function WT(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[k]&2048&&!(o[k]&512);){let a=A_(s,o,n,r|z.Self,Kt);if(a!==Kt)return a;let c=s.parent;if(!c){let u=o[Xv];if(u){let l=u.get(n,Kt,r);if(l!==Kt)return l}c=x_(o),o=o[_s]}s=c}return i}function x_(t){let e=t[K],n=e.type;return n===2?e.declTNode:n===1?t[Nt]:null}function oh(t){return zT(It(),t)}function sv(t,e=null,n=null,r){let i=R_(t,e,n,r);return i.resolveInjectorInitializers(),i}function R_(t,e=null,n=null,r,i=new Set){let s=[n||Gt,G0(t)];return r=r||(typeof t=="object"?void 0:ot(t)),new cs(s,e||Wd(),r||null,i)}var Pt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return sv({name:""},i,r,"");{let s=r.name??"";return sv({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=os,e.NULL=new Fa,e.\u0275prov=M({token:e,providedIn:"any",factory:()=>R(Lv)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var KT="ngOriginalError";function Zl(t){return t[KT]}var Xt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Zl(e);for(;n&&Zl(n);)n=Zl(n);return n||null}},N_=new F("",{providedIn:"root",factory:()=>I(Xt).handleError.bind(void 0)}),ah=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=QT,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),pd=class extends ah{constructor(e){super(),this._lView=e}onDestroy(e){return a_(this._lView,e),()=>yT(this._lView,e)}};function QT(){return new pd(fe())}function ZT(){return cc(It(),fe())}function cc(t,e){return new lr(wt(t,e))}var lr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=ZT;let t=e;return t})();var gd=class extends ze{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Yv()&&(this.destroyRef=I(ah,{optional:!0})??void 0)}emit(e){let n=ee(null);try{super.next(e)}finally{ee(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Yl(s),i&&(i=Yl(i)),o&&(o=Yl(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Te&&e.add(a),a}};function Yl(t){return e=>{setTimeout(t,void 0,e)}}var $e=gd;function P_(t){return(t.flags&128)===128}var O_=new Map,YT=0;function XT(){return YT++}function JT(t){O_.set(t[sc],t)}function eS(t){O_.delete(t[sc])}var ov="__ngContext__";function or(t,e){tr(e)?(t[ov]=e[sc],JT(e)):t[ov]=e}function k_(t){return L_(t[ls])}function F_(t){return L_(t[xt])}function L_(t){for(;t!==null&&!yn(t);)t=t[xt];return t}var md;function V_(t){md=t}function tS(){if(md!==void 0)return md;if(typeof document<"u")return document;throw new A(210,!1)}var uc=new F("",{providedIn:"root",factory:()=>nS}),nS="ng",ch=new F(""),Ln=new F("",{providedIn:"platform",factory:()=>"unknown"});var uh=new F("",{providedIn:"root",factory:()=>tS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rS="h",iS="b";var sS=()=>null;function lh(t,e,n=!1){return sS(t,e,n)}var j_=!1,oS=new F("",{providedIn:"root",factory:()=>j_});var Ca;function aS(){if(Ca===void 0&&(Ca=null,ke.trustedTypes))try{Ca=ke.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ca}function cS(t){return aS()?.createScriptURL(t)||t}var Ta;function uS(){if(Ta===void 0&&(Ta=null,ke.trustedTypes))try{Ta=ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ta}function av(t){return uS()?.createScriptURL(t)||t}var $a=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tv})`}};function lc(t){return t instanceof $a?t.changingThisBreaksApplicationSecurity:t}function dh(t,e){let n=lS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Tv})`)}return n===e}function lS(t){return t instanceof $a&&t.getTypeName()||null}var dS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function B_(t){return t=String(t),t.match(dS)?t:"unsafe:"+t}var dc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(dc||{});function hh(t){let e=z_();return e?e.sanitize(dc.URL,t)||"":dh(t,"URL")?lc(t):B_(qt(t))}function hS(t){let e=z_();if(e)return av(e.sanitize(dc.RESOURCE_URL,t)||"");if(dh(t,"ResourceURL"))return av(lc(t));throw new A(904,!1)}function hc(t){return cS(t[0])}function fS(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?hS:hh}function U_(t,e,n){return fS(e,n)(t)}function z_(){let t=fe();return t&&t[Rt].sanitizer}function $_(t){return t instanceof Function?t():t}function pS(t){return(t??I(Pt)).get(Ln)==="browser"}var dr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(dr||{}),gS;function fh(t,e){return gS(t,e)}function Qr(t,e,n,r,i){if(r!=null){let s,o=!1;yn(r)?s=r:tr(r)&&(o=!0,r=r[mn]);let a=Yt(r);t===0&&n!==null?i==null?K_(e,n,a):Ha(e,n,a,i||null,!0):t===1&&n!==null?Ha(e,n,a,i||null,!0):t===2?NS(e,a,o):t===3&&e.destroyNode(a),s!=null&&OS(e,t,s,n,i)}}function mS(t,e){return t.createText(e)}function yS(t,e,n){t.setValue(e,n)}function H_(t,e,n){return t.createElement(e,n)}function vS(t,e){q_(t,e),e[mn]=null,e[Nt]=null}function _S(t,e,n,r,i,s){r[mn]=i,r[Nt]=e,fc(t,r,n,1,i,s)}function q_(t,e){e[Rt].changeDetectionScheduler?.notify(1),fc(t,e,e[Fe],2,null,null)}function wS(t){let e=t[ls];if(!e)return Xl(t[K],t);for(;e;){let n=null;if(tr(e))n=e[ls];else{let r=e[vt];r&&(n=r)}if(!n){for(;e&&!e[xt]&&e!==t;)tr(e)&&Xl(e[K],e),e=e[He];e===null&&(e=t),tr(e)&&Xl(e[K],e),n=e&&e[xt]}e=n}}function IS(t,e,n,r){let i=vt+r,s=n.length;r>0&&(n[i-1][xt]=e),r<s-vt?(e[xt]=n[i],Fv(n,vt+r,e)):(n.push(e),e[xt]=null),e[He]=n;let o=e[ic];o!==null&&n!==o&&ES(o,e);let a=e[ni];a!==null&&a.insertView(t),ld(e),e[k]|=128}function ES(t,e){let n=t[ja],i=e[He][He][Zt];e[Zt]!==i&&(t[k]|=Kd.HasTransplantedViews),n===null?t[ja]=[e]:n.push(e)}function G_(t,e){let n=t[ja],r=n.indexOf(e);n.splice(r,1)}function yd(t,e){if(t.length<=vt)return;let n=vt+e,r=t[n];if(r){let i=r[ic];i!==null&&i!==t&&G_(i,r),e>0&&(t[n-1][xt]=r[xt]);let s=ka(t,vt+e);vS(r[K],r);let o=s[ni];o!==null&&o.detachView(s[K]),r[He]=null,r[xt]=null,r[k]&=-129}return r}function W_(t,e){if(!(e[k]&256)){let n=e[Fe];n.destroyNode&&fc(t,e,n,3,null,null),wS(e)}}function Xl(t,e){if(e[k]&256)return;let n=ee(null);try{e[k]&=-129,e[k]|=256,e[rr]&&fy(e[rr]),bS(t,e),DS(t,e),e[K].type===1&&e[Fe].destroy();let r=e[ic];if(r!==null&&yn(e[He])){r!==e[He]&&G_(r,e);let i=e[ni];i!==null&&i.detachView(t)}eS(e)}finally{ee(n)}}function DS(t,e){let n=t.cleanup,r=e[us];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[us]=null);let i=e[Nn];if(i!==null){e[Nn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function bS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof fs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Wt(4,a,c);try{c.call(a)}finally{Wt(5,a,c)}}else{Wt(4,i,s);try{s.call(i)}finally{Wt(5,i,s)}}}}}function CS(t,e,n){return TS(t,e.parent,n)}function TS(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[mn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Qt.None||s===Qt.Emulated)return null}return wt(r,n)}}function Ha(t,e,n,r,i){t.insertBefore(e,n,r,i)}function K_(t,e,n){t.appendChild(e,n)}function cv(t,e,n,r,i){r!==null?Ha(t,e,n,r,i):K_(t,e,n)}function SS(t,e,n,r){t.removeChild(e,n,r)}function ph(t,e){return t.parentNode(e)}function MS(t,e){return t.nextSibling(e)}function AS(t,e,n){return RS(t,e,n)}function xS(t,e,n){return t.type&40?wt(t,n):null}var RS=xS,uv;function gh(t,e,n,r){let i=CS(t,r,e),s=e[Fe],o=r.parent||e[Nt],a=AS(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)cv(s,i,n[c],a,!1);else cv(s,i,n,a,!1);uv!==void 0&&uv(s,r,e,n,i)}function Ra(t,e){if(e!==null){let n=e.type;if(n&3)return wt(e,t);if(n&4)return vd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ra(t,r);{let i=t[e.index];return yn(i)?vd(-1,i):Yt(i)}}else{if(n&32)return fh(e,t)()||Yt(t[e.index]);{let r=Q_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=hs(t[Zt]);return Ra(i,r)}else return Ra(t,e.next)}}}return null}function Q_(t,e){if(e!==null){let r=t[Zt][Nt],i=e.projection;return r.projection[i]}return null}function vd(t,e){let n=vt+t+1;if(n<e.length){let r=e[n],i=r[K].firstChild;if(i!==null)return Ra(r,i)}return e[ir]}function NS(t,e,n){let r=ph(t,e);r&&SS(t,r,e,n)}function mh(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&or(Yt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)mh(t,e,n.child,r,i,s,!1),Qr(e,t,i,a,s);else if(c&32){let u=fh(n,r),l;for(;l=u();)Qr(e,t,i,l,s);Qr(e,t,i,a,s)}else c&16?PS(t,e,r,n,i,s):Qr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function fc(t,e,n,r,i,s){mh(n,r,t.firstChild,e,i,s,!1)}function PS(t,e,n,r,i,s){let o=n[Zt],c=o[Nt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Qr(e,t,i,l,s)}else{let u=c,l=o[He];P_(r)&&(u.flags|=128),mh(t,e,u,l,i,s,!0)}}function OS(t,e,n,r,i){let s=n[ir],o=Yt(n);s!==o&&Qr(e,t,r,s,i);for(let a=vt;a<n.length;a++){let c=n[a];fc(c[K],c,t,e,r,s)}}function kS(t,e,n){t.setAttribute(e,"style",n)}function Z_(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Y_(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&id(t,e,r),i!==null&&Z_(t,e,i),s!==null&&kS(t,e,s)}var _n={};function oe(t=1){X_(vn(),fe(),Es()+t,!1)}function X_(t,e,n,r){if(!r)if((e[k]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Aa(e,s,n)}else{let s=t.preOrderHooks;s!==null&&xa(e,s,0,n)}sr(n)}function he(t,e=z.Default){let n=fe();if(n===null)return R(t,e);let r=It();return M_(r,n,yt(t),e)}function J_(){let t="invalid";throw new Error(t)}function ew(t,e,n,r,i,s){let o=ee(null);try{let a=null;i&_t.SignalBased&&(a=e[r][uy]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&_t.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):t_(e,a,r,s)}finally{ee(o)}}function FS(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)sr(~i);else{let s=i,o=n[++r],a=n[++r];MT(o,s);let c=e[s];a(2,c)}}}finally{sr(-1)}}function pc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[mn]=i,d[k]=r|4|128|8|64,(u!==null||t&&t[k]&2048)&&(d[k]|=2048),o_(d),d[He]=d[_s]=t,d[pn]=n,d[Rt]=o||t&&t[Rt],d[Fe]=a||t&&t[Fe],d[ti]=c||t&&t[ti]||null,d[Nt]=s,d[sc]=XT(),d[La]=l,d[Xv]=u,d[Zt]=e.type==2?t[Zt]:d,d}function gc(t,e,n,r,i){let s=t.data[e];if(s===null)s=LS(t,e,n,r,i),ST()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=bT();s.injectorIndex=o===null?-1:o.injectorIndex}return Is(s,!0),s}function LS(t,e,n,r,i){let s=u_(),o=l_(),a=o?s:s&&s.parent,c=t.data[e]=zS(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function tw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function nw(t,e,n,r,i){let s=Es(),o=r&2;try{sr(-1),o&&e.length>On&&X_(t,e,On,!1),Wt(o?2:0,i),n(r,i)}finally{sr(s),Wt(o?3:1,i)}}function rw(t,e,n){if(e_(e)){let r=ee(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{ee(r)}}}function iw(t,e,n){c_()&&(KS(t,e,n,wt(n,e)),(n.flags&64)===64&&lw(t,e,n))}function sw(t,e,n=wt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function ow(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=yh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function yh(t,e,n,r,i,s,o,a,c,u,l){let d=On+r,h=d+i,f=VS(d,h),y=typeof u=="function"?u():u;return f[K]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function VS(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:_n);return n}function jS(t,e,n,r){let s=r.get(oS,j_)||n===Qt.ShadowDom,o=t.selectRootElement(e,s);return BS(o),o}function BS(t){US(t)}var US=()=>null;function zS(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return IT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function lv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=_t.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?dv(r,n,u,a,c):dv(r,n,u,a)}return r}function dv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function $S(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,y=h?h.outputs:null;c=lv(0,d.inputs,l,c,f),u=lv(1,d.outputs,l,u,y);let T=c!==null&&o!==null&&!qd(e)?sM(c,l,o):null;a.push(T)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function HS(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function aw(t,e,n,r,i,s,o,a){let c=wt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(vh(t,n,l,r,i),oc(e)&&qS(n,e.index)):e.type&3?(r=HS(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function qS(t,e){let n=Fn(e,t);n[k]&16||(n[k]|=64)}function cw(t,e,n,r){if(c_()){let i=r===null?null:{"":-1},s=ZS(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&uw(t,e,n,o,i,a),i&&YS(n,r,i)}n.mergedAttrs=Hd(n.mergedAttrs,n.attrs)}function uw(t,e,n,r,i,s){for(let u=0;u<r.length;u++)UT(b_(n,e),t,r[u].type);JS(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=tw(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Hd(n.mergedAttrs,l.hostAttrs),eM(t,n,e,c,l),XS(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}$S(t,n,s)}function GS(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;WS(o)!=a&&o.push(a),o.push(n,r,s)}}function WS(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function KS(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;oc(n)&&tM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||b_(n,e),or(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=ps(e,t,a,n);if(or(u,e),o!==null&&iM(e,a-i,u,c,n,o),ws(c)){let l=Fn(n.index,e);l[pn]=ps(e,t,a,n)}}}function lw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=AT();try{sr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];dd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&QS(c,u)}}finally{sr(-1),dd(o)}}function QS(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ZS(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(L0(e,o.selectors,!1))if(r||(r=[]),ws(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;_d(t,e,c)}else r.unshift(o),_d(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function _d(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function YS(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new A(-301,!1);r.push(e[i],s)}}}function XS(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ws(e)&&(n[""]=t)}}function JS(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function eM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Jr(i.type,!0)),o=new fs(s,ws(i),he);t.blueprint[r]=o,n[r]=o,GS(t,e,r,tw(t,n,i.hostVars,_n),i)}function tM(t,e,n){let r=wt(e,t),i=ow(n),s=t[Rt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=mc(t,pc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function nM(t,e,n,r,i,s){let o=wt(t,e);rM(e[Fe],o,s,t.value,n,r,i)}function rM(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?qt(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function iM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];ew(r,n,c,u,l,d)}}function sM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function dw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function hw(t,e){let n=t.contentQueries;if(n!==null){let r=ee(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];f_(s),a.contentQueries(2,e[o],o)}}}finally{ee(r)}}}function mc(t,e){return t[ls]?t[Jy][xt]=e:t[ls]=e,t[Jy]=e,e}function wd(t,e,n){f_(0);let r=ee(null);try{e(t,n)}finally{ee(r)}}function oM(t){return t[us]||(t[us]=[])}function aM(t){return t.cleanup||(t.cleanup=[])}function fw(t,e){let n=t[ti],r=n?n.get(Xt,null):null;r&&r.handleError(e)}function vh(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];ew(l,u,r,a,c,i)}}function _h(t,e,n){let r=pT(e,t);yS(t[Fe],r,n)}function cM(t,e){let n=Fn(e,t),r=n[K];uM(r,n);let i=n[mn];i!==null&&n[La]===null&&(n[La]=lh(i,n[ti])),wh(r,n,n[pn])}function uM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function wh(t,e,n){Jd(e);try{let r=t.viewQuery;r!==null&&wd(1,r,n);let i=t.template;i!==null&&nw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ni]?.finishViewCreation(t),t.staticContentQueries&&hw(t,e),t.staticViewQueries&&wd(2,t.viewQuery,n);let s=t.components;s!==null&&lM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,eh()}}function lM(t,e){for(let n=0;n<e.length;n++)cM(t,e[n])}function dM(t,e,n,r){let i=ee(null);try{let s=e.tView,a=t[k]&4096?4096:16,c=pc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[ic]=u;let l=t[ni];return l!==null&&(c[ni]=l.createEmbeddedView(s)),wh(s,c,n),c}finally{ee(i)}}function hv(t,e){return!e||e.firstChild===null||P_(t)}function hM(t,e,n,r=!0){let i=e[K];if(IS(i,e,t,n),r){let o=vd(n,t),a=e[Fe],c=ph(a,t[ir]);c!==null&&_S(i,t[Nt],a,e,c,o)}let s=e[La];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function qa(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Yt(s)),yn(s)&&fM(s,r);let o=n.type;if(o&8)qa(t,e,n.child,r);else if(o&32){let a=fh(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=Q_(e,n);if(Array.isArray(a))r.push(...a);else{let c=hs(e[Zt]);qa(c[K],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function fM(t,e){for(let n=vt;n<t.length;n++){let r=t[n],i=r[K].firstChild;i!==null&&qa(r[K],r,i,e)}t[ir]!==t[mn]&&e.push(t[ir])}var pw=[];function pM(t){return t[rr]??gM(t)}function gM(t){let e=pw.pop()??Object.create(yM);return e.lView=t,e}function mM(t){t.lView[rr]!==t&&(t.lView=null,pw.push(t))}var yM=le(S({},ly),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ds(t.lView)},consumerOnSignalRead(){this.lView[rr]=this}}),gw=100;function mw(t,e=!0,n=0){let r=t[Rt],i=r.rendererFactory,s=!1;s||i.begin?.();try{vM(t,n)}catch(o){throw e&&fw(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function vM(t,e){Id(t,e);let n=0;for(;Yd(t);){if(n===gw)throw new A(103,!1);n++,Id(t,1)}}function _M(t,e,n,r){let i=e[k];if((i&256)===256)return;let s=!1;!s&&e[Rt].inlineEffectRunner?.flush(),Jd(e);let o=null,a=null;!s&&wM(t)&&(a=pM(e),o=dy(a));try{o_(e),TT(t.bindingStartIndex),n!==null&&nw(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Aa(e,d,null)}else{let d=t.preOrderHooks;d!==null&&xa(e,d,0,null),Kl(e,0)}if(IM(e),yw(e,0),t.contentQueries!==null&&hw(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Aa(e,d)}else{let d=t.contentHooks;d!==null&&xa(e,d,1),Kl(e,1)}FS(t,e);let u=t.components;u!==null&&_w(e,u,0);let l=t.viewQuery;if(l!==null&&wd(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Aa(e,d)}else{let d=t.viewHooks;d!==null&&xa(e,d,2),Kl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Wl]){for(let d of e[Wl])d();e[Wl]=null}s||(e[k]&=-73)}catch(c){throw ds(e),c}finally{a!==null&&(hy(a,o),mM(a)),eh()}}function wM(t){return t.type!==2}function yw(t,e){for(let n=k_(t);n!==null;n=F_(n))for(let r=vt;r<n.length;r++){let i=n[r];vw(i,e)}}function IM(t){for(let e=k_(t);e!==null;e=F_(e)){if(!(e[k]&Kd.HasTransplantedViews))continue;let n=e[ja];for(let r=0;r<n.length;r++){let i=n[r],s=i[He];mT(i)}}}function EM(t,e,n){let r=Fn(e,t);vw(r,n)}function vw(t,e){Zd(t)&&Id(t,e)}function Id(t,e){let r=t[K],i=t[k],s=t[rr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Ml(s)),s&&(s.dirty=!1),t[k]&=-9217,o)_M(r,t,r.template,t[pn]);else if(i&8192){yw(t,1);let a=r.components;a!==null&&_w(t,a,1)}}function _w(t,e,n){for(let r=0;r<e.length;r++)EM(t,e[r],n)}function Ih(t){for(t[Rt].changeDetectionScheduler?.notify();t;){t[k]|=64;let e=hs(t);if(oT(t)&&!e)return t;t=e}return null}var ar=class{get rootNodes(){let e=this._lView,n=e[K];return qa(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(e){this._lView[pn]=e}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[He];if(yn(e)){let n=e[Va],r=n?n.indexOf(this):-1;r>-1&&(yd(e,r),ka(n,r))}this._attachedToViewContainer=!1}W_(this._lView[K],this._lView)}onDestroy(e){a_(this._lView,e)}markForCheck(){Ih(this._cdRefInjectingView||this._lView)}detach(){this._lView[k]&=-129}reattach(){ld(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,mw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,q_(this._lView[K],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e,ld(this._lView)}},Eh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=CM;let t=e;return t})(),DM=Eh,bM=class extends DM{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=dM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ar(i)}};function CM(){return TM(It(),fe())}function TM(t,e){return t.type&4?new bM(e,t,cc(t,e)):null}var XB=new RegExp(`^(\\d+)*(${iS}|${rS})*(.*)`);var SM=()=>null;function fv(t,e){return SM(t,e)}var Ga=class{},Ed=class{},Wa=class{};function MM(t){let e=Error(`No component factory found for ${ot(t)}.`);return e[AM]=t,e}var AM="ngComponent";var Dd=class{resolveComponentFactory(e){throw MM(e)}},yc=(()=>{let e=class e{};e.NULL=new Dd;let t=e;return t})(),gs=class{},Ds=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>xM();let t=e;return t})();function xM(){let t=fe(),e=It(),n=Fn(e.index,t);return(tr(n)?n:t)[Fe]}var RM=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Jl={};var pv=new Set;function Dh(t){pv.has(t)||(pv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function gv(...t){}function NM(){let t=typeof ke.requestAnimationFrame=="function",e=ke[t?"requestAnimationFrame":"setTimeout"],n=ke[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=NM().nativeRequestAnimationFrame,kM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,PM,gv,gv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},PM={};function bh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function OM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bd(t),t.isCheckStableRunning=!0,bh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bd(t))}function kM(t){let e=()=>{OM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(FM(a))return n.invokeTask(i,s,o,a);try{return mv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),yv(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return mv(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),yv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,bd(t),bh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function bd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function mv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yv(t){t._nesting--,bh(t)}var Cd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function FM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function LM(t="zone.js",e){return t==="noop"?new Cd:t==="zone.js"?new ce(e):t}var Zr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Zr||{}),VM={destroy(){}};function Ch(t,e){!e&&rT(Ch);let n=e?.injector??I(Pt);if(!pS(n))return VM;Dh("NgAfterNextRender");let r=n.get(Th),i=r.handler??=new Sd,s=e?.phase??Zr.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(ah).onDestroy(o),c=gn(n,()=>new Td(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var Td=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=I(ce),this.errorHandler=I(Xt,{optional:!0}),I(Ga,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Sd=class{constructor(){this.executingCallbacks=!1,this.buckets={[Zr.EarlyRead]:new Set,[Zr.Write]:new Set,[Zr.MixedReadWrite]:new Set,[Zr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Th=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Md(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=$y(i,a);else if(s==2){let c=a,u=e[++o];r=$y(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ka=class extends yc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Pn(e);return new ri(n,this.ngModule)}};function vv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function jM(t){let e=t.toLowerCase();return e==="svg"?lT:e==="math"?dT:null}var Ad=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=tc(r);let i=this.injector.get(e,Jl,r);return i!==Jl||n===Jl?i:this.parentInjector.get(e,n,r)}},ri=class extends Wa{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=vv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return vv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=U0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ee(null);try{i=i||this.ngModule;let o=i instanceof at?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Ad(e,o):e,c=a.get(gs,null);if(c===null)throw new A(407,!1);let u=a.get(RM,null),l=a.get(Th,null),d=a.get(Ga,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",T=r?jS(f,r,this.componentDef.encapsulation,a):H_(f,y,jM(y)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let P=null;T!==null&&(P=lh(T,a,!0));let ae=yh(0,null,null,1,0,null,null,null,null,null,null),$=pc(null,ae,null,b,null,null,h,f,a,null,P);Jd($);let H,Ce;try{let te=this.componentDef,Xe,ft=null;te.findHostDirectiveDefs?(Xe=[],ft=new Map,te.findHostDirectiveDefs(te,Xe,ft),Xe.push(te)):Xe=[te];let Tl=BM($,T),ra=UM(Tl,T,te,Xe,$,h,f);Ce=s_(ae,On),T&&HM(f,te,T,r),n!==void 0&&qM(Ce,this.ngContentSelectors,n),H=$M(ra,te,Xe,ft,$,[GM]),wh(ae,$,null)}finally{eh()}return new xd(this.componentType,H,cc(Ce,$),$,Ce)}finally{ee(s)}}},xd=class extends Ed{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ar(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;vh(s[K],s,i,e,n),this.previousInputValues.set(e,n);let o=Fn(this._tNode.index,s);Ih(o)}}get injector(){return new nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BM(t,e){let n=t[K],r=On;return t[r]=e,gc(n,r,2,"#host",null)}function UM(t,e,n,r,i,s,o){let a=i[K];zM(r,t,e,o);let c=null;e!==null&&(c=lh(e,i[ti]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=pc(i,ow(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&_d(a,t,r.length-1),mc(i,d),i[t.index]=d}function zM(t,e,n,r){for(let i of t)e.mergedAttrs=Hd(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Md(e,e.mergedAttrs,!0),n!==null&&Y_(r,n,e))}function $M(t,e,n,r,i,s){let o=It(),a=i[K],c=wt(o,i);uw(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=ps(i,a,d,o);or(h,i)}lw(a,i,o),c&&or(c,i);let u=ps(i,a,o.directiveStart+o.componentOffset,o);if(t[pn]=i[pn]=u,s!==null)for(let l of s)l(u,e);return rw(a,o,i),u}function HM(t,e,n,r){if(r)id(t,n,["ng-version","17.3.1"]);else{let{attrs:i,classes:s}=z0(e.selectors[0]);i&&id(t,n,i),s&&s.length>0&&Z_(t,n,s.join(" "))}}function qM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function GM(){let t=It();ih(fe()[K],t)}var bs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=WM;let t=e;return t})();function WM(){let t=It();return QM(t,fe())}var KM=bs,ww=class extends KM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return cc(this._hostTNode,this._hostLView)}get injector(){return new nr(this._hostTNode,this._hostLView)}get parentInjector(){let e=sh(this._hostTNode,this._hostLView);if(I_(e)){let n=za(e,this._hostLView),r=Ua(e),i=n[K].data[r+8];return new nr(i,n)}else return new nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=_v(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=fv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,hv(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!sT(e),a;if(o)a=n;else{let y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let c=o?e:new ri(Pn(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let T=(o?u:this.parentInjector).get(at,null);T&&(s=T)}let l=Pn(c.componentType??{}),d=fv(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,hv(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(gT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[He],u=new ww(c,c[Nt],c[He]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return hM(o,i,s,r),e.attachToViewContainerRef(),Fv(ed(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=_v(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=yd(this._lContainer,n);r&&(ka(ed(this._lContainer),n),W_(r[K],r))}detach(e){let n=this._adjustIndex(e,-1),r=yd(this._lContainer,n);return r&&ka(ed(this._lContainer),n)!=null?new ar(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function _v(t){return t[Va]}function ed(t){return t[Va]||(t[Va]=[])}function QM(t,e){let n,r=e[t.index];return yn(r)?n=r:(n=dw(r,e,null,t),e[t.index]=n,mc(e,n)),YM(n,e,t,r),new ww(n,t,e)}function ZM(t,e){let n=t[Fe],r=n.createComment(""),i=wt(e,t),s=ph(n,i);return Ha(n,s,r,MS(n,i),!1),r}var YM=eA,XM=()=>!1;function JM(t,e,n){return XM(t,e,n)}function eA(t,e,n,r){if(t[ir])return;let i;n.type&8?i=Yt(r):i=ZM(e,n),t[ir]=i}function tA(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(sA))}return s}return Qa.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),o.push(r(d).then(f=>{a[u+h]=f,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(o).then(()=>oA(s));e.push(c)}),rA(),Promise.all(e).then(()=>{})}var Qa=new Map,nA=new Set;function rA(){let t=Qa;return Qa=new Map,t}function iA(){return Qa.size===0}function sA(t){return typeof t=="string"?t:t.text()}function oA(t){nA.delete(t)}function Sh(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var kn=class{},ms=class{};var Za=class extends kn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ka(this);let i=qv(e);this._bootstrapComponents=$_(i.bootstrap),this._r3Injector=R_(e,n,[{provide:kn,useValue:this},{provide:yc,useValue:this.componentFactoryResolver},...r],ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ya=class extends ms{constructor(e){super(),this.moduleType=e}create(e){return new Za(this.moduleType,e,[])}};function aA(t,e,n){return new Za(t,e,n)}var Rd=class extends kn{constructor(e){super(),this.componentFactoryResolver=new Ka(this),this.instance=null;let n=new cs([...e.providers,{provide:kn,useValue:this},{provide:yc,useValue:this.componentFactoryResolver}],e.parent||Wd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vc(t,e,n=null){return new Rd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var _c=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Iw(t){return uA(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function cA(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function uA(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ys(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Nd(t,e,n,r){let i=ys(t,e,n);return ys(t,e+1,r)||i}function lA(t,e,n,r,i,s){let o=Nd(t,e,n,r);return Nd(t,e+2,i,s)||o}function dA(t){return(t.flags&32)===32}function hA(t,e,n,r,i,s,o,a,c){let u=e.consts,l=gc(e,t,4,o||null,Ba(u,a));cw(e,n,l,Ba(u,c)),ih(e,l);let d=l.tView=yh(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function wn(t,e,n,r,i,s,o,a){let c=fe(),u=vn(),l=t+On,d=u.firstCreatePass?hA(l,u,c,e,n,r,i,s,o):u.data[l];Is(d,!1);let h=fA(u,c,d,t);nh()&&gh(u,c,h,d),or(h,c);let f=dw(h,c,h,d);return c[l]=f,mc(c,f),JM(f,d,c),Qd(d)&&iw(u,c,d),o!=null&&sw(c,d,a),wn}var fA=pA;function pA(t,e,n,r){return rh(!0),e[Fe].createComment("")}function wc(t,e,n,r){let i=fe(),s=Xd();if(ys(i,s,e)){let o=vn(),a=th();nM(a,i,t,e,n,r)}return wc}function Ew(t,e,n,r){return ys(t,Xd(),n)?e+qt(n)+r:_n}function gA(t,e,n,r,i,s){let o=d_(),a=Nd(t,o,n,i);return h_(2),a?e+qt(n)+r+qt(i)+s:_n}function mA(t,e,n,r,i,s,o,a,c,u){let l=d_(),d=lA(t,l,n,i,o,c);return h_(4),d?e+qt(n)+r+qt(i)+s+qt(o)+a+qt(c)+u:_n}function In(t,e,n){let r=fe(),i=Xd();if(ys(r,i,e)){let s=vn(),o=th();aw(s,o,r,t,e,r[Fe],n,!1)}return In}function wv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";vh(t,n,s[o],o,r)}function yA(t,e,n,r,i,s){let o=e.consts,a=Ba(o,i),c=gc(e,t,2,r,a);return cw(e,n,c,Ba(o,s)),c.attrs!==null&&Md(c,c.attrs,!1),c.mergedAttrs!==null&&Md(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function _(t,e,n,r){let i=fe(),s=vn(),o=On+t,a=i[Fe],c=s.firstCreatePass?yA(o,s,i,e,n,r):s.data[o],u=vA(s,i,c,a,e,t);i[o]=u;let l=Qd(c);return Is(c,!0),Y_(a,u,c),!dA(c)&&nh()&&gh(s,i,u,c),vT()===0&&or(u,i),_T(),l&&(iw(s,i,c),rw(s,c,i)),r!==null&&sw(i,c),_}function v(){let t=It();l_()?CT():(t=t.parent,Is(t,!1));let e=t;ET(e)&&DT(),wT();let n=vn();return n.firstCreatePass&&(ih(n,t),e_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&kT(e)&&wv(n,e,fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&FT(e)&&wv(n,e,fe(),e.stylesWithoutHost,!1),v}function N(t,e,n,r){return _(t,e,n,r),v(),N}var vA=(t,e,n,r,i,s)=>(rh(!0),H_(r,i,RT()));var Xa="en-US";var _A=Xa;function wA(t){typeof t=="string"&&(_A=t.toLowerCase().replace(/_/g,"-"))}function Ic(t,e,n,r){let i=fe(),s=vn(),o=It();return EA(s,i,i[Fe],o,t,e,r),Ic}function IA(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[us],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function EA(t,e,n,r,i,s,o){let a=Qd(r),u=t.firstCreatePass&&aM(t),l=e[pn],d=oM(e),h=!0;if(r.type&3||o){let T=wt(r,e),b=o?o(T):T,P=d.length,ae=o?H=>o(Yt(H[r.index])):r.index,$=null;if(!o&&a&&($=IA(t,e,i,r.index)),$!==null){let H=$.__ngLastListenerFn__||$;H.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,h=!1}else{s=Ev(r,e,l,s,!1);let H=n.listen(b,i,s);d.push(s,H),u&&u.push(i,ae,P,P+1)}}else s=Ev(r,e,l,s,!1);let f=r.outputs,y;if(h&&f!==null&&(y=f[i])){let T=y.length;if(T)for(let b=0;b<T;b+=2){let P=y[b],ae=y[b+1],Ce=e[P][ae].subscribe(s),te=d.length;d.push(s,Ce),u&&u.push(i,r.index,te,-(te+1))}}}function Iv(t,e,n,r){let i=ee(null);try{return Wt(6,e,n),n(r)!==!1}catch(s){return fw(t,s),!1}finally{Wt(7,e,n),ee(i)}}function Ev(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Fn(t.index,e):e;Ih(a);let c=Iv(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Iv(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Mh(t,e,n){return Et(t,"",e,"",n),Mh}function Et(t,e,n,r,i){let s=fe(),o=Ew(s,e,n,r);if(o!==_n){let a=vn(),c=th();aw(a,c,s,t,o,s[Fe],i,!1)}return Et}function D(t,e=""){let n=fe(),r=vn(),i=t+On,s=r.firstCreatePass?gc(r,i,1,e,null):r.data[i],o=DA(r,n,s,e,t);n[i]=o,nh()&&gh(r,n,o,s),Is(s,!1)}var DA=(t,e,n,r,i)=>(rh(!0),mS(e[Fe],r));function nt(t){return hr("",t,""),nt}function hr(t,e,n){let r=fe(),i=Ew(r,t,e,n);return i!==_n&&_h(r,Es(),i),hr}function Ah(t,e,n,r,i){let s=fe(),o=gA(s,t,e,n,r,i);return o!==_n&&_h(s,Es(),o),Ah}function xh(t,e,n,r,i,s,o,a,c){let u=fe(),l=mA(u,t,e,n,r,i,s,o,a,c);return l!==_n&&_h(u,Es(),l),xh}var bA=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Kv(!1,r.type),s=i.length>0?vc([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(R(at))});let t=e;return t})();function fr(t){Dh("NgStandalone"),t.getStandaloneInjector=e=>e.get(bA).getOrCreateStandaloneInjector(t)}var Sa=null;function CA(t){Sa!==null&&(t.defaultEncapsulation!==Sa.defaultEncapsulation||t.preserveWhitespaces!==Sa.preserveWhitespaces)||(Sa=t)}var Ec=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Rh=new F(""),Cs=new F(""),Dc=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Nh||(TA(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(R(ce),R(bc),R(Cs))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),bc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Nh?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function TA(t){Nh=t}var Nh;function ii(t){return!!t&&typeof t.then=="function"}function Dw(t){return!!t&&typeof t.subscribe=="function"}var Cc=new F(""),bw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=I(Cc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ii(o))r.push(o);else if(Dw(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ph=new F("");function SA(){py(()=>{throw new A(600,!1)})}function MA(t){return t.isBoundToModule}function AA(t,e,n){try{let r=n();return ii(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function Cw(t,e){return Array.isArray(e)?e.reduce(Cw,t):S(S({},t),e)}var si=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(N_),this.afterRenderEffectManager=I(Th),this.externalTestViews=new Set,this.beforeRender=new ze,this.afterTick=new ze,this.componentTypes=[],this.components=[],this.isStable=I(_c).hasPendingTasks.pipe(W(r=>!r)),this._injector=I(at)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Wa;if(!this._injector.get(bw).done){let f=!s&&Hv(r),y=!1;throw new A(405,y)}let a;s?a=r:a=this._injector.get(yc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=MA(a)?void 0:this._injector.get(kn),u=i||a.selector,l=a.create(Pt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(Rh,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Na(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new A(101,!1);let i=ee(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ee(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===gw)throw new A(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)xA(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Pd(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Pd(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Na(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ph,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Na(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new A(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Na(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xA(t,e,n){!e&&!Pd(t)||RA(t,n,e)}function Pd(t){return Yd(t)}function RA(t,e,n){let r;n?(r=0,t[k]|=1024):t[k]&64?r=0:r=1,mw(t,e,r)}var Od=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Tc=(()=>{let e=class e{compileModuleSync(r){return new Ya(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=qv(r),o=$_(s.declarations).reduce((a,c)=>{let u=Pn(c);return u&&a.push(new ri(u)),a},[]);return new Od(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NA=new F("");function PA(t,e,n){let r=new Ya(n);return Promise.resolve(r)}function Dv(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var OA=(()=>{let e=class e{constructor(){this.zone=I(ce),this.applicationRef=I(si)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kA(t){return[{provide:ce,useFactory:t},{provide:ei,multi:!0,useFactory:()=>{let e=I(OA,{optional:!0});return()=>e.initialize()}},{provide:ei,multi:!0,useFactory:()=>{let e=I(VA);return()=>{e.initialize()}}},{provide:N_,useFactory:FA}]}function FA(){let t=I(ce),e=I(Xt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function LA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VA=(()=>{let e=class e{constructor(){this.subscription=new Te,this.initialized=!1,this.zone=I(ce),this.pendingTasks=I(_c)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jA(){return typeof $localize<"u"&&$localize.locale||Xa}var Oh=new F("",{providedIn:"root",factory:()=>I(Oh,z.Optional|z.SkipSelf)||jA()});var Tw=new F(""),Sw=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=LM(i?.ngZone,LA({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let o=aA(r.moduleType,this.injector,kA(()=>s)),a=o.injector.get(Xt,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{Na(this._modules,o),c.unsubscribe()})}),AA(a,s,()=>{let c=o.injector.get(bw);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(Oh,Xa);return wA(u||Xa),this._moduleDoBootstrap(o),o})})})}bootstrapModule(r,i=[]){let s=Cw({},i);return PA(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){let i=r.injector.get(si);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new A(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(Tw,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(R(Pt))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ss=null,Mw=new F("");function BA(t){if(ss&&!ss.get(Mw,!1))throw new A(400,!1);SA(),ss=t;let e=t.get(Sw);return $A(t),e}function kh(t,e,n=[]){let r=`Platform: ${e}`,i=new F(r);return(s=[])=>{let o=Aw();if(!o||o.injector.get(Mw,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):BA(UA(a,r))}return zA(i)}}function UA(t=[],e){return Pt.create({name:e,providers:[{provide:rc,useValue:"platform"},{provide:Tw,useValue:new Set([()=>ss=null])},...t]})}function zA(t){let e=Aw();if(!e)throw new A(401,!1);return e}function Aw(){return ss?.get(Sw)??null}function $A(t){t.get(ch,null)?.forEach(n=>n())}var oi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HA;let t=e;return t})();function HA(t){return qA(It(),fe(),(t&16)===16)}function qA(t,e,n){if(oc(t)&&!n){let r=Fn(t.index,e);return new ar(r,r)}else if(t.type&47){let r=e[Zt];return new ar(r,e)}return null}var kd=class{constructor(){}supports(e){return Iw(e)}create(e){return new Fd(e)}},GA=(t,e)=>e,Fd=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||GA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<bv(r,i,s)?n:r,a=bv(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,y=f+h;l<=y&&y<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Iw(e))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,cA(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Ld(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ja),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ja),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ld=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Vd=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ja=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Vd,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Cv(){return new Fh([new kd])}var Fh=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Cv()),deps:[[e,new zd,new nc]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new A(901,!1)}};e.\u0275prov=M({token:e,providedIn:"root",factory:Cv});let t=e;return t})();var xw=kh(null,"core",[]),Rw=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(R(si))},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})();function ai(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Nw(t){let e=Pn(t);if(!e)return null;let n=new ri(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Fw=null;function pr(){return Fw}function Lw(t){Fw??=t}var Sc=class{};var rt=new F(""),Uh=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>I(WA),providedIn:"platform"});let t=e;return t})(),Vw=new F(""),WA=(()=>{let e=class e extends Uh{constructor(){super(),this._doc=I(rt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pr().getBaseHref(this._doc)}onPopState(r){let i=pr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=pr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function zh(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Pw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function En(t){return t&&t[0]!=="?"?"?"+t:t}var Dn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>I($h),providedIn:"root"});let t=e;return t})(),jw=new F(""),$h=(()=>{let e=class e extends Dn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??I(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return zh(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+En(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+En(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+En(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(Uh),R(jw,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bw=(()=>{let e=class e extends Dn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=zh(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+En(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+En(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(Uh),R(jw,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),ci=(()=>{let e=class e{constructor(r){this._subject=new $e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=ZA(Pw(Ow(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+En(i))}normalize(r){return e.stripTrailingSlash(QA(this._basePath,Ow(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+En(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+En(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=En,e.joinWithSlash=zh,e.stripTrailingSlash=Pw,e.\u0275fac=function(i){return new(i||e)(R(Dn))},e.\u0275prov=M({token:e,factory:()=>KA(),providedIn:"root"});let t=e;return t})();function KA(){return new ci(R(Dn))}function QA(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ow(t){return t.replace(/\/index.html$/,"")}function ZA(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Uw(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Lh=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Vn=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Lh(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),kw(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);kw(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(he(bs),he(Eh),he(Fh))},e.\u0275dir=cr({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function kw(t,e){t.context.$implicit=e.item}var zw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})(),Hh="browser",YA="server";function XA(t){return t===Hh}function qh(t){return t===YA}var $w=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>XA(I(Ln))?new Vh(I(rt),window):new jh});let t=e;return t})(),Vh=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=JA(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function JA(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var jh=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Mc=class{};var Qh=class extends Sc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Zh=class t extends Qh{static makeCurrent(){Lw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=tx();return n==null?null:nx(n)}resetBaseElement(){Ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Uw(document.cookie,e)}},Ts=null;function tx(){return Ts=Ts||document.querySelector("base"),Ts?Ts.getAttribute("href"):null}function nx(t){return new URL(t,document.baseURI).pathname}var Yh=class{addToWindow(e){ke.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new A(5103,!1);return s},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=ke.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?pr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},rx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Xh=new F(""),Ww=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(R(Xh),R(ce))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Ac=class{constructor(e){this._doc=e}},Wh="ng-app-id",Kw=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qh(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Wh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Wh),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Wh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(R(rt),R(uc),R(uh,8),R(Ln))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Kh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ef=/%COMP%/g,Qw="%COMP%",ix=`_nghost-${Qw}`,sx=`_ngcontent-${Qw}`,ox=!0,ax=new F("",{providedIn:"root",factory:()=>ox});function cx(t){return sx.replace(ef,t)}function ux(t){return ix.replace(ef,t)}function Zw(t,e){return e.map(n=>n.replace(ef,t))}var Hw=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=qh(c),this.defaultRenderer=new Ss(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Qt.ShadowDom&&(i=le(S({},i),{encapsulation:Qt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof xc?s.applyToHost(r):s instanceof Ms&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Qt.Emulated:o=new xc(u,l,i,this.appId,d,a,c,h);break;case Qt.ShadowDom:return new Jh(u,l,r,i,a,c,this.nonce,h);default:o=new Ms(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(R(Ww),R(Kw),R(uc),R(ax),R(rt),R(Ln),R(ce),R(uh))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Ss=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Kh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(qw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(qw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Kh[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Kh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(dr.DashCase|dr.Important)?e.style.setProperty(n,r,i&dr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&dr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=pr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function qw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Jh=class extends Ss{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Zw(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ms=class extends Ss{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Zw(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},xc=class extends Ms{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=cx(u),this.hostAttr=ux(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},lx=(()=>{let e=class e extends Ac{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(R(rt))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Gw=["alt","control","meta","shift"],dx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},fx=(()=>{let e=class e extends Ac{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Gw.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=dx[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Gw.forEach(a=>{if(a!==s){let c=hx[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(R(rt))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function px(){Zh.makeCurrent()}function gx(){return new Xt}function mx(){return V_(document),document}var yx=[{provide:Ln,useValue:Hh},{provide:ch,useValue:px,multi:!0},{provide:rt,useFactory:mx,deps:[]}],Yw=kh(xw,"browser",yx),vx=new F(""),_x=[{provide:Cs,useClass:Yh,deps:[]},{provide:Rh,useClass:Dc,deps:[ce,bc,Cs]},{provide:Dc,useClass:Dc,deps:[ce,bc,Cs]}],wx=[{provide:rc,useValue:"root"},{provide:Xt,useFactory:gx,deps:[]},{provide:Xh,useClass:lx,multi:!0,deps:[rt,ce,Ln]},{provide:Xh,useClass:fx,multi:!0,deps:[rt]},Hw,Kw,Ww,{provide:gs,useExisting:Hw},{provide:Mc,useClass:rx,deps:[]},[]],Xw=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:uc,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(R(vx,12))},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({providers:[...wx,..._x],imports:[zw,Rw]});let t=e;return t})();var Jw=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(R(rt))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ix={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oz=le(S({},Ix),{"[class.ng-submitted]":"isSubmitted"});var Ex=new F("CallSetDisabledState",{providedIn:"root",factory:()=>tI}),tI="always";var Dx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})();var ui=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ex,useValue:r.callSetDisabledState??tI}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({imports:[Dx]});let t=e;return t})();var B="primary",$s=Symbol("RouteTitle"),of=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function pi(t){return new of(t)}function Sx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Mx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Jt(t[n],e[n]))return!1;return!0}function Jt(t,e){let n=t?af(t):void 0,r=e?af(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!lI(t[i],e[i]))return!1;return!0}function af(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function lI(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function dI(t){return t.length>0?t[t.length-1]:null}function zn(t){return Bl(t)?t:ii(t)?ye(Promise.resolve(t)):O(t)}var Ax={exact:fI,subset:pI},hI={exact:xx,subset:Rx,ignored:()=>!0};function nI(t,e,n){return Ax[n.paths](t.root,e.root,n.matrixParams)&&hI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function xx(t,e){return Jt(t,e)}function fI(t,e,n){if(!mr(t.segments,e.segments)||!Pc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!fI(t.children[r],e.children[r],n))return!1;return!0}function Rx(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>lI(t[n],e[n]))}function pI(t,e,n){return gI(t,e,e.segments,n)}function gI(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!mr(i,n)||e.hasChildren()||!Pc(i,n,r))}else if(t.segments.length===n.length){if(!mr(t.segments,n)||!Pc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!pI(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!mr(t.segments,i)||!Pc(t.segments,i,r)||!t.children[B]?!1:gI(t.children[B],e,s,r)}}function Pc(t,e,n){return e.every((r,i)=>hI[n](t[i].parameters,r.parameters))}var jn=class{constructor(e=new ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=pi(this.queryParams),this._queryParamMap}toString(){return Ox.serialize(this)}},ne=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oc(this)}},gr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=pi(this.parameters),this._parameterMap}toString(){return yI(this)}};function Nx(t,e){return mr(t,e)&&t.every((n,r)=>Jt(n.parameters,e[r].parameters))}function mr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Px(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===B&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==B&&(n=n.concat(e(i,r)))}),n}var Hs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>new ks,providedIn:"root"});let t=e;return t})(),ks=class{parse(e){let n=new uf(e);return new jn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${As(e.root,!0)}`,r=Lx(e.queryParams),i=typeof e.fragment=="string"?`#${kx(e.fragment)}`:"";return`${n}${r}${i}`}},Ox=new ks;function Oc(t){return t.segments.map(e=>yI(e)).join("/")}function As(t,e){if(!t.hasChildren())return Oc(t);if(e){let n=t.children[B]?As(t.children[B],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==B&&r.push(`${i}:${As(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Px(t,(r,i)=>i===B?[As(t.children[B],!1)]:[`${i}:${As(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[B]!=null?`${Oc(t)}/${n[0]}`:`${Oc(t)}/(${n.join("//")})`}}function mI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rc(t){return mI(t).replace(/%3B/gi,";")}function kx(t){return encodeURI(t)}function cf(t){return mI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kc(t){return decodeURIComponent(t)}function rI(t){return kc(t.replace(/\+/g,"%20"))}function yI(t){return`${cf(t.path)}${Fx(t.parameters)}`}function Fx(t){return Object.entries(t).map(([e,n])=>`;${cf(e)}=${cf(n)}`).join("")}function Lx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Rc(n)}=${Rc(i)}`).join("&"):`${Rc(n)}=${Rc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Vx=/^[^\/()?;#]+/;function tf(t){let e=t.match(Vx);return e?e[0]:""}var jx=/^[^\/()?;=#]+/;function Bx(t){let e=t.match(jx);return e?e[0]:""}var Ux=/^[^=?&#]+/;function zx(t){let e=t.match(Ux);return e?e[0]:""}var $x=/^[^&#]+/;function Hx(t){let e=t.match($x);return e?e[0]:""}var uf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[B]=new ne(e,n)),r}parseSegment(){let e=tf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new gr(kc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Bx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=tf(this.remaining);i&&(r=i,this.capture(r))}e[kc(n)]=kc(r)}parseQueryParam(e){let n=zx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Hx(this.remaining);o&&(r=o,this.capture(r))}let i=rI(n),s=rI(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=tf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=B);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[B]:new ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};function vI(t){return t.segments.length>0?new ne([],{[B]:t}):t}function _I(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=_I(i);if(r===B&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ne(t.segments,e);return qx(n)}function qx(t){if(t.numberOfChildren===1&&t.children[B]){let e=t.children[B];return new ne(t.segments.concat(e.segments),e.children)}return t}function gi(t){return t instanceof jn}function Gx(t,e,n=null,r=null){let i=wI(t);return II(i,e,n,r)}function wI(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ne(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=vI(r);return e??i}function II(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return nf(i,i,i,n,r);let s=Wx(e);if(s.toRoot())return nf(i,i,new ne([],{}),n,r);let o=Kx(s,i,t),a=o.processChildren?Ns(o.segmentGroup,o.index,s.commands):DI(o.segmentGroup,o.index,s.commands);return nf(i,o.segmentGroup,a,n,r)}function Fc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fs(t){return typeof t=="object"&&t!=null&&t.outlets}function nf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=EI(t,e,n);let a=vI(_I(o));return new jn(a,s,i)}function EI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=EI(s,e,n)}),new ne(t.segments,r)}var Lc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Fc(r[0]))throw new A(4003,!1);let i=r.find(Fs);if(i&&i!==dI(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Wx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Lc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Lc(n,e,r)}var hi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Kx(t,e,n){if(t.isAbsolute)return new hi(e,!0,0);if(!n)return new hi(e,!1,NaN);if(n.parent===null)return new hi(n,!0,0);let r=Fc(t.commands[0])?0:1,i=n.segments.length-1+r;return Qx(n,i,t.numberOfDoubleDots)}function Qx(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new hi(r,!1,i-s)}function Zx(t){return Fs(t[0])?t[0].outlets:{[B]:t}}function DI(t,e,n){if(t??=new ne([],{}),t.segments.length===0&&t.hasChildren())return Ns(t,e,n);let r=Yx(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ne(t.segments.slice(0,r.pathIndex),{});return s.children[B]=new ne(t.segments.slice(r.pathIndex),t.children),Ns(s,0,i)}else return r.match&&i.length===0?new ne(t.segments,{}):r.match&&!t.hasChildren()?lf(t,e,n):r.match?Ns(t,0,i):lf(t,e,n)}function Ns(t,e,n){if(n.length===0)return new ne(t.segments,{});{let r=Zx(n),i={};if(Object.keys(r).some(s=>s!==B)&&t.children[B]&&t.numberOfChildren===1&&t.children[B].segments.length===0){let s=Ns(t.children[B],e,n);return new ne(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=DI(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ne(t.segments,i)}}function Yx(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Fs(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!sI(c,u,o))return s;r+=2}else{if(!sI(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function lf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Fs(s)){let c=Xx(s.outlets);return new ne(r,c)}if(i===0&&Fc(n[0])){let c=t.segments[e];r.push(new gr(c.path,iI(n[0]))),i++;continue}let o=Fs(s)?s.outlets[B]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Fc(a)?(r.push(new gr(o,iI(a))),i+=2):(r.push(new gr(o,{})),i++)}return new ne(r,{})}function Xx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=lf(new ne([],{}),0,r))}),e}function iI(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function sI(t,e,n){return t==n.path&&Jt(e,n.parameters)}var Ps="imperative",Me=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Me||{}),Dt=class{constructor(e,n){this.id=e,this.url=n}},mi=class extends Dt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Me.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},en=class extends Dt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Me.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ut=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ut||{}),Vc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Vc||{}),Bn=class extends Dt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Me.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Un=class extends Dt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Me.NavigationSkipped}},Ls=class extends Dt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Me.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},jc=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Me.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},df=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Me.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hf=class extends Dt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Me.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ff=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Me.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pf=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Me.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gf=class{constructor(e){this.route=e,this.type=Me.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mf=class{constructor(e){this.route=e,this.type=Me.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},yf=class{constructor(e){this.snapshot=e,this.type=Me.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vf=class{constructor(e){this.snapshot=e,this.type=Me.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_f=class{constructor(e){this.snapshot=e,this.type=Me.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wf=class{constructor(e){this.snapshot=e,this.type=Me.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Me.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Vs=class{},js=class{constructor(e){this.url=e}};var If=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qs,this.attachRef=null}},qs=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new If,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ef(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ef(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Df(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Df(e,this._root).map(n=>n.value)}};function Ef(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ef(t,n);if(r)return r}return null}function Df(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Df(t,n);if(r.length)return r.unshift(e),r}return[]}var ct=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function di(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var zc=class extends Uc{constructor(e,n){super(e),this.snapshot=n,Pf(this,e)}toString(){return this.snapshot.toString()}};function bI(t){let e=Jx(t),n=new Pe([new gr("",{})]),r=new Pe({}),i=new Pe({}),s=new Pe({}),o=new Pe(""),a=new Ot(n,r,s,o,i,B,t,e.root);return a.snapshot=e.root,new zc(new ct(a,[]),e)}function Jx(t){let e={},n={},r={},i="",s=new Bs([],e,r,i,n,B,t,null,{});return new $c("",new ct(s,[]))}var Ot=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(W(u=>u[$s]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(e=>pi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(e=>pi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),t.params),data:S(S({},e.data),t.data),resolve:S(S(S(S({},t.data),e.data),i?.data),t._resolvedData)}:r={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},i&&TI(i)&&(r.resolve[$s]=i.title),r}var Bs=class{get title(){return this.data?.[$s]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},$c=class extends Uc{constructor(e,n){super(n),this.url=e,Pf(this,n)}toString(){return CI(this._root)}};function Pf(t,e){e.value._routerState=t,e.children.forEach(n=>Pf(t,n))}function CI(t){let e=t.children.length>0?` { ${t.children.map(CI).join(", ")} } `:"";return`${t.value}${e}`}function rf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Jt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Jt(e.params,n.params)||t.paramsSubject.next(n.params),Mx(e.url,n.url)||t.urlSubject.next(n.url),Jt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function bf(t,e){let n=Jt(t.params,e.params)&&Nx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||bf(t.parent,e.parent))}function TI(t){return typeof t.title=="string"||t.title===null}var Of=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=B,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.parentContexts=I(qs),this.location=I(bs),this.changeDetector=I(oi),this.environmentInjector=I(at),this.inputBinder=I(Kc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Cf(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=cr({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ur]});let t=e;return t})(),Cf=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ot?this.route:e===qs?this.childContexts:this.parent.get(e,n)}},Kc=new F(""),oI=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=ns([i.queryParams,i.params,i.data]).pipe(gt(([o,a,c],u)=>(c=S(S(S({},o),a),c),u===0?O(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Nw(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function eR(t,e,n){let r=Us(t,e._root,n?n._root:void 0);return new zc(r,e)}function Us(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=tR(t,e,n);return new ct(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Us(t,a)),o}}let r=nR(e.value),i=e.children.map(s=>Us(t,s));return new ct(r,i)}}function tR(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Us(t,r,i);return Us(t,r)})}function nR(t){return new Ot(new Pe(t.url),new Pe(t.params),new Pe(t.queryParams),new Pe(t.fragment),new Pe(t.data),t.outlet,t.component,t)}var SI="ngNavigationCancelingError";function MI(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=gi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=AI(!1,ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function AI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[SI]=!0,n.cancellationCode=e,n}function rR(t){return xI(t)&&gi(t.url)}function xI(t){return!!t&&t[SI]}var iR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["ng-component"]],standalone:!0,features:[fr],decls:1,vars:0,template:function(i,s){i&1&&N(0,"router-outlet")},dependencies:[Of],encapsulation:2});let t=e;return t})();function sR(t,e){return t.providers&&!t._injector&&(t._injector=vc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function kf(t){let e=t.children&&t.children.map(kf),n=e?le(S({},t),{children:e}):S({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==B&&(n.component=iR),n}function tn(t){return t.outlet||B}function oR(t,e){let n=t.filter(r=>tn(r)===e);return n.push(...t.filter(r=>tn(r)!==e)),n}function Gs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var aR=(t,e,n,r)=>W(i=>(new Tf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Tf=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),rf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=di(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=di(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=di(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=di(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new wf(s.value.snapshot))}),e.children.length&&this.forwardEvent(new vf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(rf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),rf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Gs(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Hc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fi=class{constructor(e,n){this.component=e,this.route=n}};function cR(t,e,n){let r=t._root,i=e?e._root:null;return xs(r,i,n,[r.value])}function uR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function vi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Av(t)?t:e.get(t):r}function xs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=di(e);return t.children.forEach(o=>{lR(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Os(a,n.getContext(o),i)),i}function lR(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=dR(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Hc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?xs(t,e,a?a.children:null,r,i):xs(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fi(a.outlet.component,o))}else o&&Os(e,a,i),i.canActivateChecks.push(new Hc(r)),s.component?xs(t,null,a?a.children:null,r,i):xs(t,null,n,r,i);return i}function dR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!mr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mr(t.url,e.url)||!Jt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bf(t,e)||!Jt(t.queryParams,e.queryParams);case"paramsChange":default:return!bf(t,e)}}function Os(t,e,n){let r=di(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Os(o,e.children.getContext(s),n):Os(o,null,n):Os(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new fi(e.outlet.component,i)):n.canDeactivateChecks.push(new fi(null,i)):n.canDeactivateChecks.push(new fi(null,i))}function Ws(t){return typeof t=="function"}function hR(t){return typeof t=="boolean"}function fR(t){return t&&Ws(t.canLoad)}function pR(t){return t&&Ws(t.canActivate)}function gR(t){return t&&Ws(t.canActivateChild)}function mR(t){return t&&Ws(t.canDeactivate)}function yR(t){return t&&Ws(t.canMatch)}function RI(t){return t instanceof hn||t?.name==="EmptyError"}var Nc=Symbol("INITIAL_VALUE");function yi(){return gt(t=>ns(t.map(e=>e.pipe(fn(1),Hl(Nc)))).pipe(W(e=>{for(let n of e)if(n!==!0){if(n===Nc)return Nc;if(n===!1||n instanceof jn)return n}return!0}),pt(e=>e!==Nc),fn(1)))}function vR(t,e){return _e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?O(le(S({},n),{guardsResult:!0})):_R(o,r,i,t).pipe(_e(a=>a&&hR(a)?wR(r,s,t,e):O(a)),W(a=>le(S({},n),{guardsResult:a})))})}function _R(t,e,n,r){return ye(t).pipe(_e(i=>CR(i.component,i.route,n,e,r)),Ht(i=>i!==!0,!0))}function wR(t,e,n,r){return ye(e).pipe(er(i=>qr(ER(i.route.parent,r),IR(i.route,r),bR(t,i.path,n),DR(t,i.route,n))),Ht(i=>i!==!0,!0))}function IR(t,e){return t!==null&&e&&e(new _f(t)),O(!0)}function ER(t,e){return t!==null&&e&&e(new yf(t)),O(!0)}function DR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(s=>Ea(()=>{let o=Gs(e)??n,a=vi(s,o),c=pR(a)?a.canActivate(e,t):gn(o,()=>a(e,t));return zn(c).pipe(Ht())}));return O(i).pipe(yi())}function bR(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>uR(o)).filter(o=>o!==null).map(o=>Ea(()=>{let a=o.guards.map(c=>{let u=Gs(o.node)??n,l=vi(c,u),d=gR(l)?l.canActivateChild(r,t):gn(u,()=>l(r,t));return zn(d).pipe(Ht())});return O(a).pipe(yi())}));return O(s).pipe(yi())}function CR(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return O(!0);let o=s.map(a=>{let c=Gs(e)??i,u=vi(a,c),l=mR(u)?u.canDeactivate(t,e,n,r):gn(c,()=>u(t,e,n,r));return zn(l).pipe(Ht())});return O(o).pipe(yi())}function TR(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let s=i.map(o=>{let a=vi(o,t),c=fR(a)?a.canLoad(e,n):gn(t,()=>a(e,n));return zn(c)});return O(s).pipe(yi(),NI(r))}function NI(t){return Fl(Oe(e=>{if(gi(e))throw MI(t,e)}),W(e=>e===!0))}function SR(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let s=i.map(o=>{let a=vi(o,t),c=yR(a)?a.canMatch(e,n):gn(t,()=>a(e,n));return zn(c)});return O(s).pipe(yi(),NI(r))}var zs=class{constructor(e){this.segmentGroup=e||null}},qc=class extends Error{constructor(e){super(),this.urlTree=e}};function li(t){return $r(new zs(t))}function MR(t){return $r(new A(4e3,!1))}function AR(t){return $r(AI(!1,ut.GuardRejected))}var Sf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[B])return MR(e.redirectTo);i=i.children[B]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new qc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new jn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Mf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xR(t,e,n,r,i){let s=Ff(t,e,n);return s.matched?(r=sR(e,r),SR(r,e,n,i).pipe(W(o=>o===!0?s:S({},Mf)))):O(s)}function Ff(t,e,n){if(e.path==="**")return RR(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?S({},Mf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Sx)(n,t,e);if(!i)return S({},Mf);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?S(S({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function RR(t){return{matched:!0,parameters:t.length>0?dI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function aI(t,e,n,r){return n.length>0&&OR(t,n,r)?{segmentGroup:new ne(e,PR(r,new ne(n,t.children))),slicedSegments:[]}:n.length===0&&kR(t,n,r)?{segmentGroup:new ne(t.segments,NR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ne(t.segments,t.children),slicedSegments:n}}function NR(t,e,n,r){let i={};for(let s of n)if(Qc(t,e,s)&&!r[tn(s)]){let o=new ne([],{});i[tn(s)]=o}return S(S({},r),i)}function PR(t,e){let n={};n[B]=e;for(let r of t)if(r.path===""&&tn(r)!==B){let i=new ne([],{});n[tn(r)]=i}return n}function OR(t,e,n){return n.some(r=>Qc(t,e,r)&&tn(r)!==B)}function kR(t,e,n){return n.some(r=>Qc(t,e,r))}function Qc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function FR(t,e,n,r){return tn(t)!==r&&(r===B||!Qc(e,n,t))?!1:Ff(e,t,n).matched}function LR(t,e,n){return e.length===0&&!t.children[n]}var Af=class{};function VR(t,e,n,r,i,s,o="emptyOnly"){return new xf(t,e,n,r,i,o,s).recognize()}var jR=31,xf=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Sf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=aI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(W(n=>{let r=new Bs([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},B,this.rootComponentType,null,{}),i=new ct(r,n),s=new $c("",i),o=Gx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,B).pipe(An(r=>{if(r instanceof qc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof zs?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Nf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(W(s=>s instanceof ct?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ye(i).pipe(er(s=>{let o=r.children[s],a=oR(n,s);return this.processSegmentGroup(e,a,o,s)}),$l((s,o)=>(s.push(...o),s)),xn(null),zl(),_e(s=>{if(s===null)return li(r);let o=PI(s);return BR(o),O(o)}))}processSegment(e,n,r,i,s,o){return ye(n).pipe(er(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(An(c=>{if(c instanceof zs)return O(null);throw c}))),Ht(a=>!!a),An(a=>{if(RI(a))return LR(r,i,s)?O(new Af):li(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return FR(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):li(i):li(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Ff(n,i,s);if(!a)return li(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jR&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(_e(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=xR(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(gt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(gt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Bs(l,h,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,zR(r),tn(r),r.component??r._loadedComponent??null,r,$R(r)),{segmentGroup:y,slicedSegments:T}=aI(n,l,d,c);if(T.length===0&&y.hasChildren())return this.processChildren(u,c,y).pipe(W(P=>P===null?null:new ct(f,P)));if(c.length===0&&T.length===0)return O(new ct(f,[]));let b=tn(r)===s;return this.processSegment(u,c,y,T,b?B:s,!0).pipe(W(P=>new ct(f,P instanceof ct?[P]:[])))}))):li(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):TR(e,n,r,this.urlSerializer).pipe(_e(i=>i?this.configLoader.loadChildren(e,n).pipe(Oe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):AR(n))):O({routes:[],injector:e})}};function BR(t){t.sort((e,n)=>e.value.outlet===B?-1:n.value.outlet===B?1:e.value.outlet.localeCompare(n.value.outlet))}function UR(t){let e=t.value.routeConfig;return e&&e.path===""}function PI(t){let e=[],n=new Set;for(let r of t){if(!UR(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=PI(r.children);e.push(new ct(r.value,i))}return e.filter(r=>!n.has(r))}function zR(t){return t.data||{}}function $R(t){return t.resolve||{}}function HR(t,e,n,r,i,s){return _e(o=>VR(t,e,n,r,o.extractedUrl,i,s).pipe(W(({state:a,tree:c})=>le(S({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function qR(t,e){return _e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of OI(c))o.add(u);let a=0;return ye(o).pipe(er(c=>s.has(c)?GR(c,r,t,e):(c.data=Nf(c,c.parent,t).resolve,O(void 0))),Oe(()=>a++),Gr(1),_e(c=>a===o.size?O(n):st))})}function OI(t){let e=t.children.map(n=>OI(n)).flat();return[t,...e]}function GR(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!TI(i)&&(s[$s]=i.title),WR(s,t,e,r).pipe(W(o=>(t._resolvedData=o,t.data=Nf(t,t.parent,n).resolve,null)))}function WR(t,e,n,r){let i=af(t);if(i.length===0)return O({});let s={};return ye(i).pipe(_e(o=>KR(t[o],e,n,r).pipe(Ht(),Oe(a=>{s[o]=a}))),Gr(1),Ul(s),An(o=>RI(o)?st:$r(o)))}function KR(t,e,n,r){let i=Gs(e)??r,s=vi(t,i),o=s.resolve?s.resolve(e,n):gn(i,()=>s(e,n));return zn(o)}function sf(t){return gt(e=>{let n=t(e);return n?ye(n).pipe(W(()=>e)):O(e)})}var kI=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===B);return i}getResolvedTitleForRoute(r){return r.data[$s]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>I(QR),providedIn:"root"});let t=e;return t})(),QR=(()=>{let e=class e extends kI{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(R(Jw))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ks=new F("",{providedIn:"root",factory:()=>({})}),Gc=new F(""),Lf=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(Tc)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return O(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=zn(r.loadComponent()).pipe(W(FI),Oe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),rs(()=>{this.componentLoaders.delete(r)})),s=new zr(i,()=>new ze).pipe(Ur());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=ZR(i,this.compiler,r,this.onLoadEndListener).pipe(rs(()=>{this.childrenLoaders.delete(i)})),a=new zr(o,()=>new ze).pipe(Ur());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZR(t,e,n,r){return zn(t.loadChildren()).pipe(W(FI),_e(i=>i instanceof ms||Array.isArray(i)?O(i):ye(e.compileModuleAsync(i))),W(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Gc,[],{optional:!0,self:!0}).flat()),{routes:o.map(kf),injector:s}}))}function YR(t){return t&&typeof t=="object"&&"default"in t}function FI(t){return YR(t)?t.default:t}var Vf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>I(XR),providedIn:"root"});let t=e;return t})(),XR=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LI=new F(""),VI=new F("");function JR(t,e,n){let r=t.get(VI),i=t.get(rt);return t.get(ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),eN(t))),{onViewTransitionCreated:c}=r;return c&&gn(t,()=>c({transition:a,from:e,to:n})),o})}function eN(t){return new Promise(e=>{Ch(e,{injector:t})})}var jf=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ze,this.transitionAbortSubject=new ze,this.configLoader=I(Lf),this.environmentInjector=I(at),this.urlSerializer=I(Hs),this.rootContexts=I(qs),this.location=I(ci),this.inputBindingEnabled=I(Kc,{optional:!0})!==null,this.titleStrategy=I(kI),this.options=I(Ks,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(Vf),this.createViewTransition=I(LI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let r=s=>this.events.next(new gf(s)),i=s=>this.events.next(new mf(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(le(S(S({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Pe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ps,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pt(o=>o.id!==0),W(o=>le(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),gt(o=>{let a=!1,c=!1;return O(o).pipe(gt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ut.SupersededByNewNavigation),st;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?le(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Un(u.id,this.urlSerializer.serialize(u.rawUrl),h,Vc.IgnoredSameUrlNavigation)),u.resolve(null),st}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return O(u).pipe(gt(h=>{let f=this.transitions?.getValue();return this.events.next(new mi(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?st:Promise.resolve(h)}),HR(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Oe(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=le(S({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new jc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:y,restoredState:T,extras:b}=u,P=new mi(h,this.urlSerializer.serialize(f),y,T);this.events.next(P);let ae=bI(this.rootComponentType).snapshot;return this.currentTransition=o=le(S({},u),{targetSnapshot:ae,urlAfterRedirects:f,extras:le(S({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(o)}else{let h="";return this.events.next(new Un(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Vc.IgnoredByUrlHandlingStrategy)),u.resolve(null),st}}),Oe(u=>{let l=new df(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),W(u=>(this.currentTransition=o=le(S({},u),{guards:cR(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),vR(this.environmentInjector,u=>this.events.next(u)),Oe(u=>{if(o.guardsResult=u.guardsResult,gi(u.guardsResult))throw MI(this.urlSerializer,u.guardsResult);let l=new hf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),pt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ut.GuardRejected),!1)),sf(u=>{if(u.guards.canActivateChecks.length)return O(u).pipe(Oe(l=>{let d=new ff(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),gt(l=>{let d=!1;return O(l).pipe(qR(this.paramsInheritanceStrategy,this.environmentInjector),Oe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",ut.NoDataFromResolver)}}))}),Oe(l=>{let d=new pf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),sf(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Oe(f=>{d.component=f}),W(()=>{})));for(let f of d.children)h.push(...l(f));return h};return ns(l(u.targetSnapshot.root)).pipe(xn(null),fn(1))}),sf(()=>this.afterPreactivation()),gt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?ye(d).pipe(W(()=>o)):O(o)}),W(u=>{let l=eR(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=le(S({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Oe(()=>{this.events.next(new Vs)}),aR(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),fn(1),Oe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new en(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),ql(this.transitionAbortSubject.pipe(Oe(u=>{throw u}))),rs(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),An(u=>{if(c=!0,xI(u))this.events.next(new Bn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),rR(u)?this.events.next(new js(u.url)):o.resolve(!1);else{this.events.next(new Ls(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return st}))}))}cancelNavigationTransition(r,i,s){let o=new Bn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tN(t){return t!==Ps}var nN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>I(rN),providedIn:"root"});let t=e;return t})(),Rf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},rN=(()=>{let e=class e extends Rf{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ac(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>I(iN),providedIn:"root"});let t=e;return t})(),iN=(()=>{let e=class e extends jI{constructor(){super(...arguments),this.location=I(ci),this.urlSerializer=I(Hs),this.options=I(Ks,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(Vf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new jn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof mi)this.stateMemento=this.createStateMemento();else if(r instanceof Un)this.rawUrlTree=i.initialUrl;else if(r instanceof jc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Vs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Bn&&(r.code===ut.GuardRejected||r.code===ut.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ls?this.restoreHistory(i,!0):r instanceof en&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=S(S({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=S(S({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ac(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Rs||{});function BI(t,e){t.events.pipe(pt(n=>n instanceof en||n instanceof Bn||n instanceof Ls||n instanceof Un),W(n=>n instanceof en||n instanceof Un?Rs.COMPLETE:(n instanceof Bn?n.code===ut.Redirect||n.code===ut.SupersededByNewNavigation:!1)?Rs.REDIRECTING:Rs.FAILED),pt(n=>n!==Rs.REDIRECTING),fn(1)).subscribe(()=>{e()})}function sN(t){throw t}var oN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},bt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(Ec),this.stateManager=I(jI),this.options=I(Ks,{optional:!0})||{},this.pendingTasks=I(_c),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(jf),this.urlSerializer=I(Hs),this.location=I(ci),this.urlHandlingStrategy=I(Vf),this._events=new ze,this.errorHandler=this.options.errorHandler||sN,this.navigated=!1,this.routeReuseStrategy=I(nN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(Gc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(Kc,{optional:!0}),this.eventsSubscription=new Te,this.isNgZoneEnabled=I(ce)instanceof ce&&ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Bn&&i.code!==ut.Redirect&&i.code!==ut.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof en)this.navigated=!0;else if(i instanceof js){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||tN(s.source)};this.scheduleNavigation(a,Ps,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}uN(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ps,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=S({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(kf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=wI(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return II(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=gi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ps,null,i)}navigate(r,i={skipLocationChange:!1}){return cN(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=S({},oN):i===!1?s=S({},aN):s=i,gi(r))return nI(this.currentUrlTree,r,s);let o=this.parseUrl(r);return nI(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return BI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function uN(t){return!(t instanceof Vs)&&!(t instanceof js)}var Ct=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ze,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof en&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:U_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(he(bt),he(Ot),oh("tabindex"),he(Ds),he(lr),he(Dn))},e.\u0275dir=cr({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Ic("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&wc("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[_t.HasDecoratorInputTransform,"preserveFragment","preserveFragment",ai],skipLocationChange:[_t.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",ai],replaceUrl:[_t.HasDecoratorInputTransform,"replaceUrl","replaceUrl",ai],routerLink:"routerLink"},standalone:!0,features:[Sh,ur]});let t=e;return t})();var Wc=class{};var lN=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(pt(r=>r instanceof en),er(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=vc(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return ye(s).pipe(Hr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=O(null);let o=s.pipe(_e(a=>a===null?O(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ye([o,a]).pipe(Hr())}else return o})}};e.\u0275fac=function(i){return new(i||e)(R(bt),R(Tc),R(at),R(Wc),R(Lf))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UI=new F(""),dN=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof mi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof en?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Un&&r.code===Vc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Bc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Bc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){J_()},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function hN(t){return t.routerState.root}function Qs(t,e){return{\u0275kind:t,\u0275providers:e}}function fN(){let t=I(Pt);return e=>{let n=t.get(si);if(e!==n.components[0])return;let r=t.get(bt),i=t.get(zI);t.get(Bf)===1&&r.initialNavigation(),t.get($I,null,z.Optional)?.setUpPreloading(),t.get(UI,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var zI=new F("",{factory:()=>new ze}),Bf=new F("",{providedIn:"root",factory:()=>1});function pN(){return Qs(2,[{provide:Bf,useValue:0},{provide:Cc,multi:!0,deps:[Pt],useFactory:e=>{let n=e.get(Vw,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(bt),s=e.get(zI);BI(i,()=>{r(!0)}),e.get(jf).afterPreactivation=()=>(r(!0),s.closed?O(void 0):s),i.initialNavigation()}))}}])}function gN(){return Qs(3,[{provide:Cc,multi:!0,useFactory:()=>{let e=I(bt);return()=>{e.setUpLocationChangeListener()}}},{provide:Bf,useValue:2}])}var $I=new F("");function mN(t){return Qs(0,[{provide:$I,useExisting:lN},{provide:Wc,useExisting:t}])}function yN(){return Qs(8,[oI,{provide:Kc,useExisting:oI}])}function vN(t){let e=[{provide:LI,useValue:JR},{provide:VI,useValue:S({skipNextTransition:!!t?.skipInitialTransition},t)}];return Qs(9,e)}var cI=new F("ROUTER_FORROOT_GUARD"),_N=[ci,{provide:Hs,useClass:ks},bt,qs,{provide:Ot,useFactory:hN,deps:[bt]},Lf,[]],Uf=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[_N,[],{provide:Gc,multi:!0,useValue:r},{provide:cI,useFactory:DN,deps:[[bt,new nc,new zd]]},{provide:Ks,useValue:i||{}},i?.useHash?IN():EN(),wN(),i?.preloadingStrategy?mN(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?bN(i):[],i?.bindToComponentInputs?yN().\u0275providers:[],i?.enableViewTransitions?vN().\u0275providers:[],CN()]}}static forChild(r){return{ngModule:e,providers:[{provide:Gc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(R(cI,8))},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})();function wN(){return{provide:UI,useFactory:()=>{let t=I($w),e=I(ce),n=I(Ks),r=I(jf),i=I(Hs);return n.scrollOffset&&t.setOffset(n.scrollOffset),new dN(i,r,t,e,n)}}}function IN(){return{provide:Dn,useClass:Bw}}function EN(){return{provide:Dn,useClass:$h}}function DN(t){return"guarded"}function bN(t){return[t.initialNavigation==="disabled"?gN().\u0275providers:[],t.initialNavigation==="enabledBlocking"?pN().\u0275providers:[]]}var uI=new F("");function CN(){return[{provide:uI,useFactory:fN},{provide:Ph,multi:!0,useExisting:uI}]}var qI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TN=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},GI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new zf;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},zf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},SN=function(t){let e=qI(t);return GI.encodeByteArray(e,!0)},Zs=function(t){return SN(t).replace(/\./g,"")},MN=function(t){try{return GI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xN=()=>AN().__FIREBASE_DEFAULTS__,RN=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&MN(t[1]);return e&&JSON.parse(e)},$f=()=>{try{return xN()||RN()||NN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PN=t=>{var e,n;return(n=(e=$f())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Yc=t=>{let e=PN(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hf=()=>{var t;return(t=$f())===null||t===void 0?void 0:t.config};var Zc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Xc(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zs(JSON.stringify(n)),Zs(JSON.stringify(o)),""].join(".")}function Xs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ON(){var t;let e=(t=$f())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WI(){return!ON()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jc(){try{return typeof indexedDB=="object"}catch{return!1}}function KI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var kN="FirebaseError",kt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kN,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ys.prototype.create)}},Ys=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?FN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new kt(i,a,r)}};function FN(t,e){return t.replace(LN,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var LN=/\{\$([^}]+)}/g;function Js(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(HI(s)&&HI(o)){if(!Js(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function HI(t){return t!==null&&typeof t=="object"}var Tz=4*60*60*1e3;function Ft(t){return t&&t._delegate?t._delegate:t}var Lt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var yr="[DEFAULT]";var qf=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Zc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jN(e))try{this.getOrInitializeService({instanceIdentifier:yr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=yr){return this.instances.has(e)}getOptions(e=yr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yr){return this.component?this.component.multipleInstances?e:yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function VN(t){return t===yr?void 0:t}function jN(t){return t.instantiationMode==="EAGER"}var eu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new qf(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var BN=[],Z=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Z||{}),UN={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},zN=Z.INFO,$N={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},HN=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=$N[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},wi=class{constructor(e){this.name=e,this._logLevel=zN,this._logHandler=HN,this._userLogHandler=null,BN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}};var qN=(t,e)=>e.some(n=>t instanceof n),QI,ZI;function GN(){return QI||(QI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WN(){return ZI||(ZI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var YI=new WeakMap,Wf=new WeakMap,XI=new WeakMap,Gf=new WeakMap,Qf=new WeakMap;function KN(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(nn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YI.set(n,t)}).catch(()=>{}),Qf.set(e,t),e}function QN(t){if(Wf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wf.set(t,e)}var Kf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JI(t){Kf=t(Kf)}function ZN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(tu(this),e,...n);return XI.set(r,e.sort?e.sort():[e]),nn(r)}:WN().includes(t)?function(...e){return t.apply(tu(this),e),nn(YI.get(this))}:function(...e){return nn(t.apply(tu(this),e))}}function YN(t){return typeof t=="function"?ZN(t):(t instanceof IDBTransaction&&QN(t),qN(t,GN())?new Proxy(t,Kf):t)}function nn(t){if(t instanceof IDBRequest)return KN(t);if(Gf.has(t))return Gf.get(t);let e=YN(t);return e!==t&&(Gf.set(t,e),Qf.set(e,t)),e}var tu=t=>Qf.get(t);function tE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=nn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(nn(o.result),c.oldVersion,c.newVersion,nn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var XN=["get","getKey","getAll","getAllKeys","count"],JN=["put","add","delete","clear"],Zf=new Map;function eE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=JN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XN.includes(n)))return;let s=function(o,...a){return m(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Zf.set(e,s),s}JI(t=>le(S({},t),{get:(e,n,r)=>eE(e,n)||t.get(e,n,r),has:(e,n)=>!!eE(e,n)||t.has(e,n)}));var Xf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function eP(t){let e=t.getComponent();return e?.type==="VERSION"}var Jf="@firebase/app",nE="0.9.29";var vr=new wi("@firebase/app"),tP="@firebase/app-compat",nP="@firebase/analytics-compat",rP="@firebase/analytics",iP="@firebase/app-check-compat",sP="@firebase/app-check",oP="@firebase/auth",aP="@firebase/auth-compat",cP="@firebase/database",uP="@firebase/database-compat",lP="@firebase/functions",dP="@firebase/functions-compat",hP="@firebase/installations",fP="@firebase/installations-compat",pP="@firebase/messaging",gP="@firebase/messaging-compat",mP="@firebase/performance",yP="@firebase/performance-compat",vP="@firebase/remote-config",_P="@firebase/remote-config-compat",wP="@firebase/storage",IP="@firebase/storage-compat",EP="@firebase/firestore",DP="@firebase/firestore-compat",bP="firebase",CP="10.9.0";var ep="[DEFAULT]",TP={[Jf]:"fire-core",[tP]:"fire-core-compat",[rP]:"fire-analytics",[nP]:"fire-analytics-compat",[sP]:"fire-app-check",[iP]:"fire-app-check-compat",[oP]:"fire-auth",[aP]:"fire-auth-compat",[cP]:"fire-rtdb",[uP]:"fire-rtdb-compat",[lP]:"fire-fn",[dP]:"fire-fn-compat",[hP]:"fire-iid",[fP]:"fire-iid-compat",[pP]:"fire-fcm",[gP]:"fire-fcm-compat",[mP]:"fire-perf",[yP]:"fire-perf-compat",[vP]:"fire-rc",[_P]:"fire-rc-compat",[wP]:"fire-gcs",[IP]:"fire-gcs-compat",[EP]:"fire-fst",[DP]:"fire-fst-compat","fire-js":"fire-js",[bP]:"fire-js-all"};var nu=new Map,tp=new Map;function SP(t,e){try{t.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _r(t){let e=t.name;if(tp.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,t);for(let n of nu.values())SP(n,t);return!0}function ru(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var MP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$n=new Ys("app","Firebase",MP);var np=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}};var iu=CP;function sp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ep,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $n.create("bad-app-name",{appName:String(i)});if(n||(n=Hf()),!n)throw $n.create("no-options");let s=nu.get(i);if(s){if(Js(n,s.options)&&Js(r,s.config))return s;throw $n.create("duplicate-app",{appName:i})}let o=new eu(i);for(let c of tp.values())o.addComponent(c);let a=new np(n,r,o);return nu.set(i,a),a}function su(t=ep){let e=nu.get(t);if(!e&&t===ep&&Hf())return sp();if(!e)throw $n.create("no-app",{appName:t});return e}function Vt(t,e,n){var r;let i=(r=TP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(a.join(" "));return}_r(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var AP="firebase-heartbeat-database",xP=1,eo="firebase-heartbeat-store",Yf=null;function oE(){return Yf||(Yf=tE(AP,xP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eo)}catch(n){console.warn(n)}}}}).catch(t=>{throw $n.create("idb-open",{originalErrorMessage:t.message})})),Yf}function RP(t){return m(this,null,function*(){try{let n=(yield oE()).transaction(eo),r=yield n.objectStore(eo).get(aE(t));return yield n.done,r}catch(e){if(e instanceof kt)vr.warn(e.message);else{let n=$n.create("idb-get",{originalErrorMessage:e?.message});vr.warn(n.message)}}})}function rE(t,e){return m(this,null,function*(){try{let r=(yield oE()).transaction(eo,"readwrite");yield r.objectStore(eo).put(e,aE(t)),yield r.done}catch(n){if(n instanceof kt)vr.warn(n.message);else{let r=$n.create("idb-set",{originalErrorMessage:n?.message});vr.warn(r.message)}}})}function aE(t){return`${t.name}!${t.options.appId}`}var NP=1024,PP=30*24*60*60*1e3,rp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ip(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=PP}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return m(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=iE(),{heartbeatsToSend:r,unsentEntries:i}=OP(this._heartbeatsCache.heartbeats),s=Zs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function iE(){return new Date().toISOString().substring(0,10)}function OP(t,e=NP){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ip=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Jc()?KI().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield RP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function sE(t){return Zs(JSON.stringify({version:2,heartbeats:t})).length}function kP(t){_r(new Lt("platform-logger",e=>new Xf(e),"PRIVATE")),_r(new Lt("heartbeat",e=>new rp(e),"PRIVATE")),Vt(Jf,nE,t),Vt(Jf,nE,"esm2017"),Vt("fire-js","")}kP("");var pE="firebasestorage.googleapis.com",gE="storageBucket",FP=2*60*1e3,LP=10*60*1e3;var Ae=class t extends kt{constructor(e,n,r=0){super(op(e),`Firebase Storage: ${n} (${op(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return op(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},je=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(je||{});function op(t){return"storage/"+t}function mE(){let t="An unknown error occurred, please check the error payload for server response.";return new Ae(je.UNKNOWN,t)}function VP(t){return new Ae(je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function jP(t){return new Ae(je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function BP(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ae(je.UNAUTHENTICATED,t)}function UP(){return new Ae(je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zP(t){return new Ae(je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $P(){return new Ae(je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HP(){return new Ae(je.CANCELED,"User canceled the upload/download.")}function qP(t){return new Ae(je.INVALID_URL,"Invalid URL '"+t+"'.")}function GP(t){return new Ae(je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function WP(){return new Ae(je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gE+"' property when initializing the app?")}function KP(){return new Ae(je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ap(t){return new Ae(je.INVALID_ARGUMENT,t)}function yE(){return new Ae(je.APP_DELETED,"The Firebase app was deleted.")}function QP(t){return new Ae(je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function to(t){throw new Ae(je.INTERNAL_ERROR,"Internal error: "+t)}var lt=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw GP(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(H){H.path_=decodeURIComponent(H.path)}let l="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${l}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},T=n===pE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",P=new RegExp(`^https?://${T}/${i}/${b}`,"i"),$=[{regex:a,indices:c,postModify:s},{regex:f,indices:y,postModify:u},{regex:P,indices:{bucket:1,path:2},postModify:u}];for(let H=0;H<$.length;H++){let Ce=$[H],te=Ce.regex.exec(e);if(te){let Xe=te[Ce.indices.bucket],ft=te[Ce.indices.path];ft||(ft=""),r=new t(Xe,ft),Ce.postModify(r);break}}if(r==null)throw qP(e);return r}},cp=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function ZP(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...b){u||(u=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(f,c())},b)}function h(){s&&clearTimeout(s)}function f(b,...P){if(u){h();return}if(b){h(),l.call(null,b,...P);return}if(c()||o){h(),l.call(null,b,...P);return}r<64&&(r*=2);let $;a===1?(a=2,$=0):$=(r+Math.random())*1e3,d($)}let y=!1;function T(b){y||(y=!0,h(),!u&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,T(!0)},n),T}function YP(t){t(!1)}function XP(t){return t!==void 0}function JP(t){return typeof t=="object"&&!Array.isArray(t)}function vE(t){return typeof t=="string"||t instanceof String}function up(t,e,n,r){if(r<e)throw ap(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ap(`Invalid value for '${t}'. Expected ${n} or less.`)}function fp(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function _E(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ei=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Ei||{});function eO(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var lp=class{constructor(e,n,r,i,s,o,a,c,u,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,y)=>{this.resolve_=f,this.reject_=y,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Ii(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Ei.NO_ERROR,c=s.getStatus();if(!a||eO(c,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===Ei.ABORT;r(!1,new Ii(!1,null,l));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Ii(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());XP(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=mE();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?yE():HP();o(c)}else{let c=$P();o(c)}};this.canceled_?n(!1,new Ii(!1,null,!0)):this.backoffId_=ZP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Ii=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function tO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function iO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sO(t,e,n,r,i,s,o=!0){let a=_E(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return rO(u,e),tO(u,n),nO(u,s),iO(u,r),new lp(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function pp(t){let e;try{e=JSON.parse(t)}catch{return null}return JP(e)?e:null}function oO(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function aO(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function wE(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function cO(t,e){return e}var Ve=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||cO}},ou=null;function uO(t){return!vE(t)||t.length<2?t:wE(t)}function lO(){if(ou)return ou;let t=[];t.push(new Ve("bucket")),t.push(new Ve("generation")),t.push(new Ve("metageneration")),t.push(new Ve("name","fullPath",!0));function e(s,o){return uO(o)}let n=new Ve("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new Ve("size");return i.xform=r,t.push(i),t.push(new Ve("timeCreated")),t.push(new Ve("updated")),t.push(new Ve("md5Hash",null,!0)),t.push(new Ve("cacheControl",null,!0)),t.push(new Ve("contentDisposition",null,!0)),t.push(new Ve("contentEncoding",null,!0)),t.push(new Ve("contentLanguage",null,!0)),t.push(new Ve("contentType",null,!0)),t.push(new Ve("metadata","customMetadata",!0)),ou=t,ou}function dO(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new lt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function hO(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return dO(r,t),r}function fO(t,e,n){let r=pp(e);return r===null?null:hO(t,r,n)}function pO(t,e,n,r){let i=pp(e);if(i===null||!vE(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let l=t.bucket,d=t.fullPath,h="/b/"+o(l)+"/o/"+o(d),f=fp(h,n,r),y=_E({alt:"media",token:u});return f+y})[0]}var cE="prefixes",uE="items";function gO(t,e,n){let r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[cE])for(let i of n[cE]){let s=i.replace(/\/$/,""),o=t._makeStorageReference(new lt(e,s));r.prefixes.push(o)}if(n[uE])for(let i of n[uE]){let s=t._makeStorageReference(new lt(e,i.name));r.items.push(s)}return r}function mO(t,e,n){let r=pp(n);return r===null?null:gO(t,e,r)}var au=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function IE(t){if(!t)throw mE()}function yO(t,e){function n(r,i){let s=mO(t,e,i);return IE(s!==null),s}return n}function vO(t,e){function n(r,i){let s=fO(t,i,e);return IE(s!==null),pO(s,i,t.host,t._protocol)}return n}function EE(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=UP():i=BP():n.getStatus()===402?i=jP(t.bucket):n.getStatus()===403?i=zP(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function _O(t){let e=EE(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=VP(t.path)),s.serverResponse=i.serverResponse,s}return n}function wO(t,e,n,r,i){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);let o=e.bucketOnlyServerUrl(),a=fp(o,t.host,t._protocol),c="GET",u=t.maxOperationRetryTime,l=new au(a,c,yO(t,e.bucket),u);return l.urlParams=s,l.errorHandler=EE(e),l}function IO(t,e,n){let r=e.fullServerUrl(),i=fp(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new au(i,s,vO(t,n),o);return a.errorHandler=_O(e),a}var Qz=256*1024;var lE=null,dp=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ei.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ei.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ei.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw to("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw to("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw to("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw to("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw to("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},hp=class extends dp{initXhr(){this.xhr_.responseType="text"}};function DE(){return lE?lE():new hp}var Di=class t{constructor(e,n){this._service=e,n instanceof lt?this._location=n:this._location=lt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new lt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wE(this._location.path)}get storage(){return this._service}get parent(){let e=oO(this._location.path);if(e===null)return null;let n=new lt(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw QP(e)}};function EO(t){let e={prefixes:[],items:[]};return bE(t,e).then(()=>e)}function bE(t,e,n){return m(this,null,function*(){let i=yield DO(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield bE(t,e,i.nextPageToken))})}function DO(t,e){e!=null&&typeof e.maxResults=="number"&&up("options.maxResults",1,1e3,e.maxResults);let n=e||{},r=wO(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,DE)}function bO(t){t._throwIfRoot("getDownloadURL");let e=IO(t.storage,t._location,lO());return t.storage.makeRequestWithTokens(e,DE).then(n=>{if(n===null)throw KP();return n})}function CO(t,e){let n=aO(t._location.path,e),r=new lt(t._location.bucket,n);return new Di(t.storage,r)}function TO(t){return/^[A-Za-z]+:\/\//.test(t)}function SO(t,e){return new Di(t,e)}function CE(t,e){if(t instanceof no){let n=t;if(n._bucket==null)throw WP();let r=new Di(n,n._bucket);return e!=null?CE(r,e):r}else return e!==void 0?CO(t,e):t}function MO(t,e){if(e&&TO(e)){if(t instanceof no)return SO(t,e);throw ap("To use ref(service, url), the first argument must be a Storage instance.")}else return CE(t,e)}function dE(t,e){let n=e?.[gE];return n==null?null:lt.makeFromBucketSpec(n,t)}function AO(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Xc(i,t.app.options.projectId))}var no=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=pE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FP,this._maxUploadRetryTime=LP,this._requests=new Set,i!=null?this._bucket=lt.makeFromBucketSpec(i,this._host):this._bucket=dE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lt.makeFromBucketSpec(this._url,e):this._bucket=dE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){up("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){up("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return m(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return m(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Di(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new cp(yE());{let o=sO(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return m(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},hE="@firebase/storage",fE="0.12.2";var TE="storage";function SE(t){return t=Ft(t),EO(t)}function bi(t){return t=Ft(t),bO(t)}function wr(t,e){return t=Ft(t),MO(t,e)}function Ci(t=su(),e){t=Ft(t);let r=ru(t,TE).getImmediate({identifier:e}),i=Yc("storage");return i&&xO(r,...i),r}function xO(t,e,n,r={}){AO(t,e,n,r)}function RO(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new no(n,r,i,e,iu)}function NO(){_r(new Lt(TE,RO,"PUBLIC").setMultipleInstances(!0)),Vt(hE,fE,""),Vt(hE,fE,"esm2017")}NO();var PO="firebase",OO="10.9.0";Vt(PO,OO,"app");var kO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bt={},w,Fp=Fp||{},L=kO||self;function Iu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function yo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function FO(t){return Object.prototype.hasOwnProperty.call(t,gp)&&t[gp]||(t[gp]=++LO)}var gp="closure_uid_"+(1e9*Math.random()>>>0),LO=0;function VO(t,e,n){return t.call.apply(t.bind,arguments)}function jO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ke(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ke=VO:Ke=jO,Ke.apply(null,arguments)}function cu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Re(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Hn(){this.s=this.s,this.o=this.o}var BO=0;Hn.prototype.s=!1;Hn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),BO!=0)&&FO(this)};Hn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var BE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Lp(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ME(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Iu(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Qe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var UO=function(){if(!L.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};L.addEventListener("test",n,e),L.removeEventListener("test",n,e)}catch{}return t}();function co(t){return/^[\s\xa0]*$/.test(t)}function Eu(){var t=L.navigator;return t&&(t=t.userAgent)?t:""}function rn(t){return Eu().indexOf(t)!=-1}function Vp(t){return Vp[" "](t),t}Vp[" "]=function(){};function zO(t,e){var n=xk;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var $O=rn("Opera"),Ai=rn("Trident")||rn("MSIE"),UE=rn("Edge"),wp=UE||Ai,zE=rn("Gecko")&&!(Eu().toLowerCase().indexOf("webkit")!=-1&&!rn("Edge"))&&!(rn("Trident")||rn("MSIE"))&&!rn("Edge"),HO=Eu().toLowerCase().indexOf("webkit")!=-1&&!rn("Edge");function $E(){var t=L.document;return t?t.documentMode:void 0}var Ip;e:{if(uu="",lu=function(){var t=Eu();if(zE)return/rv:([^\);]+)(\)|;)/.exec(t);if(UE)return/Edge\/([\d\.]+)/.exec(t);if(Ai)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(HO)return/WebKit\/(\S+)/.exec(t);if($O)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),lu&&(uu=lu?lu[1]:""),Ai&&(du=$E(),du!=null&&du>parseFloat(uu))){Ip=String(du);break e}Ip=uu}var uu,lu,du,Ep;L.document&&Ai?(mp=$E(),Ep=mp||parseInt(Ip,10)||void 0):Ep=void 0;var mp,qO=Ep;function uo(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(zE){e:{try{Vp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:GO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&uo.$.h.call(this)}}Re(uo,Qe);var GO={2:"touch",3:"pen",4:"mouse"};uo.prototype.h=function(){uo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vo="closure_listenable_"+(1e6*Math.random()|0),WO=0;function KO(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++WO,this.fa=this.ia=!1}function Du(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jp(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function QO(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function HE(t){let e={};for(let n in t)e[n]=t[n];return e}var AE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qE(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<AE.length;s++)n=AE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bu(t){this.src=t,this.g={},this.h=0}bu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=bp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new KO(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Dp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=BE(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Du(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function bp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Bp="closure_lm_"+(1e6*Math.random()|0),yp={};function GE(t,e,n,r,i){if(r&&r.once)return KE(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)GE(t,e[s],n,r,i);return null}return n=$p(n),t&&t[vo]?t.O(e,n,yo(r)?!!r.capture:!!r,i):WE(t,e,n,!1,r,i)}function WE(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=yo(i)?!!i.capture:!!i,a=zp(t);if(a||(t[Bp]=a=new bu(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=ZO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)UO||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ZE(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ZO(){function t(n){return e.call(t.src,t.listener,n)}let e=YO;return t}function KE(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)KE(t,e[s],n,r,i);return null}return n=$p(n),t&&t[vo]?t.P(e,n,yo(r)?!!r.capture:!!r,i):WE(t,e,n,!0,r,i)}function QE(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)QE(t,e[s],n,r,i);else r=yo(r)?!!r.capture:!!r,n=$p(n),t&&t[vo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=bp(s,n,r,i),-1<n&&(Du(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=zp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=bp(e,n,r,i)),(n=-1<t?e[t]:null)&&Up(n))}function Up(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[vo])Dp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ZE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=zp(e))?(Dp(n,t),n.h==0&&(n.src=null,e[Bp]=null)):Du(t)}}}function ZE(t){return t in yp?yp[t]:yp[t]="on"+t}function YO(t,e){if(t.fa)t=!0;else{e=new uo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Up(t),t=n.call(r,e)}return t}function zp(t){return t=t[Bp],t instanceof bu?t:null}var vp="__closure_events_fn_"+(1e9*Math.random()>>>0);function $p(t){return typeof t=="function"?t:(t[vp]||(t[vp]=function(e){return t.handleEvent(e)}),t[vp])}function xe(){Hn.call(this),this.i=new bu(this),this.S=this,this.J=null}Re(xe,Hn);xe.prototype[vo]=!0;xe.prototype.removeEventListener=function(t,e,n,r){QE(this,t,e,n,r)};function Ue(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Qe(e,t);else if(e instanceof Qe)e.target=e.target||t;else{var i=e;e=new Qe(r,t),qE(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=hu(o,r,!0,e)&&i}if(o=e.g=t,i=hu(o,r,!0,e)&&i,i=hu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=hu(o,r,!1,e)&&i}xe.prototype.N=function(){if(xe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Du(n[r]);delete t.g[e],t.h--}}this.J=null};xe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};xe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function hu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Dp(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Hp=L.JSON.stringify,Cp=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function XO(){var t=qp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Tp=class{constructor(){this.h=this.g=null}add(e,n){let r=YE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},YE=new Cp(()=>new Sp,t=>t.reset()),Sp=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function JO(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ek(t){L.setTimeout(()=>{throw t},0)}var lo,ho=!1,qp=new Tp,XE=()=>{let t=L.Promise.resolve(void 0);lo=()=>{t.then(tk)}},tk=()=>{for(var t;t=XO();){try{t.h.call(t.g)}catch(n){ek(n)}var e=YE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ho=!1};function Cu(t,e){xe.call(this),this.h=t||1,this.g=e||L,this.j=Ke(this.qb,this),this.l=Date.now()}Re(Cu,xe);w=Cu.prototype;w.ga=!1;w.T=null;w.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ue(this,"tick"),this.ga&&(Gp(this),this.start()))}};w.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Gp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}w.N=function(){Cu.$.N.call(this),Gp(this),delete this.g};function Wp(t,e,n){if(typeof t=="function")n&&(t=Ke(t,n));else if(t&&typeof t.handleEvent=="function")t=Ke(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:L.setTimeout(t,e||0)}function JE(t){t.g=Wp(()=>{t.g=null,t.i&&(t.i=!1,JE(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Mp=class extends Hn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:JE(this)}N(){super.N(),this.g&&(L.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function fo(t){Hn.call(this),this.h=t,this.g={}}Re(fo,Hn);var xE=[];function eD(t,e,n,r){Array.isArray(n)||(n&&(xE[0]=n.toString()),n=xE);for(var i=0;i<n.length;i++){var s=GE(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tD(t){jp(t.g,function(e,n){this.g.hasOwnProperty(n)&&Up(e)},t),t.g={}}fo.prototype.N=function(){fo.$.N.call(this),tD(this)};fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Tu(){this.g=!0}Tu.prototype.Ea=function(){this.g=!1};function nk(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function rk(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Si(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+sk(t,n)+(r?" "+r:"")})}function ik(t,e){t.info(function(){return"TIMEOUT: "+e})}Tu.prototype.info=function(){};function sk(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Hp(n)}catch{return e}}var br={},RE=null;function Su(){return RE=RE||new xe}br.Ta="serverreachability";function nD(t){Qe.call(this,br.Ta,t)}Re(nD,Qe);function po(t){let e=Su();Ue(e,new nD(e))}br.STAT_EVENT="statevent";function rD(t,e){Qe.call(this,br.STAT_EVENT,t),this.stat=e}Re(rD,Qe);function Je(t){let e=Su();Ue(e,new rD(e,t))}br.Ua="timingevent";function iD(t,e){Qe.call(this,br.Ua,t),this.size=e}Re(iD,Qe);function _o(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return L.setTimeout(function(){t()},e)}var Mu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Kp(){}Kp.prototype.h=null;function NE(t){return t.h||(t.h=t.i())}function oD(){}var wo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qp(){Qe.call(this,"d")}Re(Qp,Qe);function Zp(){Qe.call(this,"c")}Re(Zp,Qe);var Ap;function Au(){}Re(Au,Kp);Au.prototype.g=function(){return new XMLHttpRequest};Au.prototype.i=function(){return{}};Ap=new Au;function Io(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new fo(this),this.P=ok,t=wp?125:void 0,this.V=new Cu(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new aD}function aD(){this.i=null,this.g="",this.h=!1}var ok=45e3,cD={},xp={};w=Io.prototype;w.setTimeout=function(t){this.P=t};function Rp(t,e,n){t.L=1,t.A=Ru(Cn(e)),t.u=n,t.S=!0,uD(t,null)}function uD(t,e){t.G=Date.now(),Eo(t),t.B=Cn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),yD(n.i,"t",r),t.o=0,n=t.l.J,t.h=new aD,t.g=VD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Mp(Ke(t.Pa,t,t.g),t.O)),eD(t.U,t.g,"readystatechange",t.nb),e=t.I?HE(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),po(),nk(t.j,t.v,t.B,t.m,t.W,t.u)}w.nb=function(t){t=t.target;let e=this.M;e&&sn(t)==3?e.l():this.Pa(t)};w.Pa=function(t){try{if(t==this.g)e:{let l=sn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||wp||this.g&&(this.h.h||this.g.ja()||FE(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?po(3):po(2)),xu(this);var n=this.g.da();this.ca=n;t:if(lD(this)){var r=FE(this.g);t="";var i=r.length,s=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ir(this),ao(this);var o="";break t}this.h.i=new L.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,rk(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!co(a)){var u=a;break t}}u=null}if(n=u)Si(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Np(this,n);else{this.i=!1,this.s=3,Je(12),Ir(this),ao(this);break e}}this.S?(dD(this,l,o),wp&&this.i&&l==3&&(eD(this.U,this.V,"tick",this.mb),this.V.start())):(Si(this.j,this.m,o,null),Np(this,o)),l==4&&Ir(this),this.i&&!this.J&&(l==4?OD(this.l,this):(this.i=!1,Eo(this)))}else Sk(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),Ir(this),ao(this)}}}catch{}finally{}};function lD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function dD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=ak(t,n),i==xp){e==4&&(t.s=4,Je(14),r=!1),Si(t.j,t.m,null,"[Incomplete Response]");break}else if(i==cD){t.s=4,Je(15),Si(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Si(t.j,t.m,i,null),Np(t,i);lD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Je(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ng(e),e.M=!0,Je(11))):(Si(t.j,t.m,n,"[Invalid Chunked Response]"),Ir(t),ao(t))}w.mb=function(){if(this.g){var t=sn(this.g),e=this.g.ja();this.o<e.length&&(xu(this),dD(this,t,e),this.i&&t!=4&&Eo(this))}};function ak(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?xp:(n=Number(e.substring(n,r)),isNaN(n)?cD:(r+=1,r+n>e.length?xp:(e=e.slice(r,r+n),t.o=r+n,e)))}w.cancel=function(){this.J=!0,Ir(this)};function Eo(t){t.Y=Date.now()+t.P,hD(t,t.P)}function hD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=_o(Ke(t.lb,t),e)}function xu(t){t.C&&(L.clearTimeout(t.C),t.C=null)}w.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(ik(this.j,this.B),this.L!=2&&(po(),Je(17)),Ir(this),this.s=2,ao(this)):hD(this,this.Y-t)};function ao(t){t.l.H==0||t.J||OD(t.l,t)}function Ir(t){xu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Gp(t.V),tD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Np(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Pp(n.i,t))){if(!t.K&&Pp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)yu(n),Ou(n);else break e;tg(n),Je(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=_o(Ke(n.ib,n),6e3));if(1>=wD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Er(n,11)}else if((t.K||n.g==t)&&yu(n),!co(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let y=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Yp(s,s.h),s.h=null))}if(r.F){let T=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,de(r.I,r.F,T))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=LD(r,r.J?r.pa:null,r.Y),o.K){ID(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(xu(a),Eo(a)),r.g=o}else ND(r);0<n.j.length&&ku(n)}else u[0]!="stop"&&u[0]!="close"||Er(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Er(n,7):eg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}po(4)}catch{}}function ck(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Iu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function uk(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Iu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function fD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Iu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=uk(t),r=ck(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var pD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lk(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Dr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Dr){this.h=t.h,gu(this,t.j),this.s=t.s,this.g=t.g,mu(this,t.m),this.l=t.l;var e=t.i,n=new go;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),PE(this,n),this.o=t.o}else t&&(e=String(t).match(pD))?(this.h=!1,gu(this,e[1]||"",!0),this.s=so(e[2]||""),this.g=so(e[3]||"",!0),mu(this,e[4]),this.l=so(e[5]||"",!0),PE(this,e[6]||"",!0),this.o=so(e[7]||"")):(this.h=!1,this.i=new go(null,this.h))}Dr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(oo(e,OE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(oo(e,OE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(oo(n,n.charAt(0)=="/"?fk:hk,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",oo(n,gk)),t.join("")};function Cn(t){return new Dr(t)}function gu(t,e,n){t.j=n?so(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function mu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function PE(t,e,n){e instanceof go?(t.i=e,mk(t.i,t.h)):(n||(e=oo(e,pk)),t.i=new go(e,t.h))}function de(t,e,n){t.i.set(e,n)}function Ru(t){return de(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function so(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,dk),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function dk(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var OE=/[#\/\?@]/g,hk=/[#\?:]/g,fk=/[#\?]/g,pk=/[#\?@]/g,gk=/#/g;function go(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qn(t){t.g||(t.g=new Map,t.h=0,t.i&&lk(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}w=go.prototype;w.add=function(t,e){qn(this),this.i=null,t=xi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function gD(t,e){qn(t),e=xi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mD(t,e){return qn(t),e=xi(t,e),t.g.has(e)}w.forEach=function(t,e){qn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};w.ta=function(){qn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};w.Z=function(t){qn(this);let e=[];if(typeof t=="string")mD(this,t)&&(e=e.concat(this.g.get(xi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};w.set=function(t,e){return qn(this),this.i=null,t=xi(this,t),mD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};w.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function yD(t,e,n){gD(t,e),0<n.length&&(t.i=null,t.g.set(xi(t,e),Lp(n)),t.h+=n.length)}w.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function xi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function mk(t,e){e&&!t.j&&(qn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(gD(this,r),yD(this,i,n))},t)),t.j=e}var yk=class{constructor(t,e){this.g=t,this.map=e}};function vD(t){this.l=t||vk,L.PerformanceNavigationTiming?(t=L.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(L.g&&L.g.Ka&&L.g.Ka()&&L.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vk=10;function _D(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function wD(t){return t.h?1:t.g?t.g.size:0}function Pp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Yp(t,e){t.g?t.g.add(e):t.h=e}function ID(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}vD.prototype.cancel=function(){if(this.i=ED(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function ED(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Lp(t.i)}var _k=class{stringify(t){return L.JSON.stringify(t,void 0)}parse(t){return L.JSON.parse(t,void 0)}};function wk(){this.g=new _k}function Ik(t,e,n){let r=n||"";try{fD(t,function(i,s){let o=i;yo(i)&&(o=Hp(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ek(t,e){let n=new Tu;if(L.Image){let r=new Image;r.onload=cu(fu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cu(fu,n,r,"TestLoadImage: error",!1,e),r.onabort=cu(fu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cu(fu,n,r,"TestLoadImage: timeout",!1,e),L.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function fu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Do(t){this.l=t.ec||null,this.j=t.ob||!1}Re(Do,Kp);Do.prototype.g=function(){return new Nu(this.l,this.j)};Do.prototype.i=function(t){return function(){return t}}({});function Nu(t,e){xe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Re(Nu,xe);var Xp=0;w=Nu.prototype;w.open=function(t,e){if(this.readyState!=Xp)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,mo(this)};w.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||L).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};w.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bo(this)),this.readyState=Xp};w.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,mo(this)),this.g&&(this.readyState=3,mo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof L.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function DD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}w.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?bo(this):mo(this),this.readyState==3&&DD(this)}};w.Za=function(t){this.g&&(this.response=this.responseText=t,bo(this))};w.Ya=function(t){this.g&&(this.response=t,bo(this))};w.ka=function(){this.g&&bo(this)};function bo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,mo(t)}w.setRequestHeader=function(t,e){this.v.append(t,e)};w.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};w.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function mo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Dk=L.JSON.parse;function ge(t){xe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bD,this.L=this.M=!1}Re(ge,xe);var bD="",bk=/^https?$/i,Ck=["POST","PUT"];w=ge.prototype;w.Oa=function(t){this.M=t};w.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ap.g(),this.C=this.u?NE(this.u):NE(Ap),this.g.onreadystatechange=Ke(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){kE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=L.FormData&&t instanceof L.FormData,!(0<=BE(Ck,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{SD(this),0<this.B&&((this.L=Tk(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ke(this.ua,this)):this.A=Wp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){kE(this,s)}};function Tk(t){return Ai&&typeof t.timeout=="number"&&t.ontimeout!==void 0}w.ua=function(){typeof Fp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ue(this,"timeout"),this.abort(8))};function kE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,CD(t),Pu(t)}function CD(t){t.F||(t.F=!0,Ue(t,"complete"),Ue(t,"error"))}w.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ue(this,"complete"),Ue(this,"abort"),Pu(this))};w.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pu(this,!0)),ge.$.N.call(this)};w.La=function(){this.s||(this.G||this.v||this.l?TD(this):this.kb())};w.kb=function(){TD(this)};function TD(t){if(t.h&&typeof Fp<"u"&&(!t.C[1]||sn(t)!=4||t.da()!=2)){if(t.v&&sn(t)==4)Wp(t.La,0,t);else if(Ue(t,"readystatechange"),sn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(pD)[1]||null;!i&&L.self&&L.self.location&&(i=L.self.location.protocol.slice(0,-1)),r=!bk.test(i?i.toLowerCase():"")}n=r}if(n)Ue(t,"complete"),Ue(t,"success");else{t.m=6;try{var s=2<sn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",CD(t)}}finally{Pu(t)}}}}function Pu(t,e){if(t.g){SD(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ue(t,"ready");try{n.onreadystatechange=r}catch{}}}function SD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(L.clearTimeout(t.A),t.A=null)}w.isActive=function(){return!!this.g};function sn(t){return t.g?t.g.readyState:0}w.da=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}};w.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};w.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Dk(e)}};function FE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case bD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Sk(t){let e={};t=(t.g&&2<=sn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(co(t[r]))continue;var n=JO(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}QO(e,function(r){return r.join(", ")})}w.Ia=function(){return this.m};w.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function MD(t){let e="";return jp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Jp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=MD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):de(t,e,n))}function ro(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function AD(t){this.Ga=0,this.j=[],this.l=new Tu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ro("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ro("baseRetryDelayMs",5e3,t),this.hb=ro("retryDelaySeedMs",1e4,t),this.eb=ro("forwardChannelMaxRetries",2,t),this.xa=ro("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new vD(t&&t.concurrentRequestLimit),this.Ja=new wk,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}w=AD.prototype;w.ra=8;w.H=1;function eg(t){if(xD(t),t.H==3){var e=t.W++,n=Cn(t.I);if(de(n,"SID",t.K),de(n,"RID",e),de(n,"TYPE","terminate"),Co(t,n),e=new Io(t,t.l,e),e.L=2,e.A=Ru(Cn(n)),n=!1,L.navigator&&L.navigator.sendBeacon)try{n=L.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&L.Image&&(new Image().src=e.A,n=!0),n||(e.g=VD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Eo(e)}FD(t)}function Ou(t){t.g&&(ng(t),t.g.cancel(),t.g=null)}function xD(t){Ou(t),t.u&&(L.clearTimeout(t.u),t.u=null),yu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&L.clearTimeout(t.m),t.m=null)}function ku(t){if(!_D(t.i)&&!t.m){t.m=!0;var e=t.Na;lo||XE(),ho||(lo(),ho=!0),qp.add(e,t),t.C=0}}function Mk(t,e){return wD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=_o(Ke(t.Na,t,e),kD(t,t.C)),t.C++,!0)}w.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Io(this,this.l,t),s=this.s;if(this.U&&(s?(s=HE(s),qE(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=RD(this,i,e),n=Cn(this.I),de(n,"RID",t),de(n,"CVER",22),this.F&&de(n,"X-HTTP-Session-Id",this.F),Co(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(MD(s)))+"&"+e:this.o&&Jp(n,this.o,s)),Yp(this.i,i),this.bb&&de(n,"TYPE","init"),this.P?(de(n,"$req",e),de(n,"SID","null"),i.aa=!0,Rp(i,n,null)):Rp(i,n,e),this.H=2}}else this.H==3&&(t?LE(this,t):this.j.length==0||_D(this.i)||LE(this))};function LE(t,e){var n;e?n=e.m:n=t.W++;let r=Cn(t.I);de(r,"SID",t.K),de(r,"RID",n),de(r,"AID",t.V),Co(t,r),t.o&&t.s&&Jp(r,t.o,t.s),n=new Io(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=RD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Yp(t.i,n),Rp(n,r,e)}function Co(t,e){t.na&&jp(t.na,function(n,r){de(e,r,n)}),t.h&&fD({},function(n,r){de(e,r,n)})}function RD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ke(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{Ik(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ND(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;lo||XE(),ho||(lo(),ho=!0),qp.add(e,t),t.A=0}}function tg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=_o(Ke(t.Ma,t),kD(t,t.A)),t.A++,!0)}w.Ma=function(){if(this.u=null,PD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=_o(Ke(this.jb,this),t)}};w.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Je(10),Ou(this),PD(this))};function ng(t){t.B!=null&&(L.clearTimeout(t.B),t.B=null)}function PD(t){t.g=new Io(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Cn(t.wa);de(e,"RID","rpc"),de(e,"SID",t.K),de(e,"AID",t.V),de(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&de(e,"TO",t.qa),de(e,"TYPE","xmlhttp"),Co(t,e),t.o&&t.s&&Jp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ru(Cn(e)),n.u=null,n.S=!0,uD(n,t)}w.ib=function(){this.v!=null&&(this.v=null,Ou(this),tg(this),Je(19))};function yu(t){t.v!=null&&(L.clearTimeout(t.v),t.v=null)}function OD(t,e){var n=null;if(t.g==e){yu(t),ng(t),t.g=null;var r=2}else if(Pp(t.i,e))n=e.F,ID(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Su(),Ue(r,new iD(r,n)),ku(t)}else ND(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Mk(t,e)||r==2&&tg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Er(t,5);break;case 4:Er(t,10);break;case 3:Er(t,6);break;default:Er(t,2)}}}function kD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Er(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ke(t.pb,t);n||(n=new Dr("//www.google.com/images/cleardot.gif"),L.location&&L.location.protocol=="http"||gu(n,"https"),Ru(n)),Ek(n.toString(),r)}else Je(2);t.H=0,t.h&&t.h.za(e),FD(t),xD(t)}w.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Je(2)):(this.l.info("Failed to ping google.com"),Je(1))};function FD(t){if(t.H=0,t.ma=[],t.h){let e=ED(t.i);(e.length!=0||t.j.length!=0)&&(ME(t.ma,e),ME(t.ma,t.j),t.i.i.length=0,Lp(t.j),t.j.length=0),t.h.ya()}}function LD(t,e,n){var r=n instanceof Dr?Cn(n):new Dr(n);if(r.g!="")e&&(r.g=e+"."+r.g),mu(r,r.m);else{var i=L.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Dr(null);r&&gu(s,r),e&&(s.g=e),i&&mu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&de(r,n,e),de(r,"VER",t.ra),Co(t,r),r}function VD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ge(new Do({ob:n})):new ge(t.va),e.Oa(t.J),e}w.isActive=function(){return!!this.h&&this.h.isActive(this)};function jD(){}w=jD.prototype;w.Ba=function(){};w.Aa=function(){};w.za=function(){};w.ya=function(){};w.isActive=function(){return!0};w.Va=function(){};function vu(){if(Ai&&!(10<=Number(qO)))throw Error("Environmental error: no available transport.")}vu.prototype.g=function(t,e){return new dt(t,e)};function dt(t,e){xe.call(this),this.g=new AD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!co(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!co(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ri(this)}Re(dt,xe);dt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Je(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=LD(t,null,t.Y),ku(t)};dt.prototype.close=function(){eg(this.g)};dt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Hp(t),t=n);e.j.push(new yk(e.fb++,t)),e.H==3&&ku(e)};dt.prototype.N=function(){this.g.h=null,delete this.j,eg(this.g),delete this.g,dt.$.N.call(this)};function BD(t){Qp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Re(BD,Qp);function UD(){Zp.call(this),this.status=1}Re(UD,Zp);function Ri(t){this.g=t}Re(Ri,jD);Ri.prototype.Ba=function(){Ue(this.g,"a")};Ri.prototype.Aa=function(t){Ue(this.g,new BD(t))};Ri.prototype.za=function(t){Ue(this.g,new UD)};Ri.prototype.ya=function(){Ue(this.g,"b")};function Ak(){this.blockSize=-1}function jt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Re(jt,Ak);jt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function _p(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}jt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)_p(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){_p(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){_p(this,r),i=0;break}}this.h=i,this.i+=e};jt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ie(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var xk={};function rg(t){return-128<=t&&128>t?zO(t,function(e){return new ie([e|0],0>e?-1:0)}):new ie([t|0],0>t?-1:0)}function on(t){if(isNaN(t)||!isFinite(t))return Mi;if(0>t)return Be(on(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Op;return new ie(e,0)}function zD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Be(zD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=on(Math.pow(e,8)),r=Mi,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=on(Math.pow(e,s)),r=r.R(s).add(on(o))):(r=r.R(n),r=r.add(on(o)))}return r}var Op=4294967296,Mi=rg(0),kp=rg(1),VE=rg(16777216);w=ie.prototype;w.ea=function(){if(Tt(this))return-Be(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Op+r)*e,e*=Op}return t};w.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(bn(this))return"0";if(Tt(this))return"-"+Be(this).toString(t);for(var e=on(Math.pow(t,6)),n=this,r="";;){var i=wu(n,e).g;n=_u(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,bn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};w.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function bn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Tt(t){return t.h==-1}w.X=function(t){return t=_u(this,t),Tt(t)?-1:bn(t)?0:1};function Be(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ie(n,~t.h).add(kp)}w.abs=function(){return Tt(this)?Be(this):this};w.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ie(n,n[n.length-1]&-2147483648?-1:0)};function _u(t,e){return t.add(Be(e))}w.R=function(t){if(bn(this)||bn(t))return Mi;if(Tt(this))return Tt(t)?Be(this).R(Be(t)):Be(Be(this).R(t));if(Tt(t))return Be(this.R(Be(t)));if(0>this.X(VE)&&0>t.X(VE))return on(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,pu(n,2*r+2*i),n[2*r+2*i+1]+=s*c,pu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,pu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,pu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ie(n,0)};function pu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function io(t,e){this.g=t,this.h=e}function wu(t,e){if(bn(e))throw Error("division by zero");if(bn(t))return new io(Mi,Mi);if(Tt(t))return e=wu(Be(t),e),new io(Be(e.g),Be(e.h));if(Tt(e))return e=wu(t,Be(e)),new io(Be(e.g),e.h);if(30<t.g.length){if(Tt(t)||Tt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=kp,r=e;0>=r.X(t);)n=jE(n),r=jE(r);var i=Ti(n,1),s=Ti(r,1);for(r=Ti(r,2),n=Ti(n,2);!bn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ti(r,1),n=Ti(n,1)}return e=_u(t,i.R(e)),new io(i,e)}for(i=Mi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=on(n),o=s.R(e);Tt(o)||0<o.X(t);)n-=r,s=on(n),o=s.R(e);bn(s)&&(s=kp),i=i.add(s),t=_u(t,o)}return new io(i,t)}w.gb=function(t){return wu(this,t).h};w.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ie(n,this.h&t.h)};w.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ie(n,this.h|t.h)};w.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ie(n,this.h^t.h)};function jE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ie(n,t.h)}function Ti(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ie(i,t.h)}vu.prototype.createWebChannel=vu.prototype.g;dt.prototype.send=dt.prototype.u;dt.prototype.open=dt.prototype.m;dt.prototype.close=dt.prototype.close;Mu.NO_ERROR=0;Mu.TIMEOUT=8;Mu.HTTP_ERROR=6;sD.COMPLETE="complete";oD.EventType=wo;wo.OPEN="a";wo.CLOSE="b";wo.ERROR="c";wo.MESSAGE="d";xe.prototype.listen=xe.prototype.O;ge.prototype.listenOnce=ge.prototype.P;ge.prototype.getLastError=ge.prototype.Sa;ge.prototype.getLastErrorCode=ge.prototype.Ia;ge.prototype.getStatus=ge.prototype.da;ge.prototype.getResponseJson=ge.prototype.Wa;ge.prototype.getResponseText=ge.prototype.ja;ge.prototype.send=ge.prototype.ha;ge.prototype.setWithCredentials=ge.prototype.Oa;jt.prototype.digest=jt.prototype.l;jt.prototype.reset=jt.prototype.reset;jt.prototype.update=jt.prototype.j;ie.prototype.add=ie.prototype.add;ie.prototype.multiply=ie.prototype.R;ie.prototype.modulo=ie.prototype.gb;ie.prototype.compare=ie.prototype.X;ie.prototype.toNumber=ie.prototype.ea;ie.prototype.toString=ie.prototype.toString;ie.prototype.getBits=ie.prototype.D;ie.fromNumber=on;ie.fromString=zD;var $D=Bt.createWebChannelTransport=function(){return new vu},HD=Bt.getStatEventTarget=function(){return Su()},Fu=Bt.ErrorCode=Mu,qD=Bt.EventType=sD,GD=Bt.Event=br,ig=Bt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},r$=Bt.FetchXmlHttpFactory=Do,To=Bt.WebChannel=oD,WD=Bt.XhrIo=ge,KD=Bt.Md5=jt,Cr=Bt.Integer=ie;var QD="@firebase/firestore";var Ne=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ne.UNAUTHENTICATED=new Ne(null),Ne.GOOGLE_CREDENTIALS=new Ne("google-credentials-uid"),Ne.FIRST_PARTY=new Ne("first-party-uid"),Ne.MOCK_USER=new Ne("mock-user");var Xi="10.9.0";var Nr=new wi("@firebase/firestore");function So(){return Nr.logLevel}function E(t,...e){if(Nr.logLevel<=Z.DEBUG){let n=e.map($m);Nr.debug(`Firestore (${Xi}): ${t}`,...n)}}function ln(t,...e){if(Nr.logLevel<=Z.ERROR){let n=e.map($m);Nr.error(`Firestore (${Xi}): ${t}`,...n)}}function ji(t,...e){if(Nr.logLevel<=Z.WARN){let n=e.map($m);Nr.warn(`Firestore (${Xi}): ${t}`,...n)}}function $m(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function j(t="Unexpected state"){let e=`FIRESTORE (${Xi}) INTERNAL ASSERTION FAILED: `+t;throw ln(e),new Error(e)}function De(t,e){t||j()}function X(t,e){return t}var g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=class extends kt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ut=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Bu=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},lg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ne.UNAUTHENTICATED))}shutdown(){}},dg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},hg=class{constructor(e){this.t=e,this.currentUser=Ne.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Ut;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ut,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>m(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ut)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Bu(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Ne(e)}},fg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ne.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},pg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ne.FIRST_PARTY))}shutdown(){}invalidateToken(){}},gg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},mg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,E("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new gg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Rk(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Uu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Rk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function re(t,e){return t<e?-1:t>e?1:0}function Bi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var be=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var U=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new be(0,0))}static max(){return new t(new be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var zu=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&j(),r===void 0?r=e.length-n:r>e.length-n&&j(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},pe=class t extends zu{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new C(g.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Nk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,St=class t extends zu{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Nk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new C(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new C(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var x=class t{constructor(e){this.path=e}static fromPath(e){return new t(pe.fromString(e))}static fromName(e){return new t(pe.fromString(e).popFirst(5))}static empty(){return new t(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new pe(e.slice()))}};var yg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};yg.UNKNOWN_ID=-1;function Pk(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(r===1e9?new be(n+1,0):new be(n,r));return new Pr(i,x.empty(),e)}function Ok(t){return new Pr(t.readTime,t.key,-1)}var Pr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(U.min(),x.empty(),-1)}static max(){return new t(U.max(),x.empty(),-1)}};function kk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=x.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}var Fk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Hm(t){return m(this,null,function*(){if(t.code!==g.FAILED_PRECONDITION||t.message!==Fk)throw t;E("LocalStore","Unexpectedly lost primary lease")})}var p=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var _g=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ut,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Rr(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=qm(r.target.error);this.V.reject(new Rr(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Rr(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(E("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Ig(n)}},$u=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Xs())===12.2&&ln("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return E("SimpleDb","Removing database:",e),Tr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Jc())return!1;if(t.C())return!0;let e=Xs(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return m(this,null,function*(){return this.db||(E("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Rr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new C(g.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new C(g.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Rr(e,o))},i.onupgradeneeded=s=>{E("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{E("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return m(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=_g.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),p.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(E("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},wg=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Tr(this.k.delete())}},Rr=class extends C{constructor(e,n){super(g.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Zo(t){return t.name==="IndexedDbTransactionError"}var Ig=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(E("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(E("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Tr(r)}add(e){return E("SimpleDb","ADD",this.store.name,e,e),Tr(this.store.add(e))}get(e){return Tr(this.store.get(e)).next(n=>(n===void 0&&(n=null),E("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return E("SimpleDb","DELETE",this.store.name,e),Tr(this.store.delete(e))}count(){return E("SimpleDb","COUNT",this.store.name),Tr(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new p((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new p((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){E("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new p((r,i)=>{n.onerror=s=>{let o=qm(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new p((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new wg(a),u=n(a.primaryKey,a.value,c);if(u instanceof p){let l=u.catch(d=>(c.done(),p.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>p.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Tr(t){return new p((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=qm(r.target.error);n(i)}})}var ZD=!1;function qm(t){let e=$u.S(Xs());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZD||(ZD=!0,setTimeout(()=>{throw r},0)),r}}return t}var Mb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function gl(t){return t==null}function Oo(t){return t===0&&1/t==-1/0}function Lk(t){return typeof t=="number"&&Number.isInteger(t)&&!Oo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Vk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],p$=[...Vk,"documentOverlays"],jk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bk=jk,g$=[...Bk,"indexConfiguration","indexState","indexEntries"];function YD(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ab(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ve=class t{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ki(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ki(this.root,e,this.comparator,!1)}getReverseIterator(){return new ki(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ki(this.root,e,this.comparator,!0)}},ki=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},cn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();let e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}};cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(e,n,r,i,s){return this}insert(e,n,r){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ye=class t{constructor(e){this.comparator=e,this.data=new ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hu(this.data.getIterator())}getIteratorFrom(e){return new Hu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Hu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Sr=class t{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ye(St.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bi(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var qu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qu("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};et.EMPTY_BYTE_STRING=new et("");var Uk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(t){if(De(!!t),typeof t=="string"){let e=0,n=Uk.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(t.seconds),nanos:me(t.nanos)}}function me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kn(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}function Gm(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wm(t){let e=t.mapValue.fields.__previous_value__;return Gm(e)?Wm(e):e}function ko(t){let e=Wn(t.mapValue.fields.__local_write_time__.timestampValue);return new be(e.seconds,e.nanos)}var Eg=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Gu=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Lu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Or(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gm(t)?4:xb(t)?9007199254740991:10:j()}function dn(t,e){if(t===e)return!0;let n=Or(t);if(n!==Or(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ko(t).isEqual(ko(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Wn(i.timestampValue),a=Wn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Kn(i.bytesValue).isEqual(Kn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return me(i.geoPointValue.latitude)===me(s.geoPointValue.latitude)&&me(i.geoPointValue.longitude)===me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return me(i.integerValue)===me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=me(i.doubleValue),a=me(s.doubleValue);return o===a?Oo(o)===Oo(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bi(t.arrayValue.values||[],e.arrayValue.values||[],dn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(YD(o)!==YD(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!dn(o[c],a[c])))return!1;return!0}(t,e);default:return j()}}function Fo(t,e){return(t.values||[]).find(n=>dn(n,e))!==void 0}function Ui(t,e){if(t===e)return 0;let n=Or(t),r=Or(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=me(s.integerValue||s.doubleValue),c=me(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return XD(t.timestampValue,e.timestampValue);case 4:return XD(ko(t),ko(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Kn(s),c=Kn(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=re(a[u],c[u]);if(l!==0)return l}return re(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=re(me(s.latitude),me(o.latitude));return a!==0?a:re(me(s.longitude),me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Ui(a[u],c[u]);if(l)return l}return re(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Lu.mapValue&&o===Lu.mapValue)return 0;if(s===Lu.mapValue)return 1;if(o===Lu.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=re(c[d],l[d]);if(h!==0)return h;let f=Ui(a[c[d]],u[l[d]]);if(f!==0)return f}return re(c.length,l.length)}(t.mapValue,e.mapValue);default:throw j()}}function XD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);let n=Wn(t),r=Wn(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function zi(t){return Dg(t)}function Dg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Wn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return x.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Dg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Dg(n.fields[o])}`;return i+"}"}(t.mapValue):j()}function JD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bg(t){return!!t&&"integerValue"in t}function Km(t){return!!t&&"arrayValue"in t}function eb(t){return!!t&&"nullValue"in t}function tb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sg(t){return!!t&&"mapValue"in t}function Ao(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ao(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ao(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Tn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ao(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ao(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());sg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yo(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ao(this.value))}};var zt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,U.min(),U.min(),U.min(),Tn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,U.min(),U.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,U.min(),U.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var $i=class{constructor(e,n){this.position=e,this.inclusive=n}};function nb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=x.comparator(x.fromName(o.referenceValue),n.key):r=Ui(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function rb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dn(t.position[n],e.position[n]))return!1;return!0}var Hi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function zk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Wu=class{},Ee=class t extends Wu{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Tg(e,n,r):n==="array-contains"?new Ag(e,r):n==="in"?new xg(e,r):n==="not-in"?new Rg(e,r):n==="array-contains-any"?new Ng(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Sg(e,r):new Mg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ui(n,this.value)):n!==null&&Or(this.value)===Or(n)&&this.matchesComparison(Ui(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return j()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},$t=class t extends Wu{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return Rb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function Rb(t){return t.op==="and"}function Nb(t){return $k(t)&&Rb(t)}function $k(t){for(let e of t.filters)if(e instanceof $t)return!1;return!0}function Cg(t){if(t instanceof Ee)return t.field.canonicalString()+t.op.toString()+zi(t.value);if(Nb(t))return t.filters.map(e=>Cg(e)).join(",");{let e=t.filters.map(n=>Cg(n)).join(",");return`${t.op}(${e})`}}function Pb(t,e){return t instanceof Ee?function(r,i){return i instanceof Ee&&r.op===i.op&&r.field.isEqual(i.field)&&dn(r.value,i.value)}(t,e):t instanceof $t?function(r,i){return i instanceof $t&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Pb(o,i.filters[a]),!0):!1}(t,e):void j()}function Ob(t){return t instanceof Ee?function(n){return`${n.field.canonicalString()} ${n.op} ${zi(n.value)}`}(t):t instanceof $t?function(n){return n.op.toString()+" {"+n.getFilters().map(Ob).join(" ,")+"}"}(t):"Filter"}var Tg=class extends Ee{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){let n=x.comparator(e.key,this.key);return this.matchesComparison(n)}},Sg=class extends Ee{constructor(e,n){super(e,"in",n),this.keys=kb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Mg=class extends Ee{constructor(e,n){super(e,"not-in",n),this.keys=kb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function kb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}var Ag=class extends Ee{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Km(n)&&Fo(n.arrayValue,this.value)}},xg=class extends Ee{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Fo(this.value.arrayValue,n)}},Rg=class extends Ee{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Fo(this.value.arrayValue,n)}},Ng=class extends Ee{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fo(this.value.arrayValue,r))}};var Pg=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function ib(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Pg(t,e,n,r,i,s,o)}function Qm(t){let e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zi(r)).join(",")),e.ce=n}return e.ce}function Zm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Pb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rb(t.startAt,e.startAt)&&rb(t.endAt,e.endAt)}function Og(t){return x.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var kr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function Hk(t,e,n,r,i,s,o,a){return new kr(t,e,n,r,i,s,o,a)}function Ym(t){return new kr(t)}function sb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fb(t){return t.collectionGroup!==null}function xo(t){let e=X(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ye(St.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Hi(s,r))}),n.has(St.keyField().canonicalString())||e.le.push(new Hi(St.keyField(),r))}return e.le}function un(t){let e=X(t);return e.he||(e.he=qk(e,xo(t))),e.he}function qk(t,e){if(t.limitType==="F")return ib(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Hi(i.field,s)});let n=t.endAt?new $i(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $i(t.startAt.position,t.startAt.inclusive):null;return ib(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kg(t,e){let n=t.filters.concat([e]);return new kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fg(t,e,n){return new kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ml(t,e){return Zm(un(t),un(e))&&t.limitType===e.limitType}function Lb(t){return`${Qm(un(t))}|lt:${t.limitType}`}function Ni(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ob(i)).join(", ")}]`),gl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zi(i)).join(",")),`Target(${r})`}(un(t))}; limitType=${t.limitType})`}function yl(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):x.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of xo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=nb(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,xo(r),i)||r.endAt&&!function(o,a,c){let u=nb(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,xo(r),i))}(t,e)}function Gk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Vb(t){return(e,n)=>{let r=!1;for(let i of xo(t)){let s=Wk(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Wk(t,e,n){let r=t.field.isKeyField()?x.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Ui(c,u):j()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}var Qn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Ab(this.inner)}size(){return this.innerSize}};var Kk=new ve(x.comparator);function Zn(){return Kk}var jb=new ve(x.comparator);function Mo(...t){let e=jb;for(let n of t)e=e.insert(n.key,n);return e}function Qk(t){let e=jb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mr(){return Ro()}function Bb(){return Ro()}function Ro(){return new Qn(t=>t.toString(),(t,e)=>t.isEqual(e))}var y$=new ve(x.comparator),Zk=new Ye(x.comparator);function Y(...t){let e=Zk;for(let n of t)e=e.add(n);return e}var Yk=new Ye(re);function Xk(){return Yk}function Ub(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oo(e)?"-0":e}}function zb(t){return{integerValue:""+t}}function Jk(t,e){return Lk(e)?zb(e):Ub(t,e)}var qi=class{constructor(){this._=void 0}};function e1(t,e,n){return t instanceof Lo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gm(s)&&(s=Wm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Gi?$b(t,e):t instanceof Wi?Hb(t,e):function(i,s){let o=n1(i,s),a=ob(o)+ob(i.Ie);return bg(o)&&bg(i.Ie)?zb(a):Ub(i.serializer,a)}(t,e)}function t1(t,e,n){return t instanceof Gi?$b(t,e):t instanceof Wi?Hb(t,e):n}function n1(t,e){return t instanceof Vo?function(r){return bg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Lo=class extends qi{},Gi=class extends qi{constructor(e){super(),this.elements=e}};function $b(t,e){let n=qb(e);for(let r of t.elements)n.some(i=>dn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Wi=class extends qi{constructor(e){super(),this.elements=e}};function Hb(t,e){let n=qb(e);for(let r of t.elements)n=n.filter(i=>!dn(i,r));return{arrayValue:{values:n}}}var Vo=class extends qi{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function ob(t){return me(t.integerValue||t.doubleValue)}function qb(t){return Km(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function r1(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gi&&i instanceof Gi||r instanceof Wi&&i instanceof Wi?Bi(r.elements,i.elements,dn):r instanceof Vo&&i instanceof Vo?dn(r.Ie,i.Ie):r instanceof Lo&&i instanceof Lo}(t.transform,e.transform)}var No=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ju(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var jo=class{};function Gb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lg(t.key,No.none()):new Bo(t.key,t.data,No.none());{let n=t.data,r=Tn.empty(),i=new Ye(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ki(t.key,r,new Sr(i.toArray()),No.none())}}function i1(t,e,n){t instanceof Bo?function(i,s,o){let a=i.value.clone(),c=cb(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ki?function(i,s,o){if(!ju(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=cb(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Wb(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Po(t,e,n,r){return t instanceof Bo?function(s,o,a,c){if(!ju(s.precondition,o))return a;let u=s.value.clone(),l=ub(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ki?function(s,o,a,c){if(!ju(s.precondition,o))return a;let u=ub(s.fieldTransforms,c,o),l=o.data;return l.setAll(Wb(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return ju(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function ab(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bi(r,i,(s,o)=>r1(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Bo=class extends jo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ki=class extends jo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Wb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function cb(t,e,n){let r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,t1(o,a,n[i]))}return r}function ub(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,e1(s,o,e))}return r}var Lg=class extends jo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Vg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&i1(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Po(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Po(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Bb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=Gb(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Y())}isEqual(e){return this.batchId===e.batchId&&Bi(this.mutations,e.mutations,(n,r)=>ab(n,r))&&Bi(this.baseMutations,e.baseMutations,(n,r)=>ab(n,r))}};var jg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Bg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var we,Q;function Kb(t){if(t===void 0)return ln("GRPC error has no .code"),g.UNKNOWN;switch(t){case we.OK:return g.OK;case we.CANCELLED:return g.CANCELLED;case we.UNKNOWN:return g.UNKNOWN;case we.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case we.INTERNAL:return g.INTERNAL;case we.UNAVAILABLE:return g.UNAVAILABLE;case we.UNAUTHENTICATED:return g.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case we.NOT_FOUND:return g.NOT_FOUND;case we.ALREADY_EXISTS:return g.ALREADY_EXISTS;case we.PERMISSION_DENIED:return g.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case we.ABORTED:return g.ABORTED;case we.OUT_OF_RANGE:return g.OUT_OF_RANGE;case we.UNIMPLEMENTED:return g.UNIMPLEMENTED;case we.DATA_LOSS:return g.DATA_LOSS;default:return j()}}(Q=we||(we={}))[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";var lb=null;function s1(){return new TextEncoder}var o1=new Cr([4294967295,4294967295],0);function db(t){let e=s1().encode(t),n=new KD;return n.update(e),new Uint8Array(n.digest())}function hb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Cr([n,r],0),new Cr([i,s],0)]}var Ug=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ar(`Invalid padding: ${n}`);if(r<0)throw new Ar(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ar(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ar(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Cr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Cr.fromNumber(r)));return i.compare(o1)===1&&(i=new Cr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=db(e),[r,i]=hb(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=db(e),[r,i]=hb(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ar=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ku=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Uo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(U.min(),i,new ve(re),Zn(),Y())}},Uo=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Y(),Y(),Y())}};var Fi=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Qu=class{constructor(e,n){this.targetId=e,this.fe=n}},Zu=class{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Yu=class{constructor(){this.ge=0,this.pe=pb(),this.ye=et.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Y(),n=Y(),r=Y();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new Uo(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=pb()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,De(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},zg=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=Zn(),this.Qe=fb(),this.Ke=new ve(re)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(Og(s))if(r===0){let o=new x(s.path);this.We(n,o,zt.newNoDocument(o,U.min()))}else De(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}lb?.tt(function(l,d,h,f,y){var T,b,P,ae,$,H;let Ce={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},te=d.unchangedNames;return te&&(Ce.bloomFilter={applied:y===0,hashCount:(T=te?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(ae=(P=(b=te?.bits)===null||b===void 0?void 0:b.bitmap)===null||P===void 0?void 0:P.length)!==null&&ae!==void 0?ae:0,padding:(H=($=te?.bits)===null||$===void 0?void 0:$.padding)!==null&&H!==void 0?H:0,mightContain:Xe=>{var ft;return(ft=f?.mightContain(Xe))!==null&&ft!==void 0&&ft}}),Ce}(o,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Kn(r).toUint8Array()}catch(c){if(c instanceof qu)return ji("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Ug(o,i,s)}catch(c){return ji(c instanceof Ar?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Og(a.target)){let c=new x(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,zt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Y();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Ku(e,n,this.Ke,this.qe,r);return this.qe=Zn(),this.Qe=fb(),this.Ke=new ve(re),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Yu,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ye(re),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||E("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Yu),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function fb(){return new ve(x.comparator)}function pb(){return new ve(x.comparator)}var a1={asc:"ASCENDING",desc:"DESCENDING"},c1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u1={and:"AND",or:"OR"},$g=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Hg(t,e){return t.useProto3Json||gl(e)?e:{value:e}}function qg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Li(t){return De(!!t),U.fromTimestamp(function(n){let r=Wn(n);return new be(r.seconds,r.nanos)}(t))}function Zb(t,e){return Gg(t,e).canonicalString()}function Gg(t,e){let n=function(i){return new pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Yb(t){let e=pe.fromString(t);return De(nC(e)),e}function og(t,e){let n=Yb(e);if(n.get(1)!==t.databaseId.projectId)throw new C(g.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(g.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(Jb(n))}function Xb(t,e){return Zb(t.databaseId,e)}function l1(t){let e=Yb(t);return e.length===4?pe.emptyPath():Jb(e)}function gb(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jb(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function d1(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:j()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(De(l===void 0||typeof l=="string"),et.fromBase64String(l||"")):(De(l===void 0||l instanceof Uint8Array),et.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?g.UNKNOWN:Kb(u.code);return new C(l,u.message||"")}(o);n=new Zu(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=og(t,r.document.name),s=Li(r.document.updateTime),o=r.document.createTime?Li(r.document.createTime):U.min(),a=new Tn({mapValue:{fields:r.document.fields}}),c=zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Fi(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=og(t,r.document),s=r.readTime?Li(r.readTime):U.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fi([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=og(t,r.document),s=r.removedTargetIds||[];n=new Fi([],s,i,null)}else{if(!("filter"in e))return j();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Bg(i,s),a=r.targetId;n=new Qu(a,o)}}return n}function h1(t,e){return{documents:[Xb(t,e.path)]}}function f1(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Xb(t,i);let s=function(u){if(u.length!==0)return tC($t.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Pi(h.field),direction:m1(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Hg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function p1(t){let e=l1(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){De(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=eC(d);return h instanceof $t&&Nb(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(y){return new Hi(Oi(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,gl(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new $i(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new $i(f,h)}(n.endAt)),Hk(e,i,o,s,a,"F",c,u)}function g1(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Oi(n.unaryFilter.field);return Ee.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Oi(n.unaryFilter.field);return Ee.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Oi(n.unaryFilter.field);return Ee.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Oi(n.unaryFilter.field);return Ee.create(o,"!=",{nullValue:"NULL_VALUE"});default:return j()}}(t):t.fieldFilter!==void 0?function(n){return Ee.create(Oi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $t.create(n.compositeFilter.filters.map(r=>eC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return j()}}(n.compositeFilter.op))}(t):j()}function m1(t){return a1[t]}function y1(t){return c1[t]}function v1(t){return u1[t]}function Pi(t){return{fieldPath:t.canonicalString()}}function Oi(t){return St.fromServerFormat(t.fieldPath)}function tC(t){return t instanceof Ee?function(n){if(n.op==="=="){if(tb(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NAN"}};if(eb(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tb(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NOT_NAN"}};if(eb(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pi(n.field),op:y1(n.op),value:n.value}}}(t):t instanceof $t?function(n){let r=n.getFilters().map(i=>tC(i));return r.length===1?r[0]:{compositeFilter:{op:v1(n.op),filters:r}}}(t):j()}function nC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var zo=class t{constructor(e,n,r,i,s=U.min(),o=U.min(),a=et.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Wg=class{constructor(e){this.ct=e}};function _1(t){let e=p1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fg(e,e.limit,"L"):e}var Xu=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(me(e.integerValue));else if("doubleValue"in e){let r=me(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Oo(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Kn(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?xb(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):j()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),x.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Xu.bt=new Xu;var Kg=class{constructor(){this._n=new Qg}addToCollectionParentIndex(e,n){return this._n.add(n),p.resolve()}getCollectionParents(e,n){return p.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return p.resolve()}deleteFieldIndex(e,n){return p.resolve()}deleteAllFieldIndexes(e){return p.resolve()}createTargetIndexes(e,n){return p.resolve()}getDocumentsMatchingTarget(e,n){return p.resolve(null)}getIndexType(e,n){return p.resolve(0)}getFieldIndexes(e,n){return p.resolve([])}getNextCollectionGroupToUpdate(e){return p.resolve(null)}getMinOffset(e,n){return p.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return p.resolve(Pr.min())}updateCollectionGroup(e,n,r){return p.resolve()}updateIndexEntries(e,n){return p.resolve()}},Qg=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(pe.comparator)).toArray()}};var v$=new Uint8Array(0);var an=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(41943040,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);var $o=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Zg=class{constructor(){this.changes=new Qn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?p.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Yg=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Xg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Po(r.mutation,i,Sr.empty(),be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Y()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Y()){let i=Mr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Mo();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Mr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Y()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Zn(),o=Ro(),a=function(){return Ro()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Ki)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Po(l.mutation,u,l.mutation.getFieldMask(),be.now())):o.set(u.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Yg(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ro(),i=new ve((o,a)=>o-a),s=Y();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Sr.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||Y()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=Bb();l.forEach(h=>{if(!s.has(h)){let f=Gb(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return p.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return x.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):p.resolve(Mr()),a=-1,c=s;return o.next(u=>p.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?p.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Y())).next(l=>({batchId:a,changes:Qk(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Mo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Mo();return this.indexManager.getCollectionParents(e,s).next(a=>p.forEach(a,c=>{let u=function(d,h){return new kr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,zt.newInvalidDocument(l)))});let a=Mo();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Po(l.mutation,u,Sr.empty(),be.now()),yl(n,u)&&(a=a.insert(c,u))}),a})}};var Jg=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return p.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Li(i.createTime)}}(n)),p.resolve()}getNamedQuery(e,n){return p.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:_1(i.bundledQuery),readTime:Li(i.readTime)}}(n)),p.resolve()}};var em=class{constructor(){this.overlays=new ve(x.comparator),this.hr=new Map}getOverlay(e,n){return p.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Mr();return p.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),p.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),p.resolve()}getOverlaysForCollection(e,n,r){let i=Mr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return p.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ve((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Mr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Mr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return p.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jg(n,r));let s=this.hr.get(n);s===void 0&&(s=Y(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Ho=class{constructor(){this.Pr=new Ye(Ie.Ir),this.Tr=new Ye(Ie.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ie(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ie(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new x(new pe([])),r=new Ie(n,e),i=new Ie(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new x(new pe([])),r=new Ie(n,e),i=new Ie(n,e+1),s=Y();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ie(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ie=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return x.comparator(e.key,n.key)||re(e.pr,n.pr)}static Er(e,n){return re(e.pr,n.pr)||x.comparator(e.key,n.key)}};var tm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ye(Ie.Ir)}checkEmpty(e){return p.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Vg(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Ie(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return p.resolve(o)}lookupMutationBatch(e,n){return p.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return p.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return p.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return p.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ie(n,0),i=new Ie(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),p.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(re);return n.forEach(i=>{let s=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),p.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;x.isDocumentKey(s)||(s=s.child(""));let o=new Ie(new x(s),0),a=new Ye(re);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),p.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return p.forEach(n.mutations,i=>{let s=new Ie(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ie(n,0),i=this.wr.firstAfterOrEqual(r);return p.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,p.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var nm=class{constructor(e){this.vr=e,this.docs=function(){return new ve(x.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return p.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Zn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),p.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zn(),o=n.path,a=new x(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kk(Ok(l),r)<=0||(i.has(l.key)||yl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return p.resolve(s)}getAllFromCollectionGroup(e,n,r,i){j()}Fr(e,n){return p.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rm(this)}getSize(e){return p.resolve(this.size)}},rm=class extends Zg{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),p.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var im=class{constructor(e){this.persistence=e,this.Mr=new Qn(n=>Qm(n),Zm),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ho,this.targetCount=0,this.Lr=$o.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),p.resolve()}getLastRemoteSnapshotVersion(e){return p.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return p.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),p.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),p.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new $o(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,p.resolve()}updateTargetData(e,n){return this.qn(n),p.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,p.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),p.waitFor(s).next(()=>i)}getTargetCount(e){return p.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return p.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),p.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),p.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),p.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return p.resolve(r)}containsKey(e,n){return p.resolve(this.Nr.containsKey(n))}};var sm=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new Mb(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new im(this),this.indexManager=new Kg,this.remoteDocumentCache=function(i){return new nm(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Wg(n),this.$r=new Jg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new em,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new tm(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){E("MemoryPersistence","Starting transaction:",e);let i=new om(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return p.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},om=class extends vg{constructor(e){super(),this.currentSequenceNumber=e}},am=class t{constructor(e){this.persistence=e,this.zr=new Ho,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw j()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),p.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),p.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),p.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return p.forEach(this.Jr,r=>{let i=x.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return p.or([()=>p.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var cm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Y(),i=Y();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var um=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var lm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return WI()?8:$u.v(Xs())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new um;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(So()<=Z.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",Ni(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),p.resolve()):(So()<=Z.DEBUG&&E("QueryEngine","Query:",Ni(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(So()<=Z.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",Ni(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(n))):p.resolve())}ji(e,n){if(sb(n))return p.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fg(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Y(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,Fg(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return sb(n)||i.isEqual(U.min())?p.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?p.resolve(null):(So()<=Z.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ni(n)),this.es(e,o,n,Pk(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ye(Vb(e));return n.forEach((i,s)=>{yl(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return So()<=Z.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",Ni(n)),this.zi.getDocumentsMatchingQuery(e,n,Pr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var dm=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ve(re),this.rs=new Qn(s=>Qm(s),Zm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xg(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function w1(t,e,n,r){return new dm(t,e,n,r)}function rC(t,e){return m(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Y();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function iC(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function I1(t,e){let n=X(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(et.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(T,b,P){return T.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=Zn(),u=Y();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(E1(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(U.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return p.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function E1(t,e,n){let r=Y(),i=Y();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Zn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(U.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):E("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function D1(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,p.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new zo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function hm(t,e,n){return m(this,null,function*(){let r=X(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Zo(o))throw o;E("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function mb(t,e,n){let r=X(t),i=U.min(),s=Y();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=X(c),h=d.rs.get(l);return h!==void 0?p.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:Y())).next(a=>(b1(r,Gk(e),a),{documents:a,hs:s})))}function b1(t,e,n){let r=t.ss.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Ju=class{constructor(){this.activeTargetIds=Xk()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var fm=class{constructor(){this.no=new Ju,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ju,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var pm=class{io(e){}shutdown(){}};var el=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Vu=null;function ag(){return Vu===null?Vu=function(){return 268435456+Math.round(2147483648*Math.random())}():Vu++,"0x"+Vu.toString(16)}var C1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var gm=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Ze="WebChannelConnection",mm=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=ag(),c=this.bo(n,r.toUriEncodedString());E("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(E("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw ji("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=C1[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=ag();return new Promise((o,a)=>{let c=new WD;c.setWithCredentials(!0),c.listenOnce(qD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Fu.NO_ERROR:let l=c.getResponseJson();E(Ze,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Fu.TIMEOUT:E(Ze,`RPC '${e}' ${s} timed out`),a(new C(g.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:let d=c.getStatus();if(E(Ze,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let y=function(b){let P=b.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(P)>=0?P:g.UNKNOWN}(f.status);a(new C(y,f.message))}else a(new C(g.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new C(g.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{E(Ze,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);E(Ze,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=ag(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$D(),a=HD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");E(Ze,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,y=new gm({lo:b=>{f?E(Ze,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(E(Ze,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),E(Ze,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},ho:()=>d.close()}),T=(b,P,ae)=>{b.listen(P,$=>{try{ae($)}catch(H){setTimeout(()=>{throw H},0)}})};return T(d,To.EventType.OPEN,()=>{f||E(Ze,`RPC '${e}' stream ${i} transport opened.`)}),T(d,To.EventType.CLOSE,()=>{f||(f=!0,E(Ze,`RPC '${e}' stream ${i} transport closed`),y.Vo())}),T(d,To.EventType.ERROR,b=>{f||(f=!0,ji(Ze,`RPC '${e}' stream ${i} transport errored:`,b),y.Vo(new C(g.UNAVAILABLE,"The operation could not be completed")))}),T(d,To.EventType.MESSAGE,b=>{var P;if(!f){let ae=b.data[0];De(!!ae);let $=ae,H=$.error||((P=$[0])===null||P===void 0?void 0:P.error);if(H){E(Ze,`RPC '${e}' stream ${i} received error:`,H);let Ce=H.status,te=function(Tl){let ra=we[Tl];if(ra!==void 0)return Kb(ra)}(Ce),Xe=H.message;te===void 0&&(te=g.INTERNAL,Xe="Unknown error status: "+Ce+" with message "+H.message),f=!0,y.Vo(new C(te,Xe)),d.close()}else E(Ze,`RPC '${e}' stream ${i} received:`,ae),y.mo(ae)}}),T(a,GD.STAT_EVENT,b=>{b.stat===ig.PROXY?E(Ze,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===ig.NOPROXY&&E(Ze,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}};function cg(){return typeof document<"u"?document:null}function vl(t){return new $g(t,!0)}var tl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var ym=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new tl(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return m(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return m(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return m(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===g.RESOURCE_EXHAUSTED?(ln(n.toString()),ln("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===g.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new C(g.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>m(this,null,function*(){this.state=0,this.start()}))}__(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},vm=class extends ym{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=d1(this.serializer,e),r=function(s){if(!("targetChange"in s))return U.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?U.min():o.readTime?Li(o.readTime):U.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=gb(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Og(c)?{documents:h1(s,c)}:{query:f1(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Qb(s,o.resumeToken);let u=Hg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(U.min())>0){a.readTime=qg(s,o.snapshotVersion.toTimestamp());let u=Hg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=g1(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=gb(this.serializer),n.removeTarget=e,this.t_(n)}};var _m=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new C(g.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Gg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(g.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Gg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new C(g.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var wm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ln(n),this.g_=!1):E("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var Im=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>m(this,null,function*(){Jo(this)&&(E("RemoteStore","Restarting streams for network reachability change."),yield function(c){return m(this,null,function*(){let u=X(c);u.v_.add(4),yield Xo(u),u.x_.set("Unknown"),u.v_.delete(4),yield _l(u)})}(this))}))}),this.x_=new wm(r,i)}};function _l(t){return m(this,null,function*(){if(Jo(t))for(let e of t.F_)yield e(!0)})}function Xo(t){return m(this,null,function*(){for(let e of t.F_)yield e(!1)})}function sC(t,e){let n=X(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),ty(n)?ey(n):Ji(n).Jo()&&Jm(n,e))}function Xm(t,e){let n=X(t),r=Ji(n);n.C_.delete(e),r.Jo()&&oC(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Jo(n)&&n.x_.set("Unknown"))}function Jm(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(U.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ji(t).c_(e)}function oC(t,e){t.O_.Oe(e),Ji(t).l_(e)}function ey(t){t.O_=new zg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ji(t).start(),t.x_.p_()}function ty(t){return Jo(t)&&!Ji(t).Ho()&&t.C_.size>0}function Jo(t){return X(t).v_.size===0}function aC(t){t.O_=void 0}function T1(t){return m(this,null,function*(){t.C_.forEach((e,n)=>{Jm(t,e)})})}function S1(t,e){return m(this,null,function*(){aC(t),ty(t)?(t.x_.S_(e),ey(t)):t.x_.set("Unknown")})}function M1(t,e,n){return m(this,null,function*(){if(t.x_.set("Online"),e instanceof Zu&&e.state===2&&e.cause)try{yield function(i,s){return m(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){E("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yb(t,r)}else if(e instanceof Fi?t.O_.$e(e):e instanceof Qu?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(U.min()))try{let r=yield iC(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(et.EMPTY_BYTE_STRING,l.snapshotVersion)),oC(s,c);let d=new zo(l.target,c,u,l.sequenceNumber);Jm(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){E("RemoteStore","Failed to raise snapshot:",r),yield yb(t,r)}})}function yb(t,e,n){return m(this,null,function*(){if(!Zo(e))throw e;t.v_.add(1),yield Xo(t),t.x_.set("Offline"),n||(n=()=>iC(t.localStore)),t.asyncQueue.enqueueRetryable(()=>m(this,null,function*(){E("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield _l(t)}))})}function vb(t,e){return m(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");let r=Jo(n);n.v_.add(3),yield Xo(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield _l(n)})}function A1(t,e){return m(this,null,function*(){let n=X(t);e?(n.v_.delete(2),yield _l(n)):e||(n.v_.add(2),yield Xo(n),n.x_.set("Unknown"))})}function Ji(t){return t.N_||(t.N_=function(n,r,i){let s=X(n);return s.R_(),new vm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:T1.bind(null,t),To:S1.bind(null,t),u_:M1.bind(null,t)}),t.F_.push(e=>m(this,null,function*(){e?(t.N_.Zo(),ty(t)?ey(t):t.x_.set("Unknown")):(yield t.N_.stop(),aC(t))}))),t.N_}var Em=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function cC(t,e){if(ln("AsyncQueue",`${e}: ${t}`),Zo(t))return new C(g.UNAVAILABLE,`${e}: ${t}`);throw t}var nl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Mo(),this.sortedSet=new ve(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var rl=class{constructor(){this.B_=new ve(x.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):j():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Qi=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,nl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ml(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Dm=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},bm=class{constructor(){this.queries=new Qn(e=>Lb(e),ml),this.onlineState="Unknown",this.W_=new Set}};function uC(t,e){return m(this,null,function*(){let n=X(t),r=3,i=e.query,s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new Dm,r=e.U_()?0:1);try{switch(r){case 0:s.q_=yield n.onListen(i,!0);break;case 1:s.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=cC(o,`Initialization of query '${Ni(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&ny(n)})}function lC(t,e){return m(this,null,function*(){let n=X(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function x1(t,e){let n=X(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&ny(n)}function R1(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function ny(t){t.W_.forEach(e=>{e.next()})}var Cm,_b;(_b=Cm||(Cm={})).j_="default",_b.Cache="cache";var il=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Qi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Qi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Cm.Cache}};var sl=class{constructor(e){this.key=e}},ol=class{constructor(e){this.key=e}},Tm=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Y(),this.mutatedKeys=Y(),this.ha=Vb(e),this.Pa=new nl(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new rl,i=n?n.Pa:this.Pa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=yl(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),T=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),b=!1;h&&f?h.data.isEqual(f.data)?y!==T&&(r.track({type:3,doc:f}),b=!0):this.da(h,f)||(r.track({type:2,doc:f}),b=!0,(c&&this.ha(f,c)>0||u&&this.ha(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),b=!0):h&&!f&&(r.track({type:1,doc:h}),b=!0,(c||u)&&(a=!0)),b&&(f?(o=o.add(f),s=T?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let o=e.Ea.k_();o.sort((l,d)=>function(f,y){let T=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return T(f)-T(y)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,u=c!==this.ca;return this.ca=c,o.length!==0||u?{snapshot:new Qi(this.query,e.Pa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new rl,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=Y(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new ol(r))}),this.la.forEach(r=>{e.has(r)||n.push(new sl(r))}),n}fa(e){this.ua=e.hs,this.la=Y();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Qi.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},Sm=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Mm=class{constructor(e){this.key=e,this.pa=!1}},Am=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Qn(a=>Lb(a),ml),this.Sa=new Map,this.ba=new Set,this.Da=new ve(x.comparator),this.Ca=new Map,this.va=new Ho,this.Fa={},this.Ma=new Map,this.xa=$o.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function N1(t,e,n=!0){return m(this,null,function*(){let r=gC(t),i,s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=yield dC(r,e,n,!0),i})}function P1(t,e){return m(this,null,function*(){let n=gC(t);yield dC(n,e,!0,!1)})}function dC(t,e,n,r){return m(this,null,function*(){let i=yield D1(t.localStore,un(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield O1(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&sC(t.remoteStore,i),a})}function O1(t,e,n,r,i){return m(this,null,function*(){t.Na=(d,h,f)=>function(T,b,P,ae){return m(this,null,function*(){let $=b.view.Ta(P);$.Xi&&($=yield mb(T.localStore,b.query,!1).then(({documents:Xe})=>b.view.Ta(Xe,$)));let H=ae&&ae.targetChanges.get(b.targetId),Ce=ae&&ae.targetMismatches.get(b.targetId)!=null,te=b.view.applyChanges($,T.isPrimaryClient,H,Ce);return Ib(T,b.targetId,te.Va),te.snapshot})}(t,d,h,f);let s=yield mb(t.localStore,e,!0),o=new Tm(e,s.hs),a=o.Ta(s.documents),c=Uo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Ib(t,n,u.Va);let l=new Sm(e,n,o);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot})}function k1(t,e,n){return m(this,null,function*(){let r=X(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!ml(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield hm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xm(r.remoteStore,i.targetId),xm(r,i.targetId)}).catch(Hm))):(xm(r,i.targetId),yield hm(r.localStore,i.targetId,!0))})}function F1(t,e){return m(this,null,function*(){let n=X(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xm(n.remoteStore,r.targetId))})}function hC(t,e){return m(this,null,function*(){let n=X(t);try{let r=yield I1(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Ca.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?De(o.pa):i.removedDocuments.size>0&&(De(o.pa),o.pa=!1))}),yield pC(n,r,e)}catch(r){yield Hm(r)}})}function wb(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((s,o)=>{let a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=X(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(u=!0)}),u&&ny(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function L1(t,e,n){return m(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),s=i&&i.key;if(s){let o=new ve(x.comparator);o=o.insert(s,zt.newNoDocument(s,U.min()));let a=Y().add(s),c=new Ku(U.min(),new Map,new ve(re),o,a);yield hC(r,c),r.Da=r.Da.remove(s),r.Ca.delete(e),ry(r)}else yield hm(r.localStore,e,!1).then(()=>xm(r,e,n)).catch(Hm)})}function xm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||fC(t,r)})}function fC(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(Xm(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),ry(t))}function Ib(t,e,n){for(let r of n)r instanceof sl?(t.va.addReference(r.key,e),V1(t,r)):r instanceof ol?(E("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||fC(t,r.key)):j()}function V1(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(E("SyncEngine","New document in limbo: "+n),t.ba.add(r),ry(t))}function ry(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new x(pe.fromString(e)),r=t.xa.next();t.Ca.set(r,new Mm(n)),t.Da=t.Da.insert(n,r),sC(t.remoteStore,new zo(un(Ym(n.path)),r,"TargetPurposeLimboResolution",Mb._e))}}function pC(t,e,n){return m(this,null,function*(){let r=X(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{o.push(r.Na(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=cm.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.ya.u_(i),yield function(c,u){return m(this,null,function*(){let l=X(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>p.forEach(u,h=>p.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>p.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Zo(d))throw d;E("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),y=f.snapshotVersion,T=f.withLastLimboFreeSnapshotVersion(y);l.ns=l.ns.insert(h,T)}}})}(r.localStore,s))})}function j1(t,e){return m(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());let r=yield rC(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(c=>{c.reject(new C(g.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pC(n,r.us)}})}function B1(t,e){let n=X(t),r=n.Ca.get(e);if(r&&r.pa)return Y().add(r.key);{let i=Y(),s=n.Sa.get(e);if(!s)return i;for(let o of s){let a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function gC(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L1.bind(null,e),e.ya.u_=x1.bind(null,e.eventManager),e.ya.La=R1.bind(null,e.eventManager),e}var al=class{constructor(){this.synchronizeTabs=!1}initialize(e){return m(this,null,function*(){this.serializer=vl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return w1(this.persistence,new lm,e.initialUser,this.serializer)}createPersistence(e){return new sm(am.Hr,this.serializer)}createSharedClientState(e){return new fm}terminate(){return m(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Rm=class{initialize(e,n){return m(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j1.bind(null,this.syncEngine),yield A1(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new bm}()}createDatastore(e){let n=vl(e.databaseInfo.databaseId),r=function(s){return new mm(s)}(e.databaseInfo);return function(s,o,a,c){return new _m(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Im(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>wb(this.syncEngine,n,0),function(){return el.D()?new el:new pm}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Am(i,s,o,a,c,u);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return m(this,null,function*(){var e;yield function(r){return m(this,null,function*(){let i=X(r);E("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Xo(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var cl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):ln("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Nm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ne.UNAUTHENTICATED,this.clientId=Uu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>m(this,null,function*(){E("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(E("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>m(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=cC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ug(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>m(this,null,function*(){r.isEqual(i)||(yield rC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Eb(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield z1(t);E("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vb(e.remoteStore,i)),t._onlineComponents=e})}function U1(t){return t.name==="FirebaseError"?t.code===g.FAILED_PRECONDITION||t.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function z1(t){return m(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ug(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!U1(n))throw n;ji("Error using user provided cache. Falling back to memory cache: "+n),yield ug(t,new al)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield ug(t,new al);return t._offlineComponents})}function $1(t){return m(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield Eb(t,t._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield Eb(t,new Rm))),t._onlineComponents})}function mC(t){return m(this,null,function*(){let e=yield $1(t),n=e.eventManager;return n.onListen=N1.bind(null,e.syncEngine),n.onUnlisten=k1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F1.bind(null,e.syncEngine),n})}function H1(t,e,n={}){let r=new Ut;return t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return function(s,o,a,c,u){let l=new cl({next:h=>{o.enqueueAndForget(()=>lC(s,d));let f=h.docs.has(a);!f&&h.fromCache?u.reject(new C(g.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?u.reject(new C(g.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new il(Ym(a.path),l,{includeMetadataChanges:!0,ta:!0});return uC(s,d)}(yield mC(t),t.asyncQueue,e,n,r)})),r.promise}function q1(t,e,n={}){let r=new Ut;return t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return function(s,o,a,c,u){let l=new cl({next:h=>{o.enqueueAndForget(()=>lC(s,d)),h.fromCache&&c.source==="server"?u.reject(new C(g.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new il(a,l,{includeMetadataChanges:!0,ta:!0});return uC(s,d)}(yield mC(t),t.asyncQueue,e,n,r)})),r.promise}function yC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Db=new Map;function vC(t,e,n){if(!n)throw new C(g.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G1(t,e,n,r){if(e===!0&&r===!0)throw new C(g.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bb(t){if(!x.isDocumentKey(t))throw new C(g.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cb(t){if(x.isDocumentKey(t))throw new C(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":j()}function qo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=wl(t);throw new C(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ul=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Zi=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ul({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ul(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lg;switch(r.type){case"firstParty":return new pg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Db.get(n);r&&(E("ComponentProvider","Removing Datastore"),Db.delete(n),r.terminate())}(this),Promise.resolve()}};function W1(t,e,n,r={}){var i;let s=(t=qo(t,Zi))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ne.MOCK_USER;else{a=Xc(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ne(u)}t._authCredentials=new dg(new Bu(a,c))}}var Yi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ht=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Gn=class t extends Yi{constructor(e,n,r){super(e,n,Ym(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new x(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Il(t,e,...n){if(t=Ft(t),vC("collection","path",e),t instanceof Zi){let r=pe.fromString(e,...n);return Cb(r),new Gn(t,null,r)}{if(!(t instanceof ht||t instanceof Gn))throw new C(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(pe.fromString(e,...n));return Cb(r),new Gn(t.firestore,null,r)}}function ea(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=Uu.newId()),vC("doc","path",e),t instanceof Zi){let r=pe.fromString(e,...n);return bb(r),new ht(t,null,new x(r))}{if(!(t instanceof ht||t instanceof Gn))throw new C(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(pe.fromString(e,...n));return bb(r),new ht(t.firestore,t instanceof Gn?t.converter:null,new x(r))}}var Pm=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new tl(this,"async_queue_retry"),this.cu=()=>{let n=cg();n&&E("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=cg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=cg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new Ut;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return m(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Zo(e))throw e;E("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ln("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=Em.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&j()}verifyOperationInProgress(){}Tu(){return m(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var Go=class extends Zi{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Pm}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||IC(this),this._firestoreClient.terminate()}};function _C(t,e){let n=typeof t=="object"?t:su(),r=typeof t=="string"?t:e||"(default)",i=ru(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Yc("firestore");s&&W1(i,...s)}return i}function wC(t){return t._firestoreClient||IC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function IC(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new Eg(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,yC(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Nm(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Wo=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(et.fromBase64String(e))}catch(n){throw new C(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ll=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var dl=class{constructor(e){this._methodName=e}};var Ko=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}};var K1=/^__.*__$/;function EC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}var Om=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Fm(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(EC(this.Vu)&&K1.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},km=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vl(e)}Cu(e,n,r,i=!1){return new Om({Vu:e,methodName:n,Du:r,path:St.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Q1(t){let e=t._freezeSettings(),n=vl(t._databaseId);return new km(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Z1(t,e,n,r=!1){return iy(n,t.Cu(r?4:3,e))}function iy(t,e){if(DC(t=Ft(t)))return X1("Unsupported field value:",e,t),Y1(t,e);if(t instanceof dl)return function(r,i){if(!EC(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=iy(a,i.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Jk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=be.fromDate(r);return{timestampValue:qg(i.serializer,s)}}if(r instanceof be){let s=new be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qg(i.serializer,s)}}if(r instanceof Ko)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wo)return{bytesValue:Qb(i.serializer,r._byteString)};if(r instanceof ht){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Zb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${wl(r)}`)}(t,e)}function Y1(t,e){let n={};return Ab(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(t,(r,i)=>{let s=iy(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function DC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof be||t instanceof Ko||t instanceof Wo||t instanceof ht||t instanceof dl)}function X1(t,e,n){if(!DC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=wl(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}var J1=new RegExp("[~\\*/\\[\\]]");function eF(t,e,n){if(e.search(J1)>=0)throw Fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ll(...e.split("."))._internalPath}catch{throw Fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fm(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new C(g.INVALID_ARGUMENT,a+t+c)}var hl=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Lm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(bC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Lm=class extends hl{data(){return super.data()}};function bC(t,e){return typeof e=="string"?eF(t,e):e instanceof ll?e._internalPath:e._delegate._internalPath}function tF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(g.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qo=class{},Vm=class extends Qo{};function El(t,e,...n){let r=[];e instanceof Qo&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof Bm).length,a=s.filter(c=>c instanceof jm).length;if(o>1||o>0&&a>0)throw new C(g.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var jm=class t extends Vm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return CC(e._query,n),new Yi(e.firestore,e.converter,kg(e._query,n))}_parse(e){let n=Q1(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new C(g.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){Sb(d,l);let f=[];for(let y of d)f.push(Tb(c,s,y));h={arrayValue:{values:f}}}else h=Tb(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||Sb(d,l),h=Z1(a,o,d,l==="in"||l==="not-in");return Ee.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var Bm=class t extends Qo{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$t.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)CC(o,c),o=kg(o,c)}(e._query,n),new Yi(e.firestore,e.converter,kg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Tb(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new C(g.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fb(e)&&n.indexOf("/")!==-1)throw new C(g.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(pe.fromString(n));if(!x.isDocumentKey(r))throw new C(g.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return JD(t,new x(r))}if(n instanceof ht)return JD(t,n._key);throw new C(g.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wl(n)}.`)}function Sb(t,e){if(!Array.isArray(t)||t.length===0)throw new C(g.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CC(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new C(g.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new C(g.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Um=class{convertValue(e,n="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Yo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ko(me(e.latitude),me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Wm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ko(e));default:return null}}convertTimestamp(e){let n=Wn(e);return new be(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=pe.fromString(e);De(nC(r));let i=new Gu(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||ln(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var xr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},fl=class extends hl{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Vi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(bC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Vi=class extends fl{data(e={}){return super.data(e)}},zm=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vi(this._firestore,this._userDataWriter,r.key,r,new xr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(g.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Vi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Vi(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:nF(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function nF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}function ta(t){t=qo(t,ht);let e=qo(t.firestore,Go);return H1(wC(e),t._key).then(n=>rF(e,t,n))}var pl=class extends Um{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}};function Dl(t){t=qo(t,Yi);let e=qo(t.firestore,Go),n=wC(e),r=new pl(e);return tF(t._query),q1(n,t._query).then(i=>new zm(e,r,t,i))}function rF(t,e,n){let r=n.docs.get(e._key),i=new pl(t);return new fl(t,i,e._key,r,new xr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Xi=i})(iu),_r(new Lt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Go(new hg(r.getProvider("auth-internal")),new mg(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new C(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Vt(QD,"4.5.0",e),Vt(QD,"4.5.0","esm2017")})();var iF={apiKey:"AIzaSyBMDG_5lDDr2YeB9GwJGP_C3XO5hdcltbk",authDomain:"trippbarker-31e6e.firebaseapp.com",projectId:"trippbarker-31e6e",storageBucket:"trippbarker-31e6e.appspot.com",messagingSenderId:"648512597814",appId:"1:648512597814:web:25016cb4a291e39ee4cd97"},sF=sp(iF),Sn=_C(sF);function oF(t,e){if(t&1&&(_(0,"div",4)(1,"h2"),D(2),v(),_(3,"p"),D(4),v(),N(5,"div",5),v()),t&2){let n=e.$implicit;Et("id","",n.contentRef,"Cont"),oe(2),nt(n.header),oe(2),nt(n.text),oe(),Et("id","",n.contentRef,"Content")}}var TC=(()=>{let e=class e{constructor(r,i){this.route=r,this.router=i,this.project={id:"",ref:"",technologies:new Array,name:"",link:"",liveSite:"",repo:"",description:""},this.details=new Array}ngOnInit(){return m(this,null,function*(){yield this.getProject()})}getProject(){return m(this,null,function*(){let r=this.route.snapshot.paramMap.get("ref");if(r){let i=yield ta(ea(Sn,"project",r)),s=yield ta(ea(Sn,"projectDetails",r));if(this.project.name=i.get("id"),this.project.ref=i.get("ref"),this.project.technologies=i.get("technologies"),this.project.name=i.get("name"),this.project.link=i.get("link"),this.project.liveSite=i.get("liveSite"),this.project.repo=i.get("repo"),this.project.description=i.get("desc"),this.project.liveSite!="null"){let a=document.getElementById("liveSite");a.href=this.project.liveSite,a.textContent="Live Demo"}if(this.project.repo!="null"){let a=document.getElementById("repo");a.href=this.project.repo,a.textContent="GitHub Repo"}let o=1;for(;s.get("sect-"+o);){let a=s.get("sect-"+o).text;a=a.replaceAll("/n",`
`),a=a.replaceAll("/t","	");let c={header:s.get("sect-"+o).header,text:a,contentRef:s.get("sect-"+o).contentRef,contentType:s.get("sect-"+o).contentType,contentCaption:s.get("sect-"+o).contentCaption,contentExt:s.get("sect-"+o).contentExt};this.details.push(c),this.getContent(c.contentRef,c.contentType,c.contentCaption,c.contentExt),o++}}})}getContent(r,i,s,o){return m(this,null,function*(){if(i!="null"){let a=Ci(),c=wr(a,"project/"+this.project.ref+"/"+r+o);bi(c).then(u=>{if(i=="img"){let d=document.createElement("img");d.src=u,d.alt=s,d.style.setProperty("max-width","50rem"),d.style.setProperty("text-align","center"),document.getElementById(r+"Content")?.appendChild(d)}else if(i=="vid"){let d=document.createElement("video");d.src=u,d.controls=!0,document.getElementById(r+"Content")?.appendChild(d)}let l=document.createElement("p");l.textContent=s,l.style.setProperty("font-style","italic"),l.style.setProperty("font-size",".75rem"),l.style.setProperty("margin",".5rem"),l.style.setProperty("color","grey"),document.getElementById(r+"Content")?.appendChild(l)})}})}};e.\u0275fac=function(i){return new(i||e)(he(Ot),he(bt))},e.\u0275cmp=Le({type:e,selectors:[["app-project-detail"]],standalone:!0,features:[fr],decls:8,vars:3,consts:[["id","project"],["id","repo",1,"link"],["id","liveSite",1,"link"],["class","detailContainer",3,"id",4,"ngFor","ngForOf"],[1,"detailContainer",3,"id"],[1,"detailContent",3,"id"]],template:function(i,s){i&1&&(_(0,"div",0)(1,"h1"),D(2),v(),_(3,"h2"),D(4),v(),N(5,"a",1)(6,"a",2),wn(7,oF,6,6,"div",3),v()),i&2&&(oe(2),nt(s.project.name),oe(2),nt(s.project.description),oe(3),In("ngForOf",s.details))},dependencies:[Vn,ui],styles:["#project[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:60rem}.detailContainer[_ngcontent-%COMP%]{margin-left:1rem;height:100%;width:60rem}.detailContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.detailContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ee6c4d}.detailContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre-wrap;margin-left:1rem;margin-right:1rem}.link[_ngcontent-%COMP%]{font-weight:bolder;margin-right:2rem;font-size:1rem;text-decoration:none;color:#ee6c4d}.link[_ngcontent-%COMP%]:hover{color:#b64225}"]});let t=e;return t})();var na=(()=>{let e=class e{constructor(){this.messages=[]}add(r){this.messages.push(r)}clear(){this.messages=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bl=(()=>{let e=class e{constructor(r){this.messageService=r}};e.\u0275fac=function(i){return new(i||e)(R(na))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aF(t,e){if(t&1&&(_(0,"div",2)(1,"a",3),N(2,"img",4),_(3,"h2"),D(4),v()()()),t&2){let n=e.$implicit;oe(),Et("routerLink","/project/",n.ref,""),oe(),Et("id","",n.ref,"IMG"),oe(2),nt(n.name)}}var Cl=(()=>{let e=class e{ngOnInit(){this.getProjects()}constructor(r,i){this.projectService=r,this.messageService=i,this.projects=new Array}getProjects(){return m(this,null,function*(){(yield Dl(El(Il(Sn,"project")))).forEach(i=>{let s={id:i.id,ref:i.data().ref,technologies:i.data().technologies,name:i.data().name,link:i.data().link,liveSite:i.data().liveSite,repo:i.data().repo,description:i.data().description};this.projects.push(s)}),this.projects.forEach(i=>{this.getProjectImage(i.ref)})})}getProjectImage(r){return m(this,null,function*(){let i=Ci(),s=wr(i,"project/"+r+"/main.png");bi(s).then(o=>{let a=document.getElementById(r+"IMG");a.style.backgroundImage="url("+o+")"})})}};e.\u0275fac=function(i){return new(i||e)(he(bl),he(na))},e.\u0275cmp=Le({type:e,selectors:[["app-projects"]],standalone:!0,features:[fr],decls:2,vars:1,consts:[["id","projects"],["class","projectCont",4,"ngFor","ngForOf"],[1,"projectCont"],[1,"project",3,"routerLink"],["src","","alt","",1,"projectImg",3,"id"]],template:function(i,s){i&1&&(_(0,"div",0),wn(1,aF,5,5,"div",1),v()),i&2&&(oe(),In("ngForOf",s.projects))},dependencies:[Vn,ui,Ct],styles:["*[_ngcontent-%COMP%]{font-family:Azeret Mono,monospace}body[_ngcontent-%COMP%]{background-color:#e0fbfc}#projects[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;width:100%;max-width:500rem}.projectCont[_ngcontent-%COMP%]{margin:1rem;background-color:green;width:50%;max-width:35rem;height:25rem;display:flex;flex-direction:column;justify-content:center;align-items:center}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#293241;text-decoration:none}.projectCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ee6c4d}.project[_ngcontent-%COMP%]{background-color:#98c1d9;max-height:25rem;width:100%;min-width:25rem;max-width:35rem;display:flex;flex-direction:column;padding:1rem;border-radius:1rem;overflow:hidden}.projectImg[_ngcontent-%COMP%]{background-color:#293241;height:100rem;overflow-x:hidden;border-radius:.75rem .75rem 0 0;background-size:cover}"]});let t=e;return t})();var MC=(()=>{let e=class e{constructor(r){this.projectService=r,this.projects=[]}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(he(bl))},e.\u0275cmp=Le({type:e,selectors:[["app-dashboard"]],decls:9,vars:0,consts:[["routerLink","/dashboard"],["routerLink","/projects"],["routerLink","/bike"]],template:function(i,s){i&1&&(_(0,"nav")(1,"a",0),D(2,"ABOUT ME"),v(),_(3,"a",1),D(4,"PROJECTS"),v(),_(5,"a",2),D(6,"BIKE"),v(),_(7,"a"),D(8,"COOKING"),v()())},dependencies:[Ct],styles:["nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:0}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:.5rem 0rem .5rem 2rem;text-decoration:none;font-family:Azeret Mono,monospace;font-weight:bolder;font-size:2rem;color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#00008b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff4500;margin-left:3rem;transition:.1s}"]});let t=e;return t})();function cF(t,e){if(t&1&&(_(0,"div",4)(1,"h2"),D(2),v(),_(3,"h3"),D(4),v()()),t&2){let n=e.$implicit;Et("routerLink","/brag/",n.year,""),oe(2),hr("BRAG ",n.year,""),oe(2),xh("",n.days[0].startLocation," to ",n.days[7].endLocation," (",n.distance," miles, ",n.elevation," feet climbed)")}}var AC=(()=>{let e=class e{constructor(){this.brags=new Array}ngOnInit(){this.getBrags()}getBrags(){return m(this,null,function*(){let r=new Intl.NumberFormat("en-US");(yield Dl(El(Il(Sn,"brag")))).forEach(s=>{let o=new Array,a=0,c=0;for(let l=0;l<8;l++){let h={date:new be(s.data()["day"+l].date.seconds,s.data()["day"+l].date.nanoseconds).toDate(),day:s.data()["day"+l].day,number:s.data()["day"+l].number,distance:s.data()["day"+l].distance,elevation:s.data()["day"+l].elevation,movingTime:s.data()["day"+l].movingTime,endLocation:s.data()["day"+l].endLocation,startLocation:s.data()["day"+l].startLocation,stravaLink:s.data()["day"+l].stravaLink};a+=s.data()["day"+l].distance,c+=s.data()["day"+l].elevation,console.log(c),o.push(h)}let u={year:s.data().year,days:o,distance:r.format(Math.round((a+Number.EPSILON)*100)/100),elevation:r.format(Math.round((c+Number.EPSILON)*100)/100)};this.brags.push(u)}),console.log(this.brags)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-bike"]],decls:12,vars:1,consts:[["id","brags",1,"bikeContainer"],["routerLink","/checklist",1,"bragContainer"],["class","bragContainer",3,"routerLink",4,"ngFor","ngForOf"],["id","gear",1,"gearContainer"],[1,"bragContainer",3,"routerLink"]],template:function(i,s){i&1&&(_(0,"div",0)(1,"h1"),D(2,"Bike Ride Across Georgia"),v(),_(3,"div",1)(4,"h2"),D(5,"BRAG CHECKLIST"),v(),_(6,"h3"),D(7,"A checklist for BRAG including everything I need for showering, camping, and riding."),v()(),wn(8,cF,5,7,"div",2),v(),_(9,"div",3)(10,"h1"),D(11,"GEAR"),v()()),i&2&&(oe(8),In("ngForOf",s.brags))},dependencies:[Vn,Ct],styles:[".bikeContainer[_ngcontent-%COMP%], .bragContainer[_ngcontent-%COMP%], .gearContainer[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 2rem}.bragContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#00008b}.bragContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:1rem}.bragContainer[_ngcontent-%COMP%]:hover{cursor:pointer;margin-left:3rem;transition:.1s}.bragContainer[_ngcontent-%COMP%]:hover   h2[_ngcontent-%COMP%]{color:#ff4500}"]});let t=e;return t})();function uF(t,e){if(t&1&&(_(0,"div",3)(1,"h2",4),D(2),_(3,"i"),D(4),v()(),_(5,"div",5)(6,"div",6)(7,"p"),D(8,"distance"),v(),_(9,"p")(10,"b",7),D(11),v(),D(12," mi"),v()(),_(13,"div",8)(14,"p"),D(15,"elevation gain"),v(),_(16,"p")(17,"b",7),D(18),v(),D(19," ft"),v()(),_(20,"div",9)(21,"p"),D(22,"moving time"),v(),_(23,"p")(24,"b",7),D(25),v()()()(),_(26,"p"),D(27,"see the ride "),_(28,"a",10),D(29,"here"),v()(),N(30,"div",11),v()),t&2){let n=e.$implicit;oe(2),hr("day ",n.day," "),oe(2),Ah("",n.startLocation," to ",n.endLocation,""),oe(7),nt(n.distance),oe(7),nt(n.elevation),oe(7),nt(n.movingTime),oe(3),Mh("href",n.stravaLink,hh),oe(2),Et("id","day",n.number,"images")}}var xC=(()=>{let e=class e{constructor(r,i){this.route=r,this.router=i,this.brag={year:0,days:new Array,distance:"",elevation:""}}ngOnInit(){return m(this,null,function*(){yield this.getBrag(),this.brag.days.forEach(r=>{console.log("hello"),console.log(this.brag.year.toString()),this.getImages(this.brag.year.toString(),r.number)})})}getBrag(){return m(this,null,function*(){let r=this.route.snapshot.paramMap.get("year"),i=yield ta(ea(Sn,"brag","brag"+r)),s=new Intl.NumberFormat("en-US"),o=new Array,a=0,c=0;for(let l=0;l<8;l++){let h={date:new be(i.get("day"+l).date.seconds,i.get("day"+l).date.nanoseconds).toDate(),day:i.get("day"+l).day,number:i.get("day"+l).number,distance:i.get("day"+l).distance,movingTime:i.get("day"+l).movingTime,elevation:i.get("day"+l).elevation,endLocation:i.get("day"+l).endLocation,startLocation:i.get("day"+l).startLocation,stravaLink:i.get("day"+l).stravaLink};a+=i.get("day"+l).distance,c+=i.get("day"+l).elevation,o.push(h)}let u={year:i.get("year"),days:o,distance:s.format(Math.round((a+Number.EPSILON)*100)/100),elevation:s.format(Math.round((c+Number.EPSILON)*100)/100)};this.brag=u})}getImages(r,i){return m(this,null,function*(){let s=Ci(),o=wr(s,"brag/"+r+"/day"+i+"/thumbnails");SE(o).then(a=>{a.items.forEach(c=>{bi(wr(s,c.fullPath)).then(u=>{let l=document.createElement("img");l.id=c.name,l.src=u,l.setAttribute("height","100%"),l.style.setProperty("margin-right",".5rem"),l.style.setProperty("border-radius",".25rem"),document.getElementById("day"+i+"images")?.appendChild(l)})})})})}};e.\u0275fac=function(i){return new(i||e)(he(Ot),he(bt))},e.\u0275cmp=Le({type:e,selectors:[["app-brag"]],decls:6,vars:2,consts:[["routerLink","/bike","id","back"],["id","bragContainer"],["class","dayContainer",4,"ngFor","ngForOf"],[1,"dayContainer"],[1,"header"],[1,"stats"],[1,"distance"],[1,"stat"],[1,"elevation"],[1,"time"],["target","_blank",3,"href"],[1,"bragImages",3,"id"]],template:function(i,s){i&1&&(_(0,"a",0),D(1,"[BACK]"),v(),_(2,"div",1)(3,"h1"),D(4),v(),wn(5,uF,31,9,"div",2),v()),i&2&&(oe(4),hr("BRAG ",s.brag.year,""),oe(),In("ngForOf",s.brag.days))},dependencies:[Vn,Ct],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ee6c4d}#bragContainer[_ngcontent-%COMP%], .dayContainer[_ngcontent-%COMP%], #back[_ngcontent-%COMP%]{margin-left:1rem}.dayContainer[_ngcontent-%COMP%]{padding:1rem;margin:1rem;border-radius:.5rem;background-color:#eff5fe;box-shadow:0 25px 50px gray}.header[_ngcontent-%COMP%]{color:#293241}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:bolder;color:#293241}.stats[_ngcontent-%COMP%]{display:flex}.stat[_ngcontent-%COMP%]{font-size:2rem;color:#293241}.distance[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{font-size:1rem}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-top:.5rem;padding-right:1rem;padding-bottom:.5rem}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]{border-right:1px solid #EE6C4D}.elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-left:1rem}.dayContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ee6c4d}.bragImages[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:20rem;padding-bottom:1rem;overflow-x:scroll;overflow-y:hidden}google-map[_ngcontent-%COMP%]{margin-right:1rem}img[_ngcontent-%COMP%]{margin:1rem}@media only screen and (max-width: 768px){.stats[_ngcontent-%COMP%]{flex-direction:column}.elevation[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{padding-left:0}.distance[_ngcontent-%COMP%], .elevation[_ngcontent-%COMP%]{border-right:none}}[_ngcontent-%COMP%]::-webkit-scrollbar{height:12px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ee6c4d;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#b64225;cursor:grab}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{cursor:grabbing}"]});let t=e;return t})();var RC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-checklist"]],decls:133,vars:0,consts:[["routerLink","/bike","id","back"],["type","checkbox","name","camping","id","tent"],["for","tent"],["type","checkbox","name","camping","id","groundcloth"],["for","groundcloth"],["type","checkbox","name","camping","id","stakes"],["for","stakes"],["type","checkbox","name","camping","id","mallet"],["for","mallet"],["type","checkbox","name","camping","id","chair"],["for","chair"],["type","checkbox","name","camping","id","bugrepellent"],["for","bugrepellent"],["type","checkbox","name","camping","id","sunscreen"],["for","sunscreen"],["type","checkbox","name","camping","id","batterybank"],["for","batterybank"],["type","checkbox","name","camping","id","clothes"],["for","clothes"],["type","checkbox","name","camping","id","shoes"],["for","shoes"],["type","checkbox","name","camping","id","clothingline"],["for","clothingline"],["type","checkbox","name","sleeping","id","sleepingpad"],["for","sleepingpad"],["type","checkbox","name","sleeping","id","sleepingbag"],["for","sleepingbag"],["type","checkbox","name","sleeping","id","pillow"],["for","pillow"],["type","checkbox","name","sleeping","id","airpump"],["for","airpump"],["type","checkbox","name","sleeping","id","eyemask"],["for","eyemask"],["type","checkbox","name","sleeping","id","earplugs"],["for","earplugs"],["type","checkbox","name","sleeping","id","fans"],["for","fans"],["type","checkbox","name","shower","id","soap"],["for","soap"],["type","checkbox","name","shower","id","shampoo"],["for","shampoo"],["type","checkbox","name","shower","id","towel"],["for","towel"],["type","checkbox","name","shower","id","toothpaste"],["for","toothpaste"],["type","checkbox","name","shower","id","toothbrush"],["for","toothbrush"],["type","checkbox","name","shower","id","comb"],["for","comb"],["type","checkbox","name","shower","id","chamoiscream"],["for","chamoiscream"],["type","checkbox","name","bike","id","bike"],["for","bike"],["type","checkbox","name","bike","id","bottles"],["for","bottles"],["type","checkbox","name","bike","id","helmet"],["for","helmet"],["for","glasses"],["type","checkbox","name","bike","id","cyclingshoes"],["for","cyclingshoes"]],template:function(i,s){i&1&&(_(0,"a",0),D(1,"[BACK]"),v(),_(2,"div")(3,"h2"),D(4,"BRAG Checklist"),v(),_(5,"h3"),D(6,"Camping"),v(),N(7,"input",1),_(8,"label",2),D(9,"tent"),v(),N(10,"br")(11,"input",3),_(12,"label",4),D(13,"ground cloth"),v(),N(14,"br")(15,"input",5),_(16,"label",6),D(17,"stakes"),v(),N(18,"br")(19,"input",7),_(20,"label",8),D(21,"mallet"),v(),N(22,"br")(23,"input",9),_(24,"label",10),D(25,"camping chair"),v(),N(26,"br")(27,"input",11),_(28,"label",12),D(29,"bug repellent"),v(),N(30,"br")(31,"input",13),_(32,"label",14),D(33,"sun sunscreen"),v(),N(34,"br")(35,"input",15),_(36,"label",16),D(37,"battery bank"),v(),N(38,"br")(39,"input",17),_(40,"label",18),D(41,"clothes"),v(),N(42,"br")(43,"input",19),_(44,"label",20),D(45,"shoes"),v(),N(46,"br")(47,"input",21),_(48,"label",22),D(49,"clothing line"),v(),N(50,"br"),_(51,"h3"),D(52,"Sleeping"),v(),N(53,"input",23),_(54,"label",24),D(55,"sleeping pad"),v(),N(56,"br")(57,"input",25),_(58,"label",26),D(59,"sleeping bag"),v(),N(60,"br")(61,"input",27),_(62,"label",28),D(63,"pillow"),v(),N(64,"br")(65,"input",29),_(66,"label",30),D(67,"air pump"),v(),N(68,"br")(69,"input",31),_(70,"label",32),D(71,"eyemask"),v(),N(72,"br")(73,"input",33),_(74,"label",34),D(75,"earplugs"),v(),N(76,"br")(77,"input",35),_(78,"label",36),D(79,"fans"),v(),N(80,"br"),_(81,"h3"),D(82,"Shower Bag"),v(),N(83,"input",37),_(84,"label",38),D(85,"soap"),v(),N(86,"br")(87,"input",39),_(88,"label",40),D(89,"shampoo"),v(),N(90,"br")(91,"input",41),_(92,"label",42),D(93,"towel"),v(),N(94,"br")(95,"input",43),_(96,"label",44),D(97,"toothpaste"),v(),N(98,"br")(99,"input",45),_(100,"label",46),D(101,"toothbrush"),v(),N(102,"br")(103,"input",47),_(104,"label",48),D(105,"comb"),v(),N(106,"br")(107,"input",49),_(108,"label",50),D(109,"chamois cream"),v(),N(110,"br"),_(111,"h3"),D(112,"Bike"),v(),N(113,"input",51),_(114,"label",52),D(115,"bike"),v(),N(116,"br")(117,"input",53),_(118,"label",54),D(119,"water bottles"),v(),N(120,"br")(121,"input",55),_(122,"label",56),D(123,"helmet"),v(),N(124,"br")(125,"input",55),_(126,"label",57),D(127,"glasses"),v(),N(128,"br")(129,"input",58),_(130,"label",59),D(131,"cycling shoes"),v(),N(132,"br"),v())},dependencies:[Ct],styles:["#back[_ngcontent-%COMP%]{font-weight:bolder;font-size:2rem;color:#00008b;text-decoration:none}#back[_ngcontent-%COMP%]:hover{color:#ff4500}div[_ngcontent-%COMP%]{margin-left:1rem}h2[_ngcontent-%COMP%]{font-size:2rem}h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-left:2rem}input[_ngcontent-%COMP%]{margin-left:3rem}"]});let t=e;return t})();var lF=[{path:"projects",component:Cl},{path:"dashboard",component:MC},{path:"project/:ref",component:TC},{path:"bike",component:AC},{path:"brag/:year",component:xC},{path:"checklist",component:RC},{path:"",redirectTo:"/dashboard",pathMatch:"full"}],NC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({imports:[Uf.forRoot(lF),Uf]});let t=e;return t})();var PC=(()=>{let e=class e{constructor(){this.title="Tripp Barker"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-root"]],decls:7,vars:1,consts:[["rel","preconnect","href",hc`https://fonts.googleapis.com`],["rel","preconnect","href",hc`https://fonts.gstatic.com`,"crossorigin",""],["href",hc`https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100..900;1,100..900&display=swap`,"rel","stylesheet"],["routerLink","/dashboard","id","title"]],template:function(i,s){i&1&&(N(0,"link",0)(1,"link",1)(2,"link",2),_(3,"a",3)(4,"h1"),D(5),v()(),N(6,"router-outlet")),i&2&&(oe(5),nt(s.title))},dependencies:[Of,Ct]});let t=e;return t})();var OC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e}),e.\u0275inj=qe({});let t=e;return t})();var kC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ge({type:e,bootstrap:[PC]}),e.\u0275inj=qe({imports:[Xw,NC,ui,Cl,OC]});let t=e;return t})();Yw().bootstrapModule(kC).catch(t=>console.error(t));
